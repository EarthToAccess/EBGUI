encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7Cn0KCmxvY2FsIG1hc3Rlcmxpc3QgPSB7CgkzMjU3MzMzNAp9Cgpsb2NhbCBnb2xkbGlzdCA9IHsKCSJnb2xkXzEwMjAyMl9TaWxseVRlYWN1cF8xNjg1NDkiCn0KCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIElEID0gcGxheWVyLlVzZXJJZApsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQpsb2NhbCBpc01hc3RlciA9IGZhbHNlCmxvY2FsIGlzR29sZCA9IGZhbHNlCmxvY2FsIHZlck51bSA9ICJ2Mi4xMSIKCmZvciBpLHYgaW4gcGFpcnMoZ29sZGxpc3QpIGRvCglpZiBub3QgRUJHdWlHb2xkIHRoZW4gZWxzZWlmIEVCR3VpR29sZCA9PSB2IHRoZW4KCQlpc0dvbGQgPSB0cnVlCgkJYnJlYWsKCWVuZAplbmQKCmZvciBpLHYgaW4gcGFpcnMoYmxvY2tsaXN0KSBkbwogICAgaWYgdjpsb3dlcigpID09IGNsaWVudGlkIHRoZW4KICAgICAgICBpc0Jsb2NrZWQgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8KICAgIGlmIHYgPT0gSUQgdGhlbgogICAgICAgIGlzTWFzdGVyID0gdHJ1ZQogICAgICAgIGJyZWFrCiAgICBlbmQKZW5kCgppZiBpc0Jsb2NrZWQgdGhlbgogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgIFRoaXMgYWNjb3VudCBoYXMgYmVlbiBibG9ja2VkLiAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICBQbGVhc2UgdmlzaXQgdGhlIEVCR3VpIERpc2NvcmQgZm9yIG1vcmUgaW5mb3JtYXRpb24uICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQplbHNlaWYgbm90IChFQkd1aUtleSBvciBpc0Jsb2NrZWQgb3IgaXNNYXN0ZXIgb3IgaXNHb2xkKSB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2VpZiAoRUJHdWlLZXkgfj0gIjEwMjAyMl9Tb3VySGFpcmJhbmRfMDI0OTQ3IiBhbmQgbm90IGlzR29sZCkgYW5kIG5vdCAoaXNCbG9ja2VkIG9yIGlzTWFzdGVyKSB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgIFlvdXIgdW5sb2NrIGtleSBpcyBpbmNvcnJlY3QuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2UKCXhwY2FsbChmdW5jdGlvbigpCgkJbG9jYWwgZHVtYlF1b3RlcyA9IHsKCQkJIkplZXosIHdoZW4nZCBpdCBnZXQgc28gaG90IGluIGhlcmU/IiwKCQkJIklzIGl0IGp1c3QgbWUgb3IgaXMgdGhhdCAqdG9vKiBibHVlPyIsCgkJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLAoJCQkiRGVleiBudXRzIGFyZSB0b28gc3F1YXJlISIsCgkJCSJBbHNvIHRyeSBNaW5lY3JhZnQhIiwKCQkJIkFsc28gdHJ5IFRlcnJhcmlhISIsCgkJCSJNZWgsIEkgbGlrZWQgUmlzayBvZiBSYWluIDIgYmV0dGVyLiIsCgkJCSJZb3UgbmVlZCBhIGZhaXJseSBoaWdoIElRIHRvIHVuZGVyc3RhbmQgRUJHdWkuIiwKCQkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwKCQkJIldoYXQgd291bGQgKnlvdSogZG8gZm9yIGEgS2xvbmRpa2UgYmFyPyIsCgkJCSJOb3cgd2l0aCAxMDAlIG1vcmUgR29sZCEiLAoJCQkiTWFkZSBpbiBMdWEhIiwKCQkJIklGICVFUlJPUkxFVkVMJSBFUVUgMSBHT1RPOkVPRiIsCgkJCSJicnVoIG5lcmYgc29sYXIgYWxyZWFkeSIsCgkJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsCgkJCSJQZXRpdGlvbiBZT1VSIGxvY2FsIGRldmVsb3BlciBmb3IgbW9yZSB1cGRhdGVzISIsCgkJCSJ3aHkgYXJlIHlvdSBidXlpbmcgY2xvdGhlcyBhdCB0aGUgc291cCBzdG9yZSIsCgkJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiIsCgkJCSI6KCl7Onw6Jn07OiIsCgkJCSJDOlxcRE9TLiBDOlxcRE9TXFxSVU4gUlVOXFxET1NcXFJVTi4iLAoJCQkiTHVhVTsgQmVjYXVzZSBub3JtYWwgTHVhIHdhcyBqdXN0IHRvbyBlYXN5LiIsCgkJCSJpbGtvLix1eXVraWp5LGhnaHl0ZnJlZTN2Zmd3MzJ3cXF3cSIsCgkJCSJTb3JyeSBmb3IgdGhhdCBvbmUgcXVvdGUuIE15IGNhdCBnb3Qgb24gbXkga2V5Ym9hcmQuIiwKCQkJIkkgZG9uJ3QgYWN0dWFsbHkgaGF2ZSBhIGNhdC4iLAoJCQkiVGhpcyBzZW50ZW5jZSBpcyBmYWxzZS4iLAoJCQkiV2VsbCBub3csICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgZG9uJ3Qgd2UgaGF2ZSBhIHByZWRpY2FtZW50ISIKCQl9CgoJCXdhcm4oW1stLS0tLS0tLS0tLS0tLS0tCgkJCQlfX19fX18gX19fX18gX19fX18gICAgICAgXyAKCQkJCXwgIF9fX3wgX19fIFwgIF9fIFwgICAgIChfKQoJCQkJfCB8X18gfCB8Xy8gLyB8ICBcL18gICBfIF8gCgkJCQl8ICBfX3x8IF9fXyBcIHwgX198IHwgfCB8IHwKCQkJCXwgfF9fX3wgfF8vIC8gfF9cIFwgfF98IHwgfAoJCQkJXF9fX18vXF9fX18vIFxfX19fL1xfXyxffF98IAoJCQkJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLV1dIC4uIHZlck51bSkKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludChkdW1iUXVvdGVzW21hdGgucmFuZG9tKDEsI2R1bWJRdW90ZXMpXSkKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQl3YXJuKCJXZWxjb21lIHRvIEVCR3VpLCAiIC4uIHBsYXllci5OYW1lIC4uICIhIikKCQl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQoJCXdhcm4oIlF1ZXN0aW9ucyBvciBjb25jZXJucz8gTGV0IHVzIGtub3cgaW4gdGhlIERpc2NvcmQsIikKCQl3YXJuKCJvciBlbWFpbCBFYXJ0aCBoaW1zZWxmIGF0IGVhcnRodG9hY2Nlc3NAZ21haWwuY29tISIpCgkJd2FpdCgwLjUpCgkJCgkJaWYgaXNNYXN0ZXIgdGhlbgoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKSAgIAoJCQl3YXJuKCJMb2FkZWQgaW4gdXNpbmcgdGhlIE1hc3RlciBMaXN0ISBPdmVycmlkaW5nIGFjY2VzcyBnaXZlbi4iKQoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCWVuZAoKCQlpZiBpc0dvbGQgdGhlbgoJCQlwcmludChbWwkJCQlfX19fICAgICAgICAgICAgIF9fXyAgICAgIF9fXyAKCQkJNk1NTU1iLyAgICAgICAgICAgYE1NICAgICAgYE1NIAoJCQk4UCAgICBZTSAgICAgICAgICAgIE1NICAgICAgIE1NIAoJCQk2TSAgICAgIFkgICBfX19fXyAgICBNTSAgIF9fX19NTSAKCQkJTU0gICAgICAgICA2TU1NTU1iICAgTU0gIDZNTU1NTU0gCgkJCU1NICAgICAgICA2TScgICBgTWIgIE1NIDZNJyAgYE1NIAoJCQlNTSAgICAgX19fTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJTU0gICAgIGBNJ01NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCVlNICAgICAgTSBNTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQk4YiAgICBkOSBZTS4gICAsTTkgIE1NIFlNLiAgLE1NIAoJCQlZTU1NTTkgICBZTU1NTU05ICBfTU1fIFlNTU1NTU1fXV0pCgkJCXdhcm4oIlRoYW5rIHlvdSBmb3IgYmVpbmcgYSBHT0xERU4gbWVtYmVyISIpCgkJCXdhcm4oJ0Vuam95IHRoZSB2YXJpb3VzICJvdmVycG93ZXJlZCIgc2NyaXB0cyB3ZSBoYXZlIGluIHN0b3JlIScpCgkJZW5kCgoJCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zCgoJCWxvY2FsIGViZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQoJCWViZ3VpLk5hbWUgPSAiZWJndWkiCgkJZWJndWkuUGFyZW50ID0gZ2FtZTpXYWl0Rm9yQ2hpbGQoIkNvcmVHdWkiKQoKCQlnYW1lLkNvcmVHdWkuQ2hpbGRSZW1vdmVkOmNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCgkJCWlmIGNoaWxkLk5hbWUgPT0gImViZ3VpIiB0aGVuCgkJCQljbG9zZWRmb3JldmVyID0gdHJ1ZQoJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQlVSVMgPSBuaWwKCQkJCWJyZWFrYWJsZSA9IHRydWUKCQkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IG5pbAoJCQkJVmluZVRyYXBFbmFibGVkID0gbmlsCgkJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gbmlsCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gbmlsCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gbmlsCgkJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IG5pbAoJCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBuaWwKCQkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBuaWwKCQkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBuaWwKCQkJCVRoZVdvcmxkRW5hYmxlZCA9IG5pbAoJCQkJUG9sYXJpc0VuYWJsZWQgPSBuaWwKCQkJCUxhZ1NlcnZlckVuYWJsZWQgPSBuaWwKCQkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBuaWwKCQkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gbmlsCgkJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBuaWwKCQkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IG5pbAoJCQkJU2V3ZXJCdXJzdEVuYWJsZWQgPSBuaWwKCQkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gbmlsCgkJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBuaWwKCQkJCVZpcnR1YWxab25lRW5hYmxlZCA9IG5pbAoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbAoJCQkJQW50aUxhZ0VuYWJsZWQgPSBuaWwKCQkJCVNwZWVkaGFja0VuYWJsZWQgPSBuaWwKCQkJCUhvbG9iZWFtRW5hYmxlZCA9IG5pbAoJCQkJU2V0U3BlZWQgPSBuaWwKCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gbmlsCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwKCQkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IG5pbAoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBuaWwKCQkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwKCQkJCXZpZXdpbmcgPSBuaWwKCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJRVNQRW5hYmxlZCA9IG5pbAoJCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbAoJCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IG5pbAoJCQkJVmlnb3JIYWNrRW5hYmxlZCA9IG5pbAoJCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gbmlsCgkJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gbmlsCgkJCQlEb3VibGVSYXlFbmFibGVkID0gbmlsCgkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IG5pbAoJCQkJRGFya0FvZUVuYWJsZWQgPSBuaWwKCQkJCUh5cGVyYW5nRW5hYmxlZCA9IG5pbAoJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IG5pbAoJCQkJUmVhcGVyVWx0RW5hYmxlZCA9IG5pbAoJCQkJQWltYm90RW5hYmxlZCA9IG5pbAoJCQkJVGVjaERpc2NFbmFibGVkID0gbmlsCgkJCQktLUVTUE1heERpc3QgPSBuaWwKCQkJCS0tRVNQTURFbmFibGVkID0gbmlsCgkJCQlBbHRGYXJtRW5hYmxlZCA9IG5pbAoJCQllbmQKCQllbmQpCgoJCWxvY2FsIG1vdXNlID0gcGxheWVyOkdldE1vdXNlKCkKCgkJbG9jYWwgYm9yZGVycyA9IHt9CgoJCWxvY2FsIGJ1dHRvbnNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJYnV0dG9uc21haW4uTmFtZSA9ICJidXR0b25zbWFpbiIKCQlidXR0b25zbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKQoJCWJ1dHRvbnNtYWluLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAwLjIyNSwgMCkKCQl0YWJsZS5pbnNlcnQoYm9yZGVycywgYnV0dG9uc21haW4pCgoJCWJ1dHRvbnNkZWJvdW5jZSA9IGZhbHNlCgkJYnV0dG9uc29wZW5lZCA9IHRydWUKCgoJCS0taWYgKGluaXRpYXRpb25Nb2RlID09ICJNb2Rlcm4iKSB0aGVuCgkJbG9jYWwgY29tbWFuZHNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJY29tbWFuZHNtYWluLk5hbWUgPSAiY29tbWFuZHNtYWluIgoJCWNvbW1hbmRzbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKQoJCWNvbW1hbmRzbWFpbi5TaXplID0gVURpbTIubmV3KDAuMywgMCwgMC4xNzUsIDApCgkJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGNvbW1hbmRzbWFpbikKCQktLWVuZAoKCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQoJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoKCQljbG9zZWRmb3JldmVyID0gZmFsc2UKCgkJbG9jYWwgZnJhbWVzID0ge30KCgkJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgYnV0dG9ucy4KCQlsb2NhbCBidXR0b25zZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQlidXR0b25zZnJhbWUuTmFtZSA9ICJidXR0b25zZnJhbWUiCgkJYnV0dG9uc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwgNTQsIDE3OSkKCQlidXR0b25zZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlidXR0b25zZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWJ1dHRvbnNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWJ1dHRvbnNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQlidXR0b25zZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApCgkJdGFibGUuaW5zZXJ0KGZyYW1lcywgYnV0dG9uc2ZyYW1lKQoJCWJ1dHRvbnNmcmFtZS5QYXJlbnQgPSBidXR0b25zbWFpbgoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBjb21tYW5kIGJveC4KCQlsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJY29tbWFuZHNmcmFtZS5OYW1lID0gImNvbW1hbmRzZnJhbWUiCgkJY29tbWFuZHNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQoJCWNvbW1hbmRzZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQljb21tYW5kc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCQljb21tYW5kc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCWNvbW1hbmRzZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApCgkJdGFibGUuaW5zZXJ0KGZyYW1lcywgY29tbWFuZHNmcmFtZSkKCQljb21tYW5kc2ZyYW1lLlBhcmVudCA9IGNvbW1hbmRzbWFpbgoKCQktLSBDb21tYW5kIGJveC4gVGhpcyBpcyB3aGVyZSB1c2VycyB0eXBlIGluIGNvbW1hbmRzIGFuZCB0YXJnZXRzLgoJCWxvY2FsIGNvbW1hbmRCb3ggPSBJbnN0YW5jZS5uZXcoIlRleHRCb3giKQoJCWNvbW1hbmRCb3guTmFtZSA9ICJjb21tYW5kQm94IgoJCWNvbW1hbmRCb3guQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kQm94LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNSwgNDAsIDQwKQoJCWNvbW1hbmRCb3guQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQljb21tYW5kQm94LkJvcmRlclNpemVQaXhlbCA9IDIKCQljb21tYW5kQm94LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC4zLCAwKQoJCWNvbW1hbmRCb3guU2l6ZSA9IFVEaW0yLm5ldygwLjg1LCAwLCAwLjIwLCAwKQoJCWNvbW1hbmRCb3guRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQljb21tYW5kQm94LlRleHQgPSAiIgoJCWNvbW1hbmRCb3guVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJY29tbWFuZEJveC5UZXh0U2NhbGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3guVGV4dFNpemUgPSAxNC4wMDAKCQljb21tYW5kQm94LlRleHRXcmFwcGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3guQ2xlYXJUZXh0T25Gb2N1cyA9IGZhbHNlCgkJY29tbWFuZEJveC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCWxvY2FsIGxhYmVscyA9IHt9CgoJCS0tIFRoZSBvdXRwdXQgZm9yIHRoZSBjb21tYW5kIGJveCwgQUtBIHRoZSB3aGl0ZSB0ZXh0IGJlbG93IHRoYXQgbGlzdHMgeW91ciB0YXJnZXQuCgkJbG9jYWwgY29tbWFuZEJveE91dHB1dCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQljb21tYW5kQm94T3V0cHV0Lk5hbWUgPSAiY29tbWFuZEJveE91dHB1dCIKCQljb21tYW5kQm94T3V0cHV0LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQljb21tYW5kQm94T3V0cHV0LkJvcmRlclNpemVQaXhlbCA9IDAKCQljb21tYW5kQm94T3V0cHV0LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC42LCAwKQoJCWNvbW1hbmRCb3hPdXRwdXQuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuMiwgMCkKCQljb21tYW5kQm94T3V0cHV0LkZvbnQgPSBFbnVtLkZvbnQuVGl0aWxsaXVtV2ViCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJY29tbWFuZEJveE91dHB1dC5UZXh0U2NhbGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNpemUgPSAxNC4wMDAKCQljb21tYW5kQm94T3V0cHV0LlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIGNvbW1hbmRCb3hPdXRwdXQpCgkJY29tbWFuZEJveE91dHB1dC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tIFRoZSBpbmZvcm1hdGlvbiBhYm92ZSB0aGUgYnV0dG9ucywgZS5nLiB1c2VyJ3MgbmFtZSwgY2hhbm5lbAoJCWxvY2FsIERldGFpbHMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlscy5OYW1lID0gIkRldGFpbHMiCgkJRGV0YWlscy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDE1LCAtNikKCQlEZXRhaWxzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkKCQlEZXRhaWxzLkZvbnQgPSBFbnVtLkZvbnQuVGl0aWxsaXVtV2ViCgkJaWYgbm90IGlzR29sZCB0aGVuCgkJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSB8IFN0YWJsZSIKCQllbHNlCgkJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSBHb2xkIHwgU3RhYmxlIgoJCWVuZAoJCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJRGV0YWlscy5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMuWkluZGV4ID0gNQoJCURldGFpbHMuVGV4dFNpemUgPSAxNC4wMDAKCQlEZXRhaWxzLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMpCgkJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gIkNsb3NlIHRoaXMgR1VJIiBmb3IgdGhlIGNvbW1hbmQgYm94LgoJCWxvY2FsIERldGFpbHMyID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMyLk5hbWUgPSAiRGV0YWlsczIiCgkJRGV0YWlsczIuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQlEZXRhaWxzMi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzMi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC45LCAtMTApCgkJRGV0YWlsczIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQoJCURldGFpbHMyLkZvbnQgPSBFbnVtLkZvbnQuVGl0aWxsaXVtV2ViCgkJRGV0YWlsczIuVGV4dCA9ICJQcmVzcyBdIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiIKCQlEZXRhaWxzMi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQlEZXRhaWxzMi5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMyLlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlsczIuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczIpCgkJRGV0YWlsczIuUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgYnV0dG9ucy4KCQlsb2NhbCBEZXRhaWxzMyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzMy5OYW1lID0gIkRldGFpbHMzIgoJCURldGFpbHMzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC44NzUsIDApCgkJRGV0YWlsczMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAtMTApCgkJRGV0YWlsczMuRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQlEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIgoJCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczMuVGV4dFNpemUgPSAxNC4wMDAKCQlEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykKCQlEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gU2NyaXB0IHRlcm1pbmF0aW9uIGluc3RydWN0aW9ucy4KCQlsb2NhbCBEZXRhaWxzNCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0IgoJCURldGFpbHM0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHM0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMS4xLCAwKQoJCURldGFpbHM0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNzUsIDApCgkJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQlEZXRhaWxzNC5UZXh0ID0gIkhvbGQgdGhlIExlZnQgYW5kIFJpZ2h0IGFycm93IGtleXMsIHRoZW4gcHJlc3MgYW55IGtleSB0byBxdWl0IEVCR3VpLiIKCQlEZXRhaWxzNC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQlEZXRhaWxzNC5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHM0LlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlsczQuVGV4dFdyYXBwZWQgPSB0cnVlCgkJRGV0YWlsczQuUGFyZW50ID0gYnV0dG9uc2ZyYW1lCgoJCS0tIFRoZSB2ZXJzaW9uIG51bWJlciBhYm92ZSB0aGUgY29tbWFuZCBib3guCgkJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlWZXJzaW9uLk5hbWUgPSAiVmVyc2lvbiIKCQlWZXJzaW9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJVmVyc2lvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCVZlcnNpb24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wNSwgMCkKCQlWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQoJCVZlcnNpb24uRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQlWZXJzaW9uLlRleHQgPSAiVmVyc2lvbiAiIC4uIHZlck51bQoJCVZlcnNpb24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJVmVyc2lvbi5UZXh0U2NhbGVkID0gdHJ1ZQoJCVZlcnNpb24uVGV4dFNpemUgPSAxNC4wMDAKCQlWZXJzaW9uLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIFZlcnNpb24pCgkJVmVyc2lvbi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tIFRoZSBiYWNrZ3JvdW5kIGZvciB0aGUgVUkuCgkJbG9jYWwgbWFpbmZyYW1lID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIpCgkJbWFpbmZyYW1lLk5hbWUgPSAibWFpbmZyYW1lIgoJCW1haW5mcmFtZS5BY3RpdmUgPSB0cnVlCgkJbWFpbmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0OSwgODMsIDg5KQoJCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApCgkJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYKCQltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgkJLS0gR3JpZCBsYXlvdXQgZm9yIHRoZSBidXR0b25zLgoJCWxvY2FsIFVJR3JpZExheW91dCA9IEluc3RhbmNlLm5ldygiVUlHcmlkTGF5b3V0IikKCQlVSUdyaWRMYXlvdXQuRmlsbERpcmVjdGlvbiA9IEVudW0uRmlsbERpcmVjdGlvbi5Ib3Jpem9udGFsCgkJVUlHcmlkTGF5b3V0Lkhvcml6b250YWxBbGlnbm1lbnQgPSBFbnVtLkhvcml6b250YWxBbGlnbm1lbnQuQ2VudGVyCgkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIDcpCgkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIDMwKQoJCVVJR3JpZExheW91dC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcgoJCVVJR3JpZExheW91dC5QYXJlbnQgPSBtYWluZnJhbWUKCgkJbG9jYWwgYnV0dG9ucyA9IHt9CgoJCS0tLS0tLSBCdXR0b25zIGZvciBoYWNrcy4KCgkJLS0tLSBBb0VzCgkJLS0gSW5zdGFudCBCbGF6ZSBDb2x1bW4KCgkJbG9jYWwgQmxhemVDb2x1bW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUJsYXplQ29sdW1uLk5hbWUgPSAiQmxhemVDb2x1bW4iCgkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmxhemVDb2x1bW4pCgoJCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlCgoJCUJsYXplQ29sdW1uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEJsYXplQ29sdW1uRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSB0cnVlCgkJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPbikiCgkJCWVsc2UKCQkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlCgkJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEFtcGxpZmllZCBHZW5lc2lzIFJheQoKCQlsb2NhbCBHZW5lc2lzUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHZW5lc2lzUmF5Lk5hbWUgPSAiR2VuZXNpc1JheSIKCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHZW5lc2lzUmF5KQoKCQlsb2NhbCBHZW5lc2lzUmF5RW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgR1JDaGFyZ2UgPSAxIC0tIDEwMDAwMDAKCgkJR2VuZXNpc1JheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBHZW5lc2lzUmF5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IHRydWUKCQkJCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9uKSIKCQkJZWxzZQoJCQkJR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQoJCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBDcmVhdGlvbiBIb2xkIEhhY2sKCgkJbG9jYWwgQ2hhaW5Ib2xkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDaGFpbkhvbGQuTmFtZSA9ICJDaGFpbkhvbGQiCgkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2hhaW5Ib2xkKQoKCQlsb2NhbCBDcmVhdGlvbkhvbGRFbmFibGVkID0gZmFsc2UKCgkJQ2hhaW5Ib2xkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgQ3JlYXRpb25Ib2xkRW5hYmxlZCB0aGVuCgkJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IHRydWUKCQkJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IGZhbHNlCgkJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlDaGFpbkhvbGQuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgVmluZSBUcmFwCgoJCWxvY2FsIFZpbmVUcmFwID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaW5lVHJhcC5OYW1lID0gIlZpbmVUcmFwIgoJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpbmVUcmFwKQoKCQlWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQoKCQlWaW5lVHJhcC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBWaW5lVHJhcEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVmluZVRyYXBFbmFibGVkID0gdHJ1ZQoJCQkJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT24pIgoJCQllbHNlCgkJCQlWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQoJCQkJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbGx1c2l2ZSBBdGFrZSBIYWNrCgoJCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIgoJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJbGx1c2l2ZUF0YWtlKQoKCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlCgoJCUlsbHVzaXZlQXRha2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSB0cnVlCgkJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlCgkJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IE11cmt5IE1pc3NpbGVzCgoJCWxvY2FsIERhcmtBb2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCURhcmtBb2UuTmFtZSA9ICJEYXJrQW9lIgoJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBEYXJrQW9lKQoKCQlsb2NhbCBEYXJrQW9lRW5hYmxlZCA9IGZhbHNlCgoJCURhcmtBb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IERhcmtBb2VFbmFibGVkIHRoZW4KCQkJCURhcmtBb2VFbmFibGVkID0gdHJ1ZQoJCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9uKSIKCQkJZWxzZQoJCQkJRGFya0FvZUVuYWJsZWQgPSBmYWxzZQoJCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiCgkJCWVuZAoJCWVuZCkKCQkKCQktLSBJbnN0YW50IEFpciBEaXNwZXJzaW9uCgoJCWxvY2FsIFN0b3JtQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTdG9ybUFvZS5OYW1lID0gIlN0b3JtQW9lIgoJCVN0b3JtQW9lLlRleHQgPSAiKEcpIEluc3RhbnQgU3Rvcm0gQW9FIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTdG9ybUFvZSkKCgkJbG9jYWwgRGlzcGVyc2lvbkVuYWJsZWQgPSBmYWxzZQoKCQlTdG9ybUFvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IERpc3BlcnNpb25FbmFibGVkIHRoZW4KCQkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IHRydWUKCQkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT24pIgoJCQkJZWxzZQoJCQkJCURpc3BlcnNpb25FbmFibGVkID0gZmFsc2UKCQkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQkJCWVuZAkKCQkJZWxzZQoJCQkJU3Rvcm1Bb2UuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGxpdHRpbmcgU2xpbWUgSGFjawoKCQlsb2NhbCBTcGxpdHRpbmdTbGltZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BsaXR0aW5nU2xpbWUuTmFtZSA9ICJTcGxpdHRpbmdTbGltZSIKCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGxpdHRpbmdTbGltZSkKCgkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UKCgkJU3BsaXR0aW5nU2xpbWUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IHRydWUKCQkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UKCQkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gQW1hdXJvdGljIExhbWJlbnQgSGFjawoKCQlsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCIKCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkKCgkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBmYWxzZQoKCQlBbWF1cm90aWNMYW1iZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gdHJ1ZQoJCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBmYWxzZQoJCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uCgoJCWxvY2FsIFBsYXNtYUltcGxvc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUGxhc21hSW1wbG9zaW9uLk5hbWUgPSAiUGxhc21hSW1wbG9zaW9uIgoJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUGxhc21hSW1wbG9zaW9uKQoKCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UKCgkJUGxhc21hSW1wbG9zaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IHRydWUKCQkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT24pIgoJCQllbHNlCgkJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UKCQkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBGb3JtaWRhYmxlIFJvYXIgSGFjawoKCQlsb2NhbCBGb3JtaWRhYmxlUm9hciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRm9ybWlkYWJsZVJvYXIuTmFtZSA9ICJGb3JtaWRhYmxlUm9hciIKCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikKCgkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UKCgkJRm9ybWlkYWJsZVJvYXIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgRm9ybWlkYWJsZVJvYXJFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IHRydWUKCQkJCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UKCQkJCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBTa2VsZXRvbiBHcmFiCgoJCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU2tlbGV0b25HcmFiLk5hbWUgPSAiU2tlbGV0b25HcmFiIgoJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTa2VsZXRvbkdyYWIpCgoJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBmYWxzZQoKCQlTa2VsZXRvbkdyYWIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU2tlbGV0b25HcmFiRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gdHJ1ZQoJCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPbikgW0FJTUVEXSIKCQkJZWxzZQoJCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IGZhbHNlCgkJCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sKCgkJbG9jYWwgR3Jhdml0YXRpb25hbEZpZWxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHcmF2aXRhdGlvbmFsRmllbGQuTmFtZSA9ICJHcmF2aXRhdGlvbmFsRmllbGQiCgkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhdGlvbmFsRmllbGQpCgoJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQoKCQlHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gdHJ1ZQoJCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQoJCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgUm9jayBBcm1vcgoKCQlsb2NhbCBSb2NrQXJtb3IgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJvY2tBcm1vci5OYW1lID0gIlJvY2tBcm1vciIKCQlSb2NrQXJtb3IuVGV4dCA9ICJJbnN0YW50IFJvY2sgQXJtb3IiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikKCgkJUm9ja0FybW9yLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkKCQkJZW5kCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCWVuZCkKCgkJLS0tLSBQbGF5ZXIgbW9kaWZpY2F0aW9ucwoJCS0tIFNsaW1lIEJ1ZGRpZXMgSGFjawoKCQlsb2NhbCBTbGltZUJ1ZGRpZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNsaW1lQnVkZGllcy5OYW1lID0gIlNsaW1lQnVkZGllcyIKCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTbGltZUJ1ZGRpZXMpCgoJCWxvY2FsIFNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQoKCQlTbGltZUJ1ZGRpZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSB0cnVlCgkJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQoJCQkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbmVydGlhIEdyYXZpdHkKCgkJbG9jYWwgSW5lcnRpYUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUluZXJ0aWFHcmF2aXR5Lk5hbWUgPSAiSW5lcnRpYUdyYXZpdHkiCgkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQoKCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoKCQlJbmVydGlhR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBJbmVydGlhR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gdHJ1ZQoJCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9uKSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCAxNjM4LCAwKQoJCQllbHNlCgkJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiCgkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkluZXJ0aWFHcmF2aXR5Rm9yY2UiKSB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkluZXJ0aWFHcmF2aXR5Rm9yY2U6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGVjdHJhbCBFbWJvZGltZW50CgoJCWxvY2FsIFNwZWN0cmFsRW1ib2RpbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BlY3RyYWxFbWJvZGltZW50Lk5hbWUgPSAiU3BlY3RyYWxFbWJvZGltZW50IgoJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWN0cmFsRW1ib2RpbWVudCkKCgkJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlCgoJCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSB0cnVlCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9uKSBbWF0iCgkJCWVsc2UKCQkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBbnRpLUJsaW5kCgoJCWxvY2FsIEFudGlCbGluZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIgoJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9mZikgW0tdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpQmxpbmQpCgoJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBub3JtYWxGb2dDb2xvciA9IGdhbWUuTGlnaHRpbmcuRm9nQ29sb3IKCQlsb2NhbCBub3JtYWxGb2dFbmQgPSBnYW1lLkxpZ2h0aW5nLkZvZ0VuZAoJCWxvY2FsIG5vcm1hbEJyaWdodG5lc3MgPSBnYW1lLkxpZ2h0aW5nLkJyaWdodG5lc3MKCQlsb2NhbCBub3JtYWxDbG9ja1RpbWUgPSBnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZQoKCQlsb2NhbCBmdW5jdGlvbiBBbnRpQmxpbmRGdW5jKCkKCQkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT24pIFtLXSIKCQkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yID0gbm9ybWFsRm9nQ29sb3IKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZAoJCQkJCWdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcyA9IG5vcm1hbEJyaWdodG5lc3MKCQkJCQlnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZSA9IG5vcm1hbENsb2NrVGltZQoJCQkJZW5kCgkJCWVsc2UKCQkJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJCWVuZAoJCWVuZAoKCQlBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpCgoJCXBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCWlmIEFudGlCbGluZEVuYWJsZWQgdGhlbgoJCQkJaWYgZC5OYW1lID09ICJTY3JlZW5HdWkiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLlNjcmVlbkd1aTpEZXN0cm95KCkKCQkJCWVsc2VpZiBkLk5hbWUgPT0gIkRpc3RvcnQiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLkRpc3RvcnQ6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGVlZCBoYWNrCgoJCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIgoJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spCgoJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQoJCVNldFNwZWVkID0gNjQKCgkJZnVuY3Rpb24gbW9kaWZ5U3BlZWQoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkNoYW5nZWQ6Y29ubmVjdChmdW5jdGlvbigpCgkJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCWVsc2UKCQkJCQlyZXR1cm4KCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPbikgW1RdIgoJCQkJbW9kaWZ5U3BlZWQoKQoJCQkJd2FpdCgpCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQltb2RpZnlTcGVlZCgpCgkJCQkJCXdhaXQoKQoJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSIKCQkJZW5kCgkJZW5kCgoJCVNwZWVkaGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5TcGVlZCkKCgkJLS0tLSBCdWxsZXRzCgkJLS0gSHlwZXJhbmcgSGFjawoKCQlsb2NhbCBUZWNoUmFuZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGVjaFJhbmcuTmFtZSA9ICJUZWNoUmFuZyIKCQlUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQoKCQlsb2NhbCBIeXBlcmFuZ0VuYWJsZWQgPSBmYWxzZQoKCQlUZWNoUmFuZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgSHlwZXJhbmdFbmFibGVkIHRoZW4KCQkJCUh5cGVyYW5nRW5hYmxlZCA9IHRydWUKCQkJCVRlY2hSYW5nLlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT24pIgoJCQllbHNlCgkJCQlIeXBlcmFuZ0VuYWJsZWQgPSBmYWxzZQoJCQkJVGVjaFJhbmcudGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEFzdGVyb2lkIEJlbHQgSGFjawoKCQlsb2NhbCBBc3Rlcm9pZEJlbHRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBc3Rlcm9pZEJlbHRIYWNrLk5hbWUgPSAiQXN0ZXJvaWRCZWx0SGFjayIKCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBc3Rlcm9pZEJlbHRIYWNrKQoJCQoJCWxvY2FsIEFzdGVyb2lkQmVsdEVuYWJsZWQgPSBmYWxzZQoJCQoJCUFzdGVyb2lkQmVsdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQXN0ZXJvaWRCZWx0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gdHJ1ZQoJCQkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkFzdGVyb2lkIEJlbHQgSGFjayAoT24pIgoJCQllbHNlCgkJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UKCQkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gT3JicyBvZiBFbmxpZ2h0ZW5tZW50IEhhY2sKCgkJbG9jYWwgTGlnaHRPcmJzSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTGlnaHRPcmJzSGFjay5OYW1lID0gIkxpZ2h0T3Jic0hhY2siCgkJTGlnaHRPcmJzSGFjay5UZXh0ID0gIkxpZ2h0IE9yYnMgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTGlnaHRPcmJzSGFjaykKCgkJbG9jYWwgbE9yYnNFbmFibGVkID0gZmFsc2UKCgkJTGlnaHRPcmJzSGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBsT3Jic0VuYWJsZWQgdGhlbgoJCQkJbE9yYnNFbmFibGVkID0gZmFsc2UKCQkJCUxpZ2h0T3Jic0hhY2suVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiCgkJCWVsc2UKCQkJCWxPcmJzRW5hYmxlZCA9IHRydWUKCQkJCUxpZ2h0T3Jic0hhY2suVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9uKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBWaWdvciBHeXJhdGlvbiBIYWNrCgoJCWxvY2FsIFZpZ0d5cmF0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmlnR3lyYXRIYWNrLk5hbWUgPSAiVmlnR3lyYXRIYWNrIgoJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZ0d5cmF0SGFjaykKCQkKCQlsb2NhbCBWaWdvckhhY2tFbmFibGVkID0gZmFsc2UKCQkKCQlWaWdHeXJhdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVmlnb3JIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlWaWdvckhhY2tFbmFibGVkID0gdHJ1ZQoJCQkJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT24pIgoJCQllbHNlCgkJCQlWaWdvckhhY2tFbmFibGVkID0gZmFsc2UKCQkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gTGlnaHRuaW5nIEJhcnJhZ2UgSGFjawoKCQlsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSIKCQlCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQoKCQlCYXJyYWdlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBTdG9ybUJ1bGxldHNFbmFibGVkIHRoZW4KCQkJCVN0b3JtQnVsbGV0c0VuYWJsZWQgPSB0cnVlCgkJCQlCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVN0b3JtQnVsbGV0c0VuYWJsZWQgPSBmYWxzZQoJCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBEeWluZyBTdGFyIEhhY2sKCgkJbG9jYWwgRHlpbmdTdGFySGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRHlpbmdTdGFySGFjay5OYW1lID0gIkR5aW5nU3RhckhhY2siCgkJRHlpbmdTdGFySGFjay5UZXh0ID0gIihHKSBEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIER5aW5nU3RhckhhY2spCgoJCWxvY2FsIER5aW5nU3RhckVuYWJsZWQgPSBmYWxzZQoKCQlEeWluZ1N0YXJIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBEeWluZ1N0YXJFbmFibGVkIHRoZW4KCQkJCQlEeWluZ1N0YXJFbmFibGVkID0gZmFsc2UKCQkJCQlEeWluZ1N0YXJIYWNrLlRleHQgPSAiKEcpIER5aW5nIFN0YXIgSGFjayAoT2ZmKSIKCQkJCWVsc2UKCQkJCQlEeWluZ1N0YXJFbmFibGVkID0gdHJ1ZQoJCQkJCUR5aW5nU3RhckhhY2suVGV4dCA9ICIoRykgRHlpbmcgU3RhciBIYWNrIChPbikiCgkJCQllbmQKCQkJZWxzZQoJCQkJRHlpbmdTdGFySGFjay5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCUR5aW5nU3RhckhhY2suVGV4dCA9ICIoRykgRHlpbmcgU3RhciBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tLS0gQmxhc3RzCgkJLS0gT3JiaXRhbCBTdHJpa2UgSGFjawoKCQlsb2NhbCBPcmJpdGFsID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlPcmJpdGFsLk5hbWUgPSAiT3JpYnRhbCIKCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIE9yYml0YWwpCgoJCWxvY2FsIE9yYml0YWxIYWNrRW5hYmxlZCA9IGZhbHNlCgoJCU9yYml0YWwuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBPcmJpdGFsSGFja0VuYWJsZWQgdGhlbgoJCQkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IHRydWUKCQkJCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSBmYWxzZQoJCQkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlPcmJpdGFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIERvdWJsZSBSYXkgSGFjawoKCQlsb2NhbCBEb3VibGVSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCURvdWJsZVJheS5OYW1lID0gIkRvdWJsZVJheSIKCQlEb3VibGVSYXkuVGV4dCA9ICIoRykgRG91YmxlIFJheSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpCgoJCURvdWJsZVJheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IERvdWJsZVJheUVuYWJsZWQgdGhlbgoJCQkJCURvdWJsZVJheUVuYWJsZWQgPSB0cnVlCgkJCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIERvdWJsZSBSYXkgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCURvdWJsZVJheUVuYWJsZWQgPSBmYWxzZQoJCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJRG91YmxlUmF5LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIERvdWJsZSBSYXkgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBIb2xvYmVhbSBDYW1lcmEgQXR0YWNoCgoJCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIgoJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSG9sb2JlYW0pCgoJCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIGF0dGFjaENhbWVyYSh2KQoJCQlpZiAodiB+PSBuaWwpIHRoZW4KCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgKHYuTmFtZSA9PSAiSG9sb2JlYW0iKSB0aGVuCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddW3YuTmFtZV0KCQkJCWVsc2UKCQkJCQl2OkRlc3Ryb3koKQoJCQkJCXJldHVybgoJCQkJZW5kCgkJCQkKCQkJCXYuVHJhbnNwYXJlbmN5ID0gMAoKCQkJCXdhaXQoNCkKCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCWVuZAoJCQkJCgkJCQl2OkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCQkKCQlnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCWlmIEhvbG9iZWFtRW5hYmxlZCB0aGVuCgkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kIChwbGF5ZXIuQ2hhcmFjdGVyKSB0aGVuCgkJCQkJbG9jYWwgZGlzdGFuY2UgPSAocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdi5Qb3NpdGlvbikuTWFnbml0dWRlCgkJCQkJCgkJCQkJaWYgKHYuU2l6ZSA9PSBWZWN0b3IzLm5ldyg1LCA1LCA1KSkgYW5kIChkaXN0YW5jZSA8IDEwKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4KCQkJCQkKCQkJCQkJdi5OYW1lID0gIkhvbG9iZWFtIgoJCQkJCQoJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKSAKCQkJCQkJCQlhdHRhY2hDYW1lcmEodikgCgkJCQkJCQllbmQpKQoJCQkJCQllbmQpCgkJCQkJCQoJCQkJCQlsb2NhbCBndWkgPSBwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyCgkJCQkJCQoJCQkJCQl3YWl0KDAuNSkKCQkJCQkJCgkJCQkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJCQkJaWYgbm90KGd1aVsnMSddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWycyJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzMnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNCddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc1J10uQ0QuVGV4dCA9PSAiLi4uIikgdGhlbgoJCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbgoJCQkJCQkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJCQkJCWVuZAoJCQkJCgkJCQkJCQkJCXY6RGVzdHJveSgpCgkJCQkJCQkJZW5kKQoJCQkJCQkJCQoJCQkJCQkJCWJyZWFrCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlIb2xvYmVhbS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBIb2xvYmVhbUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSG9sb2JlYW1FbmFibGVkID0gdHJ1ZQoJCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPbikiCgkJCQkKCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuIHY6RGVzdHJveSgpIGVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlCgkJCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gQ29udHJvbGxlZCBFY2hvZXMKCgkJbG9jYWwgRWNob2VzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFY2hvZXMuTmFtZSA9ICJFY2hvZXMiCgkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVjaG9lcykKCgkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQoJCUVjaG9lc1BoYXNlID0gMQoKCQlFY2hvZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSB0cnVlCgkJCQlFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT24pIgoJCQllbHNlCgkJCQlDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9IGZhbHNlCgkJCQlFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLS0tIFNoaWVsZHMKCQktLSBDcnlzdGFsIEFybWFtZW50IEhhY2sKCgkJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDcnlzdGFsQXJtYW1lbnQuTmFtZSA9ICJDcnlzdGFsQXJtYW1lbnQiCgkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpCgoJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoKCQlDcnlzdGFsQXJtYW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gdHJ1ZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPbikiCgkJCWVsc2UKCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEdyYXZpdGFsIEdsb2JlIEhhY2sKCgkJbG9jYWwgR3Jhdml0YWxHbG9iZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJR3Jhdml0YWxHbG9iZS5OYW1lID0gIkdyYXZpdGFsR2xvYmUiCgkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGFsR2xvYmUpCgoJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UKCgkJR3Jhdml0YWxHbG9iZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IHRydWUKCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UKCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tLS0gVWx0cwoJCS0tIFJlYXBlcidzIFJhZ2UKCQlsb2NhbCBSZWFwZXJVbHQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJlYXBlclVsdC5OYW1lID0gIlJlYXBlclVsdCIKCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSZWFwZXJVbHQpCgoJCWxvY2FsIFJlYXBlclVsdEVuYWJsZWQgPSBmYWxzZQoKCQlSZWFwZXJVbHQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBSZWFwZXJVbHRFbmFibGVkIHRoZW4KCQkJCQlSZWFwZXJVbHRFbmFibGVkID0gdHJ1ZQoJCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQlSZWFwZXJVbHRFbmFibGVkID0gZmFsc2UKCQkJCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCVJlYXBlclVsdC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrCgoJCWxvY2FsIEFibGF6ZUp1ZGdlbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWJsYXplSnVkZ2VtZW50Lk5hbWUgPSAiQWJsYXplSnVkZ2VtZW50IgoJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWJsYXplSnVkZ2VtZW50KQoKCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlCgoJCUFibGF6ZUp1ZGdlbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IHRydWUKCQkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT24pIgoJCQllbHNlCgkJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gVm9pZCBPcGVuaW5nIEhhY2sKCgkJbG9jYWwgVm9pZE9wZW5pbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZvaWRPcGVuaW5nLk5hbWUgPSAiVm9pZE9wZW5pbmciCgkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVm9pZE9wZW5pbmcpCgoJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQoKCQlWb2lkT3BlbmluZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSB0cnVlCgkJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQoJCQkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBUaGUgV29ybGQgSGFjawoKCQlsb2NhbCBUaGVXb3JsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGhlV29ybGQuTmFtZSA9ICJUaGVXb3JsZCIKCQlUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUaGVXb3JsZCkKCgkJVGhlV29ybGRFbmFibGVkID0gZmFsc2UKCgkJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVGhlV29ybGRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRoZVdvcmxkRW5hYmxlZCA9IHRydWUKCQkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJVGhlV29ybGRFbmFibGVkID0gZmFsc2UKCQkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gUG9sYXJpcyBIYWNrCgoJCWxvY2FsIFBvbGFyaXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVBvbGFyaXMuTmFtZSA9ICJQb2xhcmlzIgoJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBvbGFyaXMpCgoJCVBvbGFyaXNFbmFibGVkID0gZmFsc2UKCgkJUG9sYXJpcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBQb2xhcmlzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlQb2xhcmlzRW5hYmxlZCA9IHRydWUKCQkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJUG9sYXJpc0VuYWJsZWQgPSBmYWxzZQoJCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24KCgkJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iCgkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTaGF0dGVyaW5nRXJ1cHRpb24pCgoJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBmYWxzZQoKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gdHJ1ZQoJCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPbikiCgkJCWVsc2UKCQkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBmYWxzZQoJCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrCgoJCWxvY2FsIEV0aGVyZWFsQWN1bWVuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFdGhlcmVhbEFjdW1lbi5OYW1lID0gIkV0aGVyZWFsQWN1bWVuIgoJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV0aGVyZWFsQWN1bWVuKQoKCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQoKCQlFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gdHJ1ZQoJCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQoJCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBUb3hpYyBCYXNpbGlzayBIYWNrCgoJCWxvY2FsIFRveGljQmFzaWxpc2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRveGljQmFzaWxpc2suTmFtZSA9ICJUb3hpY0Jhc2lsaXNrIgoJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUb3hpY0Jhc2lsaXNrKQoKCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlCgoJCVRveGljQmFzaWxpc2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSB0cnVlCgkJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT24pIgoJCQllbHNlCgkJCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlCgkJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBcmNhbmUgR3VhcmRpYW4gSGFjawoKCQlsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiIKCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBcmNhbmVHdWFyZGlhbikKCgkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gZmFsc2UKCgkJQXJjYW5lR3VhcmRpYW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IHRydWUKCQkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gZmFsc2UKCQkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gVmlydHVhbCBab25lIEhhY2sKCgkJbG9jYWwgVmlydHVhbFpvbmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpcnR1YWxab25lLk5hbWUgPSAiVmlydHVhbFpvbmUiCgkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlydHVhbFpvbmUpCgoJCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlCgoJCVZpcnR1YWxab25lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFZpcnR1YWxab25lRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSB0cnVlCgkJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlCgkJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tLS0gTWlzY2VsbGFuZW91cwoKCQktLSBUZWNoIERpc2MgSGFjawoKCQlsb2NhbCBUZWNoRGlzYyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGVjaERpc2MuTmFtZSA9ICJUZWNoRGlzYyIKCQlUZWNoRGlzYy5UZXh0ID0gIihHKSBUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGVjaERpc2MpCgoJCVRlY2hEaXNjRW5hYmxlZCA9IGZhbHNlCgoJCVRlY2hEaXNjLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBUZWNoRGlzY0VuYWJsZWQgdGhlbgoJCQkJCVRlY2hEaXNjRW5hYmxlZCA9IGZhbHNlCgkJCQkJVGVjaERpc2MuVGV4dCA9ICIoRykgVGVjaCBEaXNjIEhhY2sgKE9mZikiCgkJCQllbHNlCgkJCQkJVGVjaERpc2NFbmFibGVkID0gdHJ1ZQoJCQkJCVRlY2hEaXNjLlRleHQgPSAiKEcpIFRlY2ggRGlzYyBIYWNrIChPbikiCgkJCQllbmQKCQkJZWxzZQoJCQkJVGVjaERpc2MuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlUZWNoRGlzYy5UZXh0ID0gIihHKSBUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBaW1ib3QgfHwgQ3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50CgkJLS1bWwoJCWxvY2FsIEFpbWJvdCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWltYm90Lk5hbWUgPSAiQWltYm90IgoJCUFpbWJvdC5UZXh0ID0gIihHKSBBaW1ib3QgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFpbWJvdCkKCgkJZnVuY3Rpb24gdG9nZ2xlQWltYm90KCkKCQkJaWYgKG5vdCBBaW1ib3RFbmFibGVkKSBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IHRydWUKCQkJCUFpbWJvdC5UZXh0ID0gIihHKSBBaW1ib3QgKE9uKSIKCQkJCXdoaWxlIEFpbWJvdEVuYWJsZWQgZG8KCQkJCQlCZWdpblRyYWNraW5nKCkKCQkJCWVuZAoJCQllbHNlaWYgQWltYm90RW5hYmxlZCBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IGZhbHNlCgkJCQlBaW1ib3QuVGV4dCA9ICIoRykgQWltYm90IChPZmYpIgoJCQllbHNlaWYgbm90IChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFpbWJvdC5UZXh0ID0gIihHKSBBaW1ib3QgKE9mZikiCgkJCWVuZAoJCWVuZAoKCQlBaW1ib3QuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUFpbWJvdCldXQoKCQktLSBTaGFyZCBDb2xvcnMKCgkJbG9jYWwgUmFuZG9tQ29sb3JzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSYW5kb21Db2xvcnMuTmFtZSA9ICJSYW5kb21Db2xvcnMiCgkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmFuZG9tQ29sb3JzKQoKCQlsb2NhbCBDb2xvcnNMaXN0ID0geyJSZWFsbHkgcmVkIiwgIlJlYWxseSBibHVlIiwgIk5ldyBZZWxsZXIiLCAiSG90IHBpbmsiLCAiUm95YWwgcHVycGxlIiwgIkxpbWUgZ3JlZW4iLCAiRGVlcCBvcmFuZ2UiLCAiVG9vdGhwYXN0ZSIsICJJbnN0aXR1dGlvbmFsIHdoaXRlIn0KCQlsb2NhbCBTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl06R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuTmFtZSA9PSAiU2hhcmQiIGFuZCBub3QgdjpGaW5kRmlyc3RDaGlsZCgic2hhcmRDaGFuZ2VkIikgdGhlbgoJCQkJCXYuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KENvbG9yc0xpc3RbbWF0aC5yYW5kb20oMSw5KV0pCgkJCQkJbG9jYWwgc2hhcmRDaGFuZ2VkID0gSW5zdGFuY2UubmV3KCJCb29sVmFsdWUiKQoJCQkJCXNoYXJkQ2hhbmdlZC5OYW1lID0gInNoYXJkQ2hhbmdlZCIKCQkJCQlzaGFyZENoYW5nZWQuUGFyZW50ID0gY2hpbGQKCQkJCQlzaGFyZENoYW5nZWQuVmFsdWUgPSB0cnVlCgkJCQllbHNlaWYgdi5OYW1lID09ICJTaGFyZCIgYW5kIHY6RmluZEZpcnN0Q2hpbGQoInNoYXJkQ2hhbmdlZCIpLlZhbHVlIHRoZW4gZW5kCgkJCWVuZAoJCWVuZAoKCQlSYW5kb21Db2xvcnMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU2hhcmRDb2xvckVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU2hhcmRDb2xvckVuYWJsZWQgPSB0cnVlCgkJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPbikiCgkJCQl3aGlsZSBTaGFyZENvbG9yRW5hYmxlZCBkbwoJCQkJCXNoYXJkUmFuZG9taXplcigpCgkJCQkJd2FpdCguNSkKCQkJCWVuZAoJCQllbHNlCgkJCQlTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlCgkJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIgoJCQllbmQJCgkJZW5kKQoKCQktLSBBbnRpLUxhZwoKCQlsb2NhbCBBbnRpTGFnID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpTGFnLk5hbWUgPSAiQW50aUxhZyIKCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlMYWcpCgoJCUFudGlMYWdFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gcmVtb3ZlTGFnKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkxvY2FsRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbgoJCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4KCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkJhY2tEZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJTcGVjaWFsTWVzaCIpIHRoZW4KCQkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbgoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiTGlnaHREaXNjIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbgoJCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCWZvciBfLCB4IGluIHBhaXJzKHYuQ2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJaWYgeC5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuCgkJCQkJCXg6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCWlmIEFudGlMYWdFbmFibGVkIHRoZW4KCQkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSB0aGVuCgkJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4KCQkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBbnRpTGFnRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpTGFnRW5hYmxlZCA9IHRydWUKCQkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT24pIgoJCQkJcmVtb3ZlTGFnKCkKCQkJZWxzZQoJCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIElnbm9yZSBQaHlzaWNzCgoJCWxvY2FsIElnbm9yZVBoeXNpY3MgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlnbm9yZVBoeXNpY3MuTmFtZSA9ICJmSWdub3JlUGh5c2ljcyIKCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9mZikgW1pdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJZ25vcmVQaHlzaWNzKQoKCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuRmxpcHNIb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuCgkJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPbikgW1pdIgoJCQkJaW5pdGlhbE51bGxpZnlGb3JjZXMoKQoJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJCXdoaWxlIElnbm9yZVBoeXNpY3NFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UKCQkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iCgkJCWVuZAoJCWVuZAoKCQlJZ25vcmVQaHlzaWNzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpbk51bGxpZnlGb3JjZXMpCgoJCS0tIEFudGktR3Jhdml0eQoKCQlsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSIKCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT2ZmKSBbR10iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQoKCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBBbnRpR3Jhdml0eUZ1bmMoKQoJCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9uKSBbR10iCgkJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpCgkJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQlCb2R5Rm9yY2UuTmFtZSA9ICJBbnRpR3Jhdml0eUZvcmNlIgoJCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkKCQkJZWxzZQoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCQkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQW50aUdyYXZpdHlGb3JjZSIpIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW50aUdyYXZpdHlGb3JjZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykKCgkJLS0gQ2xpY2stVFAKCgkJbG9jYWwgQ2xpY2tUUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiCgkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIHRwIHRvIG1vdXNlXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2xpY2tUUCkKCgkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoKCQlDbGlja1RQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIENsaWNrVFBFbmFibGVkID09IHRydWUgdGhlbgoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoJCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIENsaWNrLVRQXSIKCQkJZWxzZQoJCQkJQ2xpY2tUUEVuYWJsZWQgPSB0cnVlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9uKSBbSiB0byBDbGljay1UUF0iCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gY2xpY2t0cChwb3NpdGlvbikKCQkJaWYgcGxheWVyID09IG5pbCBvciBwbGF5ZXIuQ2hhcmFjdGVyID09IG5pbCB0aGVuIHJldHVybiBlbmQKCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDMsIHBvc2l0aW9uLnopKQoJCWVuZAoKCQktLSBGcmVlemUKCgkJbG9jYWwgRnJlZXplID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlGcmVlemUuTmFtZSA9ICJGcmVlemUiCgkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPZmYpIFtGXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRnJlZXplKQoKCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gRnJlZXplRnVuYygpCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJRnJlZXplRW5hYmxlZCA9IHRydWUKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT24pIFtGXSIKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJZWxzZQoJCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlCgkJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJZW5kCgkJZW5kCgoJCUZyZWV6ZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoRnJlZXplRnVuYykKCgkJLS0gSW5maW5pdGUgU3ByaW50CgoJCWxvY2FsIEluZlNwcmludCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSW5mU3ByaW50Lk5hbWUgPSAiSW5mU3ByaW50IgoJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZlNwcmludCkKCgkJbG9jYWwgSW5mU3ByaW50RW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIFNwcmludFJlbW90ZSgpCgkJCXdoaWxlIHdhaXQoLjUpIGRvCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCQlbMl0gPSBmYWxzZSwKCQkJCX0KCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoJCWVuZAoKCQlJbmZTcHJpbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBJbmZTcHJpbnRFbmFibGVkIHRoZW4KCQkJCQlJbmZTcHJpbnRFbmFibGVkID0gdHJ1ZQoJCQkJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9uKSIKCQkJCQlTcHJpbnRSZW1vdGUoKQoJCQkJZWxzZQoJCQkJCUluZlNwcmludEVuYWJsZWQgPSBmYWxzZQoJCQkJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9mZikiCgkJCQllbmQJCQkJCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBFeHBsb3NpdmUgTGVhcAoKCQlsb2NhbCBFeHBsb3Npb25IYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFeHBsb3Npb25IYWNrLk5hbWUgPSAiRXhwbG9zaW9uSGFjayIKCQlFeHBsb3Npb25IYWNrLlRleHQgPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV4cGxvc2lvbkhhY2spCgoJCWxvY2FsIExlYXBTdHVuRW5hYmxlZCA9IGZhbHNlCgoJCUV4cGxvc2lvbkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgTGVhcFN0dW5FbmFibGVkIHRoZW4KCQkJCUxlYXBTdHVuRW5hYmxlZCA9IGZhbHNlCgkJCQlFeHBsb3Npb25IYWNrLlRleHQgPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiCgkJCWVsc2UKCQkJCUxlYXBTdHVuRW5hYmxlZCA9IHRydWUKCQkJCUV4cGxvc2lvbkhhY2suVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT24pIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgUm9jayBGaXN0CgoJCWxvY2FsIFJvY2tGaXN0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUm9ja0Zpc3RIYWNrLk5hbWUgPSAiUm9ja0Zpc3RIYWNrIgoJCVJvY2tGaXN0SGFjay5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSb2NrRmlzdEhhY2spCgoJCWxvY2FsIEluc3RhbnRGaXN0RW5hYmxlZCA9IGZhbHNlCgoJCVJvY2tGaXN0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBJbnN0YW50RmlzdEVuYWJsZWQgdGhlbgoJCQkJSW5zdGFudEZpc3RFbmFibGVkID0gZmFsc2UKCQkJCVJvY2tGaXN0SGFjay5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIgoJCQllbHNlCgkJCQlJbnN0YW50RmlzdEVuYWJsZWQgPSB0cnVlCgkJCQlSb2NrRmlzdEhhY2suVGV4dCA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT24pIgoJCQllbmQKCQllbmQpCgoJCS0tIExvbmcgRmxhc2gKCgkJbG9jYWwgTEZsYXNoID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlMRmxhc2guTmFtZSA9ICJGbGFzaCIKCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExGbGFzaCkKCgkJRmxhc2hFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkKCQkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucAoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsCgkJCQlbM10gPSB7CgkJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLAoJCQkJCVsiT3JpZ2luIl0gPSBwbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wCgkJCQl9CgkJCX0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQllbmQKCgkJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEZsYXNoRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlGbGFzaEVuYWJsZWQgPSB0cnVlCgkJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPbikgW2AgdG8gdXNlXSIKCQkJZWxzZQoJCQkJRmxhc2hFbmFibGVkID0gZmFsc2UKCQkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBWaWV3IFRhcmdldAoKCQlsb2NhbCBWaWV3VGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaWV3VGFyZ2V0Lk5hbWUgPSAiVmlld1RhcmdldCIKCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWV3VGFyZ2V0KQoKCQl2aWV3aW5nID0gZmFsc2UKCgkJZnVuY3Rpb24gdmlldygpCgkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQlpZiB2aWV3aW5nID09IGZhbHNlIHRoZW4KCQkJCQl2aWV3aW5nID0gdHJ1ZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPbikgW1ZdIgoJCQkJZWxzZQoJCQkJCXZpZXdpbmcgPSBmYWxzZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCQllbmQKCQkJZWxzZWlmIHZpZXdpbmcgPT0gdHJ1ZSB0aGVuIAoJCQkJdmlld2luZyA9IGZhbHNlCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCWVuZAoJCWVuZAoKCQlWaWV3VGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh2aWV3KQoKCQktLSBUZWxlcG9ydCB0byBUYXJnZXQKCgkJbG9jYWwgVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQVGFyZ2V0Lk5hbWUgPSAiVFBUYXJnZXQiCgkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUFRhcmdldCkKCgkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gVFBUb1RhcmdldCgpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCBhbmQgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKQoKCQkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5DRnJhbWUgPSBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKS5DRnJhbWUKCQkJZW5kCgkJZW5kCgoJCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlCgkJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT24pIFtVXSIKCQkJZWxzZQoJCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBMb29wIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBMb29wVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxvb3BUUFRhcmdldC5OYW1lID0gIkxvb3BUUFRhcmdldCIKCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTG9vcFRQVGFyZ2V0KQoKCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIExvb3BUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikiCgkJCQl3aGlsZSBMb29wVFBUYXJnZXRFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJVFBUb1RhcmdldCgpCgkJCQllbmQKCQkJZWxzZQoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgkJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBTdGFuZGFyZCBFU1AKCgkJbG9jYWwgRVNQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFU1AuTmFtZSA9ICJFU1AiCgkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQoKCQlFU1BFbmFibGVkID0gZmFsc2UKCQktLUVTUE1heERpc3QgPSA3NTAKCQktLUVTUE1ERW5hYmxlZCA9IHRydWUgLS0gVGhlc2UgdHdvIHZhbHVlcyB3aWxsIGJlIGZvciB0aGUgO2Rlc3AgY29tbWFuZCwgY3VycmVudGx5IHVuZGVyIGNvbnN0cnVjdGlvbi4KCgkJbG9jYWwgSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpCgkJSG9sZGVyLk5hbWUgPSAiRVNQIgoKCQlsb2NhbCBVcGRhdGVGdW5jcyA9IHt9CgoJCWxvY2FsIEJveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikKCQlCb3guTmFtZSA9ICJuaWxCb3giCgkJQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCUJveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJQm94LlRyYW5zcGFyZW5jeSA9IDAuNwoJCUJveC5aSW5kZXggPSAwCgkJQm94LkFsd2F5c09uVG9wID0gdHJ1ZQoJCUJveC5WaXNpYmxlID0gdHJ1ZQoKCQlsb2NhbCBOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCU5hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnIgoJCU5hbWVUYWcuRW5hYmxlZCA9IHRydWUKCQlOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQlOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQoJCU5hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApCgkJLS1pZiBFU1BNREVuYWJsZWQgdGhlbgoJCQlOYW1lVGFnLk1heERpc3RhbmNlID0gNzUwCgkJLS1lbHNlCgkJLS0JTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDAKCQktLWVuZAoKCQlsb2NhbCBUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE5hbWVUYWcpCgkJVGFnLk5hbWUgPSAiVGFnIgoJCVRhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJCVRhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIDApCgkJVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkKCQlUYWcuVGV4dFNpemUgPSAyMAoJCVRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCVRhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQoJCVRhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40CgkJVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQlUYWcuRm9udCA9IEVudW0uRm9udC5Sb2JvdG9Nb25vCgkJVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJCVRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoKCQlmdW5jdGlvbiBMb2FkQ2hhcmFjdGVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCgkJCQlsb2NhbCBiID0gQm94OkNsb25lKCkKCQkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiQm94IgoJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJYi5QYXJlbnQgPSB2SG9sZGVyCgoJCQkJbG9jYWwgdCA9IE5hbWVUYWc6Q2xvbmUoKQoJCQkJdC5OYW1lID0gdi5OYW1lIC4uICJOYW1lVGFnIgoJCQkJdC5QYXJlbnQgPSB2SG9sZGVyCgkJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQoJCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuCgkJCQkJcmV0dXJuIFVubG9hZENoYXJhY3Rlcih2KQoJCQkJZW5kCgkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lCgkJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCQl3YWl0KCkKCgkJCQlsb2NhbCBmdW5jdGlvbiBVcGRhdGVOYW1lVGFnKCkKCQkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUKCQkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApCgkJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQoJCQkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZSAuLiAiXG4iIC4uICgobWF4aCB+PSAwIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoKGggLyBtYXhoKSAqIDEwMCkpKSBvciAiMCIpIC4uICIlICAiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKQoJCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNwoJCQkJCQkJZWxzZQoJCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQllbmQKCQkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbgoJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQllbHNlCgkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJZW5kCgkJCQkJCWVuZCkgdGhlbgoJCQkJCQlVcGRhdGVGdW5jc1t2XSA9IG5pbAoJCQkJCWVuZAoJCQkJZW5kCgkJCQlVcGRhdGVOYW1lVGFnKCkKCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZwoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIGFuZCAodkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkJveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIExvYWRQbGF5ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJbG9jYWwgdkhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgSG9sZGVyKQoJCQkJdkhvbGRlci5OYW1lID0gdi5OYW1lCgkJCQl2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCWlmIEVTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKExvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJZW5kCgkJCQllbmQpCgkJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCWVuZCkKCQkJCUxvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQoJCQlVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgdGhlbgoJCQkJdkhvbGRlcjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKExvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQkJVW5sb2FkQ2hhcmFjdGVyKGkpCgkJCQkJd2FpdCgpCgkJCQkJTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJVXBkYXRlRnVuY3NbcF0oKQoJCQkJCWVuZCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWZ1bmN0aW9uIHRvZ2dsZUVTUCgpCgkJCWlmIEVTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbgoJCQkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJCQlFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCUVTUEdvbGQuVGV4dCA9ICJTdGFuZGFyZCBFU1AgRW5hYmxlZCIKCQkJCQl3YWl0KDEpCgkJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJZWxzZQoJCQkJCUVTUEVuYWJsZWQgPSB0cnVlCgkJCQllbmQKCQkJCUVTUC5UZXh0ID0gIkVTUCAoT24pIFtCXSIKCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgkJCQllbmQKCQkJZWxzZQoJCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlFU1AuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUCkKCgkJLS0gR29sZCBFU1AKCgkJbG9jYWwgRVNQR29sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRVNQR29sZC5OYW1lID0gIkVTUEdvbGQiCgkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1BHb2xkKQoKCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEdIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkKCQlHSG9sZGVyLk5hbWUgPSAiRVNQR29sZCIKCgkJbG9jYWwgR1VwZGF0ZUZ1bmNzID0ge30KCgkJbG9jYWwgR0JveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikKCQlHQm94Lk5hbWUgPSAibmlsQm94RyIKCQlHQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCUdCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUdCb3guVHJhbnNwYXJlbmN5ID0gMC43CgkJR0JveC5aSW5kZXggPSAwCgkJR0JveC5BbHdheXNPblRvcCA9IHRydWUKCQlHQm94LlZpc2libGUgPSB0cnVlCgoJCWxvY2FsIEdOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCUdOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZ0ciCgkJR05hbWVUYWcuRW5hYmxlZCA9IHRydWUKCQlHTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCgkJR05hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlCgkJR05hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApCgkJLS1pZiBFU1BNREVuYWJsZWQgdGhlbgoJCQlHTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDc1MAoJCS0tZWxzZQoJCS0tCUdOYW1lVGFnLk1heERpc3RhbmNlID0gMAoJCS0tZW5kCgoJCWxvY2FsIEdUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEdOYW1lVGFnKQoJCUdUYWcuTmFtZSA9ICJHVGFnIgoJCUdUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCQlHVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgLTUpCgkJR1RhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApCgkJR1RhZy5UZXh0U2l6ZSA9IDIwCgkJR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUdUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkKCQlHVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCQlHVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQlHVGFnLkZvbnQgPSBFbnVtLkZvbnQuUm9ib3RvTW9ubwoJCUdUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCgkJR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoKCQlmdW5jdGlvbiBHTG9hZENoYXJhY3Rlcih2KQoJCQkKCQkJbG9jYWwgdGJsUGxheWVyRGF0YSA9IHt9CgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCVJTUjpXYWl0Rm9yQ2hpbGQoIlBsYXllckRhdGEiKS5PbkNsaWVudEV2ZW50OkNvbm5lY3QoZnVuY3Rpb24odiwgdGJsRGF0YSkKCQkJCXRibFBsYXllckRhdGFbdl0gPSB0YmxEYXRhCgkJCWVuZCkKCQkJCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQkJbG9jYWwgYiA9IEdCb3g6Q2xvbmUoKQoJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJHQm94IgoJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJYi5QYXJlbnQgPSB2SG9sZGVyCgoJCQkJbG9jYWwgdCA9IEdOYW1lVGFnOkNsb25lKCkKCQkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiR05hbWVUYWciCgkJCQl0LlBhcmVudCA9IHZIb2xkZXIKCQkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCQlyZXR1cm4gR1VubG9hZENoYXJhY3Rlcih2KQoJCQkJZW5kCgkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZQoJCQkJdC5FbmFibGVkID0gdHJ1ZQoJCQkJd2FpdCgpCgoJCQkJbG9jYWwgZnVuY3Rpb24gR1VwZGF0ZU5hbWVUYWcoKQoJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQlsb2NhbCBzdHJoID0gIkg6ICIgLi4gKG5vdChtYXhoID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogaCAvIG1heGgpKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhoKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4aCkgLi4gIikiCgkJCQkJCQktLQoJCQkJCQkJbG9jYWwgbWF4bSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heE1hbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgbSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1hbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgc3RybSA9ICJNOiAiIC4uIChub3QobWF4bSA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIG0gLyBtYXhtKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcobSkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heG0pIC4uICIpIgoJCQkJCQkJLS0KCQkJCQkJCWxvY2FsIG1heHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYXhTdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5TdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIHN0cnMgPSAgIlM6ICIgLi4gKG5vdChtYXhzID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogcyAvIG1heHMpKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhzKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4cykgLi4gIikiCgoJCQkJCQkJdC5HVGFnLlRleHQgPSB2Lk5hbWUgLi4gKCJcbiIgLi4gc3RyaCkgLi4gKCJcbiIgLi4gc3RybSkgLi4gKCJcbiIgLi4gc3RycykKCQkJCQkJCQoJCQkJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQllbHNlCgkJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQllbmQKCQkJCQkJCWlmIGggLyBtYXhoID49IDAuNzUgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjIsIDI1NSwgNjIpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNSwgMTUzLCA2NCkKCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA8PSAwLjc1IGFuZCBoIC8gbWF4aCA+PSAwLjUgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDU1KQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTc5LCAxMzIsIDE1KQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyLCAyKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTM0LCAxMiwgNjYpCgkJCQkJCQllbHNlCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsICgxOTYgKiAoaCAvIG1heGgpKSwgKDIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE3OSwgKDEzMiAqIChoIC8gbWF4aCkpLCAoMTUgKiAoaCAvIG1heGgpKSkKCQkJCQkJCWVuZAoJCQkJCQllbmQpIHRoZW4KCQkJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gbmlsCgkJCQkJZW5kCgkJCQllbmQKCQkJCUdVcGRhdGVOYW1lVGFnKCkKCQkJCUdVcGRhdGVGdW5jc1t2XSA9IEdVcGRhdGVOYW1lVGFnCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdMb2FkUGxheWVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEdIb2xkZXIpCgkJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgR0VTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKEdMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChHVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kKQoJCQkJR0xvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRQbGF5ZXIodikKCQkJR1VubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgdGhlbgoJCQkJdkhvbGRlcjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQllbmQpCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCUdVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCQl3YWl0KCkKCQkJCQlHTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCUdVcGRhdGVGdW5jc1twXSgpCgkJCQkJZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gdG9nZ2xlRVNQR29sZCgpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBHRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCQlHRVNQRW5hYmxlZCA9IHRydWUKCQkJCQkJRVNQLlRleHQgPSAiRGV0YWlsZWQgRVNQIEVuYWJsZWQiCgkJCQkJCXdhaXQoMSkKCQkJCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQkJCQllbHNlCgkJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPbikgW01dIgoJCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR1VubG9hZFBsYXllciwgdikgZW5kKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUVTUEdvbGQuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCWVuZAoJCWVuZAoKCQlFU1BHb2xkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1BHb2xkKQoKCQktLSBUUCB0byBEcm9wcwoJCS0tLS0gQ3VycmVudGx5IGRpc2FibGVkIGR1ZSB0byB0aHJlYXRsZXZlbAoKCQktLVtbbG9jYWwgVFBTaGFyZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQU2hhcmRzLk5hbWUgPSAiVFBTaGFyZHMiCgkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQU2hhcmRzKQoKCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQkKCgkJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBEaWFtb25kcy5OYW1lID0gIlRQRGlhbW9uZHMiCgkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQoKCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIHBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQlwbGF0ZS5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQoJCXBsYXRlLlNpemUgPSBWZWN0b3IzLm5ldyg0MCwgMSwgNDApCgkJcGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAxMDAwMDAsIDApCgkJcGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJcGxhdGUuUmVmbGVjdGFuY2UgPSAwLjUKCQlwbGF0ZS5UcmFuc3BhcmVuY3kgPSAwLjUKCgkJbG9jYWwgdGltZSA9IDAKCQlsb2NhbCBjYW5JbnZpcyA9IGZhbHNlCgoJCWZ1bmN0aW9uIHRlbGVwb3J0VG9Ecm9wcygpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLlNlcnZlckVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIlNoYXJkIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVsc2VpZiBUUERpYW1vbmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJEaWFtb25kIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVuZAoKCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQlpZiB0aW1lID09IDUgdGhlbiAKCQkJCQkJYnJlYWsKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCgkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCgkJCXJldHVybiAKCQllbmQKCgoJCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQoJCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQlpZiB0aW1lIH49IDAgdGhlbiByZXR1cm4KCQkJCQllbHNlCgkJCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJd2FpdCgxKQoJCQkJCQkJcmVwZWF0CgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl0aW1lID0gdGltZSArIDEKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQl1bnRpbCB0aW1lID09IDYKCQkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCQkJCQkJCXdhaXQoNy41KQoJCQkJCQkJdGltZSA9IDAKCQkJCQkJZWxzZQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCWlmIG5vdCBUUFNoYXJkc0VuYWJsZWQgYW5kIG5vdCBUUERpYW1vbmRzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJZW5kCgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJYnJlYWsKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybgoJCWVuZAoKCQlUUFNoYXJkcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVFBTaGFyZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9uKSIKCQkJCXN0YXJ0VGltZXIoKQoJCQkJd2hpbGUgVFBTaGFyZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUERpYW1vbmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IHRydWUKCQkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUERpYW1vbmRzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJc3RhcnRUaW1lcigpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCQllbmQKCQllbmQpXV0KCgkJLS0gUmVqb2luIFNlcnZlciBGdW5jdGlvbgoKCQktLSBUaGlzIHdhcyBvbmx5IHByZXNlcnZlZCBhcyBJIGNvdWxkbid0IHRoaW5rIG9mIGFueSBvdGhlciBwbGFjZSB0byBwdXQgdGhlIGZ1bmN0aW9uIGZvciBub3cuCgkJLS0gTWlnaHQgZ2V0IG1vdmVkIGxhdGVyLCBpZHVubm8uCgkJZnVuY3Rpb24gcmVqb2luKCkKCQkJbG9jYWwgdHMgPSBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpCgkJCWxvY2FsIHAgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCgoJCQl0czpUZWxlcG9ydChnYW1lLlBsYWNlSWQsIHApCgkJZW5kCgoJCS0tIEFsdCBGYXJtaW5nCgoJCWxvY2FsIEFsdEZhcm0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFsdEZhcm0uTmFtZSA9ICJBbHRGYXJtIgoJCUFsdEZhcm0uVGV4dCA9ICIoRykgRmFybWluZyBNb2RlIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLEFsdEZhcm0pCgoJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCWxvY2FsIGh1bSA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgoJCWxvY2FsIGZ1bmN0aW9uIGRvRmFybSgpCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQlodW0gPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQlodW0uSGVhbHRoQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCXBsYXllci5DaGFyYWN0ZXI6QnJlYWtKb2ludHMoKQoJCQllbmQpCgkJZW5kCgoJCUFsdEZhcm0uTW91c2VCdXR0b24xRG93bjpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIEFsdEZhcm1FbmFibGVkIHRoZW4KCQkJCQlBbHRGYXJtRW5hYmxlZCA9IGZhbHNlCgkJCQkJQWx0RmFybS5UZXh0ID0gIihHKSBGYXJtaW5nIE1vZGUgKE9mZikiCgkJCQkJaHVtLkhlYWx0aENoYW5nZWQ6RGlzY29ubmVjdCgpCgkJCQllbHNlCgkJCQkJQWx0RmFybUVuYWJsZWQgPSB0cnVlCgkJCQkJQWx0RmFybS5UZXh0ID0gIihHKSBGYXJtaW5nIE1vZGUgKE9uKSIKCQkJCQl3aGlsZSBBbHRGYXJtRW5hYmxlZCBkbwoJCQkJCQlkb0Zhcm0oKQoJCQkJCQl3YWl0KC41KQoJCQkJCWVuZAkJCQkJCgkJCQllbmQKCQkJZWxzZQoJCQkJQWx0RmFybS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFsdEZhcm0uVGV4dCA9ICIoRykgRmFybWluZyBNb2RlIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEdVSSBUd2Vha2luZwoKCQlmb3IgaSwgdiBpbiBwYWlycyhib3JkZXJzKSBkbwoJCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQoJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MAoJCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZCgkJCXYuQWN0aXZlID0gdHJ1ZQoJCQl2LlBhcmVudCA9IGViZ3VpCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKGJ1dHRvbnMpIGRvCgkJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNiwgMjAsIDExNSkKCQkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJvcmRlclNpemVQaXhlbCA9IDIKCQkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQl2LlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJdi5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCQl2LkZvbnRGYWNlLldlaWdodCA9IEVudW0uRm9udFdlaWdodC5IZWF2eQoJCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCQl2LlRleHRTY2FsZWQgPSB0cnVlCgkJCXYuVGV4dFNpemUgPSAxNC4wMDAKCQkJdi5UZXh0V3JhcHBlZCA9IHRydWUKCQkJdi5MYXlvdXRPcmRlciA9IGkKCQkJdi5QYXJlbnQgPSBtYWluZnJhbWUKCQllbmQKCgkJLS0gY29tbWFuZEJveAoKCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCWxvb3BpbmcgPSBmYWxzZQoJCVNtYXJ0QXR0YWNrID0gdHJ1ZQoJCUhlYWxTZXR0aW5nID0gMQoJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCWxvY2FsIGJ1dHRvbkhlaWdodCA9IDMwCgkJbG9jYWwgYnV0dG9uR2FwID0gNwoKCQlSU1IgPSBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlOldhaXRGb3JDaGlsZCgiUmVtb3RlcyIpCgoJCWxvY2FsIHN0dW5Db25uZWN0aW9uID0gZ2V0Y29ubmVjdGlvbnMoUlNSOldhaXRGb3JDaGlsZCgiQ29tYmF0IikuT25DbGllbnRFdmVudCkKCQlsb2NhbCBsYWdnZXJzID0gewoJCQkiMUIwRjk4QkUtRTEwQi00Njc0LTlGQjQtNkY2NTE3MUEzNDdGIiwgLS0gbG9nCgkJCSI2QTMzMTA0QS0xRkU5LTRGQTgtOTM3NC1DMTY0RDI4RjgzNTEiLCAtLSBicmlhbgoJCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0CgkJCSI1NUMyMDQ5RC1DNkJELTQ1MjMtODgwNC1ENTM5QzM4NzkyQTMiLCAtLSBwZW50YXJhY3QKCQkJIjk0NjRCNjhBLTM2M0MtNDFGOC1CQjdELUI0QkVEOEFDMDk2MyIsIC0tIHZhc3RvcmlvCgkJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvawoJCQktLSAiNjNCMzlFMjctREExQi00ODJFLUIyOEMtNkEzMzk4Qzk1QTRDIiwgLS0gYWxleAoJCQkiODQ2QTY1RTItRTk2My00QTBBLTkwMjUtRTlCOEU5NTg5NjEzIiwgLS0gYnJhbQoJCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsKCQkJIjZBOTcwNTJBLTYzNEUtNDdFMS04RDkwLTVFRTNDQTRBOTZGQSIsIC0tIHJhdmVuCgkJCSJGNTk3NUQ3RC0yQUM1LTQ0QUEtODAxRi04Mjc2MjVENkQ3NjMiLCAtLSBhbGV4aWEKCQkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MKCQkJIjc0ODlDQkFFLTc5ODYtNDVBOS1CRTQwLUEyMThFRENEMEYwMSIgLS0gY2VwaGFzCgkJfQoKCQlsb2NhbCBhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQoKCQlmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbwoJCQl2ID0gdjpsb3dlcigpCgoJCQlpZiAodiA9PSBjbGllbnRpZCkgdGhlbgoJCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhSUChjaHIpCgkJCWxvY2FsIEhSUCA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQoJCQlyZXR1cm4gSFJQCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhVTShjaHIpCgkJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQoJCQlyZXR1cm4gSFVNCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlc3Bhd24ocGxyKQoJCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyCgoJCQlpZiAoY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSkgdGhlbiBjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpOkNoYW5nZVN0YXRlKDE1KSBlbmQKCQkJY2hyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpCgkJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJcGxyLkNoYXJhY3RlciA9IG5ld2NocgoKCQkJd2FpdCgpCgoJCQlwbHIuQ2hhcmFjdGVyID0gY2hyCgkJCW5ld2NocjpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpCgkJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpCgkJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lCgkJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUKCgkJCXJlc3Bhd24ocGxyKQoKCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJcGxyLkNoYXJhY3RlckFkZGVkOldhaXQoKTpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuUm9vdFBhcnQuQ0ZyYW1lLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUgPSBwb3MsIHdhaXQoKSBhbmQgcG9zMQoJCQllbmQpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQoJCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpCgkJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQoKCQkJZm9yIGksIHYgaW4gaXBhaXJzKGNvbW1hbmQpIGRvCgkJCQl2ID0gc3RyaW5nLmdzdWIodiwgIiVzKyIsICIiKQoJCQkJaWYgdiA9PSAiIiB0aGVuCgkJCQkJdGFibGUucmVtb3ZlKGNvbW1hbmQsIGkpCgkJCQllbmQKCQkJZW5kCgoJCQlyZXR1cm4gY29tbWFuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpCgkJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpCgkJCWxvY2FsIG1hdGNoZXMgPSB7fQoKCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8KCQkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoJCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQoKCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQobmFtZSwgdGV4dCkKCgkJCQlpZiBtYXRjaCB0aGVuCgkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIG1hdGNoZXMKCQllbmQKCgkJbG9jYWwgZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvckV4Y2x1ZGUgPSB7IkhlYWQiLCJUb3JzbyIsIkxlZnQgQXJtIiwiTGVmdCBMZWciLCJSaWdodCBBcm0iLCJSaWdodCBMZWciLCJTaGFyZCIsIkRpYW1vbmQifQoKCQktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQoJCWxvY2FsIGNvbG9yMQoJCWxvY2FsIGNvbG9yMgoJCWxvY2FsIGNvbG9yMwoKCQlsb2NhbCBmdW5jdGlvbiB0ZXJtRUJHdWkoKQoJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLAoJCQkJIkluIiwKCQkJCSJTaW5lIiwKCQkJCS41LAoJCQkJdHJ1ZQoJCQkpCgkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApLAoJCQkJIkluIiwKCQkJCSJTaW5lIiwKCQkJCS41LAoJCQkJdHJ1ZQoJCQkpCgkJCXdhaXQoMSkKCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJZWJndWk6RGVzdHJveSgpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGlucHV0Qm94KCkKCQkJbG9jYWwgdGV4dCA9IGNvbW1hbmRCb3guVGV4dAoJCQl3YWl0KCkKCQkJY29tbWFuZEJveC5UZXh0ID0gIiIKCgkJCWxvY2FsIHByZWZpeCA9ICI7IgoJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEpID09IChwcmVmaXgpIHRoZW4KCQkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCgkJCQktLVtbaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpIHRoZW4KCQkJCQlyZWZyZXNoKHBsYXllcildXQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpIHRoZW4KCQkJCQlsb2NhbCB0ZWxlcG9ydHRvCgkJCQkJbG9jYWwgdHBuYW1lCgkJCQkJbG9jYWwgcGxhY2UgPSBzdHJpbmcuc3ViKHRleHQsIDUpCgkJCQkJbG9jYWwgcGxhY2VzID0gewoJCQkJCQk1NjYzOTkyNDQsCgkJCQkJCTI1Njk2MjU4MDksCgkJCQkJCTU3MDE1ODA4MSwKCQkJCQkJNTM3NjAwMjA0LAoJCQkJCQk1MjA1NjgyNDAsCgkJCQkJCTU1NDk1NTU2MCwKCQkJCQkJNjAyMDQ4NTUwLAoJCQkJCQk1NzU0NTY2NDYsCgkJCQkJCTE3MTM5ODYxMTIsCgkJCQkJCTEyNDM2MTU2MTIsCgkJCQkJCTYzODA2NTMwMiwKCQkJCQkJNjM0MjQwODI2LAoJCQkJCQk2MzMwNDI3MzEKCQkJCQl9CgoJCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzFdCgkJCQkJCXRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJzdGFuZGFyZDQwIiBvciBwbGFjZSA9PSAiMjU2OTYyNTgwOSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzJdCgkJCQkJCXRwbmFtZSA9ICJTdGFuZGFyZCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImxpZ2h0IiBvciBwbGFjZSA9PSAiNTcwMTU4MDgxIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbM10KCQkJCQkJdHBuYW1lID0gIkxpZ2h0IgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiZmlyZSIgb3IgcGxhY2UgPT0gIjUzNzYwMDIwNCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzRdCgkJCQkJCXRwbmFtZSA9ICJGaXJlIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAid2F0ZXIiIG9yIHBsYWNlID09ICI1MjA1NjgyNDAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s1XQoJCQkJCQl0cG5hbWUgPSAiV2F0ZXIiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJncmFzcyIgb3IgcGxhY2UgPT0gIjU1NDk1NTU2MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzZdCgkJCQkJCXRwbmFtZSA9ICJHcmFzcyIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzddCgkJCQkJCXRwbmFtZSA9ICJIZWF2ZW4iCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s4XQoJCQkJCQl0cG5hbWUgPSAiTWluaWxvdmFuaWEiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJkZWZhdWx0IiBvciBwbGFjZSA9PSAidG91cm5hbWVudCIgb3IgcGxhY2UgPT0gIjE3MTM5ODYxMTIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s5XQoJCQkJCQl0cG5hbWUgPSAiVG91cm5hbWVudCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEwXQoJCQkJCQl0cG5hbWUgPSAiU3Vydml2YWwiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhc3RhbmRhcmQiIG9yIHBsYWNlID09ICJzdGFuZGFyZG1lZ2EiIG9yIHBsYWNlID09ICI2MzgwNjUzMDIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0KCQkJCQkJdHBuYW1lID0gIk1lZ2EgU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZmlyZSIgb3IgcGxhY2UgPT0gImZpcmVtZWdhIiBvciBwbGFjZSA9PSAiNjM0MjQwODI2IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdCgkJCQkJCXRwbmFtZSA9ICJNZWdhIEZpcmUiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZ3Jhc3MiIG9yIHBsYWNlID09ICJncmFzc21lZ2EiIG9yIHBsYWNlID09ICI2MzMwNDI3MzEiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxM10KCQkJCQkJdHBuYW1lID0gIk1lZ2EgR3Jhc3MiCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIgoJCQkJCWVuZAoKCQkJCQlpZiB0ZWxlcG9ydHRvIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRlbGVwb3J0aW5nIHRvICIgLi4gdHBuYW1lIC4uICIhIgoJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJkZWNsdXR0ZXIiKSB0aGVuCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5DaGFyYWN0ZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkJvb2suSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNob3AuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAicmFpbiIpIHRoZW4KCQkJCQlsb2NhbCBjdXJyZW50Q0FNID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKCQkJCQlsb2NhbCByYWluU291bmQgPSBJbnN0YW5jZS5uZXcoIlNvdW5kIikKCQkJCQlyYWluU291bmQuTG9vcGVkID0gdHJ1ZQoJCQkJCXJhaW5Tb3VuZC5Tb3VuZElkID0gInJieGFzc2V0aWQ6Ly8yODMxNjQ1OTMiCgkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDEKCQkJCQlyYWluU291bmQuUGFyZW50ID0gd29ya3NwYWNlCgkJCQkJcmFpblNvdW5kOlBsYXkoKQoKCQkJCQlsb2NhbCByYWluUGFydCA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDMwMCwgMzAwLCAzMDApCgkJCQkJcmFpblBhcnQuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXJhaW5QYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCXJhaW5QYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQoKCQkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpCgkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQlyYWluRWZmZWN0LlBhcmVudCA9IHJhaW5QYXJ0CgoJCQkJCWxvY2FsIGlnbm9yZSA9IHdvcmtzcGFjZTpXYWl0Rm9yQ2hpbGQoIi5JZ25vcmUiKQoJCQkJCXJhaW5QYXJ0LlBhcmVudCA9IGlnbm9yZTpXYWl0Rm9yQ2hpbGQoIi5TZXJ2ZXJFZmZlY3RzIikKCgkJCQkJbG9jYWwgZm92ID0gMiAqIG1hdGgudGFuKG1hdGgucmFkKGN1cnJlbnRDQU0uRmllbGRPZlZpZXcpIC8gMikKCQkJCQlsb2NhbCBuZXdSYXkgPSBSYXkubmV3CgkJCQkJbG9jYWwgaGVpZ2h0ID0gVmVjdG9yMy5uZXcoMCwgNTAsIDApCgkJCQkJbG9jYWwgZGVwdGggPSBDRnJhbWUubmV3KDAsIGZvdiAqIDUwLCAtNjApCgoJCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQoJCQkJCQlsb2NhbCByYyA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QobmV3UmF5KGN1cnJlbnRDQU0uQ0ZyYW1lLnAsIGhlaWdodCksIHtpZ25vcmV9KQoKCQkJCQkJaWYgKHJjKSB0aGVuCgkJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDAuNQoJCQkJCQkJcmV0dXJuCgkJCQkJCWVuZAoKCQkJCQkJbG9jYWwgdmlld3BvcnQgPSBjdXJyZW50Q0FNLlZpZXdwb3J0U2l6ZQoJCQoJCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoZm92ICogdmlld3BvcnQueCAvIHZpZXdwb3J0LnkgKiA1MCwgMC4yLCAxMDApCgkJCQkJCXJhaW5QYXJ0LkNGcmFtZSA9IGN1cnJlbnRDQU0uQ0ZyYW1lICogZGVwdGgKCQkKCQkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gdHJ1ZQoJCQoJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDQpID09IChwcmVmaXggLi4gImZpeCIpIHRoZW4KCQkJCQlpZiBwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpIHRoZW4KCQkJCQkJcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKS5WaXNpYmxlID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZpeGluZyB0aGUgTWVudSBHVUkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTMpID09IChwcmVmaXggLi4gImJ1dHRvbmhlaWdodCIpIHRoZW4KCQkJCQlidXR0b25IZWlnaHQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkKCQkJCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgYnV0dG9uSGVpZ2h0KQoJCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApCgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gaGVpZ2h0IHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkgLi4gIiEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbgoJCQkJCWJ1dHRvbkdhcCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKQoJCQkJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCBidXR0b25HYXApCgkJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBnYXAgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKSAuLiAiISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gInJlam9pbiIpIHRoZW4KCQkJCQlyZWpvaW4oKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZWpvaW5pbmcuLi4iCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJhdXJhL29mZiIpIHRoZW4KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKQoKCQkJCQlpZiBnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpIHRoZW4KCQkJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKTpEZXN0cm95KCkKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgaGFzIGJlZW4gcmVtb3ZlZC4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBkb2VzIG5vdCBleGlzdCEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxNCkgPT0gKHByZWZpeCAuLiAidGFyZ2V0c2V0dGluZyIpIHRoZW4KCQkJCQl0YXJnZXRTZXR0aW5nID0gc3RyaW5nLnN1Yih0ZXh0LCAxNikKCgkJCQkJcmVwZWF0CgkJCQkJCWlmIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gc2VsZWN0ISIKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGNsb3Nlc3QhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBmYXJ0aGVzdCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBsb3docCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gaGlnaGhwISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCB0YXJnZXQgc2V0dGluZyEgRGlkIHlvdSBzcGVjaWZ5IHNlbGVjdCwgY2xvc2VzdCwgZmFydGhlc3QsIGxvd2hwLCBvciBoaWdoaHA/IFNldHRpbmcgaGFzIGJlZW4gc2V0IHRvIHNlbGVjdC4iCgkJCQkJCWVuZAoJCQkJCXVudGlsIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIKCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlsb29waW5nID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBsb29waW5nIGF0dGFja3MhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWxvb3BpbmcgPSBub3QgbG9vcGluZwoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoKCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCXdoaWxlIGxvb3BpbmcgZG8KCQkJCQkJCWV4cGxvaXQoKQoJCQkJCQkJd2FpdCgpCgkJCQkJCWVuZAoJCQkJCQlyZXR1cm4KCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1bmJyZWFrIikgdGhlbgoJCQkJCWJyZWFrYWJsZSA9IGZhbHNlCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4KCQkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQoJCQkJCXdhaXQoKQoJCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbgoJCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCVNtYXJ0QXR0YWNrID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJU21hcnRBdHRhY2sgPSBub3QgU21hcnRBdHRhY2sKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgU21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuCgkJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4KCQkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIKCQkJCQkJd2FpdCgpCgkJCQkJZW5kCgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDE3KSA9PSAibm9ybWFsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gMAoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmV2ZXJ0aW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImdyYXlzY2FsZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTEKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkdyYXlzY2FsaW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGh1ZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBodWUuLi4iCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0YWxsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBhbGwuLi4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJsYWNrY2FzdCIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgYmxhY2sgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInN0dW4iKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJc3R1bkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCXN0dW5FbmFibGVkID0gbm90IHN0dW5FbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpEaXNhYmxlKCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8KCQkJCQkJCQljb25uZWN0aW9uOkVuYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIHN0dW4gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJkcnVncyIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgOSkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWRydWdzRW5hYmxlZCA9IG5vdCBkcnVnc0VuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZHJ1ZyBtb2RlICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuCgkJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgMTMpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgKGNvbG9yMSB+PSBuaWwpIGFuZCAoY29sb3IyIH49IG5pbCkgYW5kIChjb2xvcjMgfj0gbmlsKSB0aGVuCgkJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZW5hYmxlZCEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgKGFyZ3NbMV0gPT0gImYiKSBvciAoYXJnc1sxXSA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGRpc2FibGVkISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJYXJnc1sxXSA9IHRvbnVtYmVyKGFyZ3NbMV0pCgkJCQkJCWFyZ3NbMl0gPSB0b251bWJlcihhcmdzWzJdKQoJCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkKCgkJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iCgkJCQkJCWVsc2UKCQkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbgoJCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlCgoJCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbwoJCQkJCQkJCQlpZiAoYXJnc1tpXSA8IDApIG9yIChhcmdzW2ldID4gMjU1KSB0aGVuCgkJCQkJCQkJCQlleGVjdXRhYmxlID0gZmFsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbgoJCQkJCQkJCQljb2xvcjEgPSBhcmdzWzFdCgkJCQkJCQkJCWNvbG9yMiA9IGFyZ3NbMl0KCQkJCQkJCQkJY29sb3IzID0gYXJnc1szXQoKCQkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISIKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiCgkJCQkJCQkJZW5kCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIgoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbgoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkKCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQoJCQkJCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbgoJCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuCgkJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkKCQkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkKCQkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksCgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiBhcmdzWzFdIHRoZW4JCQkJCgkJCQkJCWlmICgjKGZpbmRQbGF5ZXIoYXJnc1sxXSkpID09IDEpIHRoZW4KCQkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdCgkJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyCgoJCQkJCQkJaWYgY2hyIHRoZW4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiIKCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiKQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCWlmIGNociA9PSBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KCQkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDIpID09IChwcmVmaXggLi4gImUiKSB0aGVuCgkJCQkJbG9jYWwgcGhhc2UgPSBzdHJpbmcuc3ViKHRleHQsIDQpCgoJCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbgoJCQkJCQlwaGFzZSA9IG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKQoKCQkJCQkJaWYgKHBoYXNlID09IDEpIG9yIChwaGFzZSA9PSAyKSBvciAocGhhc2UgPT0gMykgdGhlbgoJCQkJCQkJRWNob2VzUGhhc2UgPSBwaGFzZQoKCQkJCQkJCWxvY2FsIG1vZGUgPSAiIgoKCQkJCQkJCWlmIEVjaG9lc1BoYXNlID09IDEgdGhlbgoJCQkJCQkJCW1vZGUgPSAiKFNUQVIpIgoJCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDIgdGhlbgoJCQkJCQkJCW1vZGUgPSAiKEZMQU1FKSIKCQkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAzIHRoZW4KCQkJCQkJCQltb2RlID0gIihTSE9DSykiCgkJCQkJCQllbmQKCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGhhcyBiZWVuIGNoYW5nZWQhICIgLi4gbW9kZQoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQaGFzZSBpcyBpbnZhbGlkISBNdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgMy4iCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiY2hhbmdlbG9nIikgdGhlbgoJCQkJCS0tIFRhZzogQ0hOR0xHCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkNvcGllZCB0aGUgY2hhbmdlbG9nIHRvIHlvdXIgY2xpcGJvYXJkISIKCQkJCQlzZXRjbGlwYm9hcmQoImh0dHBzOi8vZ2l0aHViLmNvbS9FYXJ0aFRvQWNjZXNzL0VCR1VJI2NoYW5nZWxvZyIpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJvcmlnaW4iKSB0aGVuCgkJCQkJeHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJbG9jYWwgb3JpZ2luID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCQkJb3JpZ2luLkFuY2hvcmVkID0gdHJ1ZQoJCQkJCQlvcmlnaW4uUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXQoJCQkJCQlvcmlnaW4uTmFtZSA9ICJPcmlnaW4iCgkJCQkJCW9yaWdpbi5NYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuTmVvbgoJCQkJCQlvcmlnaW4uQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJSZWFsbHkgcmVkIikKCQkJCQkJb3JpZ2luLlNpemUgPSBWZWN0b3IzLm5ldygwLjUsIDAuNSwgMC41KQoJCQkJCQlvcmlnaW4uUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAwLCAwKQoJCQkJCQl3YXJuKCJNYWRlIGEgYmxvY2sgYXQgdGhlIG9yaWdpbiEiKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2VzcyEgQ2hlY2sgY29uc29sZSBmb3IgbW9yZSBpbmZvIgoJCQkJCWVuZCwgZnVuY3Rpb24oZSkKCQkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQoJCQkJCQl3YXJuKCd0cmFjZWJhY2s6JywgZGVidWcudHJhY2ViYWNrKCkpCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaGVscCIpIHRoZW4KCQkJCQlzZXRjbGlwYm9hcmQoImh0dHBzOi8vZ2l0aHViLmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL2Jsb2IvbWFpbi9Eb2NzLm1kIikKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRG9jdW1lbnRhdGlvbiBjb3BpZWQgdG8gY2xpcGJvYXJkISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImluZm8iKSB0aGVuCgkJCQkJbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL21haW4vYmluL2luZm8ubHVhJykpKCkKCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJzdGF0dXMiIHRoZW4KCQkJCQkJcHJpbnQoIlRoZSBjdXJyZW50IHN0YXR1cyBvZiBFQkd1aSBpcyAiIC4uIHN0YXR1cykKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR3VpIFN0YXR1czogIiAuLiBzdGF0dXMKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAicmVwbyIgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAiZ2l0aHViIiB0aGVuCgkJCQkJCXByaW50KCJUaGUgR2l0SHViIHJlcG9zaXRvcnkgbGluayBpcyAiIC4uIHJlcG8pCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBpbmZvISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInVwZGF0ZSIpIHRoZW4KCQkJCQlsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvbWFpbi9iaW4vaW5mby5sdWEnKSkoKQoJCQkJCWlmIHZlck51bSA9PSBjdXJyZW50IHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk5vIHVwZGF0ZSByZXF1aXJlZCEiCgkJCQkJZWxzZWlmIHZlck51bSA9PSBsYXN0IHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlZlcnNpb24gb3V0ZGF0ZWQhIEN1cnJlbnQ6ICIgLi4gY3VycmVudAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gImJybyB1ciBvbiBhIGRldiBidWlsZCBvciBzbSIKCQkJCQllbmQKCQkJCS0tW1tlbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LDEsNSkgPT0gKHByZWZpeC4uImRlc3AiKSB0aGVuCgkJCQkJbG9jYWwgYXJnID0gc3RyaW5nLnN1Yih0ZXh0LDcpCgkJCQkJbG9jYWwgZnVuY3Rpb24gaXNudW1iZXIobikKCQkJCQkJcmV0dXJuICh0eXBlKG4pID09ICJudW1iZXIiKSBhbmQgKG1hdGguZmxvb3IobikgPT0gbikKCQkJCQllbmQKCQkJCQlpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKHRvbnVtYmVyKGFyZykgPj0gMTAgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAwMDAwKSB0aGVuCgkJCQkJCUVTUE1heERpc3QgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsNykpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTZXQgRVNQIE1heCBEaXN0YW5jZSB0byAiIC4uIGFyZwoJCQkJCWVsc2VpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgdG9udW1iZXIoYXJnKSA8PSAxMCB0aGVuCgkJCQkJCUVTUE1heERpc3QgPSBuaWwKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk51bWJlciB0b28gbG93ISBSZXNldCB0aGUgRVNQIE1heCBEaXN0YW5jZS4iCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpID49IDEwMDAwMCB0aGVuCgkJCQkJCUVTUE1heERpc3QgPSBuaWwKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldPQUggVEhBVCdTIEEgQklHIE5VTUJFUi4gUmVzZXQgdGhlIEVTUCBNYXggRGlzdGFuY2UuIgoJCQkJCWVsc2VpZiBub3QgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIChhcmcgPT0gInQiIG9yIGFyZyA9PSAib24iKSB0aGVuCgkJCQkJCWlmIEVTUE1ERW5hYmxlZCB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRVNQIE1heCBEaXN0YW5jZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJRVNQTURFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvbiBFU1AgTWF4IERpc3RhbmNlISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAiZiIgb3IgYXJnID09ICJvZmYiKSB0aGVuCgkJCQkJCWlmIEVTUE1ERW5hYmxlZCB0aGVuCgkJCQkJCQlFU1BNREVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgRVNQIE1heCBEaXN0YW5jZSEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFU1AgTWF4IERpc3RhbmNlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBhcmd1bWVudCEgRGlkIHlvdSBzcGVjaWZ5IGEgbnVtYmVyPyIKCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZS4gR290ICIgLi4gYXJnIC4uICIsIGV4cGVjdGVkIGJvb2xlYW4gb3IgbnVtYmVyIikKCQkJCQllbmRdXQoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGNvbW1hbmQhIERpZCB5b3UgdHlwZSBpdCB3cm9uZz8iCgkJCQkJd2FybigiR290IGFuIGludmFsaWQgY29tbWFuZCBhdCBydW50aW1lLiBDb21tYW5kIHJlY2VpdmVkIHdhcyAiLi50ZXh0KQoJCQkJZW5kCgoJCQkJd2FpdCgxLjUpCgkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCWxvY2FsIG1hdGNoZXMgPSBmaW5kUGxheWVyKHRleHQpCgoJCQkJaWYgI21hdGNoZXMgPT0gMSB0aGVuCgkJCQkJdGFyZ2V0ID0gbWF0Y2hlc1sxXQoJCQkJCWlmIG1hdGNoZXNbMV0gPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCQkJCQkJCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIG1hdGNoZXNbMV0KCQkJCQllbmQKCQkJCQl3YWl0KDEpCgkJCQllbHNlCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCQl3YXJuKCJUYXJnZXQgbm90IGZvdW5kISBEbyBtdWx0aXBsZSBwbGF5ZXJzIGhhdmUgdGhhdCBzYW1lIHN1YnN0cmluZyBpbiB0aGVpciBuYW1lcz8iKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIFRhcmdldCEgVHlwZSB0aGVpciBuYW1lIGFnYWluLiIKCQkJCQl3YWl0KDEuNSkKCQkJCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Y29ubmVjdChmdW5jdGlvbihwbGF5ZXIpCgkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKFRhcmdldCBSUWVkISkiCgkJCWVuZAoJCWVuZCkKCgkJY29tbWFuZEJveC5Gb2N1c0xvc3Q6Q29ubmVjdChmdW5jdGlvbihlbnRlclByZXNzZWQpCgkJCWlmIGVudGVyUHJlc3NlZCB0aGVuCgkJCQlpZiBjb21tYW5kQm94LlRleHQgfj0gIiIgdGhlbgoJCQkJCWlucHV0Qm94KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpCgkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIChtYXRoLmNlaWwoI2J1dHRvbnMgKiAzNykgLyAyKSAtIDcpCgkJZW5kKSkKCgkJLS0gQnJlYWtpbmcgU2NyaXB0IFVzZXJzCgoJCWJyZWFrYWJsZSA9IHRydWUKCgkJbG9jYWwgYnJlYWtVc2VycyA9IHsKCQkJMTg2NDM4MDU4MSwKCQkJMTgyMTMzMjkzLAoJCQkyOTc2MTUyMzEsCgkJCTExMjgxMTQ5NDQsCgkJCTE5NTY0MTMwNzksCgkJCTMxMTAyNzIwNCwKCQkJMTkwMzE2NTQwNSwKCQkJMTkzMzczNDk1NiwKCQkJMTgxMjA1MzYzMiwKCQkJMTkwNjMxMTkwMiwKCQkJMTk5MzIyNDcyNCwKCQkJMTk0NDUzMTY2NSwKCQkJMTA4MDQ1MDIzCgkJfQoKCQlsb2NhbCBvbmNoYXQgPSBmdW5jdGlvbihwbHIsIG1zZykKCQkJbG9jYWwgYWxsb3dlZCA9IGZhbHNlCgkJCWZvciBfLCB1c2VyIGluIHBhaXJzKGJyZWFrVXNlcnMpIGRvCgkJCQlpZiBwbHIuTmFtZSA9PSB1c2VyIHRoZW4KCQkJCQlhbGxvd2VkID0gdHJ1ZQoJCQkJZW5kCgkJCWVuZAoKCQkJbG9jYWwgcHJlZml4ID0gIjsiCgoJCQlpZiBzdHJpbmcuc3ViKG1zZywgMSwgNykgPT0gKHByZWZpeCAuLiAiYnJlYWsgIikgdGhlbgoJCQkJbG9jYWwgbWF0Y2hlcyA9IHt9CgoJCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUKCQkJCQltc2cgPSBzdHJpbmcubG93ZXIoc3RyaW5nLnN1Yihtc2csIDgpKQoJCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkKCQkJCQlsb2NhbCB0ZXJtID0gc3RyaW5nLnN1YihuYW1lLCAxLCBzdHJpbmcubGVuKG5hbWUpKQoKCQkJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKHRlcm0sIG1zZykKCgkJCQkJaWYgbWF0Y2ggdGhlbgoJCQkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpCgkJCQkJZW5kCgkJCQllbmQKCgkJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIGFuZCBicmVha2FibGUgYW5kIGFsbG93ZWQgdGhlbgoJCQkJCXdoaWxlIHRydWUgZG8KCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpCgkJCQlvbmNoYXQodiwgbXNnKQoJCQllbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpCgkJCQlvbmNoYXQodiwgbXNnKQoJCQllbmQpCgkJZW5kKQoKCQktLSBFeHBsb2l0cwoKCQlsb2NhbCBmdW5jdGlvbiBmZigpCgkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJaWYgZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCXJldHVybiB0cnVlCgkJCQllbHNlCgkJCQkJcmV0dXJuIGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJcmV0dXJuIGZhbHNlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBleHBsb2l0KCkKCQkJLS0gRXhwbG9pdCBmdW5jdGlvbi4gV2hlbiBDIGlzIHByZXNzZWQgYW5kIG9uZSBvZiB0aGVzZSBhcmUgInRydWUiLCBpdCB3aWxsIGZpcmUgaXQuCgkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcgoJCQlsb2NhbCBEQ00gPSBSU1IuRG9DbGllbnRNYWdpYwoJCQlsb2NhbCBETSA9IFJTUi5Eb01hZ2ljCgoJCQlpZiBUZWNoRGlzY0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCJMaWdodCBEaXNjIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlRlY2hub2xvZ3kiLAoJCQkJCVsyXSA9ICJMaWdodCBEaXNjIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiUG9zaXRpb24iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlSU1IuUmVtb3RlRXZlbnQ6RmlyZVNlcnZlcigiTGlnaHREaXNjMiIpCgkJCQl3YWl0KDIpCgkJCQlSU1IuUmVtb3RlRXZlbnQ6RmlyZVNlcnZlcigiTGlnaHREaXNjRGVsZXRlIikKCQkJZW5kCgoJCQlpZiBMZWFwU3R1bkVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJFeHBsb3NpdmUgTGVhcCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFeHBsb3Npb24iLAoJCQkJCVsyXSA9ICJFeHBsb3NpdmUgTGVhcCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkxhc3RQb3MiXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBEeWluZ1N0YXJFbmFibGVkIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsICJEeWluZyBTdGFyIikKCQkJCURNOkludm9rZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBJbnN0YW50RmlzdEVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgRmlzdCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFYXJ0aCIsCgkJCQkJWzJdID0gIlJvY2sgRmlzdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkdyb3VuZGVkIl0gPSB0cnVlCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBsT3Jic0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkxpZ2h0IiwKCQkJCQlbMl0gPSAiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ29vcmRpbmF0ZXMiXSA9IHsKCQkJCQkJCVsxXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs0XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs2XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs3XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs5XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxMF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTFdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzEyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTRdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzE1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxNl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTddID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzE4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxOV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMjBdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQkJCX0sCgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgUmVhcGVyVWx0RW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiUmVhcGVyIiwgIlJlYXBlcidzIFJhZ2UiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiUmVhcGVyIiwKCQkJCQlbMl0gPSAiUmVhcGVyJ3MgUmFnZSIsCgkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQJCQoKCQkJaWYgQ3JlYXRpb25Ib2xkRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQ3JlYXRpb24iLCAiQ29udGludW91cyBTdHJpa2VzIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkNyZWF0aW9uIiwKCQkJCQlbMl0gPSAiQ29udGludW91cyBTdHJpa2VzIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ0YiXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJWyJDaGFyZ2UiXSA9ICIyIgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgSHlwZXJhbmdFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIikKCQkJCURNOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBEYXJrQW9lRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIsIHtsYXN0TW91c2VQb3NpdGlvbiA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pfSkKCQkJZW5kCgoJCQlpZiBEaXNwZXJzaW9uRW5hYmxlZCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIsIHtHcm91bmRlZCA9IHRydWV9KQoJCQllbmQKCgkJCWlmIERvdWJsZVJheUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJEb3VibGUgUmF5IgoJCQkJfQkJCQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwKCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgU3Rvcm1CdWxsZXRzRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIgoJCQkJfQkJCQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkRpcmVjdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApCgkJCQkJfQoJCQkJfQkJCQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBPcmJpdGFsSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBWaWdvckhhY2tFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwaXJpdCIsCgkJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Bpcml0IiwKCQkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iLAoJCQkJCVszXSA9IHsKCQkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFZpbmVUcmFwRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikKCQkJCURNOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMTUsIDApKQoJCQllbmQKCgkJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50Iiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50Iiwge09yaWdpbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMjUsIDApLCBvcmJQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDEwLCAwKX0pCgkJCWVuZAoKCQkJaWYgVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQoJCQkJRE06SW52b2tlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIsIHtwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDE1MCwgMCl9KQoJCQllbmQKCgkJCWlmIFNrZWxldG9uR3JhYkVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIikKCQkJCURNOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgR2VuZXNpc1JheUVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCB7bHYgPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgY2hhcmdlID0gR1JDaGFyZ2V9KQoJCQllbmQKCgkJCWlmIFRoZVdvcmxkRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCURNOkludm9rZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB7cmhpdCA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LCBub3JtID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIHJwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgUG9sYXJpc0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIikKCQkJCURNOkludm9rZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgYW5kIEVjaG9lc1BoYXNlIH49IG5pbCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU291bmQiLCAiRWNob2VzIikKCQkJCURNOkludm9rZVNlcnZlcigiU291bmQiLCAiRWNob2VzIiwge0VjaG9lc1BoYXNlLCBtb3VzZS5IaXQucH0pCgkJCWVuZAoKCQkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiKQoJCQkJRE06SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkKCQkJZW5kCgoJCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQlEQ006RmlyZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siLCB7RGlyZWN0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCBGbG9vciA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZX0pCgkJCQl3YWl0KDE3LjUpCgkJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJZW5kCgkJCWVuZAoKCQkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iLCB7UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpCgkJCWVuZAoKCQkJaWYgVmlydHVhbFpvbmVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLCBWZWN0b3IzLm5ldygwLCAwLCAwKX0pCgkJCWVuZAoJCWVuZAoKCQktLVtbbG9jYWwgZnVuY3Rpb24gQmVnaW5UcmFja2luZygpCgkJCWxvY2FsIGMgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkN1cnJlbnRDYW1lcmEKCQkJbG9jYWwgaGIgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQKCQkJbG9jYWwgbSA9IHBsYXllcjpHZXRNb3VzZSgpCgkJCWxvY2FsIHAgPSBjOldvcmxkVG9TY3JlZW5Qb2ludChwbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCWhiOmNvbm5lY3QoZnVuY3Rpb24oc3RlcCkKCQkJCW1vdXNlbW92ZWFicyhwLlgsIChwLlkgKyAyNSkpCgkJCWVuZCkKCQllbmRdXSAtLSBGb3IgQWltYm90LCBjdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQKCgkJLS0gVUlTCgoJCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCgkJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UKCgkJVUlTLklucHV0QmVnYW46Y29ubmVjdChmdW5jdGlvbihpbnB1dCwgZ3ApCgkJCWlmIG5vdCB0ZXJtaW5hdGV1aXMgdGhlbgoJCQkJaWYgbm90IGdwIHRoZW4KCQkJCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIKCgkJCQkJaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja1NsYXNoIHRoZW4KCQkJCQkJY29tbWFuZEJveDpDYXB0dXJlRm9jdXMoKQoJCQkJCQl3YWl0KCkKCQkJCQkJaWYgc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpKSA9PSAiXFwiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3guVGV4dCA9IHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCAxLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkgLSAxKQoJCQkJCQllbmQKCQkJCQktLVtbZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkwgdGhlbgoJCQkJCQl0b2dnbGVBaW1ib3QoKV1dCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkMgdGhlbgoJCQkJCQlleHBsb2l0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVSB0aGVuCgkJCQkJCVRQVG9UYXJnZXQoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5LIHRoZW4KCQkJCQkJQW50aUJsaW5kRnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlQgdGhlbgoJCQkJCQliZWdpblNwZWVkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWCB0aGVuCgkJCQkJCWlmIFNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgdGhlbgoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5QIHRoZW4KCQkJCQkJaWYgU2Fuc1RlbGVwb3J0RW5hYmxlZCB0aGVuCgkJCQkJCQlpZiBnYW1lLlBsYWNlSWQgPT0gNTY2Mzk5MjQ0IG9yIGdhbWUuUGxhY2VJZCA9PSAyNTY5NjI1ODA5IHRoZW4KCQkJCQkJCQlsb2NhbCBTYW5zUG9zID0gQ0ZyYW1lLm5ldygtMTY4NS45MTA1MiwgMjMwLjAzNTEyNiwgLTE4MS43OTgyNjQpCgkJCQkJCQkJbG9jYWwgU2Fuc0FuZ2xlcyA9IENGcmFtZS5BbmdsZXMoMCwgbWF0aC5yYWQoMjApLCAwKQoKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gU2Fuc1BvcyAqIFNhbnNBbmdsZXMKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkNoYW5nZVN0YXRlKEVudW0uSHVtYW5vaWRTdGF0ZVR5cGUuQ2xpbWJpbmcpCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCQlpZiBub3QgRnJlZXplRW5hYmxlZCB0aGVuCgkJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlogdGhlbgoJCQkJCQliZWdpbk51bGxpZnlGb3JjZXMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5HIHRoZW4KCQkJCQkJQW50aUdyYXZpdHlGdW5jKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSiB0aGVuCgkJCQkJCWlmIENsaWNrVFBFbmFibGVkIHRoZW4KCQkJCQkJCWNsaWNrdHAobW91c2UuSGl0KQoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRiB0aGVuCgkJCQkJCUZyZWV6ZUZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrcXVvdGUgdGhlbgoJCQkJCQlpZiBGbGFzaEVuYWJsZWQgdGhlbgoJCQkJCQkJbG9uZ2ZsYXNoKCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlYgdGhlbgoJCQkJCQl2aWV3KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQiB0aGVuCgkJCQkJCXRvZ2dsZUVTUCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLk0gdGhlbgoJCQkJCQl0b2dnbGVFU1BHb2xkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbgoJCQkJCQlpZiBub3QgY2xvc2VkZm9yZXZlciB0aGVuCgkJCQkJCQlpZiBub3QgYnV0dG9uc2RlYm91bmNlIHRoZW4KCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkJCS41LAoJCQkJCQkJCQkJdHJ1ZQoJCQkJCQkJCQkpCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UKCQkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCQkJCQkJCSJJbiIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVuZAoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5SaWdodEJyYWNrZXQgdGhlbgoJCQkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQkJCWlmIGNvbW1hbmRzb3BlbmVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLAoJCQkJCQkJCSJPdXQiLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiSW4iLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KDEpCgkJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJCQkJZWxzZWlmIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLkxlZnQpIGFuZCBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5SaWdodCkgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhhbmtzIGZvciB1c2luZyBFQkd1aSEiCgkJCQkJCXdhaXQoMikKCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSB0cnVlIHRoZW4KCQkJCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCQkJCXRlcm1FQkd1aSgpCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJLS0gU2NyaXB0cyBhbmQgRnVuY3Rpb25zIEVORAoKCQktLSBFbnRyYW5jZSBBbmltYXRpb24KCgkJd2FpdCgwLjUpCgoJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwKCQkJIk91dCIsCgkJCSJTaW5lIiwKCQkJLjUsCgkJCXRydWUKCQkpCgoJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQlVRGltMi5uZXcoMSwgMCwgMC40NSwgMCksCgkJCSJPdXQiLAoJCQkiU2luZSIsCgkJCS41LAoJCQl0cnVlCgkJKQoKCQktLSBJbmZvCgoJCXByaW50KFtbCgoJCV1dKQoJCXdhcm4oIkdVSSBzdWNjZXNzZnVsbHkgbG9hZGVkISIpCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldlbGNvbWUgdG8gRUJHdWkhIgoJCXdhaXQoMikKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgllbmQsIGZ1bmN0aW9uKGUpCgkJbG9jYWwgY3Jhc2ggPSB7CgkJCSJJJ20gc28sIHNvLCBzbyBzbyBTTyBzb3JyeSEiLAoJCQkiV2F0ZXIgY29vbGluZz8gSSBwcmVmZXIgbGF2YSBjb29saW5nLiIsCgkJCSJZb3VyIEVCR3VpIHJhbiBpbnRvIGEgcHJvYmxlbSBhbmQgbmVlZHMgdG8gcmVzdGFydC4iLAoJCQkiU1RPUCBDb2RlOiAweERFQURCRUVGIiwKCQkJIklzIHRoaXMgd2hhdCBkZXZlbG9wbWVudCBpcyBsaWtlPyBJIGhhdGUgaXQuIiwKCQkJIlRoZSBVbnN0b3BwYWJsZSBNYXJjaGluZyBvRiB0aU1lIHRoYXQgaXMgc2xPd2x5IGd1aWRpbmcgdXMgYWxsIHRPd2FyZHMgYW4gSW5ldml0YUJsRSBERUFUSC4gVGhhdCBzcGVsbHMgXCJUdW0gRk0uIE93TyBPLCBJIGJlIGRlYXRoLlwiIiwKCQkJIkkgZ3Vlc3MgeW91IGNvdWxkIGNhbGwgbWUgYW4gXCJPb2VyXCIuIiwKCQkJIkVycm9yIE1lc3NhZ2UhIiwKCQkJIldob29wcywgd2UncmUgbG93IG9uIG1lbW9yeSEgVHJ5IHJlbWVtYmVyaW5nIGxhdGVyLiIsCgkJCSJXaG9vcHMsIHdlJ3JlIGxvdyBvbiBtZW1lb3J5LiBUcnkgc2VuZGluZyBQZXBlcyBsYXRlci4iLAoJCQkiT2theSwgd2hvIGtpbGxlZCB0aGUgY29tcHV0ZXIgaGFtc3RlcnM/IiwKCQkJIkNhbid0IGtlZXAgdXAhIElzIHRoZSBzY3JpcHQgb3ZlcmxvYWRlZCwgb3IgaGF2ZSB5b3UgbWVsdGVkIHlvdXIgQ1BVPyIsCgkJCSJPaCwgY29uZ3JhdHVsYXRpb25zLCAiIC4uIHBsYXllci5OYW1lIC4uICIsIHlvdSBicm9rZSBpdCEiLAoJCQkiSSBzd2VhciB0aGF0IHdhcyBpbnRlbnRpb25hbC4iLAoJCQkiSSBwcm9taXNlIGl0IHdvbid0IGhhcHBlbiBhZ2Fpbi4iLAoJCQkiT2theSwgZ29ubmEgYmUgcmVhbCwgTk8gQ0xVRSB3aGF0IHdlbnQgd3JvbmcgdGhlcmUuIiwKCQkJIk9oLCBubywgbmV2ZXJtaW5kLCBJIGtub3cgZXhhY3RseSB3aGF0IHdlbnQgd3JvbmcuIiwKCQkJIkEgcHJpZXN0LCBhIG1pbmlzdGVyLCBhbmQgYSByYWJiaXQgd2FsayBpbnRvIGEgYmxvb2QgYmFuay4iLAoJCQkiVGhlIG51cnNlIG9uIGR1dHkgYXNrcyB0aGUgdGhyZWUgZm9yIHRoZWlyIGJsb29kIHR5cGUgZ3JvdXAgdG8gZ2V0IHRoZW0gc2V0IHVwLiIsCgkJCSJUaGUgcHJpZXN0LCBkaWduaWZpZWQsIHNheXMgXCJJJ20gQUIhXCIuIiwKCQkJIlRoZSBtaW5pc3RlciwgaW5kaWZmZXJlbnQsIHJlcGxpZXMgXCJJIGJlbGlldmUgSSdtIHR5cGUgQS5cIiIsCgkJCSJUaGUgcmFiYml0LCBzaHlseSBhbmQgbmVydm91c2x5LCBsb29rcyBhcm91bmQgdGhlIHJvb20sIGJlZm9yZSBhbm5vdW5jaW5nLCBcIkkgdGhpbmsgSSBtaWdodCBiZSBhIHR5cGUgTy5cIi4iCgkJfQoKCQlwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKCQlwcmludChjcmFzaFttYXRoLnJhbmRvbSgxLCNjcmFzaCldKQoJCXByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQoJCXdhcm4oIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggRUJHdWkhIikKCQlwcmludChlKQoJCXByaW50KCJUaGlzIGNyYXNoIHJlcG9ydCB3YXMgZ2VuZXJhdGVkIG9uICIgLi4gb3MuZGF0ZSgnJXggJVgnLG9zLnRpbWUoKSkgLi4gIiBhbmQgd2lsbCBiZSBzYXZlZCBpbiB5b3VyIGV4ZWN1dG9yJ3MgV29ya3NwYWNlIGZvbGRlci4iKQoKCQlsb2NhbCB1ZiA9IG9zLmRhdGUoIiV4XyVYIixvcy50aW1lKCkpCgkJbG9jYWwgZGYgPSBzdHJpbmcuZ3N1Yih1ZiwiLyIsIi0iKQoJCWxvY2FsIGR0ZiA9IHN0cmluZy5nc3ViKGRmLCI6IiwiLSIpCgoJCWlmIG5vdCBpc2ZvbGRlcigiRUJHdWkiKSB0aGVuIG1ha2Vmb2xkZXIoIkVCR3VpIikgZW5kCgkJd3JpdGVmaWxlKCJFQkd1aVxcQ3Jhc2hEdW1wLSIuLmR0Zi4uIi50eHQiLAoKCQkiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIgLi4gY3Jhc2hbbWF0aC5yYW5kb20oMSwjY3Jhc2gpXSAuLiAiXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4iIC4uCgoJCVtbRUJHdWkgc3RvcHBlZCBleGVjdXRpbmcgYmVjYXVzZSBpdCBlbmNvdW50ZXJlZCBhIHByb2JsZW0gaXQgZGlkbid0IGtub3cgaG93IHRvIGhhbmRsZS4KCQkKUGxlYXNlIHJlcG9ydCB0aGlzIGNyYXNoIGluIHRoZSBEaXNjb3JkIGJ5IGdvaW5nIHRvICNyb2JvdHMtdW5pdGUgYW5kIG9wZW5pbmcgYSB0aWNrZXQuXV0gLi4KCgkJIi0tIEJlZ2luIEVycm9yIFJlcG9ydCAtLVxuKEdlbmVyYXRlZCBvbiAiIC4uIHVmIC4uICIpXG5cbiIgLi4KCgkJIkV4ZWN1dG9yOiAiIC4uIHRvc3RyaW5nKGV4ZWMpIC4uCgkJIlxuQ2xpZW50IElEOiAiIC4uIHRvc3RyaW5nKGNsaWVudGlkKSAuLgoJCSJcblBsYWNlSWQ6ICIgLi4gdG9zdHJpbmcoZ2FtZS5QbGFjZUlkKSAuLgoJCSJcblNtYXJ0QXR0YWNrIEVuYWJsZWQ/OiAiIC4uIHRvc3RyaW5nKFNtYXJ0QXR0YWNrKSAuLgoJCSJcbklzIEdvbGQ/OiAiIC4uIHRvc3RyaW5nKGlzR29sZCkgLi4gCgkJIlxuSXMgTWFzdGVyPzogIiAuLiB0b3N0cmluZyhpc01hc3RlcikgLi4KCgkJIlxuXG5FcnJvcjogIiAuLiBlIC4uCgkJIlxuQXQ6ICIgLi4gZGVidWcudHJhY2ViYWNrKCkgLi4KCgkJIlxuXG4tLSBFbmQgRXJyb3IgUmVwb3J0IC0tIikKCWVuZCkKZW5k"