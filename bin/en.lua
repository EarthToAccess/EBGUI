encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CQp9Cgpsb2NhbCBtYXN0ZXJsaXN0ID0gewoJIjYzMzA1NzVlLThiOWMtNGZiNi1hNDJkLWJhYTU1NTZiNmU5OSIKfQoKbG9jYWwgZ29sZGxpc3QgPSB7CgkiR18wNTc5MjZfd09tRkpmTGVmaV8xMTIwMjIiCn0KCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIElEID0gcGxheWVyLlVzZXJJZApsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQpsb2NhbCBpc01hc3RlciA9IGZhbHNlCmxvY2FsIGlzR29sZCA9IGZhbHNlCmxvY2FsIHZlck51bSA9ICJ2My4wLjEiCgpmb3IgaSx2IGluIHBhaXJzKGdvbGRsaXN0KSBkbwoJaWYgbm90IEVCR3VpR29sZCB0aGVuIGVsc2VpZiBFQkd1aUdvbGQgPT0gdiB0aGVuCgkJaXNHb2xkID0gdHJ1ZQoJCWJyZWFrCgllbmQKZW5kCgpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8KICAgIGlmIHYgPT0gSUQgdGhlbgogICAgICAgIGlzQmxvY2tlZCA9IHRydWUKICAgICAgICBicmVhawogICAgZW5kCmVuZAoKZm9yIGksdiBpbiBwYWlycyhtYXN0ZXJsaXN0KSBkbwogICAgaWYgdjpsb3dlcigpID09IGNsaWVudGlkIHRoZW4KICAgICAgICBpc01hc3RlciA9IHRydWUKICAgICAgICBicmVhawogICAgZW5kCmVuZAoKaWYgaXNCbG9ja2VkIHRoZW4KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICBUaGlzIGFjY291bnQgaGFzIGJlZW4gYmxvY2tlZC4gICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgUGxlYXNlIHZpc2l0IHRoZSBFQkd1aSBEaXNjb3JkIGZvciBtb3JlIGluZm9ybWF0aW9uLiAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5EZWZhdWx0Q2hhdFN5c3RlbUNoYXRFdmVudHMuU2F5TWVzc2FnZVJlcXVlc3Q6RmlyZVNlcnZlcigiSSBqdXN0IHRyaWVkIHRvIHR1cm4gb24gZXhwbG9pdHMgd2hpbGUgYmVpbmcgYmxvY2tlZCBmcm9tIHVzaW5nIHRoZSBzY3JpcHQhIEknbSBiaWcsIGZhdCwgYW5kIHN0dXBpZCEiLCJBbGwiKQplbHNlaWYgbm90IChFQkd1aUtleSBvciBpc0Jsb2NrZWQgb3IgaXNNYXN0ZXIgb3IgaXNHb2xkKSB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2VpZiAoRUJHdWlLZXkgfj0gIjU2ODI2NF9xejRla0I0UHlMXzExMjAyMiIgYW5kIG5vdCBpc0dvbGQpIGFuZCBub3QgKGlzQmxvY2tlZCBvciBpc01hc3RlcikgdGhlbgogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICBZb3VyIHVubG9jayBrZXkgaXMgaW5jb3JyZWN0LiAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQplbHNlCgl4cGNhbGwoZnVuY3Rpb24oKQoJCWxvY2FsIGR1bWJRdW90ZXMgPSB7CgkJCSJKZWV6LCB3aGVuJ2QgaXQgZ2V0IHNvIGhvdCBpbiBoZXJlPyIsCgkJCSJJcyBpdCBqdXN0IG1lIG9yIGlzIHRoYXQgKnRvbyogYmx1ZT8iLAoJCQkiTGlrZSB0YWtpbmcgY2FuZHkgZnJvbSBhIGJhYnkuIiwKCQkJIkRlZXogbnV0cyBhcmUgdG9vIHNxdWFyZSEiLAoJCQkiQWxzbyB0cnkgTWluZWNyYWZ0ISIsCgkJCSJBbHNvIHRyeSBUZXJyYXJpYSEiLAoJCQkiTWVoLCBJIGxpa2VkIFJpc2sgb2YgUmFpbiAyIGJldHRlci4iLAoJCQkiWW91IG5lZWQgYSBmYWlybHkgaGlnaCBJUSB0byB1bmRlcnN0YW5kIEVCR3VpLiIsCgkJCSJKYWtlLCBmcm9tIFN0YXRlIEZhcm0/ISIsCgkJCSJXaGF0IHdvdWxkICp5b3UqIGRvIGZvciBhIEtsb25kaWtlIGJhcj8iLAoJCQkiTm93IHdpdGggMTAwJSBtb3JlIEdvbGQhIiwKCQkJIk1hZGUgaW4gTHVhISIsCgkJCSJJRiAlRVJST1JMRVZFTCUgRVFVIDEgR09UTzpFT0YiLAoJCQkiYnJ1aCBuZXJmIHNvbGFyIGFscmVhZHkiLAoJCQkiQmVjYXVzZSB0aGUgZGV2cyB3b24ndCBkbyBpdC4iLAoJCQkiUGV0aXRpb24gWU9VUiBsb2NhbCBkZXZlbG9wZXIgZm9yIG1vcmUgdXBkYXRlcyEiLAoJCQkid2h5IGFyZSB5b3UgYnV5aW5nIGNsb3RoZXMgYXQgdGhlIHNvdXAgc3RvcmUiLAoJCQkiSSBqdXN0IHdhbm5hIGJlIGEgbm9ybWFsIEdVSSB3aXRoIG5vcm1hbCBrbmVlcy4iLAoJCQkiOigpezp8OiZ9OzoiLAoJCQkiQzpcXERPUy4gQzpcXERPU1xcUlVOIFJVTlxcRE9TXFxSVU4uIiwKCQkJIkx1YVU7IEJlY2F1c2Ugbm9ybWFsIEx1YSB3YXMganVzdCB0b28gZWFzeS4iLAoJCQkiaWxrby4sdXl1a2lqeSxoZ2h5dGZyZWUzdmZndzMyd3Fxd3EiLAoJCQkiU29ycnkgZm9yIHRoYXQgb25lIHF1b3RlLiBNeSBjYXQgZ290IG9uIG15IGtleWJvYXJkLiIsCgkJCSJJIGRvbid0IGFjdHVhbGx5IGhhdmUgYSBjYXQuIiwKCQkJIlRoaXMgc2VudGVuY2UgaXMgZmFsc2UuIiwKCQkJIldlbGwgbm93LCAiIC4uIHBsYXllci5OYW1lIC4uICIsIGRvbid0IHdlIGhhdmUgYSBwcmVkaWNhbWVudCEiLAoJCQkiSmVlLCBCaWxsLCBob3cgY29tZSB5b3VyIG1vbSBsZXRzIHlvdSBoYXZlIFRXTyB3ZWluZXJzPyEiLAoJCQkiSSdkIGxpa2UgdG8gdGhhbmsgbXkgbW9tIGFuZCBteSBkYWQsIiwKCQkJIlkna25vdyB0aGV5IHJlYWxseSBnb3R0YSBzdGFydCBwYXRjaGluZyBtb3JlLiIsCgkJCSJOaWNlIHRvIG1lZXQgeW91IFJvc2UuIFJ1biBmb3IgeW91ciBsaWZlISIsCgkJCSJIb3cgaGFyZCB3b3VsZCBpdCBiZSB0byBleHBsb2l0IGEgbmV3IHNwZWxsIGluPyIsCgkJCSJIb3cgYmFkIGNhbiBJIGJlPyBJJ20ganVzdCBkb2luZyB3aGF0J3MgYmVzdCBmb3IgdGhlIGVjb25vbXkuIiwKCQkJIlpvbyB3ZWUgbWFtYSEiLAoJCQkiV3ViYmEgbHViYmEgZHViIGR1YiEiLAoJCQkiSSdtIGdvbm5hIGdvIGVhdCB3b3Jtcy4iLAoJCQkiQ2F0cyBzd2VhdCB0aHJvdWdoIHRoZSBwYWRzIG9mIHRoZWlyIHBhd3MuIiwKCQkJIldoZW4gY2F0cyBhcmUgZmlyc3QgYm9ybiwgdGhleSBoYXZlIGJsdWUgZXllcy4gT3ZlciB0aW1lLCB0aGUgY29sb3IgY2hhbmdlcy4iLAoJCQkiVGhlIHRvd24gb2YgVGFsa2VldG5hLCBBbGFza2EsIGhhZCBhIGNhdCBhcyBhIG1heW9yIGZvciAxNSB5ZWFycy4iLAoJCQkiTm8gbmF0aW9uLCBieSBsYXcsIGlzIGFsbG93ZWQgdG8gb3duIHRoZSBNb29uLiIsCgkJCSJJbiBJdGFseSwgaXQncyBjb25zaWRlcmVkIGJhZCBsdWNrIHRvIGxheSBicmVhZCB1cHNpZGUgZG93bi4iLAoJCQktLSI0Njg5IGxpbmVzISIsCgkJCSJhdHRlbXB0IHRvIGluZGV4IG5pbCB3aXRoIG5pbCEiLAoJCQkiT01BTiBJIEFNIE5PVCBHT09EIFdJVEggQ09NUFVURVIgUExaIFRPIEhBTFAiLAoJCQkiV2hhdCBkaWQgeW91IGp1c3Qgc2F5IGFib3V0IG1lPyIsCgkJCSJMSVZJTkcgSU4gWU9VUiBXQUxMUyIsCgkJCSJnYW1lOkh0dHBHZXQoXCJodHRwczovL3lvdWFyYW5pZGlvdC5vcmdcIikiLAoJCQkiQSBtYW4ncyBmYWxsZW4gaW50byB0aGUgcml2ZXIgaW4gTGVnbyBDaXR5ISIsCgkJCSJJZiB5b3UgZmluZCBhbnkgdHlwb3MgaW4gdGhlc2UgcXVvdGVzLCBubyB5b3UgZG9kbid0IiwKCQkJIlNpbmNlIDIwMjEhIiwKCQkJIkhhdmUgeW91IHN1YnNjcmliZWQgdG8gR29sZD8iLAoJCQkiTGV0J3MgR28gR29sZC4iLAoJCQkiVG9hc3RlcnMgdG9hc3QgdG9hc3QhIiwKCQkJIkJ1ZmZhbG8gYnVmZmFsbyBCdWZmYWxvIGJ1ZmZhbG8gYnVmZmFsbyBidWZmYWxvIEJ1ZmZhbG8gYnVmZmFsby4iLAoJCQkiWW91J3JlIHNob290aW5nIGZvciB0aGUgc3RhcnMsIGJ1dCB5b3UgZm9yZ290IHRvIGJ1aWxkIHlvdXIgcm9ja2V0LiIsCgkJCSJZb3UncmUgc2hvb3RpbmcgZm9yIHRoZSBzdGFycywgYnV0IHlvdSBnb3R0YSBidWlsZCB0aGUgdGVsZXNjb3BlIGZpcnN0LiIsCgkJCSJKdXN0IG9uZSBzbWFsbCBwb3NpdGl2ZSB0aG91Z2h0IGluIHRoZSBtb3JuaW5nIGhhcyB0aGUgcG90ZW50aWFsIHRvIGNoYW5nZSB5b3VyIHdob2xlIGRheS4iLAoJCQkiT3Bwb3J0dW5pdGllcyBkb24ndCBqdXN0IGhhcHBlbiwgeW91IGNyZWF0ZSB0aGVtLiIsCgkJCSJGLkkuUy5ILiBGb3JnZXQgSXQsIFN0dWZmIEhhcHBlbnMuIiwKCQkJIllvdSBpbnNlY3VyZSB0dXJkIGhhbW1lciEiLAoJCQkiR2xhZCB0byBzZWUgeW91IHdvbiB0aGUgRGFyd2luIEF3YXJkISIsCgkJCSJZb3UgZG9udXQuIiwKCQkJIllvdSBob3VzZXBsYW50LiIsCgkJCSJIZWxsbywgZXZlcnlib2R5LCBteSBuYW1lIGlzIE1hcmtpcGxpZXIuIiwKCQkJIlZTYXVjZSwgTWljaGFlbCBoZXJlLiIsCgkJCSJGdWRuaW5nIGZvciB0aGlzIHByb2dyYW0gd2FzIG1hZGUgcG9zc2libGUgYnkgY29udHJpYnV0aW9ucyBmcm9tIHZpZXdlcnMgbGlrZSB5b3UuIiwKCQkJIlNwb25zb3JlZCBieSBPcGVuQUkhIEJ1dCBub3QgcmVhbGx5LiIsCgkJCSJBIGRhbW4gYXJ0aWZpY2lhbCBpbnRlbGxpZ2VuY2UgdGF1Z2h0IG1lIGhvdyB0byBwcm9ncmFtLCBJJ20gYWJzb2x1dGVseSBsaXZpZCIsCgkJCSJEb24ndCBjYXJlLCBkaWRuJ3QgYXNrLCBjcnkgYWJvdXQgaXQsIHN0YXkgbWFkLCBnZXQgcmVhbCwgTCwgbWFsZCwgc2VldGhlLCBjb3BlIiwKCQkJIlRoaXMgaXMgRG91Z0RvdWcsIHdoZXJlIHdlIHNvbHZlIHByb2JsZW1zIHRoYXQgbm9ib2R5IGhhcy4iLAoJCQkiUGFpZCBmb3IgdGhyb3VnaCB0aGUgZW1iZXp6bGVtZW50IG9mIGxlbW9ucy4iLAoJCQkiSSdtIHdhbnRlZCBpbiBudW1lcm91cyBjb3VudHJpZXMgZm9yIHdhciBjcmltZXMhIiwKCQkJIkkgZ290IGEgcm9jay4iCgkJfQoKCQlsb2NhbCBmcmllbmRseURhdGUgPSBvcy5kYXRlKCIlYiAlZCIpCgkJaWYgZnJpZW5kbHlEYXRlID09ICJEZWMgMjUiIHRoZW4KCQkJcHJpbnQoIk1FUlJZIENIUklTVE1BUyEiKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkF1ZyAyMSIgdGhlbgoJCQlwcmludCgiSEFQUFkgQklSVEhEQVkhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJPY3QgMDMiIHRoZW4KCQkJcHJpbnQoIlRlbGwgRWFydGggeW91IHNhaWQgaGFwcHkgYmlydGhkYXkhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJPY3QgMzEiIHRoZW4KCQkJcHJpbnQoIklTIFNQT09LWSBNT05USCEiKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkphbiAwMSIgdGhlbgoJCQlwcmludCgiSEFQUFkgTkVXIFlFQVIhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJGZWIgMTQiIHRoZW4KCQkJcHJpbnQoIkdpdmUgeW91ciBsb3ZlIHRoZSBnaWZ0IG9mIEdvbGQuIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJBcHIgMDEiIHRoZW4KCQkJcHJpbnQoIllvdSBmZWVsIGEgY2hpbGwgZ28gZG93biB5b3VyIHNwaW5lLiIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiSnVsIDA0IiB0aGVuCgkJCXByaW50KCInTVVSSUNBISEhISEhISEhISIpCgkJZW5kCgoJCXdhcm4oW1stLS0tLS0tLS0tLS0tLS0tCgkJCQlfX19fX18gX19fX18gX19fX18gICAgICAgXyAKCQkJCXwgIF9fX3wgX19fIFwgIF9fIFwgICAgIChfKQoJCQkJfCB8X18gfCB8Xy8gLyB8ICBcL18gICBfIF8gCgkJCQl8ICBfX3x8IF9fXyBcIHwgX198IHwgfCB8IHwKCQkJCXwgfF9fX3wgfF8vIC8gfF9cIFwgfF98IHwgfAoJCQkJXF9fX18vXF9fX18vIFxfX19fL1xfXyxffF98ICBdXS4udmVyTnVtKQoJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0iKQoJCXByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCXByaW50KGR1bWJRdW90ZXNbbWF0aC5yYW5kb20oMSwjZHVtYlF1b3RlcyldKQoJCXByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCXdhcm4oIldlbGNvbWUgdG8gRUJHdWksICIgLi4gcGxheWVyLk5hbWUgLi4gIiEiKQoJCXdhcm4oIllvdSdyZSBvbiB0aGUgU3RhYmxlIGJyYW5jaCBvZiBFQkd1aSIpCgkJd2FybigiUXVlc3Rpb25zIG9yIGNvbmNlcm5zPyBMZXQgdXMga25vdyBpbiB0aGUgRGlzY29yZCwiKQoJCXdhcm4oIm9yIGVtYWlsIEVhcnRoIGhpbXNlbGYgYXQgZWFydGh0b2FjY2Vzc0BnbWFpbC5jb20hIikKCQl3YWl0KDAuNSkKCQkKCQlpZiBpc01hc3RlciB0aGVuCgkJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpICAgCgkJCXdhcm4oIkxvYWRlZCBpbiB1c2luZyB0aGUgTWFzdGVyIExpc3QhIE92ZXJyaWRpbmcgYWNjZXNzIGdpdmVuLiIpCgkJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCgkJZW5kCgoJCWlmIGlzR29sZCB0aGVuCgkJCXByaW50KFtbCQkJCV9fX18gICAgICAgICAgICAgX19fICAgICAgX19fIAoJCQk2TU1NTWIvICAgICAgICAgICBgTU0gICAgICBgTU0gCgkJCThQICAgIFlNICAgICAgICAgICAgTU0gICAgICAgTU0gCgkJCTZNICAgICAgWSAgIF9fX19fICAgIE1NICAgX19fX01NIAoJCQlNTSAgICAgICAgIDZNTU1NTWIgICBNTSAgNk1NTU1NTSAKCQkJTU0gICAgICAgIDZNJyAgIGBNYiAgTU0gNk0nICBgTU0gCgkJCU1NICAgICBfX19NTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQlNTSAgICAgYE0nTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJWU0gICAgICBNIE1NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCThiICAgIGQ5IFlNLiAgICxNOSAgTU0gWU0uICAsTU0gCgkJCVlNTU1NOSAgIFlNTU1NTTkgIF9NTV8gWU1NTU1NTV9dXSkKCQkJd2FybigiVGhhbmsgeW91IGZvciBiZWluZyBhIEdPTERFTiBtZW1iZXIhIikKCQkJd2FybignRW5qb3kgdGhlIHZhcmlvdXMgIm92ZXJwb3dlcmVkIiBzY3JpcHRzIHdlIGhhdmUgaW4gc3RvcmUhJykKCQllbmQKCgkJLS0gR1VJIEluc3RhbmNlcywgRXZlbnRzIGFuZCBGdW5jdGlvbnMKCgkJbG9jYWwgZWJndWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpCgkJZWJndWkuTmFtZSA9ICJlYmd1aSIKCQllYmd1aS5QYXJlbnQgPSBnYW1lOldhaXRGb3JDaGlsZCgiQ29yZUd1aSIpCgoKCQlsb2NhbCBFU1BJbmZvID0gewoJCQlbIlN0YW5kYXJkIl0gPSB7CgkJCQlbIk5hbWVUYWciXSA9IG5pbAoJCQl9LAoJCQlbIkdvbGQiXSA9IHsKCQkJCVsiTmFtZVRhZyJdID0gbmlsCgkJCX0sCgkJCVsiTWF4RGlzdCJdID0gNzUwLAoJCQlbIk9mZlZhbHVlIl0gPSAwLAoJCQlbIkVuYWJsZWQiXSA9IHRydWUKCQl9CgoJCWxvY2FsIG12dGcgPSB7CgkJCVsiQW9FcyJdID0gewoJCQkJWyJGaXJlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwJCQkKCQkJCVsiTmF0dXJlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiUGxhc21hIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJHcmF2aXR5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJMaWdodCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJEYXJrbmVzcyJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJOaWdodG1hcmUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFpbWVkIEluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGltZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQ2hhb3MiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJJbGx1c2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJEcmFnb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTbGltZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkNyZWF0aW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiQnVsbGV0cyJdID0gewoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3Bpcml0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkxpZ2h0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiTGlnaHQgT3JicyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiTGlnaHQgT3JicyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTcGFjZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb2xhciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIkJsYXN0cyJdID0gewoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkV4cGxvZGUgYXQgTW91c2UgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJFeHBsb2RlIGF0IE1vdXNlIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTcGVjdHJ1bSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb3VuZCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU29sYXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJUZWxlcG9ydHMiXSA9IHsKCQkJCVsiRWFydGgiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRXhwbG9zaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlRlY2ggRGlzYyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJVbHRzIl0gPSB7CgkJCQlbIkxpZ2h0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJWb2lkIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGltZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlJlYXBlciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQXVyb3JhIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiUG9sYXJpcyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiUG9sYXJpcyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJFeHBsb3Npb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIklsbHVzaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQWNpZCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJBbmdlbCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb2xhciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJfQoJCX0KCgkJZ2FtZS5Db3JlR3VpLkNoaWxkUmVtb3ZlZDpjb25uZWN0KGZ1bmN0aW9uKGNoaWxkKQoJCQlpZiBjaGlsZC5OYW1lID09ICJlYmd1aSIgdGhlbgoJCQkJY2xvc2VkZm9yZXZlciA9IHRydWUKCQkJCWJ1dHRvbnNvcGVuZWQgPSBmYWxzZQoJCQkJY29tbWFuZHNvcGVuZWQgPSBmYWxzZQoJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQoJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQoJCQkJdGVybWluYXRldWlzID0gdHJ1ZQoJCQkJVUlTID0gbmlsCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gbmlsCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gbmlsCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gbmlsCgkJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbAoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IG5pbAoJCQkJU2V0U3BlZWQgPSBuaWwKCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gbmlsCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwKCQkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IG5pbAoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBuaWwKCQkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwKCQkJCXZpZXdpbmcgPSBuaWwKCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJRVNQRW5hYmxlZCA9IG5pbAoJCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbAoJCQkJQWltYm90RW5hYmxlZCA9IG5pbAoJCQkJRVNQSW5mby5NYXhEaXN0ID0gNzUwCgkJCQlFU1BJbmZvLkVuYWJsZWQgPSB0cnVlCgkJCQlBbHRGYXJtRW5hYmxlZCA9IG5pbAoJCQkJRWNob2VzQXV0byA9IG5pbAoJCQkJQW50aUFmayA9IHRydWUKCQkJZW5kCgkJZW5kKQoKCQlsb2NhbCBtb3VzZSA9IHBsYXllcjpHZXRNb3VzZSgpCgoJCWxvY2FsIGJvcmRlcnMgPSB7fQoKCQlsb2NhbCBidXR0b25zbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNtYWluLk5hbWUgPSAiYnV0dG9uc21haW4iCgkJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkKCQlidXR0b25zbWFpbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC4yMjUsIDApCgkJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGJ1dHRvbnNtYWluKQoKCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgoJCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWNvbW1hbmRzbWFpbi5OYW1lID0gImNvbW1hbmRzbWFpbiIKCQljb21tYW5kc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCkKCQljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQoJCXRhYmxlLmluc2VydChib3JkZXJzLCBjb21tYW5kc21haW4pCgoJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJY29tbWFuZHNvcGVuZWQgPSB0cnVlCgoJCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQoKCQlsb2NhbCBmcmFtZXMgPSB7fQoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBidXR0b25zLgoJCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNmcmFtZS5OYW1lID0gImJ1dHRvbnNmcmFtZSIKCQlidXR0b25zZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM2LCAwLCA2NCkKCQlidXR0b25zZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlidXR0b25zZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWJ1dHRvbnNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWJ1dHRvbnNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQlidXR0b25zZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApCgkJdGFibGUuaW5zZXJ0KGZyYW1lcywgYnV0dG9uc2ZyYW1lKQoJCWJ1dHRvbnNmcmFtZS5QYXJlbnQgPSBidXR0b25zbWFpbgoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBjb21tYW5kIGJveC4KCQlsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJY29tbWFuZHNmcmFtZS5OYW1lID0gImNvbW1hbmRzZnJhbWUiCgkJY29tbWFuZHNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM2LCAwLCA2NCkKCQljb21tYW5kc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZHNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZHNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQljb21tYW5kc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJCXRhYmxlLmluc2VydChmcmFtZXMsIGNvbW1hbmRzZnJhbWUpCgkJY29tbWFuZHNmcmFtZS5QYXJlbnQgPSBjb21tYW5kc21haW4KCgkJLS0gQ29tbWFuZCBCb3guIFRoaXMgaXMgd2hlcmUgdXNlcnMgdHlwZSBpbiBjb21tYW5kcyBhbmQgdGFyZ2V0cy4KCQlsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKCQljb21tYW5kQm94Lk5hbWUgPSAiY29tbWFuZEJveCIKCQljb21tYW5kQm94LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkKCQljb21tYW5kQm94LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkKCQljb21tYW5kQm94LlNpemUgPSBVRGltMi5uZXcoMC44NSwgMCwgMC4yMCwgMCkKCQljb21tYW5kQm94LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCWNvbW1hbmRCb3guVGV4dCA9ICIiCgkJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQljb21tYW5kQm94LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlCgkJY29tbWFuZEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKCQljb21tYW5kQm94LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJbG9jYWwgbGFiZWxzID0ge30KCgkJLS0gVGhlIG91dHB1dCBmb3IgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIGNvbW1hbmRCb3hPdXRwdXQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJY29tbWFuZEJveE91dHB1dC5OYW1lID0gImNvbW1hbmRCb3hPdXRwdXQiCgkJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwCgkJY29tbWFuZEJveE91dHB1dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNiwgMCkKCQljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApCgkJY29tbWFuZEJveE91dHB1dC5Gb250ID0gRW51bS5Gb250LkNvZGUKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJY29tbWFuZEJveE91dHB1dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQljb21tYW5kQm94T3V0cHV0LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveE91dHB1dC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgY29tbWFuZEJveE91dHB1dCkKCQljb21tYW5kQm94T3V0cHV0LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIGluZm9ybWF0aW9uIGFib3ZlIHRoZSBNYWluIE1lbnUsIGUuZy4gdXNlcidzIG5hbWUsIGNoYW5uZWwKCQlsb2NhbCBEZXRhaWxzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIgoJCURldGFpbHMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlscy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlscy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjAxNSwgLTYpCgkJRGV0YWlscy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlpZiBub3QgaXNHb2xkIHRoZW4KCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIHwgU3RhYmxlIgoJCWVsc2UKCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIEdvbGQgfCBTdGFibGUiCgkJZW5kCgkJRGV0YWlscy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlscy5aSW5kZXggPSA1CgkJRGV0YWlscy5UZXh0U2l6ZSA9IDEyLjAwMAoJCURldGFpbHMuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlscykKCQlEZXRhaWxzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgQ29tbWFuZCBCb3guCgkJbG9jYWwgRGV0YWlsczIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczIuTmFtZSA9ICJEZXRhaWxzMiIKCQlEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCURldGFpbHMyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHMyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjksIC0xMCkKCQlEZXRhaWxzMi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlsczIuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczIuVGV4dCA9ICJQcmVzcyBdIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiIKCQlEZXRhaWxzMi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzMi5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMyLlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlsczIuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczIpCgkJRGV0YWlsczIuUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgTWFpbiBNZW51LgoJCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMzLk5hbWUgPSAiRGV0YWlsczMiCgkJRGV0YWlsczMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzMy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjg3NSwgMCkKCQlEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIC0xMCkKCQlEZXRhaWxzMy5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIgoJCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczMuVGV4dFNpemUgPSAxMi4wMDAKCQlEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykKCQlEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gU2NyaXB0IHRlcm1pbmF0aW9uIGluc3RydWN0aW9ucy4KCQlsb2NhbCBEZXRhaWxzNCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0IgoJCURldGFpbHM0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHM0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMS4xLCAwKQoJCURldGFpbHM0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNzUsIDApCgkJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczQuVGV4dCA9ICJIb2xkIHRoZSBMZWZ0IGFuZCBSaWdodCBhcnJvdyBrZXlzLCB0aGVuIHByZXNzIGFueSBrZXkgdG8gcXVpdCBFQkd1aS4iCgkJRGV0YWlsczQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczQuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzNC5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHM0LlRleHRXcmFwcGVkID0gdHJ1ZQoJCURldGFpbHM0LlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSBUaGUgdmVyc2lvbiBudW1iZXIgYWJvdmUgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIFZlcnNpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJVmVyc2lvbi5OYW1lID0gIlZlcnNpb24iCgkJVmVyc2lvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlWZXJzaW9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCVZlcnNpb24uQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlWZXJzaW9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDUsIDApCgkJVmVyc2lvbi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMSwgMCkKCQlWZXJzaW9uLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uICIgLi4gdmVyTnVtCgkJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlCgkJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMAoJCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikKCQlWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIHNjcm9sbGluZyBhcmVhIGZvciB0aGUgTWFpbiBNZW51LgoJCWxvY2FsIG1haW5mcmFtZSA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQoJCW1haW5mcmFtZS5OYW1lID0gIm1haW5mcmFtZSIKCQltYWluZnJhbWUuQWN0aXZlID0gdHJ1ZQoJCW1haW5mcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjQsIDYsIDMxKQoJCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApCgkJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYKCQltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgkJLS0gR3JpZCBsYXlvdXQgZm9yIHRoZSBidXR0b25zLgoJCWxvY2FsIFVJR3JpZExheW91dCA9IEluc3RhbmNlLm5ldygiVUlHcmlkTGF5b3V0IikKCQlVSUdyaWRMYXlvdXQuRmlsbERpcmVjdGlvbiA9IEVudW0uRmlsbERpcmVjdGlvbi5Ib3Jpem9udGFsCgkJVUlHcmlkTGF5b3V0Lkhvcml6b250YWxBbGlnbm1lbnQgPSBFbnVtLkhvcml6b250YWxBbGlnbm1lbnQuQ2VudGVyCgkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIDcpCgkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIDMwKQoJCVVJR3JpZExheW91dC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcgoJCVVJR3JpZExheW91dC5QYXJlbnQgPSBtYWluZnJhbWUKCgoJCS0tIFBsYXllciBhbmNob3IgZnVuY3Rpb24KCQlsb2NhbCBmdW5jdGlvbiBhbmNob3IoYm9vbCkKCQkJd2FpdCguNzUpCgkJCWlmIGJvb2wgPT0gZmFsc2UgdGhlbgoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSBhbmQgdi5BbmNob3JlZCB0aGVuCgkJCQkJCXYuQW5jaG9yZWQgPSBmYWxzZQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2VpZiBib29sID09IHRydWUgdGhlbgoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSBhbmQgbm90IHYuQW5jaG9yZWQgdGhlbgoJCQkJCQl2LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgdGhlbgoJCQkJCQlwcmludCh2LkFuY2hvcmVkKQoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBjb3B5KHRibCkKCQkJcmV0dXJuIHVucGFjayh0YmwpCgkJZW5kCgoJCWxvY2FsIGJ1dHRvbnMgPSB7fQoKCQktLS0tLS0gQnV0dG9ucyBmb3IgaGFja3MuCgoJCWZ1bmN0aW9uIGNoZWNrTW92ZXMoZWwpCgkJCWxvY2FsIGV0CgkJCWxvY2FsIGNoID0gZmFsc2UKCQkJaWYgZWwgPT0gMSB0aGVuCgkJCQlldCA9ICJBb0VzIgoJCQllbHNlaWYgZWwgPT0gMiB0aGVuCgkJCQlldCA9ICJCdWxsZXRzIgoJCQllbHNlaWYgZWwgPT0gMyB0aGVuCgkJCQlldCA9ICJCbGFzdHMiCgkJCWVsc2VpZiBlbCA9PSA0IHRoZW4KCQkJCWV0ID0gIlRlbGVwb3J0cyIKCQkJZWxzZWlmIGVsID09IDUgdGhlbgoJCQkJZXQgPSAiVWx0cyIKCQkJZWxzZSAKCQkJCXdhcm4oIkVsZW1lbnQgdHlwZSBub3QgYXBwbGljYWJsZSEgR290ICIuLnRvc3RyaW5nKGUpLi4iLCBleHBlY3RlZCBudW1iZXIgMSB0aHJvdWdoIDUiKQoJCQkJZXQgPSBuaWwKCQkJZW5kCgkJCQoJCQlpZiBldCB+PSBuaWwgdGhlbgoJCQkJZm9yIGksdiBpbiBwYWlycyhtdnRnW2V0XSkgZG8KCQkJCQlpZiB2LlZhbHVlIHRoZW4KCQkJCQkJY2ggPSB0cnVlCgkJCQkJCXYuVmFsdWUgPSBmYWxzZQoJCQkJCQlwcmludCgiRGlzYWJsZWQgIiAuLiBpKQoJCQkJCQltdnRnW2V0XVtpXS5CdXR0b24uVGV4dCA9IG12dGdbZXRdW2ldLkluaXRUZXh0CgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJZXJyb3IoImVsZW1lbnQgdHlwZSBvdXQgb2YgcmFuZ2UiKQoJCQllbmQKCQkJcmV0dXJuIGNoCgkJZW5kCgoJCS0tLS0gQW9FcwoJCS0tIEluc3RhbnQgQmxhemUgQ29sdW1uCgoJCWxvY2FsIEJsYXplQ29sdW1uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCbGF6ZUNvbHVtbi5OYW1lID0gIkJsYXplQ29sdW1uIgoJCUJsYXplQ29sdW1uLlRleHQgPSBtdnRnLkFvRXMuRmlyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJsYXplQ29sdW1uKQoJCW12dGcuQW9Fcy5GaXJlLkJ1dHRvbiA9IEJsYXplQ29sdW1uCgoJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gZmFsc2UKCgkJQmxhemVDb2x1bW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuRmlyZS5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5GaXJlLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiCgkJCWVuZAoJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gbXZ0Zy5Bb0VzLkZpcmUuVGV4dAoJCWVuZCkKCgkJLS0gQW1wbGlmaWVkIEdlbmVzaXMgUmF5CgoJCWxvY2FsIEdlbmVzaXNSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdlbmVzaXNSYXkuTmFtZSA9ICJHZW5lc2lzUmF5IgoJCUdlbmVzaXNSYXkuVGV4dCA9IG12dGcuQW9Fcy5UaW1lLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR2VuZXNpc1JheSkKCQltdnRnLkFvRXMuVGltZS5CdXR0b24gPSBHZW5lc2lzUmF5CgoJCW12dGcuQW9Fcy5UaW1lLlZhbHVlID0gZmFsc2UKCQlsb2NhbCBHUkNoYXJnZSA9IDEKCgkJR2VuZXNpc1JheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuVGltZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuVGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5UaW1lLlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5UaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5UaW1lLlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIgoJCQllbmQKCQkJR2VuZXNpc1JheS5UZXh0ID0gbXZ0Zy5Bb0VzLlRpbWUuVGV4dAoJCWVuZCkKCgkJLS0gQ3JlYXRpb24gSG9sZCBIYWNrCgoJCWxvY2FsIENoYWluSG9sZCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlDaGFpbkhvbGQuTmFtZSA9ICJDaGFpbkhvbGQiCgkJQ2hhaW5Ib2xkLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2hhaW5Ib2xkKQoJCW12dGcuQW9Fcy5DcmVhdGlvbi5CdXR0b24gPSBDaGFpbkhvbGQuQnV0dG9uCgoJCW12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSA9IGZhbHNlCgoJCUNoYWluSG9sZC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMSkKCQkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQgPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVGV4dCA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQgPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIgoJCQllbmQKCQkJQ2hhaW5Ib2xkLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQKCQllbmQpCgoJCS0tIFNwYWNlLVRpbWUgUnVwdHVyZQoKCQlsb2NhbCBTVFJIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTVFJIYWNrLk5hbWUgPSAiU1RSSGFjayIKCQlTVFJIYWNrLlRleHQgPSBtdnRnLkFvRXMuQ2hhb3MuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLFNUUkhhY2spCgkJbXZ0Zy5Bb0VzLkNoYW9zLkJ1dHRvbiA9IFNUUkhhY2sKCgkJbXZ0Zy5Bb0VzLkNoYW9zLlZhbHVlID0gZmFsc2UKCgkJU1RSSGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuQ2hhb3MuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkNoYW9zLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkNoYW9zLlRleHQgPSAiU3BhY2UtVGltZSBSdXB0dXJlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkNoYW9zLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkNoYW9zLlRleHQgPSAiU3BhY2UtVGltZSBSdXB0dXJlIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlTVFJIYWNrLlRleHQgPSBtdnRnLkFvRXMuQ2hhb3MuVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBWaW5lIFRyYXAKCgkJbG9jYWwgVmluZVRyYXAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpbmVUcmFwLk5hbWUgPSAiVmluZVRyYXAiCgkJVmluZVRyYXAuVGV4dCA9IG12dGcuQW9Fcy5OYXR1cmUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaW5lVHJhcCkKCQltdnRnLkFvRXMuTmF0dXJlLkJ1dHRvbiA9IFZpbmVUcmFwCgoJCW12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPSBmYWxzZQoKCQlWaW5lVHJhcC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuTmF0dXJlLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuTmF0dXJlLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuTmF0dXJlLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiCgkJCWVuZAoJCQlWaW5lVHJhcC5UZXh0ID0gbXZ0Zy5Bb0VzLk5hdHVyZS5UZXh0CgkJZW5kKQoKCQktLSBJbGx1c2l2ZSBBdGFrZSBIYWNrCgoJCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIgoJCUlsbHVzaXZlQXRha2UuVGV4dCA9IG12dGcuQW9Fcy5JbGx1c2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElsbHVzaXZlQXRha2UpCgkJbXZ0Zy5Bb0VzLklsbHVzaW9uLkJ1dHRvbiA9IElsbHVzaXZlQXRha2UKCgkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlID0gZmFsc2UKCgkJSWxsdXNpdmVBdGFrZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9IG12dGcuQW9Fcy5JbGx1c2lvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IE11cmt5IE1pc3NpbGVzCgoJCWxvY2FsIERhcmtBb2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCURhcmtBb2UuTmFtZSA9ICJEYXJrQW9lIgoJCURhcmtBb2UuVGV4dCA9IG12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERhcmtBb2UpCgkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLkJ1dHRvbiA9IERhcmtBb2UKCgkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlID0gZmFsc2UKCgkJRGFya0FvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5EYXJrbmVzcy5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiCgkJCWVuZAoJCQlEYXJrQW9lLlRleHQgPSBtdnRnLkFvRXMuRGFya25lc3MuVGV4dAoJCWVuZCkKCQkKCQktLSBJbnN0YW50IEFpciBEaXNwZXJzaW9uCgoJCWxvY2FsIFN0b3JtQW9lID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVN0b3JtQW9lLkJ1dHRvbi5OYW1lID0gIlN0b3JtQW9lIgoJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3Rvcm1Bb2UpCgkJbXZ0Zy5Bb0VzLlN0b3JtLkJ1dHRvbiA9IFN0b3JtQW9lLkJ1dHRvbgoKCQltdnRnLkFvRXMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoKCQlTdG9ybUFvZS5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkFvRXMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMSkKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlRleHQgPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlRleHQgPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT2ZmKSIKCQkJCWVuZAoJCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCQllbHNlCgkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQkJZW5kCgkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIFNwbGl0dGluZyBTbGltZSBIYWNrCgoJCWxvY2FsIFNwbGl0dGluZ1NsaW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTcGxpdHRpbmdTbGltZS5OYW1lID0gIlNwbGl0dGluZ1NsaW1lIgoJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSBtdnRnLkFvRXMuU2xpbWUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGxpdHRpbmdTbGltZSkKCQltdnRnLkFvRXMuU2xpbWUuQnV0dG9uID0gU3BsaXR0aW5nU2xpbWUKCgkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gZmFsc2UKCgkJU3BsaXR0aW5nU2xpbWUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5TbGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5TbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5TbGltZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSBtdnRnLkFvRXMuU2xpbWUuVGV4dAoJCWVuZCkKCgkJLS0gQW1hdXJvdGljIExhbWJlbnQgSGFjawoKCQlsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCIKCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSBtdnRnLkFvRXMuTGlnaHQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbWF1cm90aWNMYW1iZW50KQoJCW12dGcuQW9Fcy5MaWdodC5CdXR0b24gPSBBbWF1cm90aWNMYW1iZW50CgoJCW12dGcuQW9Fcy5MaWdodC5WYWx1ZSA9IGZhbHNlCgoJCUFtYXVyb3RpY0xhbWJlbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5MaWdodC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5MaWdodC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5MaWdodC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSBtdnRnLkFvRXMuTGlnaHQuVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uCgoJCWxvY2FsIFBsYXNtYUltcGxvc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUGxhc21hSW1wbG9zaW9uLk5hbWUgPSAiUGxhc21hSW1wbG9zaW9uIgoJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlBsYXNtYS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBsYXNtYUltcGxvc2lvbikKCQltdnRnLkFvRXMuUGxhc21hLkJ1dHRvbiA9IFBsYXNtYUltcGxvc2lvbgoKCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gZmFsc2UKCgkJUGxhc21hSW1wbG9zaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5QbGFzbWEuVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuUGxhc21hLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIgoJCQllbmQKCQkJUGxhc21hSW1wbG9zaW9uLlRleHQgPSBtdnRnLkFvRXMuUGxhc21hLlRleHQKCQllbmQpCgoJCS0tIEZvcm1pZGFibGUgUm9hciBIYWNrCgoJCWxvY2FsIEZvcm1pZGFibGVSb2FyID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlGb3JtaWRhYmxlUm9hci5OYW1lID0gIkZvcm1pZGFibGVSb2FyIgoJCUZvcm1pZGFibGVSb2FyLlRleHQgPSBtdnRnLkFvRXMuRHJhZ29uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRm9ybWlkYWJsZVJvYXIpCgkJbXZ0Zy5Bb0VzLkRyYWdvbi5CdXR0b24gPSBGb3JtaWRhYmxlUm9hcgoKCQltdnRnLkFvRXMuRHJhZ29uLlZhbHVlID0gZmFsc2UKCgkJRm9ybWlkYWJsZVJvYXIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuRHJhZ29uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIgoJCQllbmQKCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9IG12dGcuQW9Fcy5EcmFnb24uVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBTa2VsZXRvbiBHcmFiCgoJCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU2tlbGV0b25HcmFiLk5hbWUgPSAiU2tlbGV0b25HcmFiIgoJCVNrZWxldG9uR3JhYi5UZXh0ID0gbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNrZWxldG9uR3JhYikKCQltdnRnLkFvRXMuTmlnaHRtYXJlLkJ1dHRvbiA9IFNrZWxldG9uR3JhYgoKCQltdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID0gZmFsc2UKCgkJU2tlbGV0b25HcmFiLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9uKSBbQUlNRURdIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIKCQkJZW5kCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0CgkJZW5kKQoKCQktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sKCgkJbG9jYWwgR3Jhdml0YXRpb25hbEZpZWxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHcmF2aXRhdGlvbmFsRmllbGQuTmFtZSA9ICJHcmF2aXRhdGlvbmFsRmllbGQiCgkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSBtdnRnLkFvRXMuR3Jhdml0eS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGF0aW9uYWxGaWVsZCkKCQltdnRnLkFvRXMuR3Jhdml0eS5CdXR0b24gPSBHcmF2aXRhdGlvbmFsRmllbGQKCgkJbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgPSBmYWxzZQoKCQlHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gbXZ0Zy5Bb0VzLkdyYXZpdHkuVGV4dAoJCWVuZCkKCgkJLS0tLSBQbGF5ZXIgbW9kaWZpY2F0aW9ucwoJCS0tIEluc3RhbnQgUm9jayBBcm1vcgoKCQlsb2NhbCBSb2NrQXJtb3IgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJvY2tBcm1vci5OYW1lID0gIlJvY2tBcm1vciIKCQlSb2NrQXJtb3IuVGV4dCA9ICJJbnN0YW50IFJvY2sgQXJtb3IiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikKCgkJUm9ja0FybW9yLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkKCQkJZW5kCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCWVuZCkKCgkJLS0gU2xpbWUgQnVkZGllcyBIYWNrCgoJCWxvY2FsIFNsaW1lQnVkZGllcyA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlTbGltZUJ1ZGRpZXMuTmFtZSA9ICJTbGltZUJ1ZGRpZXMiCgkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2xpbWVCdWRkaWVzKQoKCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UKCgkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgU2xpbWVCdWRkaWVzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IHRydWUKCQkJCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IGZhbHNlCgkJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbmVydGlhIEdyYXZpdHkKCgkJbG9jYWwgSW5lcnRpYUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUluZXJ0aWFHcmF2aXR5Lk5hbWUgPSAiSW5lcnRpYUdyYXZpdHkiCgkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQoKCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoKCQlJbmVydGlhR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBJbmVydGlhR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gdHJ1ZQoJCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9uKSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCAxNjM4LCAwKQoJCQllbHNlCgkJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiCgkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkluZXJ0aWFHcmF2aXR5Rm9yY2UiKSB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkluZXJ0aWFHcmF2aXR5Rm9yY2U6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGVjdHJhbCBFbWJvZGltZW50CgoJCWxvY2FsIFNwZWN0cmFsRW1ib2RpbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BlY3RyYWxFbWJvZGltZW50Lk5hbWUgPSAiU3BlY3RyYWxFbWJvZGltZW50IgoJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWN0cmFsRW1ib2RpbWVudCkKCgkJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlCgoJCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSB0cnVlCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9uKSBbWF0iCgkJCWVsc2UKCQkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBbnRpLUJsaW5kCgoJCWxvY2FsIEFudGlCbGluZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIgoJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9mZikgW0tdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpQmxpbmQpCgoJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBub3JtYWxGb2dDb2xvciA9IGdhbWUuTGlnaHRpbmcuRm9nQ29sb3IKCQlsb2NhbCBub3JtYWxGb2dFbmQgPSBnYW1lLkxpZ2h0aW5nLkZvZ0VuZAoJCWxvY2FsIG5vcm1hbEJyaWdodG5lc3MgPSBnYW1lLkxpZ2h0aW5nLkJyaWdodG5lc3MKCQlsb2NhbCBub3JtYWxDbG9ja1RpbWUgPSBnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZQoKCQlsb2NhbCBmdW5jdGlvbiBBbnRpQmxpbmRGdW5jKCkKCQkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT24pIFtLXSIKCQkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yID0gbm9ybWFsRm9nQ29sb3IKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZAoJCQkJCWdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcyA9IG5vcm1hbEJyaWdodG5lc3MKCQkJCQlnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZSA9IG5vcm1hbENsb2NrVGltZQoJCQkJZW5kCgkJCWVsc2UKCQkJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJCWVuZAoJCWVuZAoKCQlBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpCgoJCXBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCWlmIEFudGlCbGluZEVuYWJsZWQgdGhlbgoJCQkJaWYgZC5OYW1lID09ICJTY3JlZW5HdWkiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLlNjcmVlbkd1aTpEZXN0cm95KCkKCQkJCWVsc2VpZiBkLk5hbWUgPT0gIkRpc3RvcnQiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLkRpc3RvcnQ6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGVlZCBoYWNrCgoJCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIgoJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spCgoJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQoJCVNldFNwZWVkID0gNjQKCgkJZnVuY3Rpb24gbW9kaWZ5U3BlZWQoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkNoYW5nZWQ6Y29ubmVjdChmdW5jdGlvbigpCgkJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCWVsc2UKCQkJCQlyZXR1cm4KCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPbikgW1RdIgoJCQkJbW9kaWZ5U3BlZWQoKQoJCQkJd2FpdCgpCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQltb2RpZnlTcGVlZCgpCgkJCQkJCXdhaXQoKQoJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSIKCQkJZW5kCgkJZW5kCgoJCVNwZWVkaGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5TcGVlZCkKCgkJLS0tLSBCdWxsZXRzCgkJLS0gSHlwZXJhbmcgSGFjawoKCQlsb2NhbCBUZWNoUmFuZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGVjaFJhbmcuTmFtZSA9ICJUZWNoUmFuZyIKCQlUZWNoUmFuZy5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBUZWNoUmFuZykKCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5CdXR0b24gPSBUZWNoUmFuZwoKCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgoJCVRlY2hSYW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlUZWNoUmFuZy5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dAoJCWVuZCkKCgkJLS0gQXN0ZXJvaWQgQmVsdCBIYWNrCgoJCWxvY2FsIEFzdGVyb2lkQmVsdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFzdGVyb2lkQmVsdEhhY2suTmFtZSA9ICJBc3Rlcm9pZEJlbHRIYWNrIgoJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGFjZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFzdGVyb2lkQmVsdEhhY2spCgkJbXZ0Zy5CdWxsZXRzLlNwYWNlLkJ1dHRvbiA9IEFzdGVyb2lkQmVsdEhhY2sKCQkKCQltdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPSBmYWxzZQoJCQoJCUFzdGVyb2lkQmVsdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5UZXh0ID0gIkFzdGVyb2lkIEJlbHQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIgoJCQllbmQKCQkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQKCQllbmQpCgoJCS0tIE9yYnMgb2YgRW5saWdodGVubWVudCBIYWNrCgoJCWxvY2FsIExpZ2h0T3Jic0hhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxpZ2h0T3Jic0hhY2suTmFtZSA9ICJMaWdodE9yYnNIYWNrIgoJCUxpZ2h0T3Jic0hhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5MaWdodC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExpZ2h0T3Jic0hhY2spCgkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LkJ1dHRvbiA9IExpZ2h0T3Jic0hhY2sKCgkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJTGlnaHRPcmJzSGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5UZXh0ID0gIkxpZ2h0IE9yYnMgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQgPSAiTGlnaHQgT3JicyBIYWNrIChPZmYpIgoJCQllbmQKCQkJTGlnaHRPcmJzSGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQKCQllbmQpCgoJCS0tIFZpZ29yIEd5cmF0aW9uIEhhY2sKCgkJbG9jYWwgVmlnR3lyYXRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaWdHeXJhdEhhY2suTmFtZSA9ICJWaWdHeXJhdEhhY2siCgkJVmlnR3lyYXRIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuU3Bpcml0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlnR3lyYXRIYWNrKQoJCW12dGcuQnVsbGV0cy5TcGlyaXQuQnV0dG9uID0gVmlnR3lyYXRIYWNrCgkJCgkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9IGZhbHNlCgkJCgkJVmlnR3lyYXRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWaWdHeXJhdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dAoJCWVuZCkKCgkJLS0gTGlnaHRuaW5nIEJhcnJhZ2UgSGFjawoKCQlsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSIKCQlCYXJyYWdlLlRleHQgPSBtdnRnLkJ1bGxldHMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQoJCW12dGcuQnVsbGV0cy5TdG9ybS5CdXR0b24gPSBCYXJyYWdlCgoJCW12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCUJhcnJhZ2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUJhcnJhZ2UuVGV4dCA9IG12dGcuQnVsbGV0cy5TdG9ybS5UZXh0CgkJZW5kKQoKCQktLSBEeWluZyBTdGFyIEhhY2sKCgkJbG9jYWwgRHlpbmdTdGFySGFjayA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlEeWluZ1N0YXJIYWNrLk5hbWUgPSAiRHlpbmdTdGFySGFjayIKCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRHlpbmdTdGFySGFjaykKCQltdnRnLkJ1bGxldHMuU29sYXIuQnV0dG9uID0gRHlpbmdTdGFySGFjay5CdXR0b24KCgkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCgkJRHlpbmdTdGFySGFjay5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMikKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiRHlpbmcgU3RhciBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5UZXh0ID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIKCQkJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tLS0gQmxhc3RzCgoJCS0tIEV4cGxvZGUgYXQgTW91c2UgKEJvbHQgSGFjaykKCgkJbG9jYWwgRXhwbG9kZUF0TW91c2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV4cGxvZGVBdE1vdXNlLk5hbWUgPSAiRXhwbG9kZUF0TW91c2UiCgkJRXhwbG9kZUF0TW91c2UuVGV4dCA9IG12dGcuQmxhc3RzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxFeHBsb2RlQXRNb3VzZSkKCQltdnRnLkJsYXN0cy5TdG9ybS5CdXR0b24gPSBFeHBsb2RlQXRNb3VzZQoKCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCUV4cGxvZGVBdE1vdXNlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDMpCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQmxhc3RzLlN0b3JtLlRleHQgPSAiRXhwbG9kZSBhdCBNb3VzZSAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5UZXh0ID0gIkV4cGxvZGUgYXQgTW91c2UgKE9mZikiCgkJCWVuZAoJCQlFeHBsb2RlQXRNb3VzZS5UZXh0ID0gbXZ0Zy5CbGFzdHMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gT3JiaXRhbCBTdHJpa2UgSGFjawoKCQlsb2NhbCBPcmJpdGFsID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCU9yYml0YWwuTmFtZSA9ICJPcmlidGFsIgoJCU9yYml0YWwuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgT3JiaXRhbCkKCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IE9yYml0YWwuQnV0dG9uCgoJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoKCQlPcmJpdGFsLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMykKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCU9yYml0YWwuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCU9yYml0YWwuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJCQkJT3JiaXRhbC5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgRG91YmxlIFJheQoKCQlsb2NhbCBEb3VibGVSYXkgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJRG91YmxlUmF5Lk5hbWUgPSAiRG91YmxlUmF5IgoJCURvdWJsZVJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRG91YmxlUmF5KQoJCW12dGcuQmxhc3RzLlNvbGFyLkJ1dHRvbiA9IERvdWJsZVJheS5CdXR0b24KCgkJbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoKCQlEb3VibGVSYXkuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMykKCQkJCQltdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkJsYXN0cy5Tb2xhci5UZXh0ID0gIkluc3RhbnQgRG91YmxlIFJheSAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkJsYXN0cy5Tb2xhci5UZXh0ID0gIkluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIKCQkJCWVuZAoJCQkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5Tb2xhci5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCURvdWJsZVJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIgoJCQkJRG91YmxSYXkuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5Tb2xhci5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaAoKCQlsb2NhbCBIb2xvYmVhbSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSG9sb2JlYW0uTmFtZSA9ICJIb2xvYmVhbSIKCQlIb2xvYmVhbS5UZXh0ID0gbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBIb2xvYmVhbSkKCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5CdXR0b24gPSBIb2xvYmVhbQoKCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5WYWx1ZSA9IGZhbHNlCgoJCWZ1bmN0aW9uIGF0dGFjaENhbWVyYSh2KQoJCQlpZiAodiB+PSBuaWwpIHRoZW4KCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgKHYuTmFtZSA9PSAiSG9sb2JlYW0iKSB0aGVuCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddW3YuTmFtZV0KCQkJCWVsc2UKCQkJCQl2OkRlc3Ryb3koKQoJCQkJCXJldHVybgoJCQkJZW5kCgkJCQkKCQkJCXYuVHJhbnNwYXJlbmN5ID0gMAoKCQkJCXdhaXQoNCkKCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCWVuZAoJCQkJCgkJCQl2OkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCQkKCQlnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCWlmIG12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlIHRoZW4KCQkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHBsYXllci5DaGFyYWN0ZXIpIHRoZW4KCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2LlBvc2l0aW9uKS5NYWduaXR1ZGUKCQkJCQkKCQkJCQlpZiAodi5TaXplID09IFZlY3RvcjMubmV3KDUsIDUsIDUpKSBhbmQgKGRpc3RhbmNlIDwgMTApIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbgoJCQkJCQoJCQkJCQl2Lk5hbWUgPSAiSG9sb2JlYW0iCgkJCQkJCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpIAoJCQkJCQkJCWF0dGFjaENhbWVyYSh2KSAKCQkJCQkJCWVuZCkpCgkJCQkJCWVuZCkKCQkJCQkJCgkJCQkJCWxvY2FsIGd1aSA9IHBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIKCQkJCQkJCgkJCQkJCXdhaXQoMC41KQoJCQkJCQkKCQkJCQkJd2hpbGUgd2FpdCgpIGRvCgkJCQkJCQlpZiBub3QoZ3VpWycxJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzInXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMyddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc0J10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzUnXS5DRC5UZXh0ID09ICIuLi4iKSB0aGVuCgkJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuCgkJCQkJCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQkJCQkJZW5kCgkJCQkKCQkJCQkJCQkJdjpEZXN0cm95KCkKCQkJCQkJCQllbmQpCgkJCQkJCQkJCgkJCQkJCQkJYnJlYWsKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCUhvbG9iZWFtLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMykKCQkJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPbikiCgkJCQkKCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuIHY6RGVzdHJveSgpIGVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIKCQkJZW5kCgkJCUhvbG9iZWFtLlRleHQgPSBtdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0CgkJZW5kKQoKCQktLSBDb250cm9sbGVkIEVjaG9lcwoKCQlsb2NhbCBFY2hvZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUVjaG9lcy5OYW1lID0gIkVjaG9lcyIKCQlFY2hvZXMuVGV4dCA9IG12dGcuQmxhc3RzLlNvdW5kLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRWNob2VzKQoJCW12dGcuQmxhc3RzLlNvdW5kLkJ1dHRvbiA9IEVjaG9lcwoKCQltdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9IGZhbHNlCgkJRWNob2VzQXV0byA9IGZhbHNlCgkJRWNob2VzUGhhc2UgPSAxCgoJCUVjaG9lcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDMpCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQmxhc3RzLlNvdW5kLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIKCQkJZW5kCgkJCUVjaG9lcy5UZXh0ID0gbXZ0Zy5CbGFzdHMuU291bmQuVGV4dAoJCWVuZCkKCgkJLS0tLSBTaGllbGRzCgkJLS0gQ3J5c3RhbCBBcm1hbWVudCBhbmQgR3Jhdml0YWwgR2xvYmUgSGFja3MKCgkJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDcnlzdGFsQXJtYW1lbnQuTmFtZSA9ICJDcnlzdGFsQXJtYW1lbnQiCgkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpCgoJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBHcmF2aXRhbEdsb2JlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHcmF2aXRhbEdsb2JlLk5hbWUgPSAiR3Jhdml0YWxHbG9iZSIKCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YWxHbG9iZSkKCgkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoKCQlHcmF2aXRhbEdsb2JlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgdGhlbgoJCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJCXByaW50KCJEaXNhYmxlZCBDcnlzdGFsIikKCQkJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiCgkJCQllbmQKCQkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gdHJ1ZQoJCQkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoJCQkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkJCQoKCQlDcnlzdGFsQXJtYW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCB0aGVuCgkJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoJCQkJCXByaW50KCJEaXNhYmxlZCBHcmF2aXR5IikKCQkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IHRydWUKCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT24pIgkJCQkKCQkJZWxzZQoJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgkJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0tLSBVbHRzCgkJLS0gRGlzYWJsZSBjb29sZG93bnMKCQlsb2NhbCBFbmFibGVVbHRzID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUVuYWJsZVVsdHMuTmFtZSA9ICJFbmFibGVVbHRzIgoJCUVuYWJsZVVsdHMuQnV0dG9uLlRleHQgPSAiUmVtb3ZlIFVsdCBDb29sZG93biIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxFbmFibGVVbHRzKQoKCQlFbmFibGVVbHRzLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiLCBDRnJhbWUubmV3KHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIikKCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIsIENGcmFtZS5uZXcocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKSkKCQkJZWxzZQoJCQkJRW5hYmxlVWx0cy5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlFbmFibGVVbHRzLkJ1dHRvbi5UZXh0ID0gIlJlbW92ZSBVbHQgQ29vbGRvd24iCgkJCWVuZAoJCWVuZCkKCgkJLS0gUmVhcGVyJ3MgUmFnZQoJCWxvY2FsIFJlYXBlclVsdCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlSZWFwZXJVbHQuTmFtZSA9ICJSZWFwZXJVbHQiCgkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJlYXBlclVsdCkKCQltdnRnLlVsdHMuUmVhcGVyLkJ1dHRvbiA9IFJlYXBlclVsdC5CdXR0b24KCgkJbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSA9IGZhbHNlCgoJCVJlYXBlclVsdC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLlVsdHMuUmVhcGVyLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDUpCgkJCQkJbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJCWVsc2UKCQkJCW12dGcuVWx0cy5SZWFwZXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlSZWFwZXJVbHQuQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuUmVhcGVyLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuVWx0cy5SZWFwZXIuVGV4dCA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCQlSZWFwZXJVbHQuQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuUmVhcGVyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBBYmxhemUgSnVkZ2VtZW50IEhhY2sKCgkJbG9jYWwgQWJsYXplSnVkZ2VtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBYmxhemVKdWRnZW1lbnQuTmFtZSA9ICJBYmxhemVKdWRnZW1lbnQiCgkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSBtdnRnLlVsdHMuTGlnaHQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBBYmxhemVKdWRnZW1lbnQpCgkJbXZ0Zy5VbHRzLkxpZ2h0LkJ1dHRvbiA9IEFibGF6ZUp1ZGdlbWVudAoKCQltdnRnLlVsdHMuTGlnaHQuVmFsdWUgPSBmYWxzZQoKCQlBYmxhemVKdWRnZW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5MaWdodC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5MaWdodC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuTGlnaHQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIgoJCQllbmQKCQkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSBtdnRnLlVsdHMuTGlnaHQuVGV4dAoJCWVuZCkKCgkJLS0gVm9pZCBPcGVuaW5nIEhhY2sKCgkJbG9jYWwgVm9pZE9wZW5pbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZvaWRPcGVuaW5nLk5hbWUgPSAiVm9pZE9wZW5pbmciCgkJVm9pZE9wZW5pbmcuVGV4dCA9IG12dGcuVWx0cy5Wb2lkLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVm9pZE9wZW5pbmcpCgkJbXZ0Zy5VbHRzLlZvaWQuQnV0dG9uID0gVm9pZE9wZW5pbmcKCgkJbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPSBmYWxzZQoKCQlWb2lkT3BlbmluZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuVm9pZC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuVm9pZC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5Wb2lkLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLlZvaWQuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVZvaWRPcGVuaW5nLlRleHQgPSBtdnRnLlVsdHMuVm9pZC5UZXh0CgkJZW5kKQoKCQktLSBUaGUgV29ybGQgSGFjawoKCQlsb2NhbCBUaGVXb3JsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGhlV29ybGQuTmFtZSA9ICJUaGVXb3JsZCIKCQlUaGVXb3JsZC5UZXh0ID0gbXZ0Zy5VbHRzLlRpbWUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBUaGVXb3JsZCkKCQltdnRnLlVsdHMuVGltZS5CdXR0b24gPSBUaGVXb3JsZAoKCQltdnRnLlVsdHMuVGltZS5WYWx1ZSA9IGZhbHNlCgoJCVRoZVdvcmxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5UaW1lLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5UaW1lLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuVGltZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuVGltZS5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIgoJCQllbmQKCQkJVGhlV29ybGQuVGV4dCA9IG12dGcuVWx0cy5UaW1lLlRleHQKCQllbmQpCgoJCS0tIFBvbGFyaXMgSGFjawoKCQlsb2NhbCBQb2xhcmlzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlQb2xhcmlzLk5hbWUgPSAiUG9sYXJpcyIKCQlQb2xhcmlzLlRleHQgPSBtdnRnLlVsdHMuQXVyb3JhLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUG9sYXJpcykKCQltdnRnLlVsdHMuQXVyb3JhLkJ1dHRvbiA9IFBvbGFyaXMKCgkJbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9IGZhbHNlCgoJCVBvbGFyaXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuQXVyb3JhLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuQXVyb3JhLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5BdXJvcmEuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlQb2xhcmlzLlRleHQgPSBtdnRnLlVsdHMuQXVyb3JhLlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbgoKCQlsb2NhbCBTaGF0dGVyaW5nRXJ1cHRpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNoYXR0ZXJpbmdFcnVwdGlvbi5OYW1lID0gIlNoYXR0ZXJpbmdFcnVwdGlvbiIKCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9IG12dGcuVWx0cy5FeHBsb3Npb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTaGF0dGVyaW5nRXJ1cHRpb24pCgkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5CdXR0b24gPSBTaGF0dGVyaW5nRXJ1cHRpb24KCgkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgoJCVNoYXR0ZXJpbmdFcnVwdGlvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT2ZmKSIKCQkJZW5kCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbi5UZXh0ID0gbXZ0Zy5VbHRzLkV4cGxvc2lvbi5UZXh0CgkJZW5kKQoKCQktLSBFdGhlcmVhbCBBY3VtZW4gSGFjawoKCQlsb2NhbCBFdGhlcmVhbEFjdW1lbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRXRoZXJlYWxBY3VtZW4uTmFtZSA9ICJFdGhlcmVhbEFjdW1lbiIKCQlFdGhlcmVhbEFjdW1lbi5UZXh0ID0gbXZ0Zy5VbHRzLklsbHVzaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXRoZXJlYWxBY3VtZW4pCgkJbXZ0Zy5VbHRzLklsbHVzaW9uLkJ1dHRvbiA9IEV0aGVyZWFsQWN1bWVuCgoJCW12dGcuVWx0cy5JbGx1c2lvbi5WYWx1ZSA9IGZhbHNlCgoJCUV0aGVyZWFsQWN1bWVuLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5JbGx1c2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuSWxsdXNpb24uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuSWxsdXNpb24gPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlFdGhlcmVhbEFjdW1lbi5UZXh0ID0gbXZ0Zy5VbHRzLklsbHVzaW9uLlRleHQKCQllbmQpCgoJCS0tIFRveGljIEJhc2lsaXNrIEhhY2sKCgkJbG9jYWwgVG94aWNCYXNpbGlzayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVG94aWNCYXNpbGlzay5OYW1lID0gIlRveGljQmFzaWxpc2siCgkJVG94aWNCYXNpbGlzay5UZXh0ID0gbXZ0Zy5VbHRzLkFjaWQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBUb3hpY0Jhc2lsaXNrKQoJCW12dGcuVWx0cy5BY2lkLkJ1dHRvbiA9IFRveGljQmFzaWxpc2sKCgkJbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgPSBmYWxzZQoKCQlUb3hpY0Jhc2lsaXNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5BY2lkLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5BY2lkLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkFjaWQuVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5BY2lkLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5BY2lkLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVRveGljQmFzaWxpc2suVGV4dCA9IG12dGcuVWx0cy5BY2lkLlRleHQKCQllbmQpCgoJCS0tIEFyY2FuZSBHdWFyZGlhbiBIYWNrCgoJCWxvY2FsIEFyY2FuZUd1YXJkaWFuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBcmNhbmVHdWFyZGlhbi5OYW1lID0gIkFyY2FuZUd1YXJkaWFuIgoJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSBtdnRnLlVsdHMuQW5nZWwuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBBcmNhbmVHdWFyZGlhbikKCQltdnRnLlVsdHMuQW5nZWwuQnV0dG9uID0gQXJjYW5lR3VhcmRpYW4KCgkJbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlID0gZmFsc2UKCgkJQXJjYW5lR3VhcmRpYW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5BbmdlbC5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuQW5nZWwuVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSBtdnRnLlVsdHMuQW5nZWwuVGV4dAoJCWVuZCkKCgkJLS0gVmlydHVhbCBab25lIEhhY2sKCgkJbG9jYWwgVmlydHVhbFpvbmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpcnR1YWxab25lLk5hbWUgPSAiVmlydHVhbFpvbmUiCgkJVmlydHVhbFpvbmUuVGV4dCA9IG12dGcuVWx0cy5UZWNobm9sb2d5LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlydHVhbFpvbmUpCgkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuQnV0dG9uID0gVmlydHVhbFpvbmUKCgkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoKCQlWaXJ0dWFsWm9uZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVZpcnR1YWxab25lLlRleHQgPSBtdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0CgkJZW5kKQoKCQktLSBVbm1hdGNoZWQgUG93ZXIgb2YgdGhlIFN1bgoKCQlsb2NhbCBTb2xhclN0aWNrID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVNvbGFyU3RpY2suTmFtZSA9ICJTb2xhclN0aWNrIgoJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTb2xhclN0aWNrKQoJCW12dGcuVWx0cy5Tb2xhci5CdXR0b24gPSBTb2xhclN0aWNrLkJ1dHRvbgoKCQltdnRnLlVsdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoKCQlTb2xhclN0aWNrLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCQljaGVja01vdmVzKDUpCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuVWx0cy5Tb2xhci5UZXh0ID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVWx0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiU29sYXIgU3RpY2sgQnVnIChPZmYpIgoJCQkJZW5kCgkJCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJU29sYXJTdGljay5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5Tb2xhci5UZXh0CgkJCQl3YWl0KDMpCgkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiCgkJCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLS0tIE1pc2NlbGxhbmVvdXMKCQktLSBUZWNoIERpc2MgSGFjawoKCQlsb2NhbCBUZWNoRGlzYyA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlUZWNoRGlzYy5OYW1lID0gIlRlY2hEaXNjIgoJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hEaXNjKQoJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuQnV0dG9uID0gVGVjaERpc2MuQnV0dG9uCgoJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoKCQlUZWNoRGlzYy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNCkKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJUZWNoIERpc2MgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJVGVjaERpc2MuQnV0dG9uLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJCQl3YWl0KDMpCgkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiCgkJCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEFpbWJvdCB8fCBDdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQKCQktLVtbCgkJbG9jYWwgQWltYm90ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlLAoJCX0KCQlBaW1ib3QuTmFtZSA9ICJBaW1ib3QiCgkJQWltYm90LkJ1dHRvbi5UZXh0ID0gIkFpbWJvdCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWltYm90KQoKCQlmdW5jdGlvbiB0b2dnbGVBaW1ib3QoKQoJCQlpZiAobm90IEFpbWJvdEVuYWJsZWQpIGFuZCAoaXNHb2xkIG9yIGlzTWFzdGVyKSB0aGVuCgkJCQlBaW1ib3RFbmFibGVkID0gdHJ1ZQoJCQkJQWltYm90LkJ1dHRvbi5UZXh0ID0gIkFpbWJvdCAoT24pIgoJCQkJd2hpbGUgQWltYm90RW5hYmxlZCBkbwoJCQkJCUJlZ2luVHJhY2tpbmcoKQoJCQkJZW5kCgkJCWVsc2VpZiBBaW1ib3RFbmFibGVkIGFuZCAoaXNHb2xkIG9yIGlzTWFzdGVyKSB0aGVuCgkJCQlBaW1ib3RFbmFibGVkID0gZmFsc2UKCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9mZikiCgkJCWVsc2VpZiBub3QgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90LkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9mZikiCgkJCWVuZAoJCWVuZAoKCQlBaW1ib3QuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVBaW1ib3QpXV0KCgkJLS0gU2hhcmQgQ29sb3JzCgoJCWxvY2FsIFJhbmRvbUNvbG9ycyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUmFuZG9tQ29sb3JzLk5hbWUgPSAiUmFuZG9tQ29sb3JzIgoJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJhbmRvbUNvbG9ycykKCgkJbG9jYWwgQ29sb3JzTGlzdCA9IHsiUmVhbGx5IHJlZCIsICJSZWFsbHkgYmx1ZSIsICJOZXcgWWVsbGVyIiwgIkhvdCBwaW5rIiwgIlJveWFsIHB1cnBsZSIsICJMaW1lIGdyZWVuIiwgIkRlZXAgb3JhbmdlIiwgIlRvb3RocGFzdGUiLCAiSW5zdGl0dXRpb25hbCB3aGl0ZSJ9CgkJbG9jYWwgU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBzaGFyZFJhbmRvbWl6ZXIoKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2Lk5hbWUgPT0gIlNoYXJkIiBhbmQgbm90IHY6RmluZEZpcnN0Q2hpbGQoInNoYXJkQ2hhbmdlZCIpIHRoZW4KCQkJCQl2LkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldyhDb2xvcnNMaXN0W21hdGgucmFuZG9tKDEsOSldKQoJCQkJCWxvY2FsIHNoYXJkQ2hhbmdlZCA9IEluc3RhbmNlLm5ldygiQm9vbFZhbHVlIikKCQkJCQlzaGFyZENoYW5nZWQuTmFtZSA9ICJzaGFyZENoYW5nZWQiCgkJCQkJc2hhcmRDaGFuZ2VkLlBhcmVudCA9IHYKCQkJCQlzaGFyZENoYW5nZWQuVmFsdWUgPSB0cnVlCgkJCQllbHNlaWYgdi5OYW1lID09ICJTaGFyZCIgYW5kIHY6RmluZEZpcnN0Q2hpbGQoInNoYXJkQ2hhbmdlZCIpLlZhbHVlIHRoZW4gZW5kCgkJCWVuZAoJCWVuZAoKCQlSYW5kb21Db2xvcnMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU2hhcmRDb2xvckVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU2hhcmRDb2xvckVuYWJsZWQgPSB0cnVlCgkJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPbikiCgkJCQl3aGlsZSBTaGFyZENvbG9yRW5hYmxlZCBkbwoJCQkJCXNoYXJkUmFuZG9taXplcigpCgkJCQkJd2FpdCguNSkKCQkJCWVuZAoJCQllbHNlCgkJCQlTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlCgkJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIgoJCQllbmQJCgkJZW5kKQoKCQktLSBBbnRpLUxhZwoKCQlsb2NhbCBBbnRpTGFnID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpTGFnLk5hbWUgPSAiQW50aUxhZyIKCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlMYWcpCgoJCUFudGlMYWdFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gcmVtb3ZlTGFnKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkxvY2FsRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbgoJCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4KCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkJhY2tEZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJTcGVjaWFsTWVzaCIpIHRoZW4KCQkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbgoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbgoJCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCWZvciBfLCB4IGluIHBhaXJzKHYuQ2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJaWYgeC5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuCgkJCQkJCXg6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCWlmIEFudGlMYWdFbmFibGVkIHRoZW4KCQkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSB0aGVuCgkJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4KCQkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIkxpZ2h0RGlzYyIpIHRoZW4KCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBbnRpTGFnRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpTGFnRW5hYmxlZCA9IHRydWUKCQkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT24pIgoJCQkJcmVtb3ZlTGFnKCkKCQkJZWxzZQoJCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIElnbm9yZSBQaHlzaWNzCgoJCWxvY2FsIElnbm9yZVBoeXNpY3MgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlnbm9yZVBoeXNpY3MuTmFtZSA9ICJmSWdub3JlUGh5c2ljcyIKCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9mZikgW1pdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJZ25vcmVQaHlzaWNzKQoKCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuRmxpcHNIb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuCgkJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPbikgW1pdIgoJCQkJaW5pdGlhbE51bGxpZnlGb3JjZXMoKQoJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJCXdoaWxlIElnbm9yZVBoeXNpY3NFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UKCQkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iCgkJCWVuZAoJCWVuZAoKCQlJZ25vcmVQaHlzaWNzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpbk51bGxpZnlGb3JjZXMpCgoJCS0tIEFudGktR3Jhdml0eQoKCQlsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSIKCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT2ZmKSBbR10iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQoKCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBBbnRpR3Jhdml0eUZ1bmMoKQoJCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9uKSBbR10iCgkJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpCgkJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQlCb2R5Rm9yY2UuTmFtZSA9ICJBbnRpR3Jhdml0eUZvcmNlIgoJCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkKCQkJZWxzZQoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCQkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQW50aUdyYXZpdHlGb3JjZSIpIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW50aUdyYXZpdHlGb3JjZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykKCgkJLS0gQ2xpY2stVFAKCgkJbG9jYWwgQ2xpY2tUUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiCgkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIHRwIHRvIG1vdXNlXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2xpY2tUUCkKCgkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoKCQlDbGlja1RQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIENsaWNrVFBFbmFibGVkID09IHRydWUgdGhlbgoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoJCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIENsaWNrLVRQXSIKCQkJZWxzZQoJCQkJQ2xpY2tUUEVuYWJsZWQgPSB0cnVlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9uKSBbSiB0byBDbGljay1UUF0iCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gY2xpY2t0cChwb3NpdGlvbikKCQkJaWYgcGxheWVyID09IG5pbCBvciBwbGF5ZXIuQ2hhcmFjdGVyID09IG5pbCB0aGVuIHJldHVybiBlbmQKCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDMsIHBvc2l0aW9uLnopKQoJCWVuZAoKCQktLSBGcmVlemUKCgkJbG9jYWwgRnJlZXplID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlGcmVlemUuTmFtZSA9ICJGcmVlemUiCgkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPZmYpIFtGXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRnJlZXplKQoKCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gRnJlZXplRnVuYygpCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJRnJlZXplRW5hYmxlZCA9IHRydWUKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT24pIFtGXSIKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJZWxzZQoJCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlCgkJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJZW5kCgkJZW5kCgoJCUZyZWV6ZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoRnJlZXplRnVuYykKCgkJLS0gSW5maW5pdGUgU3ByaW50CgoJCWxvY2FsIEluZlNwcmludCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlJbmZTcHJpbnQuTmFtZSA9ICJJbmZTcHJpbnQiCgkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSW5mU3ByaW50KQoKCQlsb2NhbCBJbmZTcHJpbnRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gU3ByaW50UmVtb3RlKCkKCQkJd2hpbGUgd2FpdCguNSkgZG8KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlJ1bm5pbmciLAoJCQkJCVsyXSA9IGZhbHNlLAoJCQkJfQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuUGxheWVyRGF0YTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgkJZW5kCgoJCUluZlNwcmludC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBJbmZTcHJpbnRFbmFibGVkIHRoZW4KCQkJCQlJbmZTcHJpbnRFbmFibGVkID0gdHJ1ZQoJCQkJCUluZlNwcmludC5CdXR0b24uVGV4dCA9ICJJbmZpbml0ZSBTcHJpbnQgKE9uKSIKCQkJCQlTcHJpbnRSZW1vdGUoKQoJCQkJZWxzZQoJCQkJCUluZlNwcmludEVuYWJsZWQgPSBmYWxzZQoJCQkJCUluZlNwcmludC5CdXR0b24uVGV4dCA9ICJJbmZpbml0ZSBTcHJpbnQgKE9mZikiCgkJCQllbmQJCQkJCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBFeHBsb3NpdmUgTGVhcAoKCQlsb2NhbCBFeHBsb3Npb25IYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFeHBsb3Npb25IYWNrLk5hbWUgPSAiRXhwbG9zaW9uSGFjayIKCQlFeHBsb3Npb25IYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFeHBsb3Npb25IYWNrKQoJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5CdXR0b24gPSBFeHBsb3Npb25IYWNrCgoJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgoJCUV4cGxvc2lvbkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNCkKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgTGVhcCBTdHVuIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIKCQkJZW5kCgkJCUV4cGxvc2lvbkhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFJvY2sgRmlzdAoKCQlsb2NhbCBSb2NrRmlzdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJvY2tGaXN0SGFjay5OYW1lID0gIlJvY2tGaXN0SGFjayIKCQlSb2NrRmlzdEhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0Zpc3RIYWNrKQoJCW12dGcuVGVsZXBvcnRzLkVhcnRoLkJ1dHRvbiA9IFJvY2tGaXN0SGFjawoKCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9IGZhbHNlCgoJCVJvY2tGaXN0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDQpCgkJCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQgPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dCA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT2ZmKSIKCQkJZW5kCgkJCVJvY2tGaXN0SGFjay5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dAoJCWVuZCkKCgkJLS0gTG9uZyBGbGFzaAoKCQlsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxGbGFzaC5OYW1lID0gIkZsYXNoIgoJCUxGbGFzaC5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBMRmxhc2gpCgkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uQnV0dG9uID0gTEZsYXNoCgoJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkKCQkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucAoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsCgkJCQlbM10gPSB7CgkJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLAoJCQkJCVsiT3JpZ2luIl0gPSBwbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wCgkJCQl9CgkJCX0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQllbmQKCgkJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNCkKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dCA9ICJMb25nIEZsYXNoIChPbikgW2AgdG8gdXNlXSIKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dCA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iCgkJCWVuZAoJCQlMRmxhc2guVGV4dCA9IG12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIFZpZXcgVGFyZ2V0CgoJCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZXdUYXJnZXQuTmFtZSA9ICJWaWV3VGFyZ2V0IgoJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpCgoJCXZpZXdpbmcgPSBmYWxzZQoKCQlmdW5jdGlvbiB2aWV3KCkKCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCWlmIHZpZXdpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCXZpZXdpbmcgPSB0cnVlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9uKSBbVl0iCgkJCQllbHNlCgkJCQkJdmlld2luZyA9IGZhbHNlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJCWVuZAoJCQllbHNlaWYgdmlld2luZyA9PSB0cnVlIHRoZW4gCgkJCQl2aWV3aW5nID0gZmFsc2UKCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJZW5kCgkJZW5kCgoJCVZpZXdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHZpZXcpCgoJCS0tIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCIKCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQoKCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBUUFRvVGFyZ2V0KCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkIGFuZCB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpCgoJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQoJCQllbmQKCQllbmQKCgkJVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikgW1VdIgoJCQllbHNlCgkJCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoJCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCQllbmQKCQllbmQpCgoJCS0tIExvb3AgVGVsZXBvcnQgdG8gVGFyZ2V0CgoJCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTG9vcFRQVGFyZ2V0Lk5hbWUgPSAiTG9vcFRQVGFyZ2V0IgoJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpCgoJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlMb29wVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgTG9vcFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQoJCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9uKSIKCQkJCXdoaWxlIExvb3BUUFRhcmdldEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCWVuZAoJCQllbHNlCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIFN0YW5kYXJkIEVTUAoKCQlsb2NhbCBFU1AgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUVTUC5OYW1lID0gIkVTUCIKCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1ApCQkKCgkJRVNQRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQoJCUhvbGRlci5OYW1lID0gIkVTUCIKCgkJbG9jYWwgVXBkYXRlRnVuY3MgPSB7fQoKCQlsb2NhbCBCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpCgkJQm94Lk5hbWUgPSAibmlsQm94IgoJCUJveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkKCQlCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUJveC5UcmFuc3BhcmVuY3kgPSAwLjcKCQlCb3guWkluZGV4ID0gMAoJCUJveC5BbHdheXNPblRvcCA9IHRydWUKCQlCb3guVmlzaWJsZSA9IHRydWUKCgkJbG9jYWwgTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikKCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcgPSBOYW1lVGFnCgkJTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWciCgkJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCU5hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQoJCU5hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlCgkJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQlOYW1lVGFnLk1heERpc3RhbmNlID0gNzUwCgoJCWxvY2FsIFRhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgTmFtZVRhZykKCQlUYWcuTmFtZSA9ICJUYWciCgkJVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkKCQlUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJCVRhZy5UZXh0U2l6ZSA9IDIwCgkJVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCgkJVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCQlUYWcuVGV4dCA9ICJOb3QgQXZhaWxhYmxlIgoJCVRhZy5Gb250ID0gRW51bS5Gb250LlJvYm90b01vbm8KCQlUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCgkJVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgoJCWZ1bmN0aW9uIExvYWRDaGFyYWN0ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJCWxvY2FsIGIgPSBCb3g6Q2xvbmUoKQoJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJCb3giCgkJCQliLkFkb3JuZWUgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQliLlBhcmVudCA9IHZIb2xkZXIKCgkJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpCgkJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIk5hbWVUYWciCgkJCQl0LlBhcmVudCA9IHZIb2xkZXIKCQkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCQlyZXR1cm4gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCQllbmQKCQkJCXQuVGFnLlRleHQgPSB2Lk5hbWUKCQkJCXQuRW5hYmxlZCA9IHRydWUKCQkJCXdhaXQoKQoKCQkJCWxvY2FsIGZ1bmN0aW9uIFVwZGF0ZU5hbWVUYWcoKQoJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lIC4uICJcbiIgLi4gKChtYXhoIH49IDAgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgoaCAvIG1heGgpICogMTAwKSkpIG9yICIwIikgLi4gIiUgICIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpCgkJCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQllbHNlCgkJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCWVuZAoJCQkJCQkJaWYgaCAvIG1heGggPT0gMSB0aGVuCgkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbgoJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCQllbmQKCQkJCQkJZW5kKSB0aGVuCgkJCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gbmlsCgkJCQkJZW5kCgkJCQllbmQKCQkJCVVwZGF0ZU5hbWVUYWcoKQoJCQkJVXBkYXRlRnVuY3Nbdl0gPSBVcGRhdGVOYW1lVGFnCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgYW5kICh2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJOYW1lVGFnIikgfj0gbmlsKSB0aGVuCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gTG9hZFBsYXllcih2KQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBIb2xkZXIpCgkJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJcGNhbGwoTG9hZENoYXJhY3RlciwgdikKCQkJCQllbmQKCQkJCWVuZCkKCQkJCXYuQ2hhcmFjdGVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kKQoJCQkJTG9hZENoYXJhY3Rlcih2KQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gVW5sb2FkUGxheWVyKHYpCgkJCVVubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlciB0aGVuCgkJCQl2SG9sZGVyOkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQoJCWVuZAoKCQlwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoTG9hZFBsYXllciwgdikKCQllbmQpCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChVbmxvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQkJaWYgaTpJc0EoIlBsYXllciIpIHRoZW4KCQkJCWlmIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChpLk5hbWUpIHRoZW4KCQkJCQlVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCQl3YWl0KCkKCQkJCQlMb2FkQ2hhcmFjdGVyKGkpCgkJCQllbmQKCQkJZWxzZWlmIGk6SXNBKCJIdW1hbm9pZCIpIGFuZCBpLlBhcmVudCB0aGVuCgkJCQlsb2NhbCBwID0gcGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQoJCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuCgkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQlVcGRhdGVGdW5jc1twXSgpCgkJCQkJZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gdG9nZ2xlRVNQKCkKCQkJaWYgRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQkJR0VTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCUVTUEVuYWJsZWQgPSB0cnVlCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJTdGFuZGFyZCBFU1AgRW5hYmxlZCIKCQkJCQl3YWl0KDEpCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJZWxzZQoJCQkJCUVTUEVuYWJsZWQgPSB0cnVlCgkJCQllbmQKCQkJCUVTUC5UZXh0ID0gIkVTUCAoT24pIFtCXSIKCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgkJCQllbmQKCQkJZWxzZQoJCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlFU1AuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUCkKCgkJLS0gR29sZCBFU1AKCgkJbG9jYWwgRVNQR29sZCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlFU1BHb2xkLk5hbWUgPSAiRVNQR29sZCIKCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVTUEdvbGQpCgoJCUdFU1BFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgR0hvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQoJCUdIb2xkZXIuTmFtZSA9ICJFU1BHb2xkIgoKCQlsb2NhbCBHVXBkYXRlRnVuY3MgPSB7fQoKCQlsb2NhbCBHQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQoJCUdCb3guTmFtZSA9ICJuaWxCb3hHIgoJCUdCb3guU2l6ZSA9IFZlY3RvcjMubmV3KDQsIDcsIDQpCgkJR0JveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJR0JveC5UcmFuc3BhcmVuY3kgPSAwLjcKCQlHQm94LlpJbmRleCA9IDAKCQlHQm94LkFsd2F5c09uVG9wID0gdHJ1ZQoJCUdCb3guVmlzaWJsZSA9IHRydWUKCgkJbG9jYWwgR05hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpCgkJRVNQSW5mby5Hb2xkLk5hbWVUYWcgPSBHTmFtZVRhZwoJCUdOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZ0ciCgkJR05hbWVUYWcuRW5hYmxlZCA9IHRydWUKCQlHTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCgkJR05hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlCgkJR05hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApCgkJR05hbWVUYWcuTWF4RGlzdGFuY2UgPSA3NTAKCgkJbG9jYWwgR1RhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgR05hbWVUYWcpCgkJR1RhZy5OYW1lID0gIkdUYWciCgkJR1RhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJCUdUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAtNSkKCQlHVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkKCQlHVGFnLlRleHRTaXplID0gMjAKCQlHVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJR1RhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQoJCUdUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNAoJCUdUYWcuVGV4dCA9ICJOb3QgQXZhaWxhYmxlIgoJCUdUYWcuRm9udCA9IEVudW0uRm9udC5Sb2JvdG9Nb25vCgkJR1RhZy5UZXh0U2NhbGVkID0gZmFsc2UKCQlHVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgoJCWZ1bmN0aW9uIEdMb2FkQ2hhcmFjdGVyKHYpCgkJCQoJCQlsb2NhbCB0YmxQbGF5ZXJEYXRhID0ge30KCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJUlNSOldhaXRGb3JDaGlsZCgiUGxheWVyRGF0YSIpLk9uQ2xpZW50RXZlbnQ6Q29ubmVjdChmdW5jdGlvbih2LCB0YmxEYXRhKQoJCQkJdGJsUGxheWVyRGF0YVt2XSA9IHRibERhdGEKCQkJZW5kKQoJCQkKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQkJbG9jYWwgdkhvbGRlckcgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJCXZIb2xkZXJHOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJCWxvY2FsIGIgPSBHQm94OkNsb25lKCkKCQkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiR0JveCIKCQkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCWIuUGFyZW50ID0gdkhvbGRlckcKCgkJCQlsb2NhbCB0ID0gR05hbWVUYWc6Q2xvbmUoKQoJCQkJdC5OYW1lID0gdi5OYW1lIC4uICJHTmFtZVRhZyIKCQkJCXQuUGFyZW50ID0gdkhvbGRlckcKCQkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCQlyZXR1cm4gR1VubG9hZENoYXJhY3Rlcih2KQoJCQkJZW5kCgkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZQoJCQkJdC5FbmFibGVkID0gdHJ1ZQoJCQkJd2FpdCgpCgoJCQkJbG9jYWwgZnVuY3Rpb24gR1VwZGF0ZU5hbWVUYWcoKQoJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQlsb2NhbCBzdHJoID0gIkg6ICIgLi4gKG5vdChtYXhoID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogaCAvIG1heGgpKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhoKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4aCkgLi4gIikiCgkJCQkJCQktLQoJCQkJCQkJbG9jYWwgbWF4bSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heE1hbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgbSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1hbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgc3RybSA9ICJNOiAiIC4uIChub3QobWF4bSA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIG0gLyBtYXhtKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcobSkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heG0pIC4uICIpIgoJCQkJCQkJLS0KCQkJCQkJCWxvY2FsIG1heHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYXhTdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5TdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIHN0cnMgPSAgIlM6ICIgLi4gKG5vdChtYXhzID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogcyAvIG1heHMpKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhzKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4cykgLi4gIikiCgoJCQkJCQkJdC5HVGFnLlRleHQgPSB2Lk5hbWUgLi4gKCJcbiIgLi4gc3RyaCkgLi4gKCJcbiIgLi4gc3RybSkgLi4gKCJcbiIgLi4gc3RycykKCQkJCQkJCQoJCQkJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQllbHNlCgkJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQllbmQKCQkJCQkJCWlmIGggLyBtYXhoID49IDAuNzUgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjIsIDI1NSwgNjIpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNSwgMTUzLCA2NCkKCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA8PSAwLjc1IGFuZCBoIC8gbWF4aCA+PSAwLjUgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDU1KQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTc5LCAxMzIsIDE1KQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyLCAyKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTM0LCAxMiwgNjYpCgkJCQkJCQllbHNlCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsICgxOTYgKiAoaCAvIG1heGgpKSwgKDIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE3OSwgKDEzMiAqIChoIC8gbWF4aCkpLCAoMTUgKiAoaCAvIG1heGgpKSkKCQkJCQkJCWVuZAoJCQkJCQllbmQpIHRoZW4KCQkJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gbmlsCgkJCQkJZW5kCgkJCQllbmQKCQkJCUdVcGRhdGVOYW1lVGFnKCkKCQkJCUdVcGRhdGVGdW5jc1t2XSA9IEdVcGRhdGVOYW1lVGFnCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXJHID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXJHIGFuZCAodkhvbGRlckc6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHQm94Iikgfj0gbmlsIG9yIHZIb2xkZXJHOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR05hbWVUYWciKSB+PSBuaWwpIHRoZW4KCQkJCXZIb2xkZXJHOkNsZWFyQWxsQ2hpbGRyZW4oKQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR0xvYWRQbGF5ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJbG9jYWwgdkhvbGRlckcgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEdIb2xkZXIpCgkJCQl2SG9sZGVyRy5OYW1lID0gdi5OYW1lCgkJCQl2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCWlmIEdFU1BFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQlwY2FsbChHTG9hZENoYXJhY3RlciwgdikKCQkJCQllbmQKCQkJCWVuZCkKCQkJCXYuQ2hhcmFjdGVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJcGNhbGwoR1VubG9hZENoYXJhY3RlciwgdikKCQkJCWVuZCkKCQkJCUdMb2FkQ2hhcmFjdGVyKHYpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBHVW5sb2FkUGxheWVyKHYpCgkJCUdVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlckcgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlckcgdGhlbgoJCQkJdkhvbGRlckc6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHTG9hZFBsYXllciwgdikgZW5kKQoJCWVuZAoKCQlwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoR0xvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoR1VubG9hZFBsYXllciwgdikKCQllbmQpCgoJCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbgoJCQkJaWYgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChpLk5hbWUpIHRoZW4KCQkJCQlHVW5sb2FkQ2hhcmFjdGVyKGkpCgkJCQkJd2FpdCgpCgkJCQkJR0xvYWRDaGFyYWN0ZXIoaSkKCQkJCWVuZAoJCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4KCQkJCWxvY2FsIHAgPSBwbGF5ZXJzOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpCgkJCQlpZiBwIH49IHBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuCgkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQlHVXBkYXRlRnVuY3NbcF0oKQoJCQkJCWVuZCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWZ1bmN0aW9uIHRvZ2dsZUVTUEdvbGQoKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgR0VTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCWlmIEVTUEVuYWJsZWQgdGhlbgoJCQkJCQlFU1BFbmFibGVkID0gZmFsc2UKCQkJCQkJR0VTUEVuYWJsZWQgPSB0cnVlCgkJCQkJCUVTUC5UZXh0ID0gIkRldGFpbGVkIEVTUCBFbmFibGVkIgoJCQkJCQl3YWl0KDEpCgkJCQkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgkJCQkJZWxzZQoJCQkJCQlHRVNQRW5hYmxlZCA9IHRydWUKCQkJCQllbmQKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT24pIFtNXSIKCQkJCQlmb3IgaSx2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJR0VTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQkJZW5kCgkJZW5kCgoJCUVTUEdvbGQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1BHb2xkKQoKCQktLSBUUCB0byBEcm9wcwoJCS0tLS0gQ3VycmVudGx5IGRpc2FibGVkIGR1ZSB0byB0aHJlYXRsZXZlbAoKCQktLVtbbG9jYWwgVFBTaGFyZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQU2hhcmRzLk5hbWUgPSAiVFBTaGFyZHMiCgkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQU2hhcmRzKQoKCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQkKCgkJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBEaWFtb25kcy5OYW1lID0gIlRQRGlhbW9uZHMiCgkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQoKCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIHBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQlwbGF0ZS5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQoJCXBsYXRlLlNpemUgPSBWZWN0b3IzLm5ldyg0MCwgMSwgNDApCgkJcGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAxMDAwMDAsIDApCgkJcGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJcGxhdGUuUmVmbGVjdGFuY2UgPSAwLjUKCQlwbGF0ZS5UcmFuc3BhcmVuY3kgPSAwLjUKCgkJbG9jYWwgdGltZSA9IDAKCQlsb2NhbCBjYW5JbnZpcyA9IGZhbHNlCgoJCWZ1bmN0aW9uIHRlbGVwb3J0VG9Ecm9wcygpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLlNlcnZlckVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIlNoYXJkIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVsc2VpZiBUUERpYW1vbmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJEaWFtb25kIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVuZAoKCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQlpZiB0aW1lID09IDUgdGhlbiAKCQkJCQkJYnJlYWsKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCgkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCgkJCXJldHVybiAKCQllbmQKCgoJCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQoJCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQlpZiB0aW1lIH49IDAgdGhlbiByZXR1cm4KCQkJCQllbHNlCgkJCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJd2FpdCgxKQoJCQkJCQkJcmVwZWF0CgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl0aW1lID0gdGltZSArIDEKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQl1bnRpbCB0aW1lID09IDYKCQkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCQkJCQkJCXdhaXQoNy41KQoJCQkJCQkJdGltZSA9IDAKCQkJCQkJZWxzZQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCWlmIG5vdCBUUFNoYXJkc0VuYWJsZWQgYW5kIG5vdCBUUERpYW1vbmRzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJZW5kCgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJYnJlYWsKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybgoJCWVuZAoKCQlUUFNoYXJkcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVFBTaGFyZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9uKSIKCQkJCXN0YXJ0VGltZXIoKQoJCQkJd2hpbGUgVFBTaGFyZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUERpYW1vbmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IHRydWUKCQkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUERpYW1vbmRzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJc3RhcnRUaW1lcigpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCQllbmQKCQllbmQpXV0KCgkJLS0gUmVqb2luIFNlcnZlciBGdW5jdGlvbgoKCQktLSBUaGlzIHdhcyBvbmx5IHByZXNlcnZlZCBhcyBJIGNvdWxkbid0IHRoaW5rIG9mIGFueSBvdGhlciBwbGFjZSB0byBwdXQgdGhlIGZ1bmN0aW9uIGZvciBub3cuCgkJLS0gTWlnaHQgZ2V0IG1vdmVkIGxhdGVyLCBpZHVubm8uCgkJZnVuY3Rpb24gcmVqb2luKCkKCQkJbG9jYWwgdHMgPSBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpCgkJCWxvY2FsIHAgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCgoJCQl0czpUZWxlcG9ydChnYW1lLlBsYWNlSWQsIHApCgkJZW5kCgoJCS0tIEFsdCBGYXJtaW5nCgoJCWxvY2FsIEFsdEZhcm0gPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJQWx0RmFybS5OYW1lID0gIkFsdEZhcm0iCgkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJGYXJtaW5nIE1vZGUgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsQWx0RmFybSkKCgkJQWx0RmFybUVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBsb2NzID0ge3s0MjQsIDI1MDAwLCA2MX0sey02NywgMjUwMDAsIDI2MTl9LHstMjYwMCwgMjUwMDAsIDQ4M319CgkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCWxvY2FsIGh1bSA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJbG9jYWwgbGFzdHBvcwoKCQlsb2NhbCBmdW5jdGlvbiBkb0Zhcm0oKQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCWhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJaHVtID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJaHVtLkhlYWx0aENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyOkJyZWFrSm9pbnRzKCkKCQkJZW5kKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBhbHR0cChsaSxscCkKCQkJbG9jYWwgbmV3TG9jID0gVmVjdG9yMy5uZXcodW5wYWNrKGxvY3NbbGldKSkKCQkJaWYgbmV3TG9jIH49IGxwIHRoZW4KCQkJCXBsYXllci5DaGFyYWN0ZXI6TW92ZVRvKG5ld0xvYykKCQkJZW5kCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGFsdHBsYXRlKGRlLGxpKQoJCQlpZiBub3QgbGkgdGhlbiBsaSA9IG5pbCBlbmQKCQkJaWYgZGUgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgQWx0UGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCQkJQWx0UGxhdGUuUGFyZW50ID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKVsiLklnbm9yZSJdCgkJCQlBbHRQbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KGxvY3NbbGldWzFdLCAobG9jc1tsaV1bMl0gLSA1KSwgbG9jc1tsaV1bM10pCgkJCQlBbHRQbGF0ZS5TaXplID0gVmVjdG9yMy5uZXcoNSwxLDUpCgkJCQlBbHRQbGF0ZS5BbmNob3JlZCA9IHRydWUKCQkJCUFsdFBsYXRlLlRyYW5zcGFyZW5jeSA9IDEKCQkJZWxzZQoJCQkJaWYgbm90IEFsdFBsYXRlID09IG5pbCB0aGVuCgkJCQkJQWx0UGxhdGU6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCUFsdEZhcm0uQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Q29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBBbHRGYXJtRW5hYmxlZCB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3RlcjpNb3ZlVG8obGFzdHBvcykKCQkJCQlBbHRGYXJtRW5hYmxlZCA9IGZhbHNlCgkJCQkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJGYXJtaW5nIE1vZGUgKE9mZikiCgkJCQkJYWx0cGxhdGUodHJ1ZSkKCQkJCQlodW0uSGVhbHRoQ2hhbmdlZDpEaXNjb25uZWN0KCkKCQkJCWVsc2UKCQkJCQlBbHRGYXJtRW5hYmxlZCA9IHRydWUKCQkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIkZhcm1pbmcgTW9kZSAoT24pIgoJCQkJCWxhc3Rwb3MgPSBocnAucG9zaXRpb24KCQkJCQlsb2NhbCBUUExvY2F0aW9uID0gbWF0aC5yYW5kb20oMSwjbG9jcykKCQkJCQlhbHRwbGF0ZShmYWxzZSxUUExvY2F0aW9uKQoJCQkJCXJlcGVhdAoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCQkJCWRvRmFybSgpCgkJCQkJCWlmIGhycC5Qb3NpdGlvbiB+PSB1bnBhY2sobG9jc1tUUExvY2F0aW9uXSkgdGhlbgoJCQkJCQkJYWx0dHAoVFBMb2NhdGlvbixsYXN0cG9zKQoJCQkJCQllbmQKCQkJCQkJd2FpdCguMSkKCQkJCQl1bnRpbCBBbHRGYXJtRW5hYmxlZCA9PSBmYWxzZQoJCQkJZW5kCgkJCWVsc2UKCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJGYXJtaW5nIE1vZGUgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJbG9jYWwgZnVsbGJ1dHRvbnMgPSBjb3B5KGJ1dHRvbnMpCgoJCS0tIEdVSSBUd2Vha2luZwoKCQlmb3IgaSx2IGluIHBhaXJzKGJvcmRlcnMpIGRvCgkJCXYuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygxLCAwLjUpCgkJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCXYuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNzUwCgkJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAwCgkJCXYuU2l6ZUNvbnN0cmFpbnQgPSBFbnVtLlNpemVDb25zdHJhaW50LlJlbGF0aXZlWVkKCQkJdi5BY3RpdmUgPSB0cnVlCgkJCXYuUGFyZW50ID0gZWJndWkKCQllbmQKCgkJZm9yIGksdiBpbiBwYWlycyhidXR0b25zKSBkbwoJCQlpZiB0eXBlb2YodikgPT0gInRhYmxlIiBhbmQgdi5Jc0dvbGQgdGhlbgoJCQkJdi5CdXR0b24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNiwgMTc1LCAyMCkKCQkJCXYuQnV0dG9uLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQl2LkJ1dHRvbi5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJCQl2LkJ1dHRvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQkJdi5CdXR0b24uU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQkJdi5CdXR0b24uRm9udCA9IEVudW0uRm9udC5Db2RlCgkJCQl2LkJ1dHRvbi5Gb250RmFjZS5XZWlnaHQgPSBFbnVtLkZvbnRXZWlnaHQuSGVhdnkKCQkJCXYuQnV0dG9uLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQkJdi5CdXR0b24uVGV4dFNjYWxlZCA9IHRydWUKCQkJCXYuQnV0dG9uLlRleHRTaXplID0gMTQuMDAwCgkJCQl2LkJ1dHRvbi5UZXh0V3JhcHBlZCA9IHRydWUKCQkJCXYuQnV0dG9uLkxheW91dE9yZGVyID0gaQoJCQkJdi5CdXR0b24uUGFyZW50ID0gbWFpbmZyYW1lCgkJCWVsc2UKCQkJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQoJCQkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJCQl2LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJCQl2LkZvbnRGYWNlLldlaWdodCA9IEVudW0uRm9udFdlaWdodC5IZWF2eQoJCQkJdi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCXYuVGV4dFNjYWxlZCA9IHRydWUKCQkJCXYuVGV4dFNpemUgPSAxNC4wMDAKCQkJCXYuVGV4dFdyYXBwZWQgPSB0cnVlCgkJCQl2LkxheW91dE9yZGVyID0gaQoJCQkJdi5QYXJlbnQgPSBtYWluZnJhbWUKCQkJZW5kCgkJZW5kCgoJCS0tIGNvbW1hbmRCb3gKCgkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCIKCQlsb29waW5nID0gZmFsc2UKCQlTbWFydEF0dGFjayA9IHRydWUKCQlIZWFsU2V0dGluZyA9IDEKCQlzdHVuRW5hYmxlZCA9IHRydWUKCQlsb2NhbCBidXR0b25IZWlnaHQgPSAzMAoJCWxvY2FsIGJ1dHRvbkdhcCA9IDcKCgkJUlNSID0gZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlJlbW90ZXMiKQoKCQlsb2NhbCBzdHVuQ29ubmVjdGlvbiA9IGdldGNvbm5lY3Rpb25zKFJTUjpXYWl0Rm9yQ2hpbGQoIkNvbWJhdCIpLk9uQ2xpZW50RXZlbnQpCgkJbG9jYWwgbGFnZ2VycyA9IHsKCQkJIjFCMEY5OEJFLUUxMEItNDY3NC05RkI0LTZGNjUxNzFBMzQ3RiIsIC0tIGxvZwoJCQkiNkEzMzEwNEEtMUZFOS00RkE4LTkzNzQtQzE2NEQyOEY4MzUxIiwgLS0gYnJpYW4KCQkJIjgzNzczNkFBLTAxOTItNDdGOS05OEM1LThERDBERjE4RkU3NCIsIC0tIGpldAoJCQkiNTVDMjA0OUQtQzZCRC00NTIzLTg4MDQtRDUzOUMzODc5MkEzIiwgLS0gcGVudGFyYWN0CgkJCSI5NDY0QjY4QS0zNjNDLTQxRjgtQkI3RC1CNEJFRDhBQzA5NjMiLCAtLSB2YXN0b3JpbwoJCQktLSAiODMwQkQ0RTktNUVCRS00QTEzLUI0N0ItOUJFNjAwODNCODM2IiwgLS0gbG9sb2sKCQkJLS0gIjYzQjM5RTI3LURBMUItNDgyRS1CMjhDLTZBMzM5OEM5NUE0QyIsIC0tIGFsZXgKCQkJIjg0NkE2NUUyLUU5NjMtNEEwQS05MDI1LUU5QjhFOTU4OTYxMyIsIC0tIGJyYW0KCQkJIjNGMTY4NDQwLUE1QzAtNEY3MS04RTUxLTNGREY5MDI1RjUxQiIsIC0tIHRvbWVrCgkJCSI2QTk3MDUyQS02MzRFLTQ3RTEtOEQ5MC01RUUzQ0E0QTk2RkEiLCAtLSByYXZlbgoJCQkiRjU5NzVEN0QtMkFDNS00NEFBLTgwMUYtODI3NjI1RDZENzYzIiwgLS0gYWxleGlhCgkJCSI0ODI4NzE4Mi05RTc3LTRGOTctQTY1NC05NzA2OUVEODE2NkMiLCAtLSBqZXNzCgkJCSI3NDg5Q0JBRS03OTg2LTQ1QTktQkU0MC1BMjE4RURDRDBGMDEiIC0tIGNlcGhhcwoJCX0KCgkJbG9jYWwgYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCgkJZm9yIGksIHYgaW4gcGFpcnMobGFnZ2VycykgZG8KCQkJdiA9IHY6bG93ZXIoKQoKCQkJaWYgKHYgPT0gY2xpZW50aWQpIHRoZW4KCQkJCWFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBnZXRIUlAoY2hyKQoJCQlsb2NhbCBIUlAgPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikKCQkJcmV0dXJuIEhSUAoJCWVuZAoKCQlmdW5jdGlvbiBnZXRIVU0oY2hyKQoJCQlsb2NhbCBIVU0gPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikKCQkJcmV0dXJuIEhVTQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiByZXNwYXduKHBscikKCQkJbG9jYWwgY2hyID0gcGxyLkNoYXJhY3RlcgoKCQkJaWYgKGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikpIHRoZW4gY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKTpDaGFuZ2VTdGF0ZSgxNSkgZW5kCgkJCWNocjpDbGVhckFsbENoaWxkcmVuKCkKCgkJCWxvY2FsIG5ld2NociA9IEluc3RhbmNlLm5ldygiTW9kZWwiKQoJCQluZXdjaHIuUGFyZW50ID0gd29ya3NwYWNlCgkJCXBsci5DaGFyYWN0ZXIgPSBuZXdjaHIKCgkJCXdhaXQoKQoKCQkJcGxyLkNoYXJhY3RlciA9IGNocgoJCQluZXdjaHI6RGVzdHJveSgpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlZnJlc2gocGxyKQoJCQlsb2NhbCBodW0gPSBwbHIuQ2hhcmFjdGVyIGFuZCBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiLCB0cnVlKQoJCQlsb2NhbCBwb3MgPSBodW0gYW5kIGh1bS5Sb290UGFydCBhbmQgaHVtLlJvb3RQYXJ0LkNGcmFtZQoJCQlsb2NhbCBwb3MxID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lCgoJCQlyZXNwYXduKHBscikKCgkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCXBsci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCk6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpLlJvb3RQYXJ0LkNGcmFtZSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lID0gcG9zLCB3YWl0KCkgYW5kIHBvczEKCQkJZW5kKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBzcGxpdEFyZ3MoY29tbWFuZCkKCQkJY29tbWFuZCA9IHN0cmluZy5nc3ViKGNvbW1hbmQsICIsIiwgIiAiKQoJCQljb21tYW5kID0gc3RyaW5nLnNwbGl0KGNvbW1hbmQsICIgIikKCgkJCWZvciBpLCB2IGluIGlwYWlycyhjb21tYW5kKSBkbwoJCQkJdiA9IHN0cmluZy5nc3ViKHYsICIlcysiLCAiIikKCQkJCWlmIHYgPT0gIiIgdGhlbgoJCQkJCXRhYmxlLnJlbW92ZShjb21tYW5kLCBpKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIGNvbW1hbmQKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gZmluZFBsYXllcih0ZXh0KQoJCQlsb2NhbCBwbGF5ZXJzID0gZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKQoJCQlsb2NhbCBtYXRjaGVzID0ge30KCgkJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKHBsYXllcnMpIGRvCgkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUKCQkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkKCgkJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKG5hbWUsIHRleHQpCgoJCQkJaWYgbWF0Y2ggdGhlbgoJCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybiBtYXRjaGVzCgkJZW5kCgoJCWxvY2FsIGRydWdzRW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgY29sb3JFeGNsdWRlID0geyJIZWFkIiwiVG9yc28iLCJMZWZ0IEFybSIsIkxlZnQgTGVnIiwiUmlnaHQgQXJtIiwiUmlnaHQgTGVnIiwiU2hhcmQiLCJEaWFtb25kIn0KCgkJLS1bWzk4LzI1NSwgMzcvMjU1LCAyMDkvMjU1XV0KCQlsb2NhbCBjb2xvcjEKCQlsb2NhbCBjb2xvcjIKCQlsb2NhbCBjb2xvcjMKCgkJbG9jYWwgZnVuY3Rpb24gdGVybUVCR3VpKCkKCQkJd2FybigiQ2xvc2luZyBFQkd1aSBmb3IgZ29vZC4uLiIpCgkJCXdhcm4oIlR3ZWVuaW5nIG91dCBVSSBlbGVtZW50cy4uLiIpCgkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksCgkJCQkiSW4iLAoJCQkJIlNpbmUiLAoJCQkJLjUsCgkJCQl0cnVlCgkJCSkKCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCQkiSW4iLAoJCQkJIlNpbmUiLAoJCQkJLjUsCgkJCQl0cnVlCgkJCSkKCQkJd2FpdCgxKQoJCQl3YXJuKCJSZXNldHRpbmcgdGFyZ2V0Li4uIikKCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJd2FybigiVW5sb2FkaW5nIGFsbCBFU1AgZWxlbWVudHMuLi4iKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCXBjYWxsKFVubG9hZFBsYXllciwgdikKCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCQllbmQKCQkJd2FybigiRW5zdXJpbmcgRVNQIGVsZW1lbnRzIGFyZSBkaXNhYmxlZC4uLiIpCgkJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCXdhcm4oIlJlc2V0dGluZyBoYWNrIHZhbHVlcy4uLiIpCgkJCWZvciBhLGIgaW4gcGFpcnMobXZ0ZykgZG8KCQkJCWlmIHR5cGVvZihiKSA9PSAidGFibGUiIHRoZW4KCQkJCQlmb3IgYyxkIGluIHBhaXJzKGIpIGRvCgkJCQkJCWlmIHR5cGVvZihkKSA9PSAidGFibGUiIHRoZW4KCQkJCQkJCWZvciBlLGYgaW4gcGFpcnMoZCkgZG8KCQkJCQkJCQlpZiBmIHRoZW4gZiA9IGZhbHNlIGVuZAkKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQkJd2FybigiRGVzdHJveWluZyBFQkd1aSBhbmQgaXRzIGNoaWxkcmVuLi4uIikKCQkJZWJndWk6RGVzdHJveSgpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGlucHV0Qm94KCkKCQkJbG9jYWwgdGV4dCA9IGNvbW1hbmRCb3guVGV4dAoJCQl3YWl0KCkKCQkJY29tbWFuZEJveC5UZXh0ID0gIiIKCgkJCWxvY2FsIHByZWZpeCA9ICI7IgoJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEpID09IChwcmVmaXgpIHRoZW4KCQkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCgkJCQktLVtbaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpIHRoZW4KCQkJCQlyZWZyZXNoKHBsYXllcildXQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpIHRoZW4KCQkJCQlsb2NhbCB0ZWxlcG9ydHRvCgkJCQkJbG9jYWwgdHBuYW1lCgkJCQkJbG9jYWwgcGxhY2UgPSBzdHJpbmcuc3ViKHRleHQsIDUpCgkJCQkJbG9jYWwgcGxhY2VzID0gewoJCQkJCQk1NjYzOTkyNDQsCgkJCQkJCTI1Njk2MjU4MDksCgkJCQkJCTU3MDE1ODA4MSwKCQkJCQkJNTM3NjAwMjA0LAoJCQkJCQk1MjA1NjgyNDAsCgkJCQkJCTU1NDk1NTU2MCwKCQkJCQkJNjAyMDQ4NTUwLAoJCQkJCQk1NzU0NTY2NDYsCgkJCQkJCTE3MTM5ODYxMTIsCgkJCQkJCTEyNDM2MTU2MTIsCgkJCQkJCTYzODA2NTMwMiwKCQkJCQkJNjM0MjQwODI2LAoJCQkJCQk2MzMwNDI3MzEKCQkJCQl9CgoJCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzFdCgkJCQkJCXRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJzdGFuZGFyZDQwIiBvciBwbGFjZSA9PSAiMjU2OTYyNTgwOSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzJdCgkJCQkJCXRwbmFtZSA9ICJTdGFuZGFyZCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImxpZ2h0IiBvciBwbGFjZSA9PSAiNTcwMTU4MDgxIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbM10KCQkJCQkJdHBuYW1lID0gIkxpZ2h0IgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiZmlyZSIgb3IgcGxhY2UgPT0gIjUzNzYwMDIwNCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzRdCgkJCQkJCXRwbmFtZSA9ICJGaXJlIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAid2F0ZXIiIG9yIHBsYWNlID09ICI1MjA1NjgyNDAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s1XQoJCQkJCQl0cG5hbWUgPSAiV2F0ZXIiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJncmFzcyIgb3IgcGxhY2UgPT0gIjU1NDk1NTU2MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzZdCgkJCQkJCXRwbmFtZSA9ICJHcmFzcyIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzddCgkJCQkJCXRwbmFtZSA9ICJIZWF2ZW4iCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s4XQoJCQkJCQl0cG5hbWUgPSAiTWluaWxvdmFuaWEiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJkZWZhdWx0IiBvciBwbGFjZSA9PSAidG91cm5hbWVudCIgb3IgcGxhY2UgPT0gIjE3MTM5ODYxMTIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s5XQoJCQkJCQl0cG5hbWUgPSAiVG91cm5hbWVudCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEwXQoJCQkJCQl0cG5hbWUgPSAiU3Vydml2YWwiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhc3RhbmRhcmQiIG9yIHBsYWNlID09ICJzdGFuZGFyZG1lZ2EiIG9yIHBsYWNlID09ICI2MzgwNjUzMDIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0KCQkJCQkJdHBuYW1lID0gIk1lZ2EgU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZmlyZSIgb3IgcGxhY2UgPT0gImZpcmVtZWdhIiBvciBwbGFjZSA9PSAiNjM0MjQwODI2IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdCgkJCQkJCXRwbmFtZSA9ICJNZWdhIEZpcmUiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZ3Jhc3MiIG9yIHBsYWNlID09ICJncmFzc21lZ2EiIG9yIHBsYWNlID09ICI2MzMwNDI3MzEiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxM10KCQkJCQkJdHBuYW1lID0gIk1lZ2EgR3Jhc3MiCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIgoJCQkJCWVuZAoKCQkJCQlpZiB0ZWxlcG9ydHRvIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRlbGVwb3J0aW5nIHRvICIgLi4gdHBuYW1lIC4uICIhIgoJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJkZWNsdXR0ZXIiKSB0aGVuCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5DaGFyYWN0ZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkJvb2suSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNob3AuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAicmFpbiIpIHRoZW4KCQkJCQlsb2NhbCBjdXJyZW50Q0FNID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKCQkJCQlsb2NhbCByYWluU291bmQgPSBJbnN0YW5jZS5uZXcoIlNvdW5kIikKCQkJCQlyYWluU291bmQuTG9vcGVkID0gdHJ1ZQoJCQkJCXJhaW5Tb3VuZC5Tb3VuZElkID0gInJieGFzc2V0aWQ6Ly8yODMxNjQ1OTMiCgkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDEKCQkJCQlyYWluU291bmQuUGFyZW50ID0gd29ya3NwYWNlCgkJCQkJcmFpblNvdW5kOlBsYXkoKQoKCQkJCQlsb2NhbCByYWluUGFydCA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDMwMCwgMzAwLCAzMDApCgkJCQkJcmFpblBhcnQuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXJhaW5QYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCXJhaW5QYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQoKCQkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpCgkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQlyYWluRWZmZWN0LlBhcmVudCA9IHJhaW5QYXJ0CgoJCQkJCWxvY2FsIGlnbm9yZSA9IHdvcmtzcGFjZTpXYWl0Rm9yQ2hpbGQoIi5JZ25vcmUiKQoJCQkJCXJhaW5QYXJ0LlBhcmVudCA9IGlnbm9yZTpXYWl0Rm9yQ2hpbGQoIi5TZXJ2ZXJFZmZlY3RzIikKCgkJCQkJbG9jYWwgZm92ID0gMiAqIG1hdGgudGFuKG1hdGgucmFkKGN1cnJlbnRDQU0uRmllbGRPZlZpZXcpIC8gMikKCQkJCQlsb2NhbCBuZXdSYXkgPSBSYXkubmV3CgkJCQkJbG9jYWwgaGVpZ2h0ID0gVmVjdG9yMy5uZXcoMCwgNTAsIDApCgkJCQkJbG9jYWwgZGVwdGggPSBDRnJhbWUubmV3KDAsIGZvdiAqIDUwLCAtNjApCgoJCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQoJCQkJCQlsb2NhbCByYyA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QobmV3UmF5KGN1cnJlbnRDQU0uQ0ZyYW1lLnAsIGhlaWdodCksIHtpZ25vcmV9KQoKCQkJCQkJaWYgKHJjKSB0aGVuCgkJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDAuNQoJCQkJCQkJcmV0dXJuCgkJCQkJCWVuZAoKCQkJCQkJbG9jYWwgdmlld3BvcnQgPSBjdXJyZW50Q0FNLlZpZXdwb3J0U2l6ZQoJCQoJCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoZm92ICogdmlld3BvcnQueCAvIHZpZXdwb3J0LnkgKiA1MCwgMC4yLCAxMDApCgkJCQkJCXJhaW5QYXJ0LkNGcmFtZSA9IGN1cnJlbnRDQU0uQ0ZyYW1lICogZGVwdGgKCQkKCQkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gdHJ1ZQoJCQoJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDQpID09IChwcmVmaXggLi4gImZpeCIpIHRoZW4KCQkJCQlpZiBwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpIHRoZW4KCQkJCQkJcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKS5WaXNpYmxlID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZpeGluZyB0aGUgTWVudSBHVUkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTMpID09IChwcmVmaXggLi4gImJ1dHRvbmhlaWdodCIpIHRoZW4KCQkJCQlidXR0b25IZWlnaHQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkKCQkJCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgYnV0dG9uSGVpZ2h0KQoJCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApCgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gaGVpZ2h0IHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkgLi4gIiEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbgoJCQkJCWJ1dHRvbkdhcCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKQoJCQkJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCBidXR0b25HYXApCgkJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBnYXAgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKSAuLiAiISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gInJlam9pbiIpIHRoZW4KCQkJCQlyZWpvaW4oKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZWpvaW5pbmcuLi4iCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJhdXJhL29mZiIpIHRoZW4KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKQoKCQkJCQlpZiBnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpIHRoZW4KCQkJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKTpEZXN0cm95KCkKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgaGFzIGJlZW4gcmVtb3ZlZC4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBkb2VzIG5vdCBleGlzdCEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxNCkgPT0gKHByZWZpeCAuLiAidGFyZ2V0c2V0dGluZyIpIHRoZW4KCQkJCQl0YXJnZXRTZXR0aW5nID0gc3RyaW5nLnN1Yih0ZXh0LCAxNikKCgkJCQkJcmVwZWF0CgkJCQkJCWlmIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gc2VsZWN0ISIKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGNsb3Nlc3QhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBmYXJ0aGVzdCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBsb3docCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gaGlnaGhwISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsaWNrIiB0aGVuCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJjbGljayIgZG8KCQkJCQkJCQltb3VzZS5CdXR0b24xRG93bjpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQkJCQkJaWYgdGFibGUuZmluZChwbGF5ZXJzOkdldFBsYXllcnMoKSxtb3VzZS5UYXJnZXQpIHRoZW4KCQkJCQkJCQkJCXRhcmdldCA9IG1vdXNlLlRhcmdldAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQpCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCB0YXJnZXQgc2V0dGluZyEgRGlkIHlvdSBzcGVjaWZ5IHNlbGVjdCwgY2xvc2VzdCwgZmFydGhlc3QsIGxvd2hwLCBvciBoaWdoaHA/IFNldHRpbmcgaGFzIGJlZW4gc2V0IHRvIHNlbGVjdC4iCgkJCQkJCWVuZAoJCQkJCXVudGlsIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIKCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlsb29waW5nID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBsb29waW5nIGF0dGFja3MhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWxvb3BpbmcgPSBub3QgbG9vcGluZwoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoKCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCXdoaWxlIGxvb3BpbmcgZG8KCQkJCQkJCWV4cGxvaXQoKQoJCQkJCQkJd2FpdCgpCgkJCQkJCWVuZAoJCQkJCQlyZXR1cm4KCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4KCQkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQoJCQkJCXdhaXQoKQoJCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbgoJCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCVNtYXJ0QXR0YWNrID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJU21hcnRBdHRhY2sgPSBub3QgU21hcnRBdHRhY2sKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgU21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuCgkJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4KCQkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIKCQkJCQkJd2FpdCgpCgkJCQkJZW5kCgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDE3KSA9PSAibm9ybWFsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gMAoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmV2ZXJ0aW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImdyYXlzY2FsZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTEKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkdyYXlzY2FsaW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGh1ZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBodWUuLi4iCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0YWxsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBhbGwuLi4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJsYWNrY2FzdCIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgYmxhY2sgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInN0dW4iKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJc3R1bkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCXN0dW5FbmFibGVkID0gbm90IHN0dW5FbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpEaXNhYmxlKCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8KCQkJCQkJCQljb25uZWN0aW9uOkVuYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIHN0dW4gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJkcnVncyIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgOSkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWRydWdzRW5hYmxlZCA9IG5vdCBkcnVnc0VuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZHJ1ZyBtb2RlICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuCgkJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgMTMpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgKGNvbG9yMSB+PSBuaWwpIGFuZCAoY29sb3IyIH49IG5pbCkgYW5kIChjb2xvcjMgfj0gbmlsKSB0aGVuCgkJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZW5hYmxlZCEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgKGFyZ3NbMV0gPT0gImYiKSBvciAoYXJnc1sxXSA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGRpc2FibGVkISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJYXJnc1sxXSA9IHRvbnVtYmVyKGFyZ3NbMV0pCgkJCQkJCWFyZ3NbMl0gPSB0b251bWJlcihhcmdzWzJdKQoJCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkKCgkJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iCgkJCQkJCWVsc2UKCQkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbgoJCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlCgoJCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbwoJCQkJCQkJCQlpZiAoYXJnc1tpXSA8IDApIG9yIChhcmdzW2ldID4gMjU1KSB0aGVuCgkJCQkJCQkJCQlleGVjdXRhYmxlID0gZmFsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbgoJCQkJCQkJCQljb2xvcjEgPSBhcmdzWzFdCgkJCQkJCQkJCWNvbG9yMiA9IGFyZ3NbMl0KCQkJCQkJCQkJY29sb3IzID0gYXJnc1szXQoKCQkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISIKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiCgkJCQkJCQkJZW5kCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIgoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbgoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkKCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQoJCQkJCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbgoJCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuCgkJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkKCQkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkKCQkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksCgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiBhcmdzWzFdIHRoZW4JCQkJCgkJCQkJCWlmICgjKGZpbmRQbGF5ZXIoYXJnc1sxXSkpID09IDEpIHRoZW4KCQkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdCgkJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyCgoJCQkJCQkJaWYgY2hyIHRoZW4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiIKCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiKQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCWlmIGNociA9PSBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KCQkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImVjaG9lcyIpIHRoZW4JCQkJCQoJCQkJCWlmIHN0cmluZy5maW5kKHRleHQsInBoYXNlIikgYW5kIG5vdCBzdHJpbmcuZmluZCh0ZXh0LCJhdXRvIikgdGhlbgoJCQkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgMTUpCgkJCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSA9PSBuaWwgdGhlbgoJCQkJCQkJaWYgKHBoYXNlID09ICJwb3ciKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAxCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbHNlaWYgKHBoYXNlID09ICJicm4iKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAyCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIEJSTiEiCgkJCQkJCQllbHNlaWYgKHBoYXNlID09ICJzdG4iKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAzCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFNUTiEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnk6IFBPVzsgQlJOOyBTVE4sIG9yIG51bWJlciAxLTMuIgoJCQkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIFBPVywgQlJOLCBTVE4sIG9yIG51bWJlciAxLTMsIGdvdCAiLi5waGFzZSkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdG9udW1iZXIocGhhc2UpIH49IG5pbCB0aGVuCgkJCQkJCQlpZiBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkgPT0gMSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAxCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbHNlaWYgbWF0aC5mbG9vcih0b251bWJlcihwaGFzZSkpID09IDIgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBCUk4hIgoJCQkJCQkJZWxzZWlmIG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKSA9PSAzIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDMKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gUE9XISIKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLmZpbmQodGV4dCwiYXV0byIpIGFuZCBub3Qgc3RyaW5nLmZpbmQodGV4dCwicGhhc2UiKSB0aGVuCgkJCQkJCWxvY2FsIGJvb2wgPSBzdHJpbmcuc3ViKHRleHQsMTQpCgkJCQkJCWlmIChib29sID09ICJ0Iikgb3IgKGJvb2wgPT0gIm9uIikgdGhlbgoJCQkJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBhdXRvLXRhcmdldCBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVsc2UKCQkJCQkJCQlFY2hvZXNBdXRvID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gRWNob2VzIGF1dG8tdGFyZ2V0ISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgKGJvb2wgPT0gImYiKSBvciAoYm9vbCA9PSAib2ZmIikgdGhlbgoJCQkJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJCQkJRWNob2VzQXV0byA9IGZhbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgRWNob2VzIGF1dG8tdGFyZ2V0ISIKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIGF1dG8tdGFyZ2V0IGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgYm9vbCA9PSAiIiB0aGVuCgkJCQkJCQlsb2NhbCBBdXRvCgkJCQkJCQlFY2hvZXNBdXRvID0gbm90IEVjaG9lc0F1dG8KCQkJCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCQkJCUF1dG8gPSAib24iCgkJCQkJCQllbHNlCgkJCQkJCQkJQXV0byA9ICJvZmYiCgkJCQkJCQllbmQKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIEVjaG9lcyBhdXRvLXRhcmdldCB0byAiLi5BdXRvLi4iISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnkgdC9mLCBvbi9vZmYuIgoJCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZSEgRXhwZWN0ZWQgdC9mIG9yIG9uL29mZiwgZ290ICIuLmJvb2wpCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnkgcGhhc2Ugb3IgYXV0by4iCgkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIHBoYXNlIG9yIGF1dG8sIGdvdCAiLi5zdHJpbmcuc3ViKHRleHQsOSkpCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiY2hhbmdlbG9nIikgdGhlbgoJCQkJCS0tIFRhZzogQ0hOR0xHCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkNvcGllZCB0aGUgY2hhbmdlbG9nIHRvIHlvdXIgY2xpcGJvYXJkISIKCQkJCQlzZXRjbGlwYm9hcmQoImh0dHBzOi8vZ2l0aHViLmNvbS9FYXJ0aFRvQWNjZXNzL0VCR1VJI2NoYW5nZWxvZyIpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJvcmlnaW4iKSB0aGVuCgkJCQkJeHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJbG9jYWwgb3JpZ2luID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCQkJb3JpZ2luLkFuY2hvcmVkID0gdHJ1ZQoJCQkJCQlvcmlnaW4uUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXQoJCQkJCQlvcmlnaW4uTmFtZSA9ICJPcmlnaW4iCgkJCQkJCW9yaWdpbi5NYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuTmVvbgoJCQkJCQlvcmlnaW4uQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJSZWFsbHkgcmVkIikKCQkJCQkJb3JpZ2luLlNpemUgPSBWZWN0b3IzLm5ldygwLjUsIDAuNSwgMC41KQoJCQkJCQlvcmlnaW4uUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAwLCAwKQoJCQkJCQl3YXJuKCJNYWRlIGEgYmxvY2sgYXQgdGhlIG9yaWdpbiEiKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2VzcyEgQ2hlY2sgY29uc29sZSBmb3IgbW9yZSBpbmZvIgoJCQkJCWVuZCwgZnVuY3Rpb24oZSkKCQkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQoJCQkJCQl3YXJuKCd0cmFjZWJhY2s6JywgZGVidWcudHJhY2ViYWNrKCkpCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaGVscCIpIHRoZW4KCQkJCQlzZXRjbGlwYm9hcmQoImh0dHBzOi8vZ2l0aHViLmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL2Jsb2IvbWFpbi9Eb2NzLm1kIikKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRG9jdW1lbnRhdGlvbiBjb3BpZWQgdG8gY2xpcGJvYXJkISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImluZm8iKSB0aGVuCgkJCQkJbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL21haW4vYmluL2luZm8ubHVhJykpKCkKCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJzdGF0dXMiIHRoZW4KCQkJCQkJcHJpbnQoIlRoZSBjdXJyZW50IHN0YXR1cyBvZiBFQkd1aSBpcyAiIC4uIHN0YXR1cykKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR3VpIFN0YXR1czogIiAuLiBzdGF0dXMKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAicmVwbyIgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAiZ2l0aHViIiB0aGVuCgkJCQkJCXByaW50KCJUaGUgR2l0SHViIHJlcG9zaXRvcnkgbGluayBpcyAiIC4uIHJlcG8pCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBpbmZvISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInVwZGF0ZSIpIHRoZW4KCQkJCQlsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvbWFpbi9iaW4vaW5mby5sdWEnKSkoKQoJCQkJCWlmIHZlck51bSA9PSBjdXJyZW50IHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk5vIHVwZGF0ZSByZXF1aXJlZCEiCgkJCQkJZWxzZWlmIHZlck51bSA9PSBsYXN0IHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlZlcnNpb24gb3V0ZGF0ZWQhIEN1cnJlbnQ6ICIgLi4gY3VycmVudAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gImJybyB1ciBvbiBhIGRldiBidWlsZCBvciBzbSIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsMSw1KSA9PSAocHJlZml4Li4iZGVzcCIpIHRoZW4KCQkJCQlsb2NhbCBhcmcgPSBzdHJpbmcuc3ViKHRleHQsNykKCQkJCQlsb2NhbCBmdW5jdGlvbiByZWxvYWRFU1AoKQoJCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCQkJCQlwY2FsbChVbmxvYWRQbGF5ZXIsIHYpCgkJCQkJCQkJcGNhbGwoTG9hZFBsYXllciwgdikKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbgoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJcGNhbGwoR1VubG9hZENoYXJhY3RlciwgdikKCQkJCQkJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCQkJCQkJCXBjYWxsKEdMb2FkUGxheWVyLCB2KQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJCWxvY2FsIGZ1bmN0aW9uIGlzbnVtYmVyKG4pCgkJCQkJCXJldHVybiAodHlwZShuKSA9PSAibnVtYmVyIikgYW5kIChtYXRoLmZsb29yKG4pID09IG4pCgkJCQkJZW5kCgkJCQkJaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kICh0b251bWJlcihhcmcpID49IDEwMCBhbmQgdG9udW1iZXIoYXJnKSA8PSAxMDAwMDApIHRoZW4KCQkJCQkJRVNQSW5mby5NYXhEaXN0ID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsNykpCgkJCQkJCUVTUEluZm8uR29sZC5OYW1lVGFnLk1heERpc3RhbmNlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQlyZWxvYWRFU1AoKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU2V0IEVTUCBNYXggRGlzdGFuY2UgdG8gIiAuLiBhcmcKCQkJCQllbHNlaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTnVtYmVyIHRvbyBsb3chIFRyeSBzb21ldGhpbmcgYmlnZ2VyLiIKCQkJCQllbHNlaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIHRvbnVtYmVyKGFyZykgPj0gMTAwMDAwIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldPQUggVEhBVCdTIEEgQklHIE5VTUJFUi4gVXNlIHNvbWV0aGluZyBzbWFsbGVyISIKCQkJCQllbHNlaWYgbm90IGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCAoYXJnID09ICJ0IiBvciBhcmcgPT0gIm9uIikgdGhlbgoJCQkJCQlpZiBFU1BJbmZvLkVuYWJsZWQgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVTUCBNYXggRGlzdGFuY2UgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCUVTUEluZm8uRW5hYmxlZCA9IHRydWUKCQkJCQkJCUVTUEluZm8uU3RhbmRhcmQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IEVTUEluZm8uTWF4RGlzdAoJCQkJCQkJRVNQSW5mby5Hb2xkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSBFU1BJbmZvLk1heERpc3QKCQkJCQkJCXJlbG9hZEVTUCgpCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9uIEVTUCBNYXggRGlzdGFuY2UhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgbm90IGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCAoYXJnID09ICJmIiBvciBhcmcgPT0gIm9mZiIpIHRoZW4KCQkJCQkJaWYgRVNQSW5mby5FbmFibGVkIHRoZW4KCQkJCQkJCUVTUEluZm8uRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSAwCgkJCQkJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDAKCQkJCQkJCXJlbG9hZEVTUCgpCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9mZiBFU1AgTWF4IERpc3RhbmNlISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVTUCBNYXggRGlzdGFuY2UgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBEaWQgeW91IHNwZWNpZnkgYSBudW1iZXI/IgoJCQkJCQl3YXJuKCJHb3QgaW52YWxpZCBhcmd1bWVudCBhdCBydW50aW1lLiBHb3QgIiAuLiBhcmcgLi4gIiwgZXhwZWN0ZWQgYm9vbGVhbiBvciBudW1iZXIiKQoJCQkJCWVuZAkJCQkJCQkJCQkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsMSw4KSA9PSAocHJlZml4IC4uICJhbnRpYWZrIikgdGhlbgoJCQkJCWlmIEFudGlBZmsgdGhlbgoJCQkJCQlBbnRpQWZrID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgYW50aS1hZmshIgoJCQkJCWVsc2UKCQkJCQkJQW50aUFmayA9IHRydWUKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvbiBhbnRpLWFmayEiCgkJCQkJCXdhaXQoMS41KQoJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQllbmQKCQkJCQkJbG9jYWwgc3RvcHBlZENvdW50ID0gMAoJCQkJCQlyZXBlYXQKCQkJCQkJCWxvY2FsIGlkbGVjb25uZWN0CgkJCQkJCQlpZGxlY29ubmVjdCA9IHBsYXllci5JZGxlZDpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6Q2xpY2tCdXR0b24yKFZlY3RvcjIubmV3KFVEaW0yLm5ldyguNSkpKQoJCQkJCQkJCWlkbGVjb25uZWN0OkRpc2Nvbm5lY3QoKQoJCQkJCQkJZW5kKQoJCQkJCQkJc3RvcHBlZENvdW50ID0gc3RvcHBlZENvdW50ICsgMQoJCQkJCQkJcHJpbnQoIlN0b3BwZWQgaWRsZSBkaXNjb25uZWN0ICIuLnN0b3BwZWRDb3VudC4uIiB0aW1lKHMpLiIpCgkJCQkJCQl3YWl0KCkgCgkJCQkJCXVudGlsIEFudGlBZmsgPT0gZmFsc2UKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb21tYW5kISBEaWQgeW91IHR5cGUgaXQgd3Jvbmc/IgoJCQkJCXdhcm4oIkdvdCBhbiBpbnZhbGlkIGNvbW1hbmQgYXQgcnVudGltZS4gQ29tbWFuZCByZWNlaXZlZCB3YXMgIi4udGV4dCkKCQkJCWVuZAoKCQkJCXdhaXQoMS41KQoJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlsb2NhbCBtYXRjaGVzID0gZmluZFBsYXllcih0ZXh0KQoKCQkJCWlmICNtYXRjaGVzID09IDEgdGhlbgoJCQkJCXRhcmdldCA9IG1hdGNoZXNbMV0KCQkJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgkJCQkJCQoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiBtYXRjaGVzWzFdCgkJCQkJZW5kCgkJCQkJd2FpdCgxKQoJCQkJZWxzZQoJCQkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCQkJd2FybigiVGFyZ2V0IG5vdCBmb3VuZCEgRG8gbXVsdGlwbGUgcGxheWVycyBoYXZlIHRoYXQgc2FtZSBzdWJzdHJpbmcgaW4gdGhlaXIgbmFtZXM/IikKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBUYXJnZXQhIFR5cGUgdGhlaXIgbmFtZSBhZ2Fpbi4iCgkJCQkJd2FpdCgxLjUpCgkJCQkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOmNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQoJCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJdGFyZ2V0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUKCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChUYXJnZXQgbGVmdCEpIgoJCQllbmQKCQllbmQpCgoJCWNvbW1hbmRCb3guRm9jdXNMb3N0OkNvbm5lY3QoZnVuY3Rpb24oZW50ZXJQcmVzc2VkKQoJCQlpZiBlbnRlclByZXNzZWQgdGhlbgoJCQkJaWYgY29tbWFuZEJveC5UZXh0IH49ICIiIHRoZW4KCQkJCQlpbnB1dEJveCgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQoJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAobWF0aC5jZWlsKCNidXR0b25zICogMzcpIC8gMikgLSA3KQoJCWVuZCkpCgoJCS0tIEV4cGxvaXRzCgoJCWxvY2FsIGZ1bmN0aW9uIGZmKCkKCQkJaWYgU21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuCgkJCQlpZiBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJcmV0dXJuIHRydWUKCQkJCWVsc2UKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCWVuZAoJCQllbHNlCgkJCQlyZXR1cm4gZmFsc2UKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGV4cGxvaXQoKQoJCQktLSBFeHBsb2l0IGZ1bmN0aW9uLiBXaGVuIEMgaXMgcHJlc3NlZCBhbmQgb25lIG9mIHRoZXNlIGFyZSAidHJ1ZSIsIGl0IHdpbGwgZmlyZSBpdC4KCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyCgkJCWxvY2FsIERDTSA9IFJTUi5Eb0NsaWVudE1hZ2ljCgkJCWxvY2FsIERNID0gUlNSLkRvTWFnaWMKCgkJCWlmIG12dGcuQW9Fcy5DaGFvcy5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQ2hhb3MiLCJTcGFjZS1UaW1lIFJ1cHR1cmUiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiQ2hhb3MiLAoJCQkJCVsyXSA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJPcmlnaW4iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCw1LDApCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU3Rvcm0iLCJMaWdodG5pbmcgQm9sdCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCb2x0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiT3JpZ2luIl0gPSBtb3VzZS5IaXQucCArIFZlY3RvcjMubmV3KDAsMTUsMCkKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5Tb2xhci5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU29sYXIiLCJVbm1hdGNoZWQgUG93ZXIgb2YgdGhlIFN1biIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTb2xhciIsCgkJCQkJWzJdID0gIlVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwiTGlnaHQgRGlzYyIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwKCQkJCQlbMl0gPSAiTGlnaHQgRGlzYyIsCgkJCQkJWzNdID0gewoJCQkJCQlbIlBvc2l0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJUlNSLlJlbW90ZUV2ZW50OkZpcmVTZXJ2ZXIoIkxpZ2h0RGlzYzIiKQoJCQkJd2FpdCgyKQoJCQkJUlNSLlJlbW90ZUV2ZW50OkZpcmVTZXJ2ZXIoIkxpZ2h0RGlzY0RlbGV0ZSIpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJFeHBsb3Npb24iLCAiRXhwbG9zaXZlIExlYXAiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiRXhwbG9zaW9uIiwKCQkJCQlbMl0gPSAiRXhwbG9zaXZlIExlYXAiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJMYXN0UG9zIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsICJEeWluZyBTdGFyIikKCQkJCURNOkludm9rZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRWFydGgiLCAiUm9jayBGaXN0IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkVhcnRoIiwKCQkJCQlbMl0gPSAiUm9jayBGaXN0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiR3JvdW5kZWQiXSA9IHRydWUKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTGlnaHQiLCJPcmJzIG9mIEVubGlnaHRlbm1lbnQiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiTGlnaHQiLAoJCQkJCVsyXSA9ICJPcmJzIG9mIEVubGlnaHRlbm1lbnQiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJDb29yZGluYXRlcyJdID0gewoJCQkJCQkJWzFdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzRdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzVdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzZdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzddID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzhdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzldID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzEwXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxMV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzEzXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxNF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTVdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE2XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxN10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMThdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE5XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsyMF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCkKCQkJCQkJfSwKCQkJCQkJWyJPcmlnaW4iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuUmVhcGVyLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJSZWFwZXIiLCAiUmVhcGVyJ3MgUmFnZSIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJSZWFwZXIiLAoJCQkJCVsyXSA9ICJSZWFwZXIncyBSYWdlIiwKCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAkJCgoJCQlpZiBtdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNyZWF0aW9uIiwgIkNvbnRpbnVvdXMgU3RyaWtlcyIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJDcmVhdGlvbiIsCgkJCQkJWzJdID0gIkNvbnRpbnVvdXMgU3RyaWtlcyIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkNGIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCVsiQ2hhcmdlIl0gPSAiMiIKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIikKCQkJCURNOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIikKCQkJCURNOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiLCB7bGFzdE1vdXNlUG9zaXRpb24gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlN0b3JtIiwgIkxpZ2h0bmluZyBEaXNwZXJzaW9uIiwge0dyb3VuZGVkID0gdHJ1ZX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvbGFyIiwiRG91YmxlIFJheSIpCQkJCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTb2xhciIsCgkJCQkJWzJdID0gIkRvdWJsZSBSYXkiLAoJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQoJCQkJfQkJCQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIKCQkJCX0JCQkKCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlN0b3JtIiwKCQkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJEaXJlY3Rpb24iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQoJCQkJCX0KCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwKCQkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiCgkJCQl9CgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwKCQkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiLAoJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLDUwMCwwKSkKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGlyaXQiLAoJCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwaXJpdCIsCgkJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuRmlyZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDE1LCAwKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuTGlnaHQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50IikKCQkJCURNOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuTGlnaHQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50Iiwge09yaWdpbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMjUsIDApLCBvcmJQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDEwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIikKCQkJCURNOkludm9rZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciLCB7cG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxNTAsIDApfSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5UaW1lLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5IiwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJRE06SW52b2tlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5Iiwge2x2ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIGNoYXJnZSA9IEdSQ2hhcmdlfSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuVGltZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCURNOkludm9rZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB7cmhpdCA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LCBub3JtID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIHJwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSBhbmQgRWNob2VzUGhhc2Ugfj0gbmlsIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiKQoJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJRE06SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkKCQkJCWVsc2UKCQkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgbW91c2UuSGl0LnB9KQoJCQkJZW5kCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIikKCQkJCURNOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRHJhZ29uIiwgIkZvcm1pZGFibGUgUm9hciIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCAxNzV9KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5BY2lkLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJCURDTTpGaXJlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIikKCQkJCURNOkludm9rZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIsIHtEaXJlY3Rpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIEZsb29yID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lfSkKCQkJCXdhaXQoMTcuNSkKCQkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlCgkJCQllbmQKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuQW5nZWwuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIsIHtQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgNTAsIDApfSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuU2xpbWUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNwbGl0dGluZyBTbGltZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNsaW1lIiwgIlNwbGl0dGluZyBTbGltZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDIwLCAwKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiwgVmVjdG9yMy5uZXcoMCwgMCwgMCl9KQoJCQllbmQKCQllbmQKCgkJLS1bW2xvY2FsIGZ1bmN0aW9uIEJlZ2luVHJhY2tpbmcoKQoJCQlsb2NhbCBjID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5DdXJyZW50Q2FtZXJhCgkJCWxvY2FsIGhiID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0CgkJCWxvY2FsIG0gPSBwbGF5ZXI6R2V0TW91c2UoKQoJCQlsb2NhbCBwID0gYzpXb3JsZFRvU2NyZWVuUG9pbnQocGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQloYjpjb25uZWN0KGZ1bmN0aW9uKHN0ZXApCgkJCQltb3VzZW1vdmVhYnMocC5YLCAocC5ZICsgMjUpKQoJCQllbmQpCgkJZW5kXV0gLS0gRm9yIEFpbWJvdCwgY3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50CgoJCS0tIFVJUwoKCQlsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQoJCWxvY2FsIHRlcm1pbmF0ZXVpcyA9IGZhbHNlCgkJbG9jYWwgY29ubmVjdGlvbgoKCQljb25uZWN0aW9uID0gVUlTLklucHV0QmVnYW46Y29ubmVjdChmdW5jdGlvbihpbnB1dCwgZ3ApCgkJCWlmIG5vdCB0ZXJtaW5hdGV1aXMgdGhlbgoJCQkJaWYgbm90IGdwIHRoZW4KCQkJCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIKCgkJCQkJaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWmVybyB0aGVuCgkJCQkJCWNvbW1hbmRCb3g6Q2FwdHVyZUZvY3VzKCkKCQkJCQkJd2FpdCgpCgkJCQkJCWlmIHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCksIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSkgPT0gIjAiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3guVGV4dCA9IHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCAxLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkgLSAxKQoJCQkJCQllbmQKCQkJCQktLVtbZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkwgdGhlbgoJCQkJCQl0b2dnbGVBaW1ib3QoKV1dCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkMgdGhlbgoJCQkJCQlleHBsb2l0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVSB0aGVuCgkJCQkJCVRQVG9UYXJnZXQoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5LIHRoZW4KCQkJCQkJQW50aUJsaW5kRnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlQgdGhlbgoJCQkJCQliZWdpblNwZWVkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWCB0aGVuCgkJCQkJCWlmIFNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgdGhlbgoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5QIHRoZW4KCQkJCQkJaWYgU2Fuc1RlbGVwb3J0RW5hYmxlZCB0aGVuCgkJCQkJCQlpZiBnYW1lLlBsYWNlSWQgPT0gNTY2Mzk5MjQ0IG9yIGdhbWUuUGxhY2VJZCA9PSAyNTY5NjI1ODA5IHRoZW4KCQkJCQkJCQlsb2NhbCBTYW5zUG9zID0gQ0ZyYW1lLm5ldygtMTY4NS45MTA1MiwgMjMwLjAzNTEyNiwgLTE4MS43OTgyNjQpCgkJCQkJCQkJbG9jYWwgU2Fuc0FuZ2xlcyA9IENGcmFtZS5BbmdsZXMoMCwgbWF0aC5yYWQoMjApLCAwKQoKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gU2Fuc1BvcyAqIFNhbnNBbmdsZXMKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkNoYW5nZVN0YXRlKEVudW0uSHVtYW5vaWRTdGF0ZVR5cGUuQ2xpbWJpbmcpCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCQlpZiBub3QgRnJlZXplRW5hYmxlZCB0aGVuCgkJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlogdGhlbgoJCQkJCQliZWdpbk51bGxpZnlGb3JjZXMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5HIHRoZW4KCQkJCQkJQW50aUdyYXZpdHlGdW5jKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSiB0aGVuCgkJCQkJCWlmIENsaWNrVFBFbmFibGVkIHRoZW4KCQkJCQkJCWNsaWNrdHAobW91c2UuSGl0KQoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRiB0aGVuCgkJCQkJCUZyZWV6ZUZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrcXVvdGUgdGhlbgoJCQkJCQlpZiBtdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQkJCQlsb25nZmxhc2goKQoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuViB0aGVuCgkJCQkJCXZpZXcoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CIHRoZW4KCQkJCQkJdG9nZ2xlRVNQKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTSB0aGVuCgkJCQkJCXRvZ2dsZUVTUEdvbGQoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0QnJhY2tldCB0aGVuCgkJCQkJCWlmIG5vdCBjbG9zZWRmb3JldmVyIHRoZW4KCQkJCQkJCWlmIG5vdCBidXR0b25zZGVib3VuY2UgdGhlbgoJCQkJCQkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUKCQkJCQkJCQlpZiBidXR0b25zb3BlbmVkID09IGZhbHNlIHRoZW4KCQkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IHRydWUKCQkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwKCQkJCQkJCQkJCSJPdXQiLAoJCQkJCQkJCQkJIlNpbmUiLAoJCQkJCQkJCQkJLjUsCgkJCQkJCQkJCQl0cnVlCgkJCQkJCQkJCSkKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSBmYWxzZQoJCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLAoJCQkJCQkJCQkJIkluIiwKCQkJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkJCS41LAoJCQkJCQkJCQkJdHJ1ZQoJCQkJCQkJCQkpCgkJCQkJCQkJZW5kCgkJCQkJCQkJd2FpdCgxKQoJCQkJCQkJCWJ1dHRvbnNkZWJvdW5jZSA9IGZhbHNlCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlJpZ2h0QnJhY2tldCB0aGVuCgkJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUKCQkJCQkJaWYgY29tbWFuZHNvcGVuZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZHNvcGVuZWQgPSB0cnVlCgkJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC40NSwgMCksCgkJCQkJCQkJIk91dCIsCgkJCQkJCQkJIlNpbmUiLAoJCQkJCQkJCS41LAoJCQkJCQkJCXRydWUKCQkJCQkJCSkKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZHNvcGVuZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApLAoJCQkJCQkJCSJJbiIsCgkJCQkJCQkJIlNpbmUiLAoJCQkJCQkJCS41LAoJCQkJCQkJCXRydWUKCQkJCQkJCSkKCQkJCQkJZW5kCgkJCQkJCXdhaXQoMSkKCQkJCQkJY29tbWFuZGRlYm91bmNlID0gZmFsc2UKCQkJCQllbHNlaWYgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuTGVmdCkgYW5kIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLlJpZ2h0KSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUaGFua3MgZm9yIHVzaW5nIEVCR3VpISIKCQkJCQkJd2FpdCgyKQoJCQkJCQlpZiBidXR0b25zb3BlbmVkID09IHRydWUgdGhlbgoJCQkJCQkJdGVybWluYXRldWlzID0gdHJ1ZQoJCQkJCQkJdGVybUVCR3VpKCkKCQkJCQkJCWNvbm5lY3Rpb246RGlzY29ubmVjdCgpCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJLS0gU2NyaXB0cyBhbmQgRnVuY3Rpb25zIEVORAoKCQktLSBFbnRyYW5jZSBBbmltYXRpb24KCgkJd2FpdCgwLjUpCgoJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwKCQkJIk91dCIsCgkJCSJTaW5lIiwKCQkJLjUsCgkJCXRydWUKCQkpCgoJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQlVRGltMi5uZXcoMSwgMCwgMC40NSwgMCksCgkJCSJPdXQiLAoJCQkiU2luZSIsCgkJCS41LAoJCQl0cnVlCgkJKQoKCQktLSBJbmZvCgoJCXByaW50KFtbCgoJCV1dKQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJXZWxjb21lIHRvIEVCR3VpISIKCQl3YWl0KDIpCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJZW5kLCBmdW5jdGlvbihlKQoJCWxvY2FsIGNyYXNoID0gewoJCQkiSSdtIHNvLCBzbywgc28gc28gU08gc29ycnkhIiwKCQkJIldhdGVyIGNvb2xpbmc/IEkgcHJlZmVyIGxhdmEgY29vbGluZy4iLAoJCQkiWW91ciBFQkd1aSByYW4gaW50byBhIHByb2JsZW0gYW5kIG5lZWRzIHRvIHJlc3RhcnQuIiwKCQkJIlNUT1AgQ29kZTogMHhERUFEQkVFRiIsCgkJCSJJcyB0aGlzIHdoYXQgZGV2ZWxvcG1lbnQgaXMgbGlrZT8gSSBoYXRlIGl0LiIsCgkJCSJUaGUgVW5zdG9wcGFibGUgTWFyY2hpbmcgb0YgdGlNZSB0aGF0IGlzIHNsT3dseSBndWlkaW5nIHVzIGFsbCB0T3dhcmRzIGFuIEluZXZpdGFCbEUgREVBVEguIFRoYXQgc3BlbGxzIFwiVHVtIEZNLiBPd08gTywgSSBiZSBkZWF0aC5cIiIsCgkJCSJJIGd1ZXNzIHlvdSBjb3VsZCBjYWxsIG1lIGFuIFwiT29lclwiLiIsCgkJCSJFcnJvciBNZXNzYWdlISIsCgkJCSJXaG9vcHMsIHdlJ3JlIGxvdyBvbiBtZW1vcnkhIFRyeSByZW1lbWJlcmluZyBsYXRlci4iLAoJCQkiV2hvb3BzLCB3ZSdyZSBsb3cgb24gbWVtZW9yeS4gVHJ5IHNlbmRpbmcgUGVwZXMgbGF0ZXIuIiwKCQkJIk9rYXksIHdobyBraWxsZWQgdGhlIGNvbXB1dGVyIGhhbXN0ZXJzPyIsCgkJCSJDYW4ndCBrZWVwIHVwISBJcyB0aGUgc2NyaXB0IG92ZXJsb2FkZWQsIG9yIGhhdmUgeW91IG1lbHRlZCB5b3VyIENQVT8iLAoJCQkiT2gsIGNvbmdyYXR1bGF0aW9ucywgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiLCB5b3UgYnJva2UgaXQhIiwKCQkJIkkgc3dlYXIgdGhhdCB3YXMgaW50ZW50aW9uYWwuIiwKCQkJIkkgcHJvbWlzZSBpdCB3b24ndCBoYXBwZW4gYWdhaW4uIiwKCQkJIk9rYXksIGdvbm5hIGJlIHJlYWwsIE5PIENMVUUgd2hhdCB3ZW50IHdyb25nIHRoZXJlLiIsCgkJCSJPaCwgbm8sIG5ldmVybWluZCwgSSBrbm93IGV4YWN0bHkgd2hhdCB3ZW50IHdyb25nLiIsCgkJCSJBIHByaWVzdCwgYSBtaW5pc3RlciwgYW5kIGEgcmFiYml0IHdhbGsgaW50byBhIGJsb29kIGJhbmsuIiwKCQkJIlRoZSBudXJzZSBvbiBkdXR5IGFza3MgdGhlIHRocmVlIGZvciB0aGVpciBibG9vZCB0eXBlIGdyb3VwIHRvIGdldCB0aGVtIHNldCB1cC4iLAoJCQkiVGhlIHByaWVzdCwgZGlnbmlmaWVkLCBzYXlzIFwiSSdtIEFCIVwiLiIsCgkJCSJUaGUgbWluaXN0ZXIsIGluZGlmZmVyZW50LCByZXBsaWVzIFwiSSBiZWxpZXZlIEknbSB0eXBlIEEuXCIiLAoJCQkiVGhlIHJhYmJpdCwgc2h5bHkgYW5kIG5lcnZvdXNseSwgbG9va3MgYXJvdW5kIHRoZSByb29tLCBiZWZvcmUgYW5ub3VuY2luZywgXCJJIHRoaW5rIEkgbWlnaHQgYmUgYSB0eXBlIE8uXCIuIiwKCQkJIkhleSwgcmVtZW1iZXIgdGhhdCB0aW1lIHlvdSAqZGlkbid0KiBicmVhayBldmVyeXRoaW5nPyBNZSBuZWl0aGVyLiIsCgkJCSJPb3BzLCBteSBiYWQuIiwKCQkJIk1heWJlIGlmIHlvdSBib3VnaHQgR29sZCB0aGlzIHdvdWxkbid0IGhhdmUgaGFwcGVuZWQuIiwKCQkJIlF1aWNrLCB0byB0aGUgRGlzY29yZCEiLAoJCQkiTm93IHdvdWxkIGJlIGEgZmFudGFzdGljIHRpbWUgdG8gZ28gb3BlbiBhIHRpY2tldC4uLiIsCgkJCSJUaGlzIGlzIHdoYXQgSSBnZXQ/IEkgZG8gYWxsIG9mIHRoaXMgZm9yIHlvdSwgYW5kIHlvdSBraWxsIG1lPyIsCgkJCSJXaG8gdGhlIGhlbGwgc2FpZCBcIm9tYWUgd2EgbW91IHNoaW5kZXJ1XCIgYXQgbWU/ISIsCgkJCSJZb3UncmUgbHVja3kgdGhpcyBpcyBSb2Jsb3ggb3IgSSdkIGhhdmUgc29tZSBjaG9pY2Ugd29yZHMgZm9yIHlvdS4iLAoJCQkiRGlkIHRoYXQgcmVhbGx5IGp1c3QgaGFwcGVuPyEiLAoJCQkiR29kLCBJJ20gc28gc29ycnksIEkgcHJvbWlzZSBJJ2xsIGRvIGJldHRlci4iLAoJCQkiVGhpcyBpcyB1c3VhbGx5IHRoZSBwYXJ0IHdoZXJlLSBvaCwgdGhlcmUncyB0aGF0IGNyYXNoIGR1bXAuIiwKCQkJIlVuZm9ydHVuYXRlbHksIGl0IGFwcGVhcnMgSSd2ZSBkcm9wcGVkIGl0LiIsCgkJCSJXZSdyZSBjdXJyZW50bHkgZXhwZXJpZW5jaW5nIHRlY2huaWNhbCBkaWZmaWN1bHRpZXMuIFBsZWFzZSBzdGFuZCBieS4iLAoJCQkiVG9uaWdodCwgd2UgYXJlIHVuYWJsZSB0byBicmluZyB5b3UgQmluZ28gTmlnaHQgTGl2ZS4iLAoJCQkiWWFrbm93LCBpZiB0aGlzIHdlcmUgYSBCQkMgdGVsZXZpc2lvbiBicm9hZGNhc3QsIHRoaXMgaXNzdWUgbWlnaHQgc2VlbSBub3JtYWwuIiwKCQkJIkl0J3MganVzdCBvbmUgb2YgdGhvc2UgZGF5cywgaXNuJ3QgaXQ/IiwKCQkJIkp1c3Qgd2hhY2sgdGhlIHNpZGUgYSBjb3VwbGUgdGltZXMsIHRoYXQgc2hvdWxkIGRvIGl0LiIsCgkJCSJPbiB0aGUgZmlyc3QgZGF5IG9mIENocmlzdG1hcywgbXkgdHJ1ZSBsb3ZlIGdhdmUgdG8gbWUuLi4iLAoJCX0KCgkJcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCgkJcHJpbnQoY3Jhc2hbbWF0aC5yYW5kb20oMSwjY3Jhc2gpXSkKCQlwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKCQl3YXJuKCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIEVCR3VpISIpCgkJcHJpbnQoZSkKCQlwcmludCgiVGhpcyBjcmFzaCByZXBvcnQgd2FzIGdlbmVyYXRlZCBvbiAiIC4uIG9zLmRhdGUoJyV4ICVYJyxvcy50aW1lKCkpIC4uICIgYW5kIHdpbGwgYmUgc2F2ZWQgaW4geW91ciBleGVjdXRvcidzIFdvcmtzcGFjZSBmb2xkZXIuIikKCgkJbG9jYWwgdWYgPSBvcy5kYXRlKCIleF8lWCIsb3MudGltZSgpKQoJCWxvY2FsIGRmID0gc3RyaW5nLmdzdWIodWYsIi8iLCItIikKCQlsb2NhbCBkdGYgPSBzdHJpbmcuZ3N1YihkZiwiOiIsIi0iKQoJCWxvY2FsIGV4ZWMgPSBpZGVudGlmeWV4ZWN1dG9yKCkKCgkJaWYgbm90IGlzZm9sZGVyKCJFQkd1aSIpIHRoZW4gbWFrZWZvbGRlcigiRUJHdWkiKSBlbmQKCQl3cml0ZWZpbGUoIkVCR3VpXFxDcmFzaER1bXAtIi4uZHRmLi4iLnR4dCIsCgoJCSItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIiAuLiBjcmFzaFttYXRoLnJhbmRvbSgxLCNjcmFzaCldIC4uICJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiIgLi4KCgkJW1tFQkd1aSBzdG9wcGVkIGV4ZWN1dGluZyBiZWNhdXNlIGl0IGVuY291bnRlcmVkIGEgcHJvYmxlbSBpdCBkaWRuJ3Qga25vdyBob3cgdG8gaGFuZGxlLgoJCQpQbGVhc2UgcmVwb3J0IHRoaXMgY3Jhc2ggaW4gdGhlIERpc2NvcmQgYnkgZ29pbmcgdG8gI3JvYm90cy11bml0ZSBhbmQgb3BlbmluZyBhIHRpY2tldC5dXSAuLgoKCQkiLS0gQmVnaW4gRXJyb3IgUmVwb3J0IC0tXG4oR2VuZXJhdGVkIG9uICIgLi4gdWYgLi4gIilcblxuIiAuLgoKCQkiRXhlY3V0b3I6ICIgLi4gdG9zdHJpbmcoZXhlYykgLi4KCQkiXG5DbGllbnQgSUQ6ICIgLi4gdG9zdHJpbmcoY2xpZW50aWQpIC4uCgkJIlxuUGxhY2VJZDogIiAuLiB0b3N0cmluZyhnYW1lLlBsYWNlSWQpIC4uCgkJIlxuU21hcnRBdHRhY2sgRW5hYmxlZD86ICIgLi4gdG9zdHJpbmcoU21hcnRBdHRhY2spIC4uCgkJIlxuSXMgR29sZD86ICIgLi4gdG9zdHJpbmcoaXNHb2xkKSAuLiAKCQkiXG5JcyBNYXN0ZXI/OiAiIC4uIHRvc3RyaW5nKGlzTWFzdGVyKSAuLgoKCQkiXG5cbkVycm9yOiAiIC4uIGUgLi4KCQkiXG5BdDogIiAuLiBkZWJ1Zy50cmFjZWJhY2soKSAuLgoKCQkiXG5cbi0tIEVuZCBFcnJvciBSZXBvcnQgLS0iKQoJZW5kKQplbmQ="