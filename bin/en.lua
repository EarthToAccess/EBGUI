encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CgkxODc3MjYzMTMzCQp9Cgpsb2NhbCBtYXN0ZXJsaXN0ID0gewoJIjYzMzA1NzVlLThiOWMtNGZiNi1hNDJkLWJhYTU1NTZiNmU5OSIKfQoKbG9jYWwgZ29sZGxpc3QgPSB7CglbIk1haW4iXSA9ICJHXzE1NzM0NV9WOFV3QmZ2bzNqXzAxMjAyMyIsCglbIlByb21vIl0gPSB7CgkJWyJ3ZWxsZmVkIl0gPSB7CgkJCVsiS2V5Il0gPSAiUF81MjUxNjhfV3RZRmxoYUF2cV8wMTIwMjMiLAoJCQlbIlRpbWUiXSA9IDE2NzU0Njg4MDAKCQl9Cgl9Cn0KCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIFJTUiA9IGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJSZW1vdGVzIikKbG9jYWwgSUQgPSBwbGF5ZXIuVXNlcklkCmxvY2FsIGlzQmxvY2tlZCA9IGZhbHNlCmxvY2FsIGlzTWFzdGVyID0gZmFsc2UKbG9jYWwgaXNHb2xkID0gZmFsc2UKbG9jYWwgdmVyTnVtID0gInYzLjEuMSIKCmlmIEVCR3VpR29sZCA9PSBuaWwgdGhlbiBlbHNlCglpZiBFQkd1aUdvbGQgPT0gZ29sZGxpc3QuTWFpbiB0aGVuCgkJaXNHb2xkID0gdHJ1ZQoJZWxzZQoJCWZvciBpLHYgaW4gcGFpcnMoZ29sZGxpc3QuUHJvbW8pIGRvCgkJCWlmIEVCR3VpR29sZCA9PSB2LktleSBhbmQgb3MudGltZSgpIDwgdi5UaW1lIHRoZW4KCQkJCWlzR29sZCA9IHRydWUKCQkJCWJyZWFrCgkJCWVuZAoJCWVuZAoJZW5kCmVuZAoKZm9yIGksdiBpbiBwYWlycyhibG9ja2xpc3QpIGRvCiAgICBpZiB2ID09IElEIHRoZW4KICAgICAgICBpc0Jsb2NrZWQgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8KICAgIGlmIHY6bG93ZXIoKSA9PSBjbGllbnRpZCB0aGVuCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmlmIGlzQmxvY2tlZCB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgVGhpcyBhY2NvdW50IGhhcyBiZWVuIGJsb2NrZWQuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCglnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuRGVmYXVsdENoYXRTeXN0ZW1DaGF0RXZlbnRzLlNheU1lc3NhZ2VSZXF1ZXN0OkZpcmVTZXJ2ZXIoIkkganVzdCB0cmllZCB0byB0dXJuIG9uIGV4cGxvaXRzIHdoaWxlIGJlaW5nIGJsb2NrZWQgZnJvbSB1c2luZyB0aGUgc2NyaXB0ISBJJ20gYmlnLCBmYXQsIGFuZCBzdHVwaWQhIiwiQWxsIikKZWxzZWlmIG5vdCAoRUJHdWlLZXkgb3IgaXNCbG9ja2VkIG9yIGlzTWFzdGVyIG9yIGlzR29sZCkgdGhlbgogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91IGRvbid0IGhhdmUgdGhlIHVubG9jayBrZXkgaW4geW91ciBzY3JpcHQuICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQplbHNlaWYgKEVCR3VpS2V5IH49ICIyMDYxNTZfT1Y1eXRHbFlHUl8wMTIwMjMiIGFuZCBub3QgaXNHb2xkKSBhbmQgbm90IChpc0Jsb2NrZWQgb3IgaXNNYXN0ZXIpIHRoZW4KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKZWxzZQoJeHBjYWxsKGZ1bmN0aW9uKCkKCQlsb2NhbCBkdW1iUXVvdGVzID0gewoJCQkiSmVleiwgd2hlbidkIGl0IGdldCBzbyBob3QgaW4gaGVyZT8iLAoJCQkiSXMgaXQganVzdCBtZSBvciBpcyB0aGF0ICp0b28qIGJsdWU/IiwKCQkJIkxpa2UgdGFraW5nIGNhbmR5IGZyb20gYSBiYWJ5LiIsCgkJCSJEZWV6IG51dHMgYXJlIHRvbyBzcXVhcmUhIiwKCQkJIkFsc28gdHJ5IE1pbmVjcmFmdCEiLAoJCQkiQWxzbyB0cnkgVGVycmFyaWEhIiwKCQkJIk1laCwgSSBsaWtlZCBSaXNrIG9mIFJhaW4gMiBiZXR0ZXIuIiwKCQkJIllvdSBuZWVkIGEgZmFpcmx5IGhpZ2ggSVEgdG8gdW5kZXJzdGFuZCBFQkd1aS4iLAoJCQkiSmFrZSwgZnJvbSBTdGF0ZSBGYXJtPyEiLAoJCQkiV2hhdCB3b3VsZCAqeW91KiBkbyBmb3IgYSBLbG9uZGlrZSBiYXI/IiwKCQkJIk5vdyB3aXRoIDEwMCUgbW9yZSBHb2xkISIsCgkJCSJNYWRlIGluIEx1YSEiLAoJCQkiSUYgJUVSUk9STEVWRUwlIEVRVSAxIEdPVE86RU9GIiwKCQkJImJydWggbmVyZiBzb2xhciBhbHJlYWR5IiwKCQkJIkJlY2F1c2UgdGhlIGRldnMgd29uJ3QgZG8gaXQuIiwKCQkJIlBldGl0aW9uIFlPVVIgbG9jYWwgZGV2ZWxvcGVyIGZvciBtb3JlIHVwZGF0ZXMhIiwKCQkJIndoeSBhcmUgeW91IGJ1eWluZyBjbG90aGVzIGF0IHRoZSBzb3VwIHN0b3JlIiwKCQkJIkkganVzdCB3YW5uYSBiZSBhIG5vcm1hbCBHVUkgd2l0aCBub3JtYWwga25lZXMuIiwKCQkJIjooKXs6fDomfTs6IiwKCQkJIkM6XFxET1MuIEM6XFxET1NcXFJVTiBSVU5cXERPU1xcUlVOLiIsCgkJCSJMdWFVOyBCZWNhdXNlIG5vcm1hbCBMdWEgd2FzIGp1c3QgdG9vIGVhc3kuIiwKCQkJImlsa28uLHV5dWtpanksaGdoeXRmcmVlM3ZmZ3czMndxcXdxIiwKCQkJIlNvcnJ5IGZvciB0aGF0IG9uZSBxdW90ZS4gTXkgY2F0IGdvdCBvbiBteSBrZXlib2FyZC4iLAoJCQkiSSBkb24ndCBhY3R1YWxseSBoYXZlIGEgY2F0LiIsCgkJCSJUaGlzIHNlbnRlbmNlIGlzIGZhbHNlLiIsCgkJCSJXZWxsIG5vdywgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiLCBkb24ndCB3ZSBoYXZlIGEgcHJlZGljYW1lbnQhIiwKCQkJIkplZSwgQmlsbCwgaG93IGNvbWUgeW91ciBtb20gbGV0cyB5b3UgaGF2ZSBUV08gd2VpbmVycz8hIiwKCQkJIkknZCBsaWtlIHRvIHRoYW5rIG15IG1vbSBhbmQgbXkgZGFkLCIsCgkJCSJZJ2tub3cgdGhleSByZWFsbHkgZ290dGEgc3RhcnQgcGF0Y2hpbmcgbW9yZS4iLAoJCQkiTmljZSB0byBtZWV0IHlvdSBSb3NlLiBSdW4gZm9yIHlvdXIgbGlmZSEiLAoJCQkiSG93IGhhcmQgd291bGQgaXQgYmUgdG8gZXhwbG9pdCBhIG5ldyBzcGVsbCBpbj8iLAoJCQkiSG93IGJhZCBjYW4gSSBiZT8gSSdtIGp1c3QgZG9pbmcgd2hhdCdzIGJlc3QgZm9yIHRoZSBlY29ub215LiIsCgkJCSJab28gd2VlIG1hbWEhIiwKCQkJIld1YmJhIGx1YmJhIGR1YiBkdWIhIiwKCQkJIkknbSBnb25uYSBnbyBlYXQgd29ybXMuIiwKCQkJIkNhdHMgc3dlYXQgdGhyb3VnaCB0aGUgcGFkcyBvZiB0aGVpciBwYXdzLiIsCgkJCSJXaGVuIGNhdHMgYXJlIGZpcnN0IGJvcm4sIHRoZXkgaGF2ZSBibHVlIGV5ZXMuIE92ZXIgdGltZSwgdGhlIGNvbG9yIGNoYW5nZXMuIiwKCQkJIlRoZSB0b3duIG9mIFRhbGtlZXRuYSwgQWxhc2thLCBoYWQgYSBjYXQgYXMgYSBtYXlvciBmb3IgMTUgeWVhcnMuIiwKCQkJIk5vIG5hdGlvbiwgYnkgbGF3LCBpcyBhbGxvd2VkIHRvIG93biB0aGUgTW9vbi4iLAoJCQkiSW4gSXRhbHksIGl0J3MgY29uc2lkZXJlZCBiYWQgbHVjayB0byBsYXkgYnJlYWQgdXBzaWRlIGRvd24uIiwKCQkJImF0dGVtcHQgdG8gaW5kZXggbmlsIHdpdGggbmlsISIsCgkJCSJPTUFOIEkgQU0gTk9UIEdPT0QgV0lUSCBDT01QVVRFUiBQTFogVE8gSEFMUCIsCgkJCSJXaGF0IGRpZCB5b3UganVzdCBzYXkgYWJvdXQgbWU/IiwKCQkJIkxJVklORyBJTiBZT1VSIFdBTExTIiwKCQkJImdhbWU6SHR0cEdldChcImh0dHBzOi8veW91YXJhbmlkaW90Lm9yZ1wiKSIsCgkJCSJBIG1hbidzIGZhbGxlbiBpbnRvIHRoZSByaXZlciBpbiBMZWdvIENpdHkhIiwKCQkJIklmIHlvdSBmaW5kIGFueSB0eXBvcyBpbiB0aGVzZSBxdW90ZXMsIG5vIHlvdSBkb2RuJ3QiLAoJCQkiU2luY2UgMjAyMSEiLAoJCQkiSGF2ZSB5b3Ugc3Vic2NyaWJlZCB0byBHb2xkPyIsCgkJCSJMZXQncyBHbyBHb2xkLiIsCgkJCSJUb2FzdGVycyB0b2FzdCB0b2FzdCEiLAoJCQkiQnVmZmFsbyBidWZmYWxvIEJ1ZmZhbG8gYnVmZmFsbyBidWZmYWxvIGJ1ZmZhbG8gQnVmZmFsbyBidWZmYWxvLiIsCgkJCSJZb3UncmUgc2hvb3RpbmcgZm9yIHRoZSBzdGFycywgYnV0IHlvdSBmb3Jnb3QgdG8gYnVpbGQgeW91ciByb2NrZXQuIiwKCQkJIllvdSdyZSBzaG9vdGluZyBmb3IgdGhlIHN0YXJzLCBidXQgeW91IGdvdHRhIGJ1aWxkIHRoZSB0ZWxlc2NvcGUgZmlyc3QuIiwKCQkJIkp1c3Qgb25lIHNtYWxsIHBvc2l0aXZlIHRob3VnaHQgaW4gdGhlIG1vcm5pbmcgaGFzIHRoZSBwb3RlbnRpYWwgdG8gY2hhbmdlIHlvdXIgd2hvbGUgZGF5LiIsCgkJCSJPcHBvcnR1bml0aWVzIGRvbid0IGp1c3QgaGFwcGVuLCB5b3UgY3JlYXRlIHRoZW0uIiwKCQkJIkYuSS5TLkguIEZvcmdldCBJdCwgU3R1ZmYgSGFwcGVucy4iLAoJCQkiWW91IGluc2VjdXJlIHR1cmQgaGFtbWVyISIsCgkJCSJHbGFkIHRvIHNlZSB5b3Ugd29uIHRoZSBEYXJ3aW4gQXdhcmQhIiwKCQkJIllvdSBkb251dC4iLAoJCQkiWW91IGhvdXNlcGxhbnQuIiwKCQkJIkhlbGxvLCBldmVyeWJvZHksIG15IG5hbWUgaXMgTWFya2lwbGllci4iLAoJCQkiVlNhdWNlLCBNaWNoYWVsIGhlcmUuIiwKCQkJIkZ1ZG5pbmcgZm9yIHRoaXMgcHJvZ3JhbSB3YXMgbWFkZSBwb3NzaWJsZSBieSBjb250cmlidXRpb25zIGZyb20gdmlld2VycyBsaWtlIHlvdS4iLAoJCQkiU3BvbnNvcmVkIGJ5IE9wZW5BSSEgQnV0IG5vdCByZWFsbHkuIiwKCQkJIkEgZGFtbiBhcnRpZmljaWFsIGludGVsbGlnZW5jZSB0YXVnaHQgbWUgaG93IHRvIHByb2dyYW0sIEknbSBhYnNvbHV0ZWx5IGxpdmlkIiwKCQkJIkRvbid0IGNhcmUsIGRpZG4ndCBhc2ssIGNyeSBhYm91dCBpdCwgc3RheSBtYWQsIGdldCByZWFsLCBMLCBtYWxkLCBzZWV0aGUsIGNvcGUiLAoJCQkiVGhpcyBpcyBEb3VnRG91Zywgd2hlcmUgd2Ugc29sdmUgcHJvYmxlbXMgdGhhdCBub2JvZHkgaGFzLiIsCgkJCSJQYWlkIGZvciB0aHJvdWdoIHRoZSBlbWJlenpsZW1lbnQgb2YgbGVtb25zLiIsCgkJCSJJJ20gd2FudGVkIGluIG51bWVyb3VzIGNvdW50cmllcyBmb3Igd2FyIGNyaW1lcyEiLAoJCQkiSSBnb3QgYSByb2NrLiIsCgkJCSJIZWxsbywgTXguICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgYW5kIHdlbGNvbWUgdG8gS29ucGVraSBQbGF6YS4iLAkJCgkJfQoKCQlsb2NhbCBmcmllbmRseURhdGUgPSBvcy5kYXRlKCIlYiAlZCIpCgkJaWYgZnJpZW5kbHlEYXRlID09ICJEZWMgMjUiIHRoZW4KCQkJcHJpbnQoIk1FUlJZIENIUklTVE1BUyEiKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkF1ZyAyMSIgdGhlbgoJCQlwcmludCgiSEFQUFkgQklSVEhEQVkhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJPY3QgMDMiIHRoZW4KCQkJcHJpbnQoIlRlbGwgRWFydGggeW91IHNhaWQgaGFwcHkgYmlydGhkYXkhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJPY3QgMzEiIHRoZW4KCQkJcHJpbnQoIklTIFNQT09LWSBNT05USCEiKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkphbiAwMSIgdGhlbgoJCQlwcmludCgiSEFQUFkgTkVXIFlFQVIhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJGZWIgMTQiIHRoZW4KCQkJcHJpbnQoIkdpdmUgeW91ciBsb3ZlIHRoZSBnaWZ0IG9mIEdvbGQuIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJBcHIgMDEiIHRoZW4KCQkJcHJpbnQoIllvdSBmZWVsIGEgY2hpbGwgZ28gZG93biB5b3VyIHNwaW5lLiIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiSnVsIDA0IiB0aGVuCgkJCXByaW50KCInTVVSSUNBISEhISEhISEhISIpCgkJZW5kCgoJCXdhcm4oW1stLS0tLS0tLS0tLS0tLS0tCgkJCQlfX19fX18gX19fX18gX19fX18gICAgICAgXyAKCQkJCXwgIF9fX3wgX19fIFwgIF9fIFwgICAgIChfKQoJCQkJfCB8X18gfCB8Xy8gLyB8ICBcL18gICBfIF8gCgkJCQl8ICBfX3x8IF9fXyBcIHwgX198IHwgfCB8IHwKCQkJCXwgfF9fX3wgfF8vIC8gfF9cIFwgfF98IHwgfAoJCQkJXF9fX18vXF9fX18vIFxfX19fL1xfXyxffF98ICBdXS4udmVyTnVtKQoJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0iKQoJCXByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCXByaW50KGR1bWJRdW90ZXNbbWF0aC5yYW5kb20oMSwjZHVtYlF1b3RlcyldKQoJCXByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCXdhcm4oIldlbGNvbWUgdG8gRUJHdWksICIgLi4gcGxheWVyLk5hbWUgLi4gIiEiKQoJCXdhcm4oIllvdSdyZSBvbiB0aGUgU3RhYmxlIGJyYW5jaCBvZiBFQkd1aSIpCgkJd2FybigiUXVlc3Rpb25zIG9yIGNvbmNlcm5zPyBMZXQgdXMga25vdyBpbiB0aGUgRGlzY29yZCwiKQoJCXdhcm4oIm9yIGVtYWlsIEVhcnRoIGhpbXNlbGYgYXQgZWFydGh0b2FjY2Vzc0BnbWFpbC5jb20hIikKCQl3YWl0KDAuNSkKCQkKCQlpZiBpc01hc3RlciB0aGVuCgkJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpICAgCgkJCXdhcm4oIkxvYWRlZCBpbiB1c2luZyB0aGUgTWFzdGVyIExpc3QhIE92ZXJyaWRpbmcgYWNjZXNzIGdpdmVuLiIpCgkJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCgkJZW5kCgoJCWlmIGlzR29sZCB0aGVuCgkJCXByaW50KFtbCQkJCV9fX18gICAgICAgICAgICAgX19fICAgICAgX19fIAoJCQk2TU1NTWIvICAgICAgICAgICBgTU0gICAgICBgTU0gCgkJCThQICAgIFlNICAgICAgICAgICAgTU0gICAgICAgTU0gCgkJCTZNICAgICAgWSAgIF9fX19fICAgIE1NICAgX19fX01NIAoJCQlNTSAgICAgICAgIDZNTU1NTWIgICBNTSAgNk1NTU1NTSAKCQkJTU0gICAgICAgIDZNJyAgIGBNYiAgTU0gNk0nICBgTU0gCgkJCU1NICAgICBfX19NTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQlNTSAgICAgYE0nTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJWU0gICAgICBNIE1NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCThiICAgIGQ5IFlNLiAgICxNOSAgTU0gWU0uICAsTU0gCgkJCVlNTU1NOSAgIFlNTU1NTTkgIF9NTV8gWU1NTU1NTV9dXSkKCQkJd2FybigiVGhhbmsgeW91IGZvciBiZWluZyBhIEdPTERFTiBtZW1iZXIhIikKCQkJd2FybignRW5qb3kgdGhlIHZhcmlvdXMgIm92ZXJwb3dlcmVkIiBzY3JpcHRzIHdlIGhhdmUgaW4gc3RvcmUhJykKCQllbmQKCgkJLS0gR1VJIEluc3RhbmNlcywgRXZlbnRzIGFuZCBGdW5jdGlvbnMKCgkJbG9jYWwgZWJndWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpCgkJZWJndWkuTmFtZSA9ICJlYmd1aSIKCQllYmd1aS5QYXJlbnQgPSBnYW1lOldhaXRGb3JDaGlsZCgiQ29yZUd1aSIpCgoKCQlsb2NhbCBFU1BJbmZvID0gewoJCQlbIlN0YW5kYXJkIl0gPSB7CgkJCQlbIk5hbWVUYWciXSA9IG5pbCwKCQkJCVsiRW5hYmxlZCJdID0gZmFsc2UKCQkJfSwKCQkJWyJHb2xkIl0gPSB7CgkJCQlbIk5hbWVUYWciXSA9IG5pbCwKCQkJCVsiRW5hYmxlZCJdID0gZmFsc2UKCQkJfSwKCQkJWyJNYXhEaXN0Il0gPSB7CgkJCQlbIlZhbHVlIl0gPSA3NTAsCgkJCQlbIkVuYWJsZWQiXSA9IHRydWUKCQkJfQoJCX0KCgkJbG9jYWwgbXZ0ZyA9IHsKCQkJWyJBb0VzIl0gPSB7CgkJCQlbIkZpcmUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgTGlnaHRuaW5nIERpc3BlcnNpb24gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAkJCQoJCQkJWyJOYXR1cmUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJQbGFzbWEiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkdyYXZpdHkiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkxpZ2h0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkRhcmtuZXNzIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIk5pZ2h0bWFyZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQWltZWQgSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUaW1lIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJDaGFvcyJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU3BhY2UtVGltZSBSdXB0dXJlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIklsbHVzaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkRyYWdvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNsaW1lIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQ3JlYXRpb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJCdWxsZXRzIl0gPSB7CgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQmFycmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQmFycmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTcGlyaXQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiTGlnaHQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNwYWNlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvbGFyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRHlpbmcgU3RhciBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRHlpbmcgU3RhciBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiQmxhc3RzIl0gPSB7CgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRXhwbG9kZSBhdCBNb3VzZSAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkV4cGxvZGUgYXQgTW91c2UgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNwZWN0cnVtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvdW5kIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb2xhciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIlRlbGVwb3J0cyJdID0gewoJCQkJWyJFYXJ0aCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJFeHBsb3Npb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgTGVhcCBTdHVuIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIlVsdHMiXSA9IHsKCQkJCVsiTGlnaHQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlZvaWQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUaW1lIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiUmVhcGVyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJBdXJvcmEiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJQb2xhcmlzIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJQb2xhcmlzIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkV4cGxvc2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiSWxsdXNpb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJBY2lkIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkFuZ2VsIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvbGFyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU29sYXIgU3RpY2sgQnVnIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU29sYXIgU3RpY2sgQnVnIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQl9LAoJCQlbIk1pc2MiXSA9IHsKCQkJCVsiU2xpbWVIZWFsIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJJbmVydGlhIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5lcnRpYSBncmF2aXR5IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJJbnZpcyJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJJbmZTcHJpbnQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbmZpbml0ZSBTcHJpbnQgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbmZpbml0ZSBTcHJpbnQgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCgkJCX0KCQl9CgoJCWdhbWUuQ29yZUd1aS5DaGlsZFJlbW92ZWQ6Y29ubmVjdChmdW5jdGlvbihjaGlsZCkKCQkJaWYgY2hpbGQuTmFtZSA9PSAiZWJndWkiIHRoZW4KCQkJCWNsb3NlZGZvcmV2ZXIgPSB0cnVlCgkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UKCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUKCQkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUKCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCVVJUyA9IG5pbAoJCQkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IG5pbAoJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IG5pbAoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbAoJCQkJQW50aUxhZ0VuYWJsZWQgPSBuaWwKCQkJCVNwZWVkaGFja0VuYWJsZWQgPSBuaWwKCQkJCVNldFNwZWVkID0gbmlsCgkJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IG5pbAoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gbmlsCgkJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBuaWwKCQkJCUNsaWNrVFBFbmFibGVkID0gbmlsCgkJCQlGcmVlemVFbmFibGVkID0gbmlsCgkJCQl2aWV3aW5nID0gbmlsCgkJCQlUUFRhcmdldEVuYWJsZWQgPSBuaWwKCQkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBuaWwKCQkJCVRQU2hhcmRzRW5hYmxlZCA9IG5pbAoJCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBuaWwKCQkJCUFpbWJvdEVuYWJsZWQgPSBuaWwKCQkJCUVTUEluZm8uTWF4RGlzdC5WYWx1ZSA9IDc1MAoJCQkJRVNQSW5mby5NYXhEaXN0LkVuYWJsZWQgPSB0cnVlCgkJCQlBbHRGYXJtRW5hYmxlZCA9IG5pbAoJCQkJRWNob2VzQXV0byA9IG5pbAoJCQkJQW50aUFmayA9IHRydWUKCQkJZW5kCgkJZW5kKQoKCQlsb2NhbCBtb3VzZSA9IHBsYXllcjpHZXRNb3VzZSgpCgoJCWxvY2FsIGJvcmRlcnMgPSB7fQoKCQlsb2NhbCBidXR0b25zbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNtYWluLk5hbWUgPSAiYnV0dG9uc21haW4iCgkJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkKCQlidXR0b25zbWFpbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC4yMjUsIDApCgkJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGJ1dHRvbnNtYWluKQoKCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgoJCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWNvbW1hbmRzbWFpbi5OYW1lID0gImNvbW1hbmRzbWFpbiIKCQljb21tYW5kc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCkKCQljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQoJCXRhYmxlLmluc2VydChib3JkZXJzLCBjb21tYW5kc21haW4pCgoJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJY29tbWFuZHNvcGVuZWQgPSB0cnVlCgoJCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQoKCQlsb2NhbCBmcmFtZXMgPSB7fQoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBidXR0b25zLgoJCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNmcmFtZS5OYW1lID0gImJ1dHRvbnNmcmFtZSIKCQlidXR0b25zZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM2LCAwLCA2NCkKCQlidXR0b25zZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlidXR0b25zZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWJ1dHRvbnNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWJ1dHRvbnNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQlidXR0b25zZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApCgkJdGFibGUuaW5zZXJ0KGZyYW1lcywgYnV0dG9uc2ZyYW1lKQoJCWJ1dHRvbnNmcmFtZS5QYXJlbnQgPSBidXR0b25zbWFpbgoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBjb21tYW5kIGJveC4KCQlsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJY29tbWFuZHNmcmFtZS5OYW1lID0gImNvbW1hbmRzZnJhbWUiCgkJY29tbWFuZHNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM2LCAwLCA2NCkKCQljb21tYW5kc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZHNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZHNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQljb21tYW5kc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJCXRhYmxlLmluc2VydChmcmFtZXMsIGNvbW1hbmRzZnJhbWUpCgkJY29tbWFuZHNmcmFtZS5QYXJlbnQgPSBjb21tYW5kc21haW4KCgkJLS0gQ29tbWFuZCBCb3guIFRoaXMgaXMgd2hlcmUgdXNlcnMgdHlwZSBpbiBjb21tYW5kcyBhbmQgdGFyZ2V0cy4KCQlsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKCQljb21tYW5kQm94Lk5hbWUgPSAiY29tbWFuZEJveCIKCQljb21tYW5kQm94LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkKCQljb21tYW5kQm94LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkKCQljb21tYW5kQm94LlNpemUgPSBVRGltMi5uZXcoMC44NSwgMCwgMC4yMCwgMCkKCQljb21tYW5kQm94LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCWNvbW1hbmRCb3guVGV4dCA9ICIiCgkJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQljb21tYW5kQm94LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlCgkJY29tbWFuZEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKCQljb21tYW5kQm94LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJbG9jYWwgbGFiZWxzID0ge30KCgkJLS0gVGhlIG91dHB1dCBmb3IgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIGNvbW1hbmRCb3hPdXRwdXQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJY29tbWFuZEJveE91dHB1dC5OYW1lID0gImNvbW1hbmRCb3hPdXRwdXQiCgkJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwCgkJY29tbWFuZEJveE91dHB1dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNiwgMCkKCQljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApCgkJY29tbWFuZEJveE91dHB1dC5Gb250ID0gRW51bS5Gb250LkNvZGUKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJY29tbWFuZEJveE91dHB1dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQljb21tYW5kQm94T3V0cHV0LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveE91dHB1dC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgY29tbWFuZEJveE91dHB1dCkKCQljb21tYW5kQm94T3V0cHV0LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIGluZm9ybWF0aW9uIGFib3ZlIHRoZSBNYWluIE1lbnUsIGUuZy4gdXNlcidzIG5hbWUsIGNoYW5uZWwKCQlsb2NhbCBEZXRhaWxzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIgoJCURldGFpbHMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlscy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlscy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjAxNSwgLTYpCgkJRGV0YWlscy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlpZiBub3QgaXNHb2xkIHRoZW4KCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIHwgU3RhYmxlIgoJCWVsc2UKCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIEdvbGQgfCBTdGFibGUiCgkJZW5kCgkJRGV0YWlscy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlscy5aSW5kZXggPSA1CgkJRGV0YWlscy5UZXh0U2l6ZSA9IDEyLjAwMAoJCURldGFpbHMuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlscykKCQlEZXRhaWxzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgQ29tbWFuZCBCb3guCgkJbG9jYWwgRGV0YWlsczIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczIuTmFtZSA9ICJEZXRhaWxzMiIKCQlEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCURldGFpbHMyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHMyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjksIC0xMCkKCQlEZXRhaWxzMi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlsczIuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczIuVGV4dCA9ICJQcmVzcyBdIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiIKCQlEZXRhaWxzMi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzMi5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMyLlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlsczIuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczIpCgkJRGV0YWlsczIuUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgTWFpbiBNZW51LgoJCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMzLk5hbWUgPSAiRGV0YWlsczMiCgkJRGV0YWlsczMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzMy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjg3NSwgMCkKCQlEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIC0xMCkKCQlEZXRhaWxzMy5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIgoJCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczMuVGV4dFNpemUgPSAxMi4wMDAKCQlEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykKCQlEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gU2NyaXB0IHRlcm1pbmF0aW9uIGluc3RydWN0aW9ucy4KCQlsb2NhbCBEZXRhaWxzNCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0IgoJCURldGFpbHM0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHM0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMS4xLCAwKQoJCURldGFpbHM0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNzUsIDApCgkJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczQuVGV4dCA9ICJIb2xkIHRoZSBMZWZ0IGFuZCBSaWdodCBhcnJvdyBrZXlzLCB0aGVuIHByZXNzIGFueSBrZXkgdG8gcXVpdCBFQkd1aS4iCgkJRGV0YWlsczQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczQuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzNC5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHM0LlRleHRXcmFwcGVkID0gdHJ1ZQoJCURldGFpbHM0LlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSBUaGUgdmVyc2lvbiBudW1iZXIgYWJvdmUgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIFZlcnNpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJVmVyc2lvbi5OYW1lID0gIlZlcnNpb24iCgkJVmVyc2lvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlWZXJzaW9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCVZlcnNpb24uQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlWZXJzaW9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDUsIDApCgkJVmVyc2lvbi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMSwgMCkKCQlWZXJzaW9uLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uICIgLi4gdmVyTnVtCgkJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlCgkJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMAoJCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikKCQlWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIHNjcm9sbGluZyBhcmVhIGZvciB0aGUgTWFpbiBNZW51LgoJCWxvY2FsIG1haW5mcmFtZSA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQoJCW1haW5mcmFtZS5OYW1lID0gIm1haW5mcmFtZSIKCQltYWluZnJhbWUuQWN0aXZlID0gdHJ1ZQoJCW1haW5mcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjQsIDYsIDMxKQoJCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApCgkJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYKCQltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgkJLS0gR3JpZCBsYXlvdXQgZm9yIHRoZSBidXR0b25zLgoJCWxvY2FsIFVJR3JpZExheW91dCA9IEluc3RhbmNlLm5ldygiVUlHcmlkTGF5b3V0IikKCQlVSUdyaWRMYXlvdXQuRmlsbERpcmVjdGlvbiA9IEVudW0uRmlsbERpcmVjdGlvbi5Ib3Jpem9udGFsCgkJVUlHcmlkTGF5b3V0Lkhvcml6b250YWxBbGlnbm1lbnQgPSBFbnVtLkhvcml6b250YWxBbGlnbm1lbnQuQ2VudGVyCgkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIDcpCgkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIDMwKQoJCVVJR3JpZExheW91dC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcgoJCVVJR3JpZExheW91dC5QYXJlbnQgPSBtYWluZnJhbWUKCgoJCS0tIFBsYXllciBhbmNob3IgZnVuY3Rpb24KCQlsb2NhbCBmdW5jdGlvbiBhbmNob3IoYm9vbCkKCQkJd2FpdCguNzUpCgkJCWlmIGJvb2wgPT0gZmFsc2UgdGhlbgoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSBhbmQgdi5BbmNob3JlZCB0aGVuCgkJCQkJCXYuQW5jaG9yZWQgPSBmYWxzZQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2VpZiBib29sID09IHRydWUgdGhlbgoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSBhbmQgbm90IHYuQW5jaG9yZWQgdGhlbgoJCQkJCQl2LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgdGhlbgoJCQkJCQlwcmludCh2LkFuY2hvcmVkKQoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBjb3B5KHRibCkKCQkJcmV0dXJuIHVucGFjayh0YmwpCgkJZW5kCgoJCWxvY2FsIGJ1dHRvbnMgPSB7fQoKCQktLS0tLS0gQnV0dG9ucyBmb3IgaGFja3MuCgoJCWZ1bmN0aW9uIGNoZWNrTW92ZXMoZWwpCgkJCWxvY2FsIGV0CgkJCWxvY2FsIGNoID0gZmFsc2UKCQkJaWYgZWwgPT0gMSB0aGVuCgkJCQlldCA9ICJBb0VzIgoJCQllbHNlaWYgZWwgPT0gMiB0aGVuCgkJCQlldCA9ICJCdWxsZXRzIgoJCQllbHNlaWYgZWwgPT0gMyB0aGVuCgkJCQlldCA9ICJCbGFzdHMiCgkJCWVsc2VpZiBlbCA9PSA0IHRoZW4KCQkJCWV0ID0gIlRlbGVwb3J0cyIKCQkJZWxzZWlmIGVsID09IDUgdGhlbgoJCQkJZXQgPSAiVWx0cyIKCQkJZWxzZSAKCQkJCXdhcm4oIkVsZW1lbnQgdHlwZSBub3QgYXBwbGljYWJsZSEgR290ICIuLnRvc3RyaW5nKGUpLi4iLCBleHBlY3RlZCBudW1iZXIgMSB0aHJvdWdoIDUiKQoJCQkJZXQgPSBuaWwKCQkJZW5kCgkJCQoJCQlpZiBldCB+PSBuaWwgdGhlbgoJCQkJZm9yIGksdiBpbiBwYWlycyhtdnRnW2V0XSkgZG8KCQkJCQlpZiB2LlZhbHVlIHRoZW4KCQkJCQkJY2ggPSB0cnVlCgkJCQkJCXYuVmFsdWUgPSBmYWxzZQoJCQkJCQlwcmludCgiRGlzYWJsZWQgIiAuLiBpIC4uICIgIiAuLiBzdHJpbmcuc3ViKGV0LDEsLTIpKQoJCQkJCQltdnRnW2V0XVtpXS5CdXR0b24uVGV4dCA9IG12dGdbZXRdW2ldLkluaXRUZXh0CgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJZXJyb3IoImVsZW1lbnQgdHlwZSBvdXQgb2YgcmFuZ2UiKQoJCQllbmQKCQkJcmV0dXJuIGNoCgkJZW5kCgoJCS0tLS0gQW9FcwoJCS0tIEluc3RhbnQgQmxhemUgQ29sdW1uCgoJCWxvY2FsIEJsYXplQ29sdW1uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCbGF6ZUNvbHVtbi5OYW1lID0gIkJsYXplQ29sdW1uIgoJCUJsYXplQ29sdW1uLlRleHQgPSBtdnRnLkFvRXMuRmlyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJsYXplQ29sdW1uKQoJCW12dGcuQW9Fcy5GaXJlLkJ1dHRvbiA9IEJsYXplQ29sdW1uCgoJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gZmFsc2UKCgkJQmxhemVDb2x1bW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuRmlyZS5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5GaXJlLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiCgkJCWVuZAoJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gbXZ0Zy5Bb0VzLkZpcmUuVGV4dAoJCWVuZCkKCgkJLS0gQW1wbGlmaWVkIEdlbmVzaXMgUmF5CgoJCWxvY2FsIEdlbmVzaXNSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdlbmVzaXNSYXkuTmFtZSA9ICJHZW5lc2lzUmF5IgoJCUdlbmVzaXNSYXkuVGV4dCA9IG12dGcuQW9Fcy5UaW1lLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR2VuZXNpc1JheSkKCQltdnRnLkFvRXMuVGltZS5CdXR0b24gPSBHZW5lc2lzUmF5CgoJCW12dGcuQW9Fcy5UaW1lLlZhbHVlID0gZmFsc2UKCQlsb2NhbCBHUkNoYXJnZSA9IDEKCgkJR2VuZXNpc1JheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuVGltZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuVGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5UaW1lLlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5UaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5UaW1lLlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIgoJCQllbmQKCQkJR2VuZXNpc1JheS5UZXh0ID0gbXZ0Zy5Bb0VzLlRpbWUuVGV4dAoJCWVuZCkKCgkJLS0gQ3JlYXRpb24gSG9sZCBIYWNrCgoJCWxvY2FsIENoYWluSG9sZCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlDaGFpbkhvbGQuQnV0dG9uLk5hbWUgPSAiQ2hhaW5Ib2xkIgoJCUNoYWluSG9sZC5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENoYWluSG9sZCkKCQltdnRnLkFvRXMuQ3JlYXRpb24uQnV0dG9uID0gQ2hhaW5Ib2xkLkJ1dHRvbgoKCQltdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgPSBmYWxzZQoKCQlDaGFpbkhvbGQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDEpCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQgPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUNoYWluSG9sZC5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0CgkJZW5kKQoKCQktLSBTcGFjZS1UaW1lIFJ1cHR1cmUKCgkJbG9jYWwgU1RSSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU1RSSGFjay5OYW1lID0gIlNUUkhhY2siCgkJU1RSSGFjay5UZXh0ID0gbXZ0Zy5Bb0VzLkNoYW9zLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxTVFJIYWNrKQoJCW12dGcuQW9Fcy5DaGFvcy5CdXR0b24gPSBTVFJIYWNrCgoJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IGZhbHNlCgoJCVNUUkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkNoYW9zLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5DaGFvcy5UZXh0ID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuQ2hhb3MuVGV4dCA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVNUUkhhY2suVGV4dCA9IG12dGcuQW9Fcy5DaGFvcy5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFZpbmUgVHJhcAoKCQlsb2NhbCBWaW5lVHJhcCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmluZVRyYXAuTmFtZSA9ICJWaW5lVHJhcCIKCQlWaW5lVHJhcC5UZXh0ID0gbXZ0Zy5Bb0VzLk5hdHVyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpbmVUcmFwKQoJCW12dGcuQW9Fcy5OYXR1cmUuQnV0dG9uID0gVmluZVRyYXAKCgkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IGZhbHNlCgoJCVZpbmVUcmFwLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTmF0dXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIKCQkJZW5kCgkJCVZpbmVUcmFwLlRleHQgPSBtdnRnLkFvRXMuTmF0dXJlLlRleHQKCQllbmQpCgoJCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sKCgkJbG9jYWwgSWxsdXNpdmVBdGFrZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSWxsdXNpdmVBdGFrZS5OYW1lID0gIklsbHVzaXZlQXRha2UiCgkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWxsdXNpdmVBdGFrZSkKCQltdnRnLkFvRXMuSWxsdXNpb24uQnV0dG9uID0gSWxsdXNpdmVBdGFrZQoKCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoKCQlJbGx1c2l2ZUF0YWtlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgTXVya3kgTWlzc2lsZXMKCgkJbG9jYWwgRGFya0FvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRGFya0FvZS5OYW1lID0gIkRhcmtBb2UiCgkJRGFya0FvZS5UZXh0ID0gbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkKCQltdnRnLkFvRXMuRGFya25lc3MuQnV0dG9uID0gRGFya0FvZQoKCQltdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgPSBmYWxzZQoKCQlEYXJrQW9lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIKCQkJZW5kCgkJCURhcmtBb2UuVGV4dCA9IG12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0CgkJZW5kKQoJCQoJCS0tIEluc3RhbnQgQWlyIERpc3BlcnNpb24KCgkJbG9jYWwgU3Rvcm1Bb2UgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJU3Rvcm1Bb2UuQnV0dG9uLk5hbWUgPSAiU3Rvcm1Bb2UiCgkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTdG9ybUFvZSkKCQltdnRnLkFvRXMuU3Rvcm0uQnV0dG9uID0gU3Rvcm1Bb2UuQnV0dG9uCgoJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCVN0b3JtQW9lLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQW9Fcy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygxKQoJCQkJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPZmYpIgoJCQkJZW5kCgkJCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIkluc3RhbnQgU3Rvcm0gQW9FIChPZmYpIgoJCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCQllbmQKCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sKCgkJbG9jYWwgU3BsaXR0aW5nU2xpbWUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwbGl0dGluZ1NsaW1lLk5hbWUgPSAiU3BsaXR0aW5nU2xpbWUiCgkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9IG12dGcuQW9Fcy5TbGltZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwbGl0dGluZ1NsaW1lKQoJCW12dGcuQW9Fcy5TbGltZS5CdXR0b24gPSBTcGxpdHRpbmdTbGltZQoKCQltdnRnLkFvRXMuU2xpbWUuVmFsdWUgPSBmYWxzZQoKCQlTcGxpdHRpbmdTbGltZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuU2xpbWUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5TbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9IG12dGcuQW9Fcy5TbGltZS5UZXh0CgkJZW5kKQoKCQktLSBBbWF1cm90aWMgTGFtYmVudCBIYWNrCgoJCWxvY2FsIEFtYXVyb3RpY0xhbWJlbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFtYXVyb3RpY0xhbWJlbnQuTmFtZSA9ICJBbWF1cm90aWNMYW1iZW50IgoJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9IG12dGcuQW9Fcy5MaWdodC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFtYXVyb3RpY0xhbWJlbnQpCgkJbXZ0Zy5Bb0VzLkxpZ2h0LkJ1dHRvbiA9IEFtYXVyb3RpY0xhbWJlbnQKCgkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJQW1hdXJvdGljTGFtYmVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuTGlnaHQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTGlnaHQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9IG12dGcuQW9Fcy5MaWdodC5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24KCgkJbG9jYWwgUGxhc21hSW1wbG9zaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlQbGFzbWFJbXBsb3Npb24uTmFtZSA9ICJQbGFzbWFJbXBsb3Npb24iCgkJUGxhc21hSW1wbG9zaW9uLlRleHQgPSBtdnRnLkFvRXMuUGxhc21hLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUGxhc21hSW1wbG9zaW9uKQoJCW12dGcuQW9Fcy5QbGFzbWEuQnV0dG9uID0gUGxhc21hSW1wbG9zaW9uCgoJCW12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgPSBmYWxzZQoKCQlQbGFzbWFJbXBsb3Npb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5QbGFzbWEuVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiCgkJCWVuZAoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9IG12dGcuQW9Fcy5QbGFzbWEuVGV4dAoJCWVuZCkKCgkJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sKCgkJbG9jYWwgRm9ybWlkYWJsZVJvYXIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZvcm1pZGFibGVSb2FyLk5hbWUgPSAiRm9ybWlkYWJsZVJvYXIiCgkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9IG12dGcuQW9Fcy5EcmFnb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikKCQltdnRnLkFvRXMuRHJhZ29uLkJ1dHRvbiA9IEZvcm1pZGFibGVSb2FyCgoJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSBmYWxzZQoKCQlGb3JtaWRhYmxlUm9hci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuRHJhZ29uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuRHJhZ29uLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuRHJhZ29uLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFNrZWxldG9uIEdyYWIKCgkJbG9jYWwgU2tlbGV0b25HcmFiID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTa2VsZXRvbkdyYWIuTmFtZSA9ICJTa2VsZXRvbkdyYWIiCgkJU2tlbGV0b25HcmFiLlRleHQgPSBtdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2tlbGV0b25HcmFiKQoJCW12dGcuQW9Fcy5OaWdodG1hcmUuQnV0dG9uID0gU2tlbGV0b25HcmFiCgoJCW12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPSBmYWxzZQoKCQlTa2VsZXRvbkdyYWIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT24pIFtBSU1FRF0iCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIgoJCQllbmQKCQkJU2tlbGV0b25HcmFiLlRleHQgPSBtdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQKCQllbmQpCgoJCS0tIEdyYXZpdGF0aW9uYWwgRmllbGQgSGFjawoKCQlsb2NhbCBHcmF2aXRhdGlvbmFsRmllbGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdyYXZpdGF0aW9uYWxGaWVsZC5OYW1lID0gIkdyYXZpdGF0aW9uYWxGaWVsZCIKCQlHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9IG12dGcuQW9Fcy5HcmF2aXR5LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQoJCW12dGcuQW9Fcy5HcmF2aXR5LkJ1dHRvbiA9IEdyYXZpdGF0aW9uYWxGaWVsZAoKCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IGZhbHNlCgoJCUdyYXZpdGF0aW9uYWxGaWVsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIgoJCQllbmQKCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSBtdnRnLkFvRXMuR3Jhdml0eS5UZXh0CgkJZW5kKQoKCQktLS0tIFBsYXllciBtb2RpZmljYXRpb25zCgkJLS0gSW5zdGFudCBSb2NrIEFybW9yCgoJCWxvY2FsIFJvY2tBcm1vciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIgoJCVJvY2tBcm1vci5UZXh0ID0gIkluc3RhbnQgUm9jayBBcm1vciIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0FybW9yKQoKCQlSb2NrQXJtb3IuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiQm9keSBDb2xvcnMiKSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyWyJCb2R5IENvbG9ycyJdOkRlc3Ryb3koKQoJCQllbmQKCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpCgkJZW5kKQoKCQktLSBTbGltZSBCdWRkaWVzIEhhY2sKCgkJbG9jYWwgU2xpbWVCdWRkaWVzID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVNsaW1lQnVkZGllcy5CdXR0b24uTmFtZSA9ICJTbGltZUJ1ZGRpZXMiCgkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNsaW1lQnVkZGllcykKCQltdnRnLk1pc2MuU2xpbWVIZWFsLkJ1dHRvbiA9IFNsaW1lQnVkZGllcy5CdXR0b24KCgkJbXZ0Zy5NaXNjLlNsaW1lSGVhbC5WYWx1ZSA9IGZhbHNlCgoJCVNsaW1lQnVkZGllcy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG12dGcuTWlzYy5TbGltZUhlYWwuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCW12dGcuTWlzYy5TbGltZUhlYWwuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuTWlzYy5TbGltZUhlYWwuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuTWlzYy5TbGltZUhlYWwuVGV4dCA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5TbGltZUhlYWwuVGV4dAoJCQllbHNlCgkJCQltdnRnLk1pc2MuU2xpbWVIZWFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLk1pc2MuU2xpbWVIZWFsLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5lcnRpYSBHcmF2aXR5CgoJCWxvY2FsIEluZXJ0aWFHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5IgoJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSBtdnRnLk1pc2MuSW5lcnRpYS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQoJCW12dGcuTWlzYy5JbmVydGlhLkJ1dHRvbiA9IEluZXJ0aWFHcmF2aXR5CgoJCW12dGcuTWlzYy5JbmVydGlhLlZhbHVlID0gZmFsc2UKCgkJSW5lcnRpYUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5NaXNjLkluZXJ0aWEuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJbXZ0Zy5NaXNjLkluZXJ0aWEuVmFsdWUgPSB0cnVlCgkJCQltdnRnLk1pc2MuSW5lcnRpYS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT24pIgoJCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQoJCQkJQm9keUZvcmNlLlBhcmVudCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJQm9keUZvcmNlLk5hbWUgPSAiSW5lcnRpYUdyYXZpdHlGb3JjZSIKCQkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApCgkJCWVsc2UKCQkJCW12dGcuTWlzYy5JbmVydGlhLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuTWlzYy5JbmVydGlhLlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJJbmVydGlhR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5JbmVydGlhR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gbXZ0Zy5NaXNjLkluZXJ0aWEuVGV4dAoJCWVuZCkKCgkJLS0gU3BlY3RyYWwgRW1ib2RpbWVudAoKCQlsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwZWN0cmFsRW1ib2RpbWVudC5OYW1lID0gIlNwZWN0cmFsRW1ib2RpbWVudCIKCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9IG12dGcuTWlzYy5JbnZpcy5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWN0cmFsRW1ib2RpbWVudCkKCQltdnRnLk1pc2MuSW52aXMuQnV0dG9uID0gU3BlY3RyYWxFbWJvZGltZW50CgoJCW12dGcuTWlzYy5JbnZpcy5WYWx1ZSA9IGZhbHNlCgoJCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLk1pc2MuSW52aXMuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJbXZ0Zy5NaXNjLkludmlzLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5NaXNjLkludmlzLlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPbikgW1hdIgoJCQllbHNlCgkJCQltdnRnLk1pc2MuSW52aXMuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5NaXNjLkludmlzLlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIKCQkJZW5kCgkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gbXZ0Zy5NaXNjLkludmlzLlRleHQKCQllbmQpCgoJCS0tIEFudGktQmxpbmQKCgkJbG9jYWwgQW50aUJsaW5kID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpQmxpbmQuTmFtZSA9ICJBbnRpQmxpbmQiCgkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlCbGluZCkKCgkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIG5vcm1hbEZvZ0NvbG9yID0gZ2FtZS5MaWdodGluZy5Gb2dDb2xvcgoJCWxvY2FsIG5vcm1hbEZvZ0VuZCA9IGdhbWUuTGlnaHRpbmcuRm9nRW5kCgkJbG9jYWwgbm9ybWFsQnJpZ2h0bmVzcyA9IGdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcwoJCWxvY2FsIG5vcm1hbENsb2NrVGltZSA9IGdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lCgoJCWxvY2FsIGZ1bmN0aW9uIEFudGlCbGluZEZ1bmMoKQoJCQlpZiBBbnRpQmxpbmRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlCgkJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPbikgW0tdIgoJCQkJd2hpbGUgQW50aUJsaW5kRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWdhbWUuTGlnaHRpbmcuRm9nQ29sb3IgPSBub3JtYWxGb2dDb2xvcgoJCQkJCWdhbWUuTGlnaHRpbmcuRm9nRW5kID0gbm9ybWFsRm9nRW5kCgkJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcwoJCQkJCWdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lID0gbm9ybWFsQ2xvY2tUaW1lCgkJCQllbmQKCQkJZWxzZQoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSIKCQkJZW5kCgkJZW5kCgoJCUFudGlCbGluZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoQW50aUJsaW5kRnVuYykKCgkJcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkKCQkJaWYgQW50aUJsaW5kRW5hYmxlZCB0aGVuCgkJCQlpZiBkLk5hbWUgPT0gIlNjcmVlbkd1aSIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuU2NyZWVuR3VpOkRlc3Ryb3koKQoJCQkJZWxzZWlmIGQuTmFtZSA9PSAiRGlzdG9ydCIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuRGlzdG9ydDpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCS0tIFNwZWVkIGhhY2sKCgkJbG9jYWwgU3BlZWRoYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTcGVlZGhhY2suTmFtZSA9ICJTcGVlZGhhY2siCgkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT2ZmKSBbVF0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWVkaGFjaykKCgkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJU2V0U3BlZWQgPSA2NAoKCQlmdW5jdGlvbiBtb2RpZnlTcGVlZCgpCgkJCXBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikuQ2hhbmdlZDpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJCWlmIFNwZWVkaGFja0VuYWJsZWQgYW5kIFNldFNwZWVkIH49IG5pbCB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJZWxzZQoJCQkJCXJldHVybgoJCQkJZW5kCgkJCWVuZCkKCQllbmQKCgkJZnVuY3Rpb24gYmVnaW5TcGVlZCgpCgkJCWlmIFNwZWVkaGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IHRydWUKCQkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9uKSBbVF0iCgkJCQltb2RpZnlTcGVlZCgpCgkJCQl3YWl0KCkKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCXdoaWxlIFNwZWVkaGFja0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCW1vZGlmeVNwZWVkKCkKCQkJCQkJd2FpdCgpCgkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UKCQkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCQllbmQKCQllbmQKCgkJU3BlZWRoYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpblNwZWVkKQoKCQktLS0tIEJ1bGxldHMKCQktLSBIeXBlcmFuZyBIYWNrCgoJCWxvY2FsIFRlY2hSYW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUZWNoUmFuZy5OYW1lID0gIlRlY2hSYW5nIgoJCVRlY2hSYW5nLlRleHQgPSBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQoJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFRlY2hSYW5nCgoJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVGVjaFJhbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVRlY2hSYW5nLlRleHQgPSBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0CgkJZW5kKQoKCQktLSBBc3Rlcm9pZCBCZWx0IEhhY2sKCgkJbG9jYWwgQXN0ZXJvaWRCZWx0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siCgkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXN0ZXJvaWRCZWx0SGFjaykKCQltdnRnLkJ1bGxldHMuU3BhY2UuQnV0dG9uID0gQXN0ZXJvaWRCZWx0SGFjawoJCQoJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IGZhbHNlCgkJCgkJQXN0ZXJvaWRCZWx0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQgPSAiQXN0ZXJvaWQgQmVsdCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuU3BhY2UuVGV4dCA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuU3BhY2UuVGV4dAoJCWVuZCkKCgkJLS0gT3JicyBvZiBFbmxpZ2h0ZW5tZW50IEhhY2sKCgkJbG9jYWwgTGlnaHRPcmJzSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTGlnaHRPcmJzSGFjay5OYW1lID0gIkxpZ2h0T3Jic0hhY2siCgkJTGlnaHRPcmJzSGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTGlnaHRPcmJzSGFjaykKCQltdnRnLkJ1bGxldHMuTGlnaHQuQnV0dG9uID0gTGlnaHRPcmJzSGFjawoKCQltdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgPSBmYWxzZQoKCQlMaWdodE9yYnNIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQgPSAiTGlnaHQgT3JicyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuTGlnaHQuVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlMaWdodE9yYnNIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuTGlnaHQuVGV4dAoJCWVuZCkKCgkJLS0gVmlnb3IgR3lyYXRpb24gSGFjawoKCQlsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZ0d5cmF0SGFjay5OYW1lID0gIlZpZ0d5cmF0SGFjayIKCQlWaWdHeXJhdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spCgkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5CdXR0b24gPSBWaWdHeXJhdEhhY2sKCQkKCQltdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID0gZmFsc2UKCQkKCQlWaWdHeXJhdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0CgkJZW5kKQoKCQktLSBMaWdodG5pbmcgQmFycmFnZSBIYWNrCgoJCWxvY2FsIEJhcnJhZ2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUJhcnJhZ2UuTmFtZSA9ICJCYXJyYWdlIgoJCUJhcnJhZ2UuVGV4dCA9IG12dGcuQnVsbGV0cy5TdG9ybS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJhcnJhZ2UpCgkJbXZ0Zy5CdWxsZXRzLlN0b3JtLkJ1dHRvbiA9IEJhcnJhZ2UKCgkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJQmFycmFnZS5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIER5aW5nIFN0YXIgSGFjawoKCQlsb2NhbCBEeWluZ1N0YXJIYWNrID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUR5aW5nU3RhckhhY2suQnV0dG9uLk5hbWUgPSAiRHlpbmdTdGFySGFjayIKCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRHlpbmdTdGFySGFjaykKCQltdnRnLkJ1bGxldHMuU29sYXIuQnV0dG9uID0gRHlpbmdTdGFySGFjay5CdXR0b24KCgkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCgkJRHlpbmdTdGFySGFjay5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMikKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiRHlpbmcgU3RhciBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5UZXh0ID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIKCQkJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tLS0gQmxhc3RzCgoJCS0tIEV4cGxvZGUgYXQgTW91c2UgKEJvbHQgSGFjaykKCgkJbG9jYWwgRXhwbG9kZUF0TW91c2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV4cGxvZGVBdE1vdXNlLk5hbWUgPSAiRXhwbG9kZUF0TW91c2UiCgkJRXhwbG9kZUF0TW91c2UuVGV4dCA9IG12dGcuQmxhc3RzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxFeHBsb2RlQXRNb3VzZSkKCQltdnRnLkJsYXN0cy5TdG9ybS5CdXR0b24gPSBFeHBsb2RlQXRNb3VzZQoKCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCUV4cGxvZGVBdE1vdXNlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDMpCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQmxhc3RzLlN0b3JtLlRleHQgPSAiRXhwbG9kZSBhdCBNb3VzZSAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5UZXh0ID0gIkV4cGxvZGUgYXQgTW91c2UgKE9mZikiCgkJCWVuZAoJCQlFeHBsb2RlQXRNb3VzZS5UZXh0ID0gbXZ0Zy5CbGFzdHMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gT3JiaXRhbCBTdHJpa2UgSGFjawoKCQlsb2NhbCBPcmJpdGFsID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCU9yYml0YWwuQnV0dG9uLk5hbWUgPSAiT3JpYnRhbCIKCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIE9yYml0YWwpCgkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5CdXR0b24gPSBPcmJpdGFsLkJ1dHRvbgoKCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJT3JiaXRhbC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDMpCgkJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJCU9yYml0YWwuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IERvdWJsZSBSYXkKCgkJbG9jYWwgRG91YmxlUmF5ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCURvdWJsZVJheS5CdXR0b24uTmFtZSA9ICJEb3VibGVSYXkiCgkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpCgkJbXZ0Zy5CbGFzdHMuU29sYXIuQnV0dG9uID0gRG91YmxlUmF5LkJ1dHRvbgoKCQltdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCURvdWJsZVJheS5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygzKQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIgoJCQkJZW5kCgkJCQlEb3VibGVSYXkuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5Tb2xhci5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dCA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiCgkJCQlEb3VibFJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBIb2xvYmVhbSBDYW1lcmEgQXR0YWNoCgoJCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIgoJCUhvbG9iZWFtLlRleHQgPSBtdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEhvbG9iZWFtKQoJCW12dGcuQmxhc3RzLlNwZWN0cnVtLkJ1dHRvbiA9IEhvbG9iZWFtCgoJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID0gZmFsc2UKCgkJZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKHYpCgkJCWlmICh2IH49IG5pbCkgdGhlbgoJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCAodi5OYW1lID09ICJIb2xvYmVhbSIpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ11bdi5OYW1lXQoJCQkJZWxzZQoJCQkJCXY6RGVzdHJveSgpCgkJCQkJcmV0dXJuCgkJCQllbmQKCQkJCQoJCQkJdi5UcmFuc3BhcmVuY3kgPSAwCgoJCQkJd2FpdCg0KQoJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJZW5kCgkJCQkKCQkJCXY6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoJCQoJCWdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ10uRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJaWYgbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgdGhlbgoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAocGxheWVyLkNoYXJhY3RlcikgdGhlbgoJCQkJCWxvY2FsIGRpc3RhbmNlID0gKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHYuUG9zaXRpb24pLk1hZ25pdHVkZQoJCQkJCQoJCQkJCWlmICh2LlNpemUgPT0gVmVjdG9yMy5uZXcoNSwgNSwgNSkpIGFuZCAoZGlzdGFuY2UgPCAxMCkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuCgkJCQkJCgkJCQkJCXYuTmFtZSA9ICJIb2xvYmVhbSIKCQkJCQkKCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkgCgkJCQkJCQkJYXR0YWNoQ2FtZXJhKHYpIAoJCQkJCQkJZW5kKSkKCQkJCQkJZW5kKQoJCQkJCQkKCQkJCQkJbG9jYWwgZ3VpID0gcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0JhcgoJCQkJCQkKCQkJCQkJd2FpdCgwLjUpCgkJCQkJCQoJCQkJCQl3aGlsZSB3YWl0KCkgZG8KCQkJCQkJCWlmIG5vdChndWlbJzEnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMiddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyczJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzQnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNSddLkNELlRleHQgPT0gIi4uLiIpIHRoZW4KCQkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQkJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCQkJCQllbmQKCQkJCQoJCQkJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCQkJCWVuZCkKCQkJCQkJCQkKCQkJCQkJCQlicmVhawoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygzKQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9uKSIKCQkJCQoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4gdjpEZXN0cm95KCkgZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIgoJCQllbmQKCQkJSG9sb2JlYW0uVGV4dCA9IG12dGcuQmxhc3RzLlNwZWN0cnVtLlRleHQKCQllbmQpCgoJCS0tIENvbnRyb2xsZWQgRWNob2VzCgoJCWxvY2FsIEVjaG9lcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRWNob2VzLk5hbWUgPSAiRWNob2VzIgoJCUVjaG9lcy5UZXh0ID0gbXZ0Zy5CbGFzdHMuU291bmQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFY2hvZXMpCgkJbXZ0Zy5CbGFzdHMuU291bmQuQnV0dG9uID0gRWNob2VzCgoJCW12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID0gZmFsc2UKCQlFY2hvZXNBdXRvID0gZmFsc2UKCQlFY2hvZXNQaGFzZSA9IDEKCgkJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMykKCQkJCW12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIgoJCQllbmQKCQkJRWNob2VzLlRleHQgPSBtdnRnLkJsYXN0cy5Tb3VuZC5UZXh0CgkJZW5kKQoKCQktLS0tIFNoaWVsZHMKCQktLSBDcnlzdGFsIEFybWFtZW50IGFuZCBHcmF2aXRhbCBHbG9iZSBIYWNrcwoKCQlsb2NhbCBDcnlzdGFsQXJtYW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUNyeXN0YWxBcm1hbWVudC5OYW1lID0gIkNyeXN0YWxBcm1hbWVudCIKCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENyeXN0YWxBcm1hbWVudCkKCgkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIgoJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQoKCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgoJCUdyYXZpdGFsR2xvYmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCB0aGVuCgkJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgkJCQkJcHJpbnQoIkRpc2FibGVkIENyeXN0YWwiKQoJCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQkJCWVuZAoJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSB0cnVlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQkJCgoJCUNyeXN0YWxBcm1hbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIHRoZW4KCQkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgkJCQkJcHJpbnQoIkRpc2FibGVkIEdyYXZpdHkiKQoJCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gdHJ1ZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPbikiCQkJCQoJCQllbHNlCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UKCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLS0tIFVsdHMKCQktLSBEaXNhYmxlIGNvb2xkb3ducwoJCWxvY2FsIEVuYWJsZVVsdHMgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJRW5hYmxlVWx0cy5CdXR0b24uTmFtZSA9ICJFbmFibGVVbHRzIgoJCUVuYWJsZVVsdHMuQnV0dG9uLlRleHQgPSAiUmVtb3ZlIFVsdCBDb29sZG93biIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxFbmFibGVVbHRzKQoKCQlFbmFibGVVbHRzLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiLCBDRnJhbWUubmV3KHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIikKCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIsIENGcmFtZS5uZXcocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKSkKCQkJZWxzZQoJCQkJRW5hYmxlVWx0cy5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlFbmFibGVVbHRzLkJ1dHRvbi5UZXh0ID0gIlJlbW92ZSBVbHQgQ29vbGRvd24iCgkJCWVuZAoJCWVuZCkKCgkJLS0gUmVhcGVyJ3MgUmFnZQoJCWxvY2FsIFJlYXBlclVsdCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlSZWFwZXJVbHQuQnV0dG9uLk5hbWUgPSAiUmVhcGVyVWx0IgoJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBSZWFwZXJVbHQpCgkJbXZ0Zy5VbHRzLlJlYXBlci5CdXR0b24gPSBSZWFwZXJVbHQuQnV0dG9uCgoJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSBmYWxzZQoKCQlSZWFwZXJVbHQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVGV4dCA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCQkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrCgoJCWxvY2FsIEFibGF6ZUp1ZGdlbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWJsYXplSnVkZ2VtZW50Lk5hbWUgPSAiQWJsYXplSnVkZ2VtZW50IgoJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gbXZ0Zy5VbHRzLkxpZ2h0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWJsYXplSnVkZ2VtZW50KQoJCW12dGcuVWx0cy5MaWdodC5CdXR0b24gPSBBYmxhemVKdWRnZW1lbnQKCgkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJQWJsYXplSnVkZ2VtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5MaWdodC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuTGlnaHQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuTGlnaHQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5MaWdodC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gbXZ0Zy5VbHRzLkxpZ2h0LlRleHQKCQllbmQpCgoJCS0tIFZvaWQgT3BlbmluZyBIYWNrCgoJCWxvY2FsIFZvaWRPcGVuaW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWb2lkT3BlbmluZy5OYW1lID0gIlZvaWRPcGVuaW5nIgoJCVZvaWRPcGVuaW5nLlRleHQgPSBtdnRnLlVsdHMuVm9pZC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZvaWRPcGVuaW5nKQoJCW12dGcuVWx0cy5Wb2lkLkJ1dHRvbiA9IFZvaWRPcGVuaW5nCgoJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gZmFsc2UKCgkJVm9pZE9wZW5pbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVm9pZC5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5Wb2lkLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWb2lkT3BlbmluZy5UZXh0ID0gbXZ0Zy5VbHRzLlZvaWQuVGV4dAoJCWVuZCkKCgkJLS0gVGhlIFdvcmxkIEhhY2sKCgkJbG9jYWwgVGhlV29ybGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRoZVdvcmxkLk5hbWUgPSAiVGhlV29ybGQiCgkJVGhlV29ybGQuVGV4dCA9IG12dGcuVWx0cy5UaW1lLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGhlV29ybGQpCgkJbXZ0Zy5VbHRzLlRpbWUuQnV0dG9uID0gVGhlV29ybGQKCgkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSBmYWxzZQoKCQlUaGVXb3JsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuVGltZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuVGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5UaW1lLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVRoZVdvcmxkLlRleHQgPSBtdnRnLlVsdHMuVGltZS5UZXh0CgkJZW5kKQoKCQktLSBQb2xhcmlzIEhhY2sKCgkJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUG9sYXJpcy5OYW1lID0gIlBvbGFyaXMiCgkJUG9sYXJpcy5UZXh0ID0gbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBvbGFyaXMpCgkJbXZ0Zy5VbHRzLkF1cm9yYS5CdXR0b24gPSBQb2xhcmlzCgoJCW12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPSBmYWxzZQoKCQlQb2xhcmlzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5BdXJvcmEuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuQXVyb3JhLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPZmYpIgoJCQllbmQKCQkJUG9sYXJpcy5UZXh0ID0gbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24KCgkJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iCgkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSBtdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2hhdHRlcmluZ0VydXB0aW9uKQoJCW12dGcuVWx0cy5FeHBsb3Npb24uQnV0dG9uID0gU2hhdHRlcmluZ0VydXB0aW9uCgoJCW12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiCgkJCWVuZAoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9IG12dGcuVWx0cy5FeHBsb3Npb24uVGV4dAoJCWVuZCkKCgkJLS0gRXRoZXJlYWwgQWN1bWVuIEhhY2sKCgkJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV0aGVyZWFsQWN1bWVuLk5hbWUgPSAiRXRoZXJlYWxBY3VtZW4iCgkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9IG12dGcuVWx0cy5JbGx1c2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV0aGVyZWFsQWN1bWVuKQoJCW12dGcuVWx0cy5JbGx1c2lvbi5CdXR0b24gPSBFdGhlcmVhbEFjdW1lbgoKCQltdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoKCQlFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uID0gZmFsc2UKCQkJCW12dGcuVWx0cy5JbGx1c2lvbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIgoJCQllbmQKCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9IG12dGcuVWx0cy5JbGx1c2lvbi5UZXh0CgkJZW5kKQoKCQktLSBUb3hpYyBCYXNpbGlzayBIYWNrCgoJCWxvY2FsIFRveGljQmFzaWxpc2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRveGljQmFzaWxpc2suTmFtZSA9ICJUb3hpY0Jhc2lsaXNrIgoJCVRveGljQmFzaWxpc2suVGV4dCA9IG12dGcuVWx0cy5BY2lkLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVG94aWNCYXNpbGlzaykKCQltdnRnLlVsdHMuQWNpZC5CdXR0b24gPSBUb3hpY0Jhc2lsaXNrCgoJCW12dGcuVWx0cy5BY2lkLlZhbHVlID0gZmFsc2UKCgkJVG94aWNCYXNpbGlzay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuQWNpZC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5BY2lkLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuQWNpZC5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSBtdnRnLlVsdHMuQWNpZC5UZXh0CgkJZW5kKQoKCQktLSBBcmNhbmUgR3VhcmRpYW4gSGFjawoKCQlsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiIKCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gbXZ0Zy5VbHRzLkFuZ2VsLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXJjYW5lR3VhcmRpYW4pCgkJbXZ0Zy5VbHRzLkFuZ2VsLkJ1dHRvbiA9IEFyY2FuZUd1YXJkaWFuCgoJCW12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9IGZhbHNlCgoJCUFyY2FuZUd1YXJkaWFuLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuQW5nZWwuVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gbXZ0Zy5VbHRzLkFuZ2VsLlRleHQKCQllbmQpCgoJCS0tIFZpcnR1YWwgWm9uZSBIYWNrCgoJCWxvY2FsIFZpcnR1YWxab25lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaXJ0dWFsWm9uZS5OYW1lID0gIlZpcnR1YWxab25lIgoJCVZpcnR1YWxab25lLlRleHQgPSBtdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpcnR1YWxab25lKQoJCW12dGcuVWx0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFZpcnR1YWxab25lCgoJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVmlydHVhbFpvbmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dAoJCWVuZCkKCgkJLS0gVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4KCgkJbG9jYWwgU29sYXJTdGljayA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlTb2xhclN0aWNrLkJ1dHRvbi5OYW1lID0gIlNvbGFyU3RpY2siCgkJU29sYXJTdGljay5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5Tb2xhci5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNvbGFyU3RpY2spCgkJbXZ0Zy5VbHRzLlNvbGFyLkJ1dHRvbiA9IFNvbGFyU3RpY2suQnV0dG9uCgoJCW12dGcuVWx0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCVNvbGFyU3RpY2suQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLlVsdHMuU29sYXIuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNSkKCQkJCQltdnRnLlVsdHMuU29sYXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiU29sYXIgU3RpY2sgQnVnIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiCgkJCQllbmQKCQkJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQkJCXdhaXQoMykKCQkJCW12dGcuVWx0cy5Tb2xhci5UZXh0ID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIKCQkJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tLS0gTWlzY2VsbGFuZW91cwoJCS0tIFRlY2ggRGlzYyBIYWNrCgoJCWxvY2FsIFRlY2hEaXNjID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVRlY2hEaXNjLkJ1dHRvbi5OYW1lID0gIlRlY2hEaXNjIgoJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hEaXNjKQoJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuQnV0dG9uID0gVGVjaERpc2MuQnV0dG9uCgoJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoKCQlUZWNoRGlzYy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNCkKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJUZWNoIERpc2MgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJVGVjaERpc2MuQnV0dG9uLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJCQl3YWl0KDMpCgkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiCgkJCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEFpbWJvdCB8fCBDdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQKCQktLVtbCgkJbG9jYWwgQWltYm90ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlLAoJCX0KCQlBaW1ib3QuQnV0dG9uLk5hbWUgPSAiQWltYm90IgoJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFpbWJvdCkKCgkJZnVuY3Rpb24gdG9nZ2xlQWltYm90KCkKCQkJaWYgKG5vdCBBaW1ib3RFbmFibGVkKSBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IHRydWUKCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9uKSIKCQkJCXdoaWxlIEFpbWJvdEVuYWJsZWQgZG8KCQkJCQlCZWdpblRyYWNraW5nKCkKCQkJCWVuZAoJCQllbHNlaWYgQWltYm90RW5hYmxlZCBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IGZhbHNlCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCQllbHNlaWYgbm90IChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCQllbmQKCQllbmQKCgkJQWltYm90LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlQWltYm90KV1dCgoJCS0tIFNoYXJkIENvbG9ycwoKCQlsb2NhbCBSYW5kb21Db2xvcnMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyIKCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSYW5kb21Db2xvcnMpCgoJCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQoJCWxvY2FsIFNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gc2hhcmRSYW5kb21pemVyKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdi5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCB2OkZpbmRGaXJzdENoaWxkKCJzaGFyZENoYW5nZWQiKSB0aGVuCgkJCQkJdi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkKCQkJCQlsb2NhbCBzaGFyZENoYW5nZWQgPSBJbnN0YW5jZS5uZXcoIkJvb2xWYWx1ZSIpCgkJCQkJc2hhcmRDaGFuZ2VkLk5hbWUgPSAic2hhcmRDaGFuZ2VkIgoJCQkJCXNoYXJkQ2hhbmdlZC5QYXJlbnQgPSB2CgkJCQkJc2hhcmRDaGFuZ2VkLlZhbHVlID0gdHJ1ZQoJCQkJZWxzZWlmIHYuTmFtZSA9PSAiU2hhcmQiIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJzaGFyZENoYW5nZWQiKS5WYWx1ZSB0aGVuIGVuZAoJCQllbmQKCQllbmQKCgkJUmFuZG9tQ29sb3JzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFNoYXJkQ29sb3JFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNoYXJkQ29sb3JFbmFibGVkID0gdHJ1ZQoJCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT24pIgoJCQkJd2hpbGUgU2hhcmRDb2xvckVuYWJsZWQgZG8KCQkJCQlzaGFyZFJhbmRvbWl6ZXIoKQoJCQkJCXdhaXQoLjUpCgkJCQllbmQKCQkJZWxzZQoJCQkJU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQoJCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQkJZW5kCQoJCWVuZCkKCgkJLS0gQW50aS1MYWcKCgkJbG9jYWwgQW50aUxhZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUxhZy5OYW1lID0gIkFudGlMYWciCgkJQW50aUxhZy5UZXh0ID0gIkFudGkgbGFnIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpTGFnKQoKCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIHJlbW92ZUxhZygpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5Mb2NhbEVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4KCQkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJCYWNrRGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiU3BlY2lhbE1lc2giKSB0aGVuCgkJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4KCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoKCQkJLS1bW2ZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuCgkJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kXV0KCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQlmb3IgXywgeCBpbiBwYWlycyh2LkNoYXJhY3RlcjpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCWlmIHguTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbgoJCQkJCQl4OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Y29ubmVjdChmdW5jdGlvbih2KQoJCQlpZiBBbnRpTGFnRW5hYmxlZCB0aGVuCgkJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbgoJCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdi5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgdGhlbgoJCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJLS1bW2Vsc2VpZiBwY2FsbCh2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkpIHRoZW4KCQkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmRdXQoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiTGlnaHREaXNjIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlBbnRpTGFnLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFudGlMYWdFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlMYWdFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPbikiCgkJCQlyZW1vdmVMYWcoKQoJCQllbHNlCgkJCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSWdub3JlIGJvZHkgZm9yY2VzCgoJCWxvY2FsIElnbm9yZVBoeXNpY3MgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlnbm9yZVBoeXNpY3MuTmFtZSA9ICJJZ25vcmVCb2R5Rm9yY2VzIgoJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgYm9keSBmb3JjZXMgKE9mZikgW1pdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJZ25vcmVQaHlzaWNzKQoKCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuRmxpcHNIb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuCgkJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBib2R5IGZvcmNlcyAoT24pIFtaXSIKCQkJCWluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJCUFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCQl3aGlsZSBJZ25vcmVQaHlzaWNzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgkJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIGJvZHkgZm9yY2VzIChPZmYpIFtaXSIKCQkJZW5kCgkJZW5kCgoJCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykKCgkJLS0gQW50aS1HcmF2aXR5CgoJCWxvY2FsIEFudGlHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpR3Jhdml0eS5OYW1lID0gIkFudGlHcmF2aXR5IgoJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUdyYXZpdHkpCgoJCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpCgkJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlCgkJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT24pIFtHXSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQoJCQllbHNlCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbnRpR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoQW50aUdyYXZpdHlGdW5jKQoKCQktLSBDbGljay1UUAoKCQlsb2NhbCBDbGlja1RQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDbGlja1RQLk5hbWUgPSAiQ2xpY2tUUCIKCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gdHAgdG8gbW91c2VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDbGlja1RQKQoKCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgoJCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ2xpY2tUUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gQ2xpY2stVFBdIgoJCQllbHNlCgkJCQlDbGlja1RQRW5hYmxlZCA9IHRydWUKCQkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT24pIFtKIHRvIENsaWNrLVRQXSIKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiBjbGlja3RwKHBvc2l0aW9uKQoJCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZAoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpCgkJZW5kCgoJCS0tIEZyZWV6ZQoKCQlsb2NhbCBGcmVlemUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZyZWV6ZS5OYW1lID0gIkZyZWV6ZSIKCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBGcmVlemUpCgoJCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBGcmVlemVGdW5jKCkKCQkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlGcmVlemVFbmFibGVkID0gdHJ1ZQoJCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPbikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQllbHNlCgkJCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQllbmQKCQllbmQKCgkJRnJlZXplLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChGcmVlemVGdW5jKQoKCQktLSBJbmZpbml0ZSBTcHJpbnQKCgkJbG9jYWwgSW5mU3ByaW50ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUluZlNwcmludC5CdXR0b24uTmFtZSA9ICJJbmZTcHJpbnQiCgkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSW5mU3ByaW50KQoJCW12dGcuTWlzYy5JbmZTcHJpbnQuQnV0dG9uID0gSW5mU3ByaW50CgoJCW12dGcuTWlzYy5JbmZTcHJpbnQuVmFsdWUgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBJc1NwcmludGluZygpCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJbG9jYWwgc3ByaW50CgkJCWxvY2FsIHBkCgkJCXBkID0gUlNSOldhaXRGb3JDaGlsZCgiUGxheWVyRGF0YSIpLk9uQ2xpZW50RXZlbnQ6Q29ubmVjdChmdW5jdGlvbihwLCB0KQoJCQkJc3ByaW50ID0gdC5SdW5uaW5nCgkJCQlwZDpEaXNjb25uZWN0KCkKCQkJZW5kKQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHNwcmludCB+PSBuaWwKCQkJcmV0dXJuIHNwcmludAoJCWVuZAoKCQlJbmZTcHJpbnQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuTWlzYy5JbmZTcHJpbnQuVGV4dCA9ICJJbmZpbml0ZSBTcHJpbnQgKE9uKSIKCQkJCQlJbmZTcHJpbnQuQnV0dG9uLlRleHQgPSBtdnRnLk1pc2MuSW5mU3ByaW50LlRleHQKCQkJCQlyZXBlYXQKCQkJCQkJaWYgSXNTcHJpbnRpbmcoKSB0aGVuCgkJCQkJCQlsb2NhbCBhcmdzID0gewoJCQkJCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCQkJCQlbMl0gPSBmYWxzZSwKCQkJCQkJCX0KCQkJCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KC41KQoJCQkJCXVudGlsIG12dGcuTWlzYy5JbmZTcHJpbnQuVmFsdWUgPT0gZmFsc2UKCQkJCWVsc2UKCQkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIgoJCQkJCUluZlNwcmludC5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5JbmZTcHJpbnQuVGV4dAoJCQkJCWlmIG5vdCBJc1NwcmludGluZygpIHRoZW4KCQkJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCQkJCVsyXSA9IHRydWUsCgkJCQkJCX0KCQkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuUGxheWVyRGF0YTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0CgkJCQl3YWl0KDMpCgkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIgoJCQkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBFeHBsb3NpdmUgTGVhcAoKCQlsb2NhbCBFeHBsb3Npb25IYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFeHBsb3Npb25IYWNrLk5hbWUgPSAiRXhwbG9zaW9uSGFjayIKCQlFeHBsb3Npb25IYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFeHBsb3Npb25IYWNrKQoJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5CdXR0b24gPSBFeHBsb3Npb25IYWNrCgoJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgoJCUV4cGxvc2lvbkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNCkKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgTGVhcCBTdHVuIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIKCQkJZW5kCgkJCUV4cGxvc2lvbkhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFJvY2sgRmlzdAoKCQlsb2NhbCBSb2NrRmlzdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJvY2tGaXN0SGFjay5OYW1lID0gIlJvY2tGaXN0SGFjayIKCQlSb2NrRmlzdEhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0Zpc3RIYWNrKQoJCW12dGcuVGVsZXBvcnRzLkVhcnRoLkJ1dHRvbiA9IFJvY2tGaXN0SGFjawoKCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9IGZhbHNlCgoJCVJvY2tGaXN0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDQpCgkJCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQgPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dCA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT2ZmKSIKCQkJZW5kCgkJCVJvY2tGaXN0SGFjay5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dAoJCWVuZCkKCgkJLS0gTG9uZyBGbGFzaAoKCQlsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxGbGFzaC5OYW1lID0gIkZsYXNoIgoJCUxGbGFzaC5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBMRmxhc2gpCgkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uQnV0dG9uID0gTEZsYXNoCgoJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkKCQkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucAoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsCgkJCQlbM10gPSB7CgkJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLAoJCQkJCVsiT3JpZ2luIl0gPSBwbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wCgkJCQl9CgkJCX0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQllbmQKCgkJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNCkKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dCA9ICJMb25nIEZsYXNoIChPbikgW2AgdG8gdXNlXSIKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dCA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iCgkJCWVuZAoJCQlMRmxhc2guVGV4dCA9IG12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIFZpZXcgVGFyZ2V0CgoJCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZXdUYXJnZXQuTmFtZSA9ICJWaWV3VGFyZ2V0IgoJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpCgoJCXZpZXdpbmcgPSBmYWxzZQoKCQlmdW5jdGlvbiB2aWV3KCkKCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCWlmIHZpZXdpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCXZpZXdpbmcgPSB0cnVlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9uKSBbVl0iCgkJCQllbHNlCgkJCQkJdmlld2luZyA9IGZhbHNlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJCWVuZAoJCQllbHNlaWYgdmlld2luZyA9PSB0cnVlIHRoZW4gCgkJCQl2aWV3aW5nID0gZmFsc2UKCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJZW5kCgkJZW5kCgoJCVZpZXdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHZpZXcpCgoJCS0tIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCIKCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQoKCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBUUFRvVGFyZ2V0KCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkIGFuZCB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpCgoJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQoJCQllbmQKCQllbmQKCgkJVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikgW1VdIgoJCQllbHNlCgkJCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoJCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCQllbmQKCQllbmQpCgoJCS0tIExvb3AgVGVsZXBvcnQgdG8gVGFyZ2V0CgoJCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTG9vcFRQVGFyZ2V0Lk5hbWUgPSAiTG9vcFRQVGFyZ2V0IgoJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpCgoJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlMb29wVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgTG9vcFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQoJCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9uKSIKCQkJCXdoaWxlIExvb3BUUFRhcmdldEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCWVuZAoJCQllbHNlCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIFN0YW5kYXJkIEVTUAoKCQlsb2NhbCBFU1AgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUVTUC5OYW1lID0gIkVTUCIKCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1ApCQkKCgkJRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpCgkJSG9sZGVyLk5hbWUgPSAiRVNQIgoKCQlsb2NhbCBVcGRhdGVGdW5jcyA9IHt9CgkJbG9jYWwgQm94CgkJbG9jYWwgTmFtZVRhZwoJCWxvY2FsIFRhZwoKCQlmdW5jdGlvbiBDcmVhdGVTdGFuZGFyZCgpCgkJCWxvY2FsIG1hZGUgPSBmYWxzZQoJCQlCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpCgkJCUJveC5OYW1lID0gIm5pbEJveCIKCQkJQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCQlCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCQlCb3guVHJhbnNwYXJlbmN5ID0gMC43CgkJCUJveC5aSW5kZXggPSAwCgkJCUJveC5BbHdheXNPblRvcCA9IHRydWUKCQkJQm94LlZpc2libGUgPSB0cnVlCgoJCQlOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcgPSBOYW1lVGFnCgkJCU5hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnIgoJCQlOYW1lVGFnLkVuYWJsZWQgPSB0cnVlCgkJCU5hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQoJCQlOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQoJCQlOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQoJCQlOYW1lVGFnLk1heERpc3RhbmNlID0gNzUwCgoJCQlUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE5hbWVUYWcpCgkJCVRhZy5OYW1lID0gIlRhZyIKCQkJVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJCVRhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIDApCgkJCVRhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApCgkJCVRhZy5UZXh0U2l6ZSA9IDIwCgkJCVRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCQlUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkKCQkJVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCQkJVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQkJVGFnLkZvbnQgPSBFbnVtLkZvbnQuUm9ib3RvTW9ubwoJCQlUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCgkJCVRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQltYWRlID0gdHJ1ZQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIG1hZGUKCQkJcmV0dXJuIG1hZGUKCQllbmQKCgkJZnVuY3Rpb24gTG9hZENoYXJhY3Rlcih2KQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQkJdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQkJQ3JlYXRlU3RhbmRhcmQoKQoKCQkJCWlmIEVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCB0aGVuCgkJCQkJbG9jYWwgYiA9IEJveDpDbG9uZSgpCgkJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJCb3giCgkJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJCWIuUGFyZW50ID0gdkhvbGRlcgoKCQkJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpCgkJCQkJdC5OYW1lID0gdi5OYW1lIC4uICJOYW1lVGFnIgoJCQkJCXQuUGFyZW50ID0gdkhvbGRlcgoJCQkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuCgkJCQkJCXJldHVybiBVbmxvYWRDaGFyYWN0ZXIodikKCQkJCQllbmQKCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lCgkJCQkJdC5FbmFibGVkID0gdHJ1ZQoJCQkJCXdhaXQoKQoKCQkJCQlsb2NhbCBmdW5jdGlvbiBVcGRhdGVOYW1lVGFnKCkKCQkJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApCgkJCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkKCQkJCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lIC4uICJcbiIgLi4gKChtYXhoIH49IDAgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgoaCAvIG1heGgpICogMTAwKSkpIG9yICIwIikgLi4gIiUgICIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpCgkJCQkJCQkJaWYgRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkIHRoZW4KCQkJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcKCQkJCQkJCQllbHNlCgkJCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJCWVuZAoJCQkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbgoJCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4KCQkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQllbHNlCgkJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpIHRoZW4KCQkJCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gbmlsCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJCVVwZGF0ZU5hbWVUYWcoKQoJCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZwoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgYW5kICh2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJOYW1lVGFnIikgfj0gbmlsKSB0aGVuCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gTG9hZFBsYXllcih2KQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKSB0aGVuCgkJCQkJSG9sZGVyW3YuTmFtZV06RGVzdHJveSgpCgkJCQllbmQKCQkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEhvbGRlcikKCQkJCXZIb2xkZXIuTmFtZSA9IHYuTmFtZQoJCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlpZiBFU1BJbmZvLlN0YW5kYXJkLkVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKExvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJZW5kCgkJCQllbmQpCgkJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCWVuZCkKCQkJCUxvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQoJCQlVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgdGhlbgoJCQkJdkhvbGRlcjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKExvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQkJVW5sb2FkQ2hhcmFjdGVyKGkpCgkJCQkJd2FpdCgpCgkJCQkJTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJVXBkYXRlRnVuY3NbcF0oKQoJCQkJCWVuZCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWZ1bmN0aW9uIHRvZ2dsZUVTUCgpCgkJCWlmIEVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlpZiBFU1BJbmZvLkdvbGQuRW5hYmxlZCB0aGVuCgkJCQkJRVNQSW5mby5Hb2xkLkVuYWJsZWQgPSBmYWxzZQoJCQkJCUVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCA9IHRydWUKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIlN0YW5kYXJkIEVTUCBFbmFibGVkIgoJCQkJCXdhaXQoMSkKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCQllbHNlCgkJCQkJRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkID0gdHJ1ZQoJCQkJZW5kCgkJCQlFU1AuVGV4dCA9ICJFU1AgKE9uKSBbQl0iCgkJCQlmb3IgaSx2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQoJCQkJZW5kCgkJCWVsc2UKCQkJCUVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCA9IGZhbHNlCgkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlFU1AuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUCkKCgkJLS0gR29sZCBFU1AKCgkJbG9jYWwgRVNQR29sZCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlFU1BHb2xkLkJ1dHRvbi5OYW1lID0gIkVTUEdvbGQiCgkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1BHb2xkKQoKCQlFU1BJbmZvLkdvbGQuRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEdIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkKCQlHSG9sZGVyLk5hbWUgPSAiRVNQR29sZCIKCgkJbG9jYWwgR1VwZGF0ZUZ1bmNzID0ge30KCQlsb2NhbCBHQm94CgkJbG9jYWwgR05hbWVUYWcKCQlsb2NhbCBHVGFnCgoJCWZ1bmN0aW9uIENyZWF0ZURldGFpbGVkKCkKCQkJbG9jYWwgbWFkZSA9IGZhbHNlCgkJCUdCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpCgkJCUdCb3guTmFtZSA9ICJuaWxCb3hHIgoJCQlHQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCQlHQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQkJR0JveC5UcmFuc3BhcmVuY3kgPSAwLjcKCQkJR0JveC5aSW5kZXggPSAwCgkJCUdCb3guQWx3YXlzT25Ub3AgPSB0cnVlCgkJCUdCb3guVmlzaWJsZSA9IHRydWUKCgkJCUdOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZyA9IEdOYW1lVGFnCgkJCUdOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZ0ciCgkJCUdOYW1lVGFnLkVuYWJsZWQgPSB0cnVlCgkJCUdOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQkJR05hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlCgkJCUdOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQoJCQlHTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDc1MAoKCQkJR1RhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgR05hbWVUYWcpCgkJCUdUYWcuTmFtZSA9ICJHVGFnIgoJCQlHVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJCUdUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAtNSkKCQkJR1RhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApCgkJCUdUYWcuVGV4dFNpemUgPSAyMAoJCQlHVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJCUdUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkKCQkJR1RhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40CgkJCUdUYWcuVGV4dCA9ICJOb3QgQXZhaWxhYmxlIgoJCQlHVGFnLkZvbnQgPSBFbnVtLkZvbnQuUm9ib3RvTW9ubwoJCQlHVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJCQlHVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCW1hZGUgPSB0cnVlCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgbWFkZQoJCQlyZXR1cm4gbWFkZQoJCWVuZAoKCQlmdW5jdGlvbiBHTG9hZENoYXJhY3Rlcih2KQoJCQkKCQkJbG9jYWwgdGJsUGxheWVyRGF0YSA9IHt9CgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCVJTUjpXYWl0Rm9yQ2hpbGQoIlBsYXllckRhdGEiKS5PbkNsaWVudEV2ZW50OkNvbm5lY3QoZnVuY3Rpb24odiwgdGJsRGF0YSkKCQkJCXRibFBsYXllckRhdGFbdl0gPSB0YmxEYXRhCgkJCWVuZCkKCQkJCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJCWxvY2FsIHZIb2xkZXJHID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCQl2SG9sZGVyRzpDbGVhckFsbENoaWxkcmVuKCkKCgkJCQlDcmVhdGVEZXRhaWxlZCgpCgoJCQkJaWYgRVNQSW5mby5Hb2xkLkVuYWJsZWQgdGhlbgoJCQkJCWxvY2FsIGIgPSBHQm94OkNsb25lKCkKCQkJCQliLk5hbWUgPSB2Lk5hbWUgLi4gIkdCb3giCgkJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJCWIuUGFyZW50ID0gdkhvbGRlckcKCgkJCQkJbG9jYWwgdCA9IEdOYW1lVGFnOkNsb25lKCkKCQkJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIkdOYW1lVGFnIgoJCQkJCXQuUGFyZW50ID0gdkhvbGRlckcKCQkJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQoJCQkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbgoJCQkJCQlyZXR1cm4gR1VubG9hZENoYXJhY3Rlcih2KQoJCQkJCWVuZAoJCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lCgkJCQkJdC5FbmFibGVkID0gdHJ1ZQoJCQkJCXdhaXQoKQoKCQkJCQlsb2NhbCBmdW5jdGlvbiBHVXBkYXRlTmFtZVRhZygpCgkJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUKCQkJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQoJCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQkJbG9jYWwgc3RyaCA9ICJIOiAiIC4uIChub3QobWF4aCA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIGggLyBtYXhoKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpIC4uICIpIgoJCQkJCQkJCS0tCgkJCQkJCQkJbG9jYWwgbWF4bSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heE1hbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJCWxvY2FsIG0gPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYW5hICogMTApIG9yIDEwMDAKCQkJCQkJCQlsb2NhbCBzdHJtID0gIk06ICIgLi4gKG5vdChtYXhtID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogbSAvIG1heG0pKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhtKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4bSkgLi4gIikiCgkJCQkJCQkJLS0KCQkJCQkJCQlsb2NhbCBtYXhzID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4U3RhbWluYSAqIDEwKSBvciAxMDAwCgkJCQkJCQkJbG9jYWwgcyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLlN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJCWxvY2FsIHN0cnMgPSAgIlM6ICIgLi4gKG5vdChtYXhzID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogcyAvIG1heHMpKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhzKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4cykgLi4gIikiCgoJCQkJCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lIC4uICgiXG4iIC4uIHN0cmgpIC4uICgiXG4iIC4uIHN0cm0pIC4uICgiXG4iIC4uIHN0cnMpCgkJCQkJCQkJCgkJCQkJCQkJaWYgRVNQSW5mby5Hb2xkLkVuYWJsZWQgdGhlbgoJCQkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcKCQkJCQkJCQllbHNlCgkJCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQllbmQKCQkJCQkJCQlpZiBoIC8gbWF4aCA+PSAwLjc1IHRoZW4KCQkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig2MiwgMjU1LCA2MikKCQkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNSwgMTUzLCA2NCkKCQkJCQkJCQllbHNlaWYgaCAvIG1heGggPD0gMC43NSBhbmQgaCAvIG1heGggPj0gMC41IHRoZW4KCQkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgNTUpCgkJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTc5LCAxMzIsIDE1KQoJCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4KCQkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIsIDIpCgkJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTM0LCAxMiwgNjYpCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgKDE5NiAqIChoIC8gbWF4aCkpLCAoMiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE3OSwgKDEzMiAqIChoIC8gbWF4aCkpLCAoMTUgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQllbmQKCQkJCQkJCWVuZCkgdGhlbgoJCQkJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gbmlsCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJCUdVcGRhdGVOYW1lVGFnKCkKCQkJCQlHVXBkYXRlRnVuY3Nbdl0gPSBHVXBkYXRlTmFtZVRhZwoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXJHID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXJHIGFuZCAodkhvbGRlckc6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHQm94Iikgfj0gbmlsIG9yIHZIb2xkZXJHOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR05hbWVUYWciKSB+PSBuaWwpIHRoZW4KCQkJCXZIb2xkZXJHOkNsZWFyQWxsQ2hpbGRyZW4oKQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR0xvYWRQbGF5ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJaWYgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpIHRoZW4KCQkJCQlHSG9sZGVyW3YuTmFtZV06RGVzdHJveSgpCgkJCQllbmQKCQkJCWxvY2FsIHZIb2xkZXJHID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBHSG9sZGVyKQoJCQkJdkhvbGRlckcuTmFtZSA9IHYuTmFtZQoJCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlpZiBFU1BJbmZvLkdvbGQuRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJcGNhbGwoR0xvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJZW5kCgkJCQllbmQpCgkJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQllbmQpCgkJCQlHTG9hZENoYXJhY3Rlcih2KQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR1VubG9hZFBsYXllcih2KQoJCQlHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXJHID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXJHIHRoZW4KCQkJCXZIb2xkZXJHOkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKEdMb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQkJaWYgaTpJc0EoIlBsYXllciIpIHRoZW4KCQkJCWlmIEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQkJR1VubG9hZENoYXJhY3RlcihpKQoJCQkJCXdhaXQoKQoJCQkJCUdMb2FkQ2hhcmFjdGVyKGkpCgkJCQllbmQKCQkJZWxzZWlmIGk6SXNBKCJIdW1hbm9pZCIpIGFuZCBpLlBhcmVudCB0aGVuCgkJCQlsb2NhbCBwID0gcGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQoJCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJR1VwZGF0ZUZ1bmNzW3BdKCkKCQkJCQllbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiB0b2dnbGVFU1BHb2xkKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIEVTUEluZm8uR29sZC5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlpZiBFU1BJbmZvLlN0YW5kYXJkLkVuYWJsZWQgdGhlbgoJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLkVuYWJsZWQgPSBmYWxzZQoJCQkJCQlFU1BJbmZvLkdvbGQuRW5hYmxlZCA9IHRydWUKCQkJCQkJRVNQLlRleHQgPSAiRGV0YWlsZWQgRVNQIEVuYWJsZWQiCgkJCQkJCXdhaXQoMSkKCQkJCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQkJCQllbHNlCgkJCQkJCUVTUEluZm8uR29sZC5FbmFibGVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPbikgW01dIgoJCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlFU1BJbmZvLkdvbGQuRW5hYmxlZCA9IGZhbHNlCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR1VubG9hZFBsYXllciwgdikgZW5kKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQllbmQKCQllbmQKCgkJRVNQR29sZC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUEdvbGQpCgoJCS0tIFRQIHRvIERyb3BzCgkJLS0tLSBDdXJyZW50bHkgZGlzYWJsZWQgZHVlIHRvIHRocmVhdGxldmVsCgoJCS0tW1tsb2NhbCBUUFNoYXJkcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBTaGFyZHMuTmFtZSA9ICJUUFNoYXJkcyIKCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBTaGFyZHMpCgoJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCQoKCQlsb2NhbCBUUERpYW1vbmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyIKCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQRGlhbW9uZHMpCgoJCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgcGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCXBsYXRlLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlCgkJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkKCQlwbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDEwMDAwMCwgMCkKCQlwbGF0ZS5BbmNob3JlZCA9IHRydWUKCQlwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQoJCXBsYXRlLlRyYW5zcGFyZW5jeSA9IDAuNQoKCQlsb2NhbCB0aW1lID0gMAoJCWxvY2FsIGNhbkludmlzID0gZmFsc2UKCgkJZnVuY3Rpb24gdGVsZXBvcnRUb0Ryb3BzKCkKCQkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuU2VydmVyRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiU2hhcmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZWxzZWlmIFRQRGlhbW9uZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIkRpYW1vbmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZW5kCgoJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCWlmIHRpbWUgPT0gNSB0aGVuIAoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoKCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoKCQkJcmV0dXJuIAoJCWVuZAoKCgkJZnVuY3Rpb24gc3RhcnRUaW1lcigpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJd2hpbGUgd2FpdCgpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgb3IgVFBEaWFtb25kc0VuYWJsZWQgdGhlbgoJCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybgoJCQkJCWVsc2UKCQkJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQl3YWl0KDEpCgkJCQkJCQlyZXBlYXQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXRpbWUgPSB0aW1lICsgMQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCXVudGlsIHRpbWUgPT0gNgoJCQkJCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoJCQkJCQkJd2FpdCg3LjUpCgkJCQkJCQl0aW1lID0gMAoJCQkJCQllbHNlCgkJCQkJCQl3aGlsZSB0cnVlIGRvCgkJCQkJCQkJaWYgbm90IFRQU2hhcmRzRW5hYmxlZCBhbmQgbm90IFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQllbmQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlicmVhawoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuCgkJZW5kCgoJCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSB0cnVlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUFNoYXJkc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCXN0YXJ0VGltZXIoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQlUUERpYW1vbmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPbikiCgkJCQlzdGFydFRpbWVyKCkKCQkJCXdoaWxlIFRQRGlhbW9uZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJCWVuZAoJCWVuZCldXQoKCQktLSBBbHQgRmFybWluZwoKCQlsb2NhbCBBbHRGYXJtID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUFsdEZhcm0uTmFtZSA9ICJBbHRGYXJtIgoJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLEFsdEZhcm0pCgoJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgbG9jcyA9IHt7NDI0LCAyNTAwMCwgNjF9LHstNjcsIDI1MDAwLCAyNjE5fSx7LTI2MDAsIDI1MDAwLCA0ODN9fQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQlsb2NhbCBodW0gPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCWxvY2FsIGxhc3Rwb3MKCgkJbG9jYWwgZnVuY3Rpb24gZG9GYXJtKCkKCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQlocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCWh1bSA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCWh1bS5IZWFsdGhDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJcGxheWVyLkNoYXJhY3RlcjpCcmVha0pvaW50cygpCgkJCWVuZCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gYWx0dHAobGksbHApCgkJCWxvY2FsIG5ld0xvYyA9IFZlY3RvcjMubmV3KHVucGFjayhsb2NzW2xpXSkpCgkJCWlmIG5ld0xvYyB+PSBscCB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyOk1vdmVUbyhuZXdMb2MpCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBhbHRwbGF0ZShkZSxsaSkKCQkJaWYgbm90IGxpIHRoZW4gbGkgPSBuaWwgZW5kCgkJCWlmIGRlID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIEFsdFBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCUFsdFBsYXRlLlBhcmVudCA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIilbIi5JZ25vcmUiXQoJCQkJQWx0UGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldyhsb2NzW2xpXVsxXSwgKGxvY3NbbGldWzJdIC0gNSksIGxvY3NbbGldWzNdKQoJCQkJQWx0UGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDUsMSw1KQoJCQkJQWx0UGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJCQlBbHRQbGF0ZS5UcmFuc3BhcmVuY3kgPSAxCgkJCWVsc2UKCQkJCWlmIG5vdCBBbHRQbGF0ZSA9PSBuaWwgdGhlbgoJCQkJCUFsdFBsYXRlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbHRGYXJtLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgQWx0RmFybUVuYWJsZWQgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXI6TW92ZVRvKGxhc3Rwb3MpCgkJCQkJQWx0RmFybUVuYWJsZWQgPSBmYWxzZQoJCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCQkJCWFsdHBsYXRlKHRydWUpCgkJCQkJaHVtLkhlYWx0aENoYW5nZWQ6RGlzY29ubmVjdCgpCgkJCQllbHNlCgkJCQkJQWx0RmFybUVuYWJsZWQgPSB0cnVlCgkJCQkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJGYXJtaW5nIE1vZGUgKE9uKSIKCQkJCQlsYXN0cG9zID0gaHJwLnBvc2l0aW9uCgkJCQkJbG9jYWwgVFBMb2NhdGlvbiA9IG1hdGgucmFuZG9tKDEsI2xvY3MpCgkJCQkJYWx0cGxhdGUoZmFsc2UsVFBMb2NhdGlvbikKCQkJCQlyZXBlYXQKCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQkJCQlkb0Zhcm0oKQoJCQkJCQlpZiBocnAuUG9zaXRpb24gfj0gdW5wYWNrKGxvY3NbVFBMb2NhdGlvbl0pIHRoZW4KCQkJCQkJCWFsdHRwKFRQTG9jYXRpb24sbGFzdHBvcykKCQkJCQkJZW5kCgkJCQkJCXdhaXQoLjEpCgkJCQkJdW50aWwgQWx0RmFybUVuYWJsZWQgPT0gZmFsc2UKCQkJCWVuZAoJCQllbHNlCgkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCWxvY2FsIGZ1bGxidXR0b25zID0gY29weShidXR0b25zKQoKCQktLSBHVUkgVHdlYWtpbmcKCgkJZm9yIGksdiBpbiBwYWlycyhib3JkZXJzKSBkbwoJCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQoJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MAoJCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZCgkJCXYuQWN0aXZlID0gdHJ1ZQoJCQl2LlBhcmVudCA9IGViZ3VpCgkJZW5kCgoJCWZvciBpLHYgaW4gcGFpcnMoYnV0dG9ucykgZG8KCQkJaWYgdHlwZW9mKHYpID09ICJ0YWJsZSIgYW5kIHYuSXNHb2xkIHRoZW4KCQkJCXYuQnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDE3NSwgMjApCgkJCQl2LkJ1dHRvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJdi5CdXR0b24uQm9yZGVyU2l6ZVBpeGVsID0gMgoJCQkJdi5CdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCQkJdi5CdXR0b24uRm9udEZhY2UuV2VpZ2h0ID0gRW51bS5Gb250V2VpZ2h0LkhlYXZ5CgkJCQl2LkJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCXYuQnV0dG9uLlRleHRTY2FsZWQgPSB0cnVlCgkJCQl2LkJ1dHRvbi5UZXh0U2l6ZSA9IDE0LjAwMAoJCQkJdi5CdXR0b24uVGV4dFdyYXBwZWQgPSB0cnVlCgkJCQl2LkJ1dHRvbi5MYXlvdXRPcmRlciA9IGkKCQkJCXYuQnV0dG9uLlBhcmVudCA9IG1haW5mcmFtZQoJCQllbHNlCgkJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwgNTQsIDE3OSkKCQkJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCQkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCQkJdi5Gb250RmFjZS5XZWlnaHQgPSBFbnVtLkZvbnRXZWlnaHQuSGVhdnkKCQkJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQl2LlRleHRTY2FsZWQgPSB0cnVlCgkJCQl2LlRleHRTaXplID0gMTQuMDAwCgkJCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQoJCQkJdi5MYXlvdXRPcmRlciA9IGkKCQkJCXYuUGFyZW50ID0gbWFpbmZyYW1lCgkJCWVuZAoJCWVuZAoKCQktLSBjb21tYW5kQm94CgoJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiCgkJbG9vcGluZyA9IGZhbHNlCgkJU21hcnRBdHRhY2sgPSB0cnVlCgkJSGVhbFNldHRpbmcgPSAxCgkJc3R1bkVuYWJsZWQgPSB0cnVlCgkJbG9jYWwgYnV0dG9uSGVpZ2h0ID0gMzAKCQlsb2NhbCBidXR0b25HYXAgPSA3CgoJCWxvY2FsIHN0dW5Db25uZWN0aW9uID0gZ2V0Y29ubmVjdGlvbnMoUlNSOldhaXRGb3JDaGlsZCgiQ29tYmF0IikuT25DbGllbnRFdmVudCkKCQlsb2NhbCBsYWdnZXJzID0gewoJCQkiMUIwRjk4QkUtRTEwQi00Njc0LTlGQjQtNkY2NTE3MUEzNDdGIiwgLS0gbG9nCgkJCSI2QTMzMTA0QS0xRkU5LTRGQTgtOTM3NC1DMTY0RDI4RjgzNTEiLCAtLSBicmlhbgoJCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0CgkJCSI1NUMyMDQ5RC1DNkJELTQ1MjMtODgwNC1ENTM5QzM4NzkyQTMiLCAtLSBwZW50YXJhY3QKCQkJIjk0NjRCNjhBLTM2M0MtNDFGOC1CQjdELUI0QkVEOEFDMDk2MyIsIC0tIHZhc3RvcmlvCgkJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvawoJCQktLSAiNjNCMzlFMjctREExQi00ODJFLUIyOEMtNkEzMzk4Qzk1QTRDIiwgLS0gYWxleAoJCQkiODQ2QTY1RTItRTk2My00QTBBLTkwMjUtRTlCOEU5NTg5NjEzIiwgLS0gYnJhbQoJCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsKCQkJIjZBOTcwNTJBLTYzNEUtNDdFMS04RDkwLTVFRTNDQTRBOTZGQSIsIC0tIHJhdmVuCgkJCSJGNTk3NUQ3RC0yQUM1LTQ0QUEtODAxRi04Mjc2MjVENkQ3NjMiLCAtLSBhbGV4aWEKCQkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MKCQkJIjc0ODlDQkFFLTc5ODYtNDVBOS1CRTQwLUEyMThFRENEMEYwMSIgLS0gY2VwaGFzCgkJfQoKCQlsb2NhbCBhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQoKCQlmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbwoJCQl2ID0gdjpsb3dlcigpCgoJCQlpZiAodiA9PSBjbGllbnRpZCkgdGhlbgoJCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhSUChjaHIpCgkJCWxvY2FsIEhSUCA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQoJCQlyZXR1cm4gSFJQCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhVTShjaHIpCgkJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQoJCQlyZXR1cm4gSFVNCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlc3Bhd24ocGxyKQoJCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyCgoJCQlpZiAoY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSkgdGhlbiBjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpOkNoYW5nZVN0YXRlKDE1KSBlbmQKCQkJY2hyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpCgkJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJcGxyLkNoYXJhY3RlciA9IG5ld2NocgoKCQkJd2FpdCgpCgoJCQlwbHIuQ2hhcmFjdGVyID0gY2hyCgkJCW5ld2NocjpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpCgkJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpCgkJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lCgkJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUKCgkJCXJlc3Bhd24ocGxyKQoKCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJcGxyLkNoYXJhY3RlckFkZGVkOldhaXQoKTpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuUm9vdFBhcnQuQ0ZyYW1lLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUgPSBwb3MsIHdhaXQoKSBhbmQgcG9zMQoJCQllbmQpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQoJCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpCgkJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQoKCQkJZm9yIGksIHYgaW4gaXBhaXJzKGNvbW1hbmQpIGRvCgkJCQl2ID0gc3RyaW5nLmdzdWIodiwgIiVzKyIsICIiKQoJCQkJaWYgdiA9PSAiIiB0aGVuCgkJCQkJdGFibGUucmVtb3ZlKGNvbW1hbmQsIGkpCgkJCQllbmQKCQkJZW5kCgoJCQlyZXR1cm4gY29tbWFuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpCgkJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpCgkJCWxvY2FsIG1hdGNoZXMgPSB7fQoKCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8KCQkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoJCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQoKCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQobmFtZSwgdGV4dCkKCgkJCQlpZiBtYXRjaCB0aGVuCgkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIG1hdGNoZXMKCQllbmQKCgkJbG9jYWwgZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvckV4Y2x1ZGUgPSB7IkhlYWQiLCJUb3JzbyIsIkxlZnQgQXJtIiwiTGVmdCBMZWciLCJSaWdodCBBcm0iLCJSaWdodCBMZWciLCJTaGFyZCIsIkRpYW1vbmQifQoKCQktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQoJCWxvY2FsIGNvbG9yMQoJCWxvY2FsIGNvbG9yMgoJCWxvY2FsIGNvbG9yMwoKCQlsb2NhbCBmdW5jdGlvbiB0ZXJtRUJHdWkoKQoJCQl3YXJuKCJDbG9zaW5nIEVCR3VpIGZvciBnb29kLi4uIikKCQkJd2FybigiVHdlZW5pbmcgb3V0IFVJIGVsZW1lbnRzLi4uIikKCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQl3YWl0KDEpCgkJCXdhcm4oIlJlc2V0dGluZyB0YXJnZXQuLi4iKQoJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCQl3YXJuKCJVbmxvYWRpbmcgYWxsIEVTUCBlbGVtZW50cy4uLiIpCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCQkJcGNhbGwoR1VubG9hZENoYXJhY3RlciwgdikKCQkJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpCgkJCWVuZAoJCQl3YXJuKCJFbnN1cmluZyBFU1AgZWxlbWVudHMgYXJlIGRpc2FibGVkLi4uIikKCQkJRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkID0gZmFsc2UKCQkJRVNQSW5mby5Hb2xkLkVuYWJsZWQgPSBmYWxzZQoJCQl3YXJuKCJDbGVhbmluZyB1cCBFU1AgZWxlbWVudHMuLi4iKQoJCQlnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKTpGaW5kRmlyc3RDaGlsZCgiRVNQIik6RGVzdHJveSgpCgkJCWdhbWU6R2V0U2VydmljZSgiQ29yZUd1aSIpOkZpbmRGaXJzdENoaWxkKCJFU1BHb2xkIik6RGVzdHJveSgpCgkJCXdhcm4oIlJlc2V0dGluZyBoYWNrIHZhbHVlcy4uLiIpCgkJCWZvciBhLGIgaW4gcGFpcnMobXZ0ZykgZG8KCQkJCWlmIHR5cGVvZihiKSA9PSAidGFibGUiIHRoZW4KCQkJCQlmb3IgYyxkIGluIHBhaXJzKGIpIGRvCgkJCQkJCWlmIHR5cGVvZihkKSA9PSAidGFibGUiIHRoZW4KCQkJCQkJCWZvciBlLGYgaW4gcGFpcnMoZCkgZG8KCQkJCQkJCQlpZiBmIHRoZW4gZiA9IGZhbHNlIGVuZAkKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQkJd2FybigiRGVzdHJveWluZyBFQkd1aSBhbmQgaXRzIGNoaWxkcmVuLi4uIikKCQkJZWJndWk6RGVzdHJveSgpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGlucHV0Qm94KCkKCQkJbG9jYWwgdGV4dCA9IGNvbW1hbmRCb3guVGV4dAoJCQl3YWl0KCkKCQkJY29tbWFuZEJveC5UZXh0ID0gIiIKCgkJCWxvY2FsIHByZWZpeCA9ICI7IgoJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEpID09IChwcmVmaXgpIHRoZW4KCQkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCgkJCQlpZiAoKHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAicmUiKSkgYW5kIG5vdCAoc3RyaW5nLnN1Yih0ZXh0LDEsNykgPT0gKHByZWZpeCAuLiAicmVqb2luIikpKSBvciAoc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJyZWZyZXNoIikpIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyOkJyZWFrSm9pbnRzKCkKCQkJCQl3YWl0KC4xMjUpCgkJCQkJcmVmcmVzaChwbGF5ZXIpCgkJCQllbHNlaWYgKHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAidHAiKSkgb3IgKHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAidGVsZXBvcnQiKSkgdGhlbgoJCQkJCWxvY2FsIHRlbGVwb3J0dG8KCQkJCQlsb2NhbCB0cG5hbWUKCQkJCQlsb2NhbCBwYXJnCgkJCQkJbG9jYWwgcGxhY2UKCQkJCQlsb2NhbCBtaW5sZXYKCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gInRlbGVwb3J0IikgdGhlbgoJCQkJCQlwYXJnID0gc3RyaW5nLnN1Yih0ZXh0LCAxMSkKCQkJCQkJbG9jYWwgcyA9IHN0cmluZy5nc3ViKHBhcmcsIiVzKyIsIiIpCgkJCQkJCXBsYWNlID0gc3RyaW5nLmxvd2VyKHMpCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAidHAiKSB0aGVuCgkJCQkJCXBhcmcgPSBzdHJpbmcuc3ViKHRleHQsIDUpCgkJCQkJCWxvY2FsIHMgPSBzdHJpbmcuZ3N1YihwYXJnLCIlcysiLCIiKQoJCQkJCQlwbGFjZSA9IHN0cmluZy5sb3dlcihzKQoJCQkJCWVuZAoKCQkJCQlpZiBwbGFjZSA9PSAic3RhbmRhcmRsb3ciIG9yIHBsYWNlID09ICI1NjYzOTkyNDQiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDU2NjM5OTI0NAoJCQkJCQl0cG5hbWUgPSAiTG93YmllIFN0YW5kYXJkIgoJCQkJCQltaW5sZXYgPSAwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJzdGFuZGFyZDQwIiBvciBwbGFjZSA9PSAic3RhbmRhcmQiIG9yIHBsYWNlID09ICIyNTY5NjI1ODA5IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSAyNTY5NjI1ODA5CgkJCQkJCXRwbmFtZSA9ICJTdGFuZGFyZCIKCQkJCQkJbWlubGV2ID0gMAoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibGlnaHQiIG9yIHBsYWNlID09ICI1NzAxNTgwODEiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDU3MDE1ODA4MQoJCQkJCQl0cG5hbWUgPSAiTGlnaHQiCgkJCQkJCW1pbmxldiA9IDQwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJmaXJlIiBvciBwbGFjZSA9PSAiNTM3NjAwMjA0IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSA1Mzc2MDAyMDQKCQkJCQkJdHBuYW1lID0gIkZpcmUiCgkJCQkJCW1pbmxldiA9IDgwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJ3YXRlciIgb3IgcGxhY2UgPT0gIjUyMDU2ODI0MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNTIwNTY4MjQwCgkJCQkJCXRwbmFtZSA9ICJXYXRlciIKCQkJCQkJbWlubGV2ID0gMTIwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJncmFzcyIgb3IgcGxhY2UgPT0gIjU1NDk1NTU2MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNTU0OTU1NTYwCgkJCQkJCXRwbmFtZSA9ICJHcmFzcyIKCQkJCQkJbWlubGV2ID0gMjAwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJoZWF2ZW4iIG9yIHBsYWNlID09ICI2MDIwNDg1NTAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDYwMjA0ODU1MAoJCQkJCQl0cG5hbWUgPSAiSGVhdmVuIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWluaWxvdmFuaWEiIG9yIHBsYWNlID09ICJzYW5zIiBvciBwbGFjZSA9PSAiNTc1NDU2NjQ2IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSA1NzU0NTY2NDYKCQkJCQkJdHBuYW1lID0gIk1pbmlsb3ZhbmlhIgoJCQkJCQltaW5sZXYgPSAwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJzdXJ2aXZhbCIgb3IgcGxhY2UgPT0gIjEyNDM2MTU2MTIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDEyNDM2MTU2MTIKCQkJCQkJdHBuYW1lID0gIlN1cnZpdmFsIgoJCQkJCQltaW5sZXYgPSAwCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIgoJCQkJCWVuZAoKCQkJCQlpZiB0ZWxlcG9ydHRvIGFuZCBub3QgKHRlbGVwb3J0dG8gPT0gZ2FtZS5QbGFjZUlkKSB0aGVuIC0tIElmIHRlbGVwb3J0IHRvIHdhcyBwcm92aWRlZCBhbmQgbm90IHRoZSBjdXJyZW50IHBsYWNlLi4uCgkJCQkJCWlmIG5vdCAodGVsZXBvcnR0byA9PSA2MDIwNDg1NTApIHRoZW4gLS0gSWYgeW91J3JlIG5vdCBjb25uZWN0aW5nIHRvIEhlYXZlbi4uLgoKCQkJCQkJCWxvY2FsIHBkIC0tIFBsYXllckRhdGEgY29ubmVjdGlvbgoJCQkJCQkJbG9jYWwgcGxldiAtLSBWYXJpYWJsZSBmb3IgcGxheWVyJ3MgY3VycmVudCBsZXZlbAoJCQkJCQkJbG9jYWwgSGFzSGVhdmVuID0gZ2FtZTpHZXRTZXJ2aWNlKCJNYXJrZXRwbGFjZVNlcnZpY2UiKTpVc2VyT3duc0dhbWVQYXNzQXN5bmMoSUQsIDIxNjI0NDgpCgkJCQkJCQktLSBeXiBSZXR1cm5zIGEgYm9vbCB2YWx1ZSBkZXBlbmRpbmcgb24gaWYgeW91IG93biBIZWF2ZW4KCQkJCQkJCXBkID0gUlNSOldhaXRGb3JDaGlsZCgiUGxheWVyRGF0YSIpLk9uQ2xpZW50RXZlbnQ6Q29ubmVjdChmdW5jdGlvbihwLHQpCgkJCQkJCQkJaWYgcC5OYW1lIH49IHBsYXllci5OYW1lIHRoZW4gcmV0dXJuIGVuZAoJCQkJCQkJCXBsZXYgPSB0b251bWJlcih0LkRhdGEuTGV2ZWwpCgkJCQkJCQkJcGQ6RGlzY29ubmVjdCgpCgkJCQkJCQllbmQpIC0tIEdyYWJzIHRoZSBwbGF5ZXIncyBsZXZlbCBhbmQgc2F2ZXMgaXQgdG8gcGxldgoJCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGV2IH49IG5pbCAtLSBUbyBhdm9pZCB0aGUgcmVtYWluZGVyIG9mIHRoZSBjb2RlIHJ1bm5pbmcKCQkJCQkJCS0tIGJlZm9yZSB0aGUgY29ubmVjdGlvbiBjYW4gY2xvc2UsIHdhaXQgdW50aWwgcGxldiBpcyBubyBsb25nZXIgbmlsCgoJCQkJCQkgICAgaWYgdG9udW1iZXIocGxldikgPT0gbmlsIHRoZW4gLS0gSWYsIHNvbWVob3csIHBsZXYgaXMgbm90IGEgbnVtYmVyLAoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTb21ldGhpbmcgd2VudCB3cm9uZyEiIC0tIC4uLmNoYW5nZSBvdXRwdXQKCQkJCQkJCQl3YXJuKCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGVuIGdldHRpbmcgY3VycmVudCBsZXZlbCEiKSAtLSAuLi53YXJuIHBsYXllcgoJCQkJCQkJCXByaW50KCJHb3QgeW91ciBjdXJyZW50IGxldmVsIGFzICIgLi4gdG9zdHJpbmcocGxldikpIC0tIC4uLnJldHVybiB3aGF0IHBsZXYgaXMKCQkJCQkJCWVsc2VpZiBwbGV2ID49IG1pbmxldiB0aGVuIC0tIE90aGVyd2lzZSwgaWYgcGxldiBpcyBncmVhdGVyIHRoYW4gdGhlIG1pbmxldiBvZiBhIGNlcnRhaW4gbWFwLi4uCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRlbGVwb3J0aW5nIHRvICIgLi4gdHBuYW1lIC4uICIhIiAtLSAuLi5jaGFuZ2Ugb3V0cHV0CgkJCQkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydCh0ZWxlcG9ydHRvKSAtLSAuLi50ZWxlcG9ydCBwbGF5ZXIKCQkJCQkJCWVsc2UgLS0gSWYgYWxsIGVsc2UgZmFpbHMuLi4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91J3JlIG5vdCBoaWdoIGVub3VnaCBvZiBhIGxldmVsIGZvciB0aGlzIGFyZWEhIiAtLSAuLi5jaGFuZ2Ugb3V0cHV0CgkJCQkJCQllbmQKCQkJCQkJZWxzZSAtLSBPdGhlcndpc2UuLi4KCQkJCQkJCWlmIEhhc0hlYXZlbiB0aGVuIC0tIC4uLmlmIHlvdSBoYXZlIHRoZSBIZWF2ZW4gZ2FtZXBhc3MuLi4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGVsZXBvcnRpbmcgdG8gIiAuLiB0cG5hbWUgLi4gIiEiIC0tIC4uLmNoYW5nZSBvdXRwdXQKCQkJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pIC0tIC4uLnRlbGVwb3J0IHBsYXllcgoJCQkJCQkJZWxzZSAtLSBPdGhlcndpc2UuLi4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG5lZWQgdGhlIEhlYXZlbiBHYW1lcGFzcyB0byBnbyBoZXJlISIgLS0gLi4uY2hhbmdlIG91dHB1dAoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiB0ZWxlcG9ydHRvID09IGdhbWUuUGxhY2VJZCB0aGVuIC0tIE90aGVyd2lzZS4uLgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91J3JlIGFscmVhZHkgaW4gIiAuLiB0cG5hbWUgLi4gIiEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJkZWNsdXR0ZXIiKSB0aGVuCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5DaGFyYWN0ZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkJvb2suSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNob3AuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAicmFpbiIpIHRoZW4KCQkJCQlsb2NhbCBjdXJyZW50Q0FNID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKCQkJCQlsb2NhbCByYWluU291bmQgPSBJbnN0YW5jZS5uZXcoIlNvdW5kIikKCQkJCQlyYWluU291bmQuTG9vcGVkID0gdHJ1ZQoJCQkJCXJhaW5Tb3VuZC5Tb3VuZElkID0gInJieGFzc2V0aWQ6Ly8yODMxNjQ1OTMiCgkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDEKCQkJCQlyYWluU291bmQuUGFyZW50ID0gd29ya3NwYWNlCgkJCQkJcmFpblNvdW5kOlBsYXkoKQoKCQkJCQlsb2NhbCByYWluUGFydCA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDMwMCwgMzAwLCAzMDApCgkJCQkJcmFpblBhcnQuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXJhaW5QYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCXJhaW5QYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQoKCQkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpCgkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQlyYWluRWZmZWN0LlBhcmVudCA9IHJhaW5QYXJ0CgoJCQkJCWxvY2FsIGlnbm9yZSA9IHdvcmtzcGFjZTpXYWl0Rm9yQ2hpbGQoIi5JZ25vcmUiKQoJCQkJCXJhaW5QYXJ0LlBhcmVudCA9IGlnbm9yZTpXYWl0Rm9yQ2hpbGQoIi5TZXJ2ZXJFZmZlY3RzIikKCgkJCQkJbG9jYWwgZm92ID0gMiAqIG1hdGgudGFuKG1hdGgucmFkKGN1cnJlbnRDQU0uRmllbGRPZlZpZXcpIC8gMikKCQkJCQlsb2NhbCBuZXdSYXkgPSBSYXkubmV3CgkJCQkJbG9jYWwgaGVpZ2h0ID0gVmVjdG9yMy5uZXcoMCwgNTAsIDApCgkJCQkJbG9jYWwgZGVwdGggPSBDRnJhbWUubmV3KDAsIGZvdiAqIDUwLCAtNjApCgoJCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQoJCQkJCQlsb2NhbCByYyA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QobmV3UmF5KGN1cnJlbnRDQU0uQ0ZyYW1lLnAsIGhlaWdodCksIHtpZ25vcmV9KQoKCQkJCQkJaWYgKHJjKSB0aGVuCgkJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDAuNQoJCQkJCQkJcmV0dXJuCgkJCQkJCWVuZAoKCQkJCQkJbG9jYWwgdmlld3BvcnQgPSBjdXJyZW50Q0FNLlZpZXdwb3J0U2l6ZQoJCQoJCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoZm92ICogdmlld3BvcnQueCAvIHZpZXdwb3J0LnkgKiA1MCwgMC4yLCAxMDApCgkJCQkJCXJhaW5QYXJ0LkNGcmFtZSA9IGN1cnJlbnRDQU0uQ0ZyYW1lICogZGVwdGgKCQkKCQkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gdHJ1ZQoJCQoJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDQpID09IChwcmVmaXggLi4gImZpeCIpIHRoZW4KCQkJCQlpZiBwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpIHRoZW4KCQkJCQkJcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKS5WaXNpYmxlID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZpeGluZyB0aGUgTWVudSBHVUkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTMpID09IChwcmVmaXggLi4gImJ1dHRvbmhlaWdodCIpIHRoZW4KCQkJCQlidXR0b25IZWlnaHQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkKCQkJCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgYnV0dG9uSGVpZ2h0KQoJCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApCgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gaGVpZ2h0IHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkgLi4gIiEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbgoJCQkJCWJ1dHRvbkdhcCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKQoJCQkJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCBidXR0b25HYXApCgkJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBnYXAgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKSAuLiAiISIKCQkJCWVsc2VpZiAoKHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAicmUiKSkgYW5kIChzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gInJlam9pbiIpKSkgb3IgKHN0cmluZy5zdWIodGV4dCwxLDMpID09IChwcmVmaXggLi4gInJqIikpIHRoZW4KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmVqb2luaW5nLi4uIgoJCQkJCWdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBwbGF5ZXIpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJhdXJhL29mZiIpIHRoZW4KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKQoKCQkJCQlpZiBnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpIHRoZW4KCQkJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKTpEZXN0cm95KCkKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgaGFzIGJlZW4gcmVtb3ZlZC4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBkb2VzIG5vdCBleGlzdCEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxNCkgPT0gKHByZWZpeCAuLiAidGFyZ2V0c2V0dGluZyIpIHRoZW4KCQkJCQl0YXJnZXRTZXR0aW5nID0gc3RyaW5nLnN1Yih0ZXh0LCAxNikKCgkJCQkJcmVwZWF0CgkJCQkJCWlmIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gc2VsZWN0ISIKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGNsb3Nlc3QhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBmYXJ0aGVzdCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBsb3docCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gaGlnaGhwISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJLS1bW2Vsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJjbGljayIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlNldCB0YXJnZXQgc2V0dGluZyB0byBjbGljayEiCgkJCQkJCQl3YWl0KDIpCQkJCQkJCQoJCQkJCQkJaWYgbm90ICh0YXJnZXQgPT0gcGxheWVyLk5hbWUpIHRoZW4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCWVuZAoKCQkJCQkJCWxvY2FsIG1jb24KCQkJCQkJCWxvY2FsIHBtb2QKCQkJCQkJCW1jb24gPSBtb3VzZS5CdXR0b24xVXA6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJCQkJbW91c2UuVGFyZ2V0RmlsdGVyID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKVsiTWFwIl0KCQkJCQkJCQlpZiBtb3VzZS5UYXJnZXQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJcG1vZCA9IG1vdXNlLlRhcmdldDpGaW5kRmlyc3RBbmNlc3Rvck9mQ2xhc3MoIk1vZGVsIikKCQkJCQkJCQllbHNlCgkJCQkJCQkJCXBtb2QgPSB7CgkJCQkJCQkJCQlbIk5hbWUiXSA9ICJOQSIKCQkJCQkJCQkJfQoJCQkJCQkJCWVuZAoJCQkJCQkJCXByaW50KHBtb2QuTmFtZSkKCQkJCQkJCQlpZiBwbW9kLk5hbWUgfj0gIk5BIiB0aGVuCgkJCQkJCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCQkJCQkJaWYgdi5OYW1lID09IHBtb2QuTmFtZSB0aGVuCgkJCQkJCQkJCQkJdGFyZ2V0ID0gdi5OYW1lCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQkJbWNvbjpEaXNjb25uZWN0KCkKCQkJCQkJCWVuZCldXQoJCQkJCQllbHNlCgkJCQkJCQl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCIKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIHRhcmdldCBzZXR0aW5nISBTZXR0aW5nIGhhcyBiZWVuIHNldCB0byBzZWxlY3QuIFNlZSBjb25zb2xlIGZvciBvcHRpb25zLiIKCQkJCQkJCXByaW50KCJWYWxpZCB0YXJnZXQgc2V0dGluZyBvcHRpb25zOyBzZWxlY3QsIGNsb3Nlc3QsIGZhcnRoZXN0LCBsb3docCwgaGlnaGhwLCBjbGljay4iKQoJCQkJCQllbmQKCQkJCQl1bnRpbCB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiCgoJCQkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJsb29wIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBsb29waW5nID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdGFydGVkIGxvb3BpbmcgYXR0YWNrcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWxvb3BpbmcgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlsb29waW5nID0gbm90IGxvb3BpbmcKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGxvb3BpbmcgYXR0YWNrcyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQl3aGlsZSBsb29waW5nIGRvCgkJCQkJCQlleHBsb2l0KCkKCQkJCQkJCXdhaXQoKQoJCQkJCQllbmQKCQkJCQkJcmV0dXJuCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiZ3JjaGFyZ2UiKSB0aGVuCgkJCQkJR1JDaGFyZ2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDExKSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBHUkNoYXJnZSA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgY2hhcmdlIHRvICIgLi4gR1JDaGFyZ2UgLi4gIiEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJzcGVlZCIpIHRoZW4KCQkJCQlTZXRTcGVlZCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgOCkpCgkJCQkJd2FpdCgpCgkJCQkJaWYgU2V0U3BlZWQgPT0gbmlsIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/IgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIHNwZWVkIHRvICIgLi4gU2V0U3BlZWQgLi4gIiEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMikgPT0gKHByZWZpeCAuLiAic21hcnRhdHRhY2siKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE1KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBTbWFydEF0dGFjayA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJU21hcnRBdHRhY2sgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm93IGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTYpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBTbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCVNtYXJ0QXR0YWNrID0gbm90IFNtYXJ0QXR0YWNrCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZm9yY2VmaWVsZCBkZXRlY3Rpb24gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiZ2FtZWNvbG9yIikgdGhlbgoJCQkJCWlmIG5vdCBnYW1lLkxpZ2h0aW5nOkZpbmRGaXJzdENoaWxkKCJFQkdHdWlDb2xvckNvcnJlY3Rpb24iKSB0aGVuCgkJCQkJCUluc3RhbmNlLm5ldygiQ29sb3JDb3JyZWN0aW9uRWZmZWN0IiwgZ2FtZS5MaWdodGluZykuTmFtZSA9ICJFQkdHdWlDb2xvckNvcnJlY3Rpb24iCgkJCQkJCXdhaXQoKQoJCQkJCWVuZAoKCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNykgPT0gIm5vcm1hbCIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IDAKCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IDAKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJldmVydGluZy4uLiIKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJncmF5c2NhbGUiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0xCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJHcmF5c2NhbGluZy4uLiIKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRodWUiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0yCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgaHVlLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGFsbCIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IC0yCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgYWxsLi4uIgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29sb3IgbW9kZSAob3Igbm9uZSBzcGVjaWZpZWQpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJibGFja2Nhc3QiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gbm90IGJsYWNrY2FzdEVuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGJsYWNrIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJzdHVuIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlzdHVuRW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlzdHVuRW5hYmxlZCA9IG5vdCBzdHVuRW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbwoJCQkJCQkJCWNvbm5lY3Rpb246RGlzYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpFbmFibGUoKQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBzdHVuICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiZHJ1Z3MiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDkpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCWRydWdzRW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgMTApID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWRydWdzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlkcnVnc0VuYWJsZWQgPSBub3QgZHJ1Z3NFbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGRydWcgbW9kZSAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDExKSA9PSAocHJlZml4IC4uICJtYWdpY2NvbG9yIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDEzKQoJCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykKCgkJCQkJaWYgKGFyZ3NbMV0gPT0gInQiKSBvciAoYXJnc1sxXSA9PSAib24iKSB0aGVuCgkJCQkJCWlmIChjb2xvcjEgfj0gbmlsKSBhbmQgKGNvbG9yMiB+PSBuaWwpIGFuZCAoY29sb3IzIH49IG5pbCkgdGhlbgoJCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGVuYWJsZWQhIgoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIllvdSBtdXN0IGhhdmUgY29sb3JzIHNldCB3aXRoIHRoaXMgY29tbWFuZCBiZWZvcmUgdHVybmluZyBpdCBiYWNrIG9uISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIChhcmdzWzFdID09ICJmIikgb3IgKGFyZ3NbMV0gPT0gIm9mZiIpIHRoZW4KCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBkaXNhYmxlZCEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWFyZ3NbMV0gPSB0b251bWJlcihhcmdzWzFdKQoJCQkJCQlhcmdzWzJdID0gdG9udW1iZXIoYXJnc1syXSkKCQkJCQkJYXJnc1szXSA9IHRvbnVtYmVyKGFyZ3NbM10pCgoJCQkJCQlpZiBub3QgYXJnc1szXSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3Ugc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXM/IgoJCQkJCQllbHNlCgkJCQkJCQlpZiAoYXJnc1sxXSB+PSBuaWwpIGFuZCAoYXJnc1syXSB+PSBuaWwpIGFuZCAoYXJnc1szXSB+PSBuaWwpIHRoZW4KCQkJCQkJCQlsb2NhbCBleGVjdXRhYmxlID0gdHJ1ZQoKCQkJCQkJCQlmb3IgaSA9IDEsIDMsIDEgZG8KCQkJCQkJCQkJaWYgKGFyZ3NbaV0gPCAwKSBvciAoYXJnc1tpXSA+IDI1NSkgdGhlbgoJCQkJCQkJCQkJZXhlY3V0YWJsZSA9IGZhbHNlCgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJaWYgZXhlY3V0YWJsZSA9PSB0cnVlIHRoZW4KCQkJCQkJCQkJY29sb3IxID0gYXJnc1sxXQoJCQkJCQkJCQljb2xvcjIgPSBhcmdzWzJdCgkJCQkJCQkJCWNvbG9yMyA9IGFyZ3NbM10KCgkJCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3Igd2FzIHNldCB0byAiIC4uIGNvbG9yMSAuLiAiLCAiIC4uIGNvbG9yMiAuLiAiLCBhbmQgIiAuLiBjb2xvcjMgLi4gIiEiCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFRoZSBudW1iZXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNTUhIgoJCQkJCQkJCWVuZAoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgUGxlYXNlIHVzZSBudW1iZXJzIHRvIHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzLiIKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImNvbG9ycyIpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQoJCQkJCQlzcGF3bihmdW5jdGlvbigpIAoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCXdoaWxlIHRydWUgZG8KCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSkpCgkJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQoJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB0YWJsZS5maW5kKGNvbG9yRXhjbHVkZSwgZC5OYW1lKSB0aGVuIAoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoY29sb3IxLCBjb2xvcjIsIGNvbG9yMykKCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZSBicmVhayBlbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgKGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4KCQkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbgoJCQkJCQkJCQkJCXYuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCWVuZCkKCQkJCQkJZW5kKQoKCQkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCWlmIGQ6SXNBKCJQYXJ0aWNsZUVtaXR0ZXIiKSB0aGVuCQkJCgkJCQkJCQkJCXdoaWxlIHRydWUgZG8KCQkJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuCgkJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKSwKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKQoJCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAiaGVhbCIpIHRoZW4KCQkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCA3KQoJCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykKCgkJCQkJaWYgYXJnc1sxXSB0aGVuCQkJCQoJCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuCgkJCQkJCQlsb2NhbCBoZWFsaW5nUGxheWVyID0gZmluZFBsYXllcihhcmdzWzFdKVsxXQoJCQkJCQkJbG9jYWwgY2hyID0gZ2FtZS5QbGF5ZXJzW2hlYWxpbmdQbGF5ZXJdLkNoYXJhY3RlcgoKCQkJCQkJCWlmIGNociB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkhlYWxpbmcgIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdIC4uICIuLi4iCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIpCgkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCQkJCQlpZiBjaHIgPT0gcGxheWVyLkNoYXJhY3RlciB0aGVuCgkJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBbmdlbCIsIkFuZ2VsaWMgQXVyYSIpCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJlY2hvZXMiKSB0aGVuCQkJCQkKCQkJCQlpZiBzdHJpbmcuZmluZCh0ZXh0LCJwaGFzZSIpIGFuZCBub3Qgc3RyaW5nLmZpbmQodGV4dCwiYXV0byIpIHRoZW4KCQkJCQkJbG9jYWwgcGhhc2UgPSBzdHJpbmcuc3ViKHRleHQsIDE1KQoJCQkJCQlpZiB0b251bWJlcihwaGFzZSkgPT0gbmlsIHRoZW4KCQkJCQkJCWlmIChwaGFzZSA9PSAicG93IikgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBQT1chIgoJCQkJCQkJZWxzZWlmIChwaGFzZSA9PSAiYnJuIikgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBCUk4hIgoJCQkJCQkJZWxzZWlmIChwaGFzZSA9PSAic3RuIikgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMwoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBTVE4hIgoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBTcGVjaWZ5OiBQT1c7IEJSTjsgU1ROLCBvciBudW1iZXIgMS0zLiIKCQkJCQkJCQl3YXJuKCJHb3QgaW52YWxpZCBhcmd1bWVudCBhdCBydW50aW1lISBFeHBlY3RlZCBQT1csIEJSTiwgU1ROLCBvciBudW1iZXIgMS0zLCBnb3QgIi4ucGhhc2UpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbgoJCQkJCQkJaWYgbWF0aC5mbG9vcih0b251bWJlcihwaGFzZSkpID09IDEgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBQT1chIgoJCQkJCQkJZWxzZWlmIG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKSA9PSAyIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDIKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gQlJOISIKCQkJCQkJCWVsc2VpZiBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkgPT0gMyB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAzCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5maW5kKHRleHQsImF1dG8iKSBhbmQgbm90IHN0cmluZy5maW5kKHRleHQsInBoYXNlIikgdGhlbgoJCQkJCQlsb2NhbCBib29sID0gc3RyaW5nLnN1Yih0ZXh0LDE0KQoJCQkJCQlpZiAoYm9vbCA9PSAidCIpIG9yIChib29sID09ICJvbiIpIHRoZW4KCQkJCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgYXV0by10YXJnZXQgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCQllbHNlCgkJCQkJCQkJRWNob2VzQXV0byA9IHRydWUKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9uIEVjaG9lcyBhdXRvLXRhcmdldCEiCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIChib29sID09ICJmIikgb3IgKGJvb2wgPT0gIm9mZiIpIHRoZW4KCQkJCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCQkJCUVjaG9lc0F1dG8gPSBmYWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIEVjaG9lcyBhdXRvLXRhcmdldCEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBhdXRvLXRhcmdldCBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIGJvb2wgPT0gIiIgdGhlbgoJCQkJCQkJbG9jYWwgQXV0bwoJCQkJCQkJRWNob2VzQXV0byA9IG5vdCBFY2hvZXNBdXRvCgkJCQkJCQlpZiBFY2hvZXNBdXRvIHRoZW4KCQkJCQkJCQlBdXRvID0gIm9uIgoJCQkJCQkJZWxzZQoJCQkJCQkJCUF1dG8gPSAib2ZmIgoJCQkJCQkJZW5kCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBFY2hvZXMgYXV0by10YXJnZXQgdG8gIi4uQXV0by4uIiEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBTcGVjaWZ5IHQvZiwgb24vb2ZmLiIKCQkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIHQvZiBvciBvbi9vZmYsIGdvdCAiLi5ib29sKQoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBTcGVjaWZ5IHBoYXNlIG9yIGF1dG8uIgoJCQkJCQl3YXJuKCJHb3QgaW52YWxpZCBhcmd1bWVudCBhdCBydW50aW1lISBFeHBlY3RlZCBwaGFzZSBvciBhdXRvLCBnb3QgIi4uc3RyaW5nLnN1Yih0ZXh0LDkpKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImNoYW5nZWxvZyIpIHRoZW4KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ29waWVkIHRoZSBjaGFuZ2Vsb2cgdG8geW91ciBjbGlwYm9hcmQhIgoJCQkJCXNldGNsaXBib2FyZCgiaHR0cHM6Ly9naXRodWIuY29tL0VhcnRoVG9BY2Nlc3MvRUJHVUkjY2hhbmdlbG9nIikKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gIm9yaWdpbiIpIHRoZW4KCQkJCQl4cGNhbGwoZnVuY3Rpb24oKQoJCQkJCQlsb2NhbCBvcmlnaW4gPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCQkJCQlvcmlnaW4uQW5jaG9yZWQgPSB0cnVlCgkJCQkJCW9yaWdpbi5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdCgkJCQkJCW9yaWdpbi5OYW1lID0gIk9yaWdpbiIKCQkJCQkJb3JpZ2luLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uCgkJCQkJCW9yaWdpbi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIlJlYWxseSByZWQiKQoJCQkJCQlvcmlnaW4uU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpCgkJCQkJCW9yaWdpbi5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApCgkJCQkJCXdhcm4oIk1hZGUgYSBibG9jayBhdCB0aGUgb3JpZ2luISIpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzISBDaGVjayBjb25zb2xlIGZvciBtb3JlIGluZm8iCgkJCQkJZW5kLCBmdW5jdGlvbihlKQoJCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpCgkJCQkJCXdhcm4oJ3RyYWNlYmFjazonLCBkZWJ1Zy50cmFjZWJhY2soKSkKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJoZWxwIikgdGhlbgoJCQkJCXNldGNsaXBib2FyZCgiaHR0cHM6Ly9naXRodWIuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvYmxvYi9tYWluL0RvY3MubWQiKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb2N1bWVudGF0aW9uIGNvcGllZCB0byBjbGlwYm9hcmQhIgoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaW5mbyIpIHRoZW4KCQkJCQlsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvbWFpbi9iaW4vaW5mby5sdWEnKSkoKQoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInN0YXR1cyIgdGhlbgoJCQkJCQlwcmludCgiVGhlIGN1cnJlbnQgc3RhdHVzIG9mIEVCR3VpIGlzICIgLi4gc3RhdHVzKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHdWkgU3RhdHVzOiAiIC4uIHN0YXR1cwoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJyZXBvIiBvciBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJnaXRodWIiIHRoZW4KCQkJCQkJcHJpbnQoIlRoZSBHaXRIdWIgcmVwb3NpdG9yeSBsaW5rIGlzICIgLi4gcmVwbykKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkNoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGluZm8hIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAidXBkYXRlIikgdGhlbgoJCQkJCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpCgkJCQkJaWYgdmVyTnVtID09IGN1cnJlbnQgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm8gdXBkYXRlIHJlcXVpcmVkISIKCQkJCQllbHNlaWYgdmVyTnVtID09IGxhc3QgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVmVyc2lvbiBvdXRkYXRlZCEgQ3VycmVudDogIiAuLiBjdXJyZW50CgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiYnJvIHVyIG9uIGEgZGV2IGJ1aWxkIG9yIHNtIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwxLDUpID09IChwcmVmaXguLiJkZXNwIikgdGhlbgoJCQkJCWxvY2FsIGFyZyA9IHN0cmluZy5zdWIodGV4dCw3KQoJCQkJCWxvY2FsIGZ1bmN0aW9uIHJlbG9hZEVTUCgpCgkJCQkJCWlmIEVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCB0aGVuCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCQkJCQkJCXBjYWxsKExvYWRQbGF5ZXIsIHYpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWlmIEVTUEluZm8uR29sZC5FbmFibGVkIHRoZW4KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJCQkJcGNhbGwoR1VubG9hZFBsYXllciwgdikKCQkJCQkJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCQlsb2NhbCBmdW5jdGlvbiBpc251bWJlcihuKQoJCQkJCQlyZXR1cm4gKHR5cGUobikgPT0gIm51bWJlciIpIGFuZCAobWF0aC5mbG9vcihuKSA9PSBuKQoJCQkJCWVuZAoJCQkJCWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCAodG9udW1iZXIoYXJnKSA+PSAxMDAgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAwMDAwKSB0aGVuCgkJCQkJCUVTUEluZm8uTWF4RGlzdC5WYWx1ZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCw3KSkKCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnLk1heERpc3RhbmNlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCw3KSkKCQkJCQkJcmVsb2FkRVNQKCkKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlNldCBFU1AgTWF4IERpc3RhbmNlIHRvICIgLi4gYXJnCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpIDw9IDEwIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk51bWJlciB0b28gbG93ISBUcnkgc29tZXRoaW5nIGJpZ2dlci4iCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpID49IDEwMDAwMCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJXT0FIIFRIQVQnUyBBIEJJRyBOVU1CRVIuIFVzZSBzb21ldGhpbmcgc21hbGxlciEiCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAidCIgb3IgYXJnID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgRVNQSW5mby5NYXhEaXN0LkVuYWJsZWQgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVTUCBNYXggRGlzdGFuY2UgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCUVTUEluZm8uTWF4RGlzdC5FbmFibGVkID0gdHJ1ZQoJCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnLk1heERpc3RhbmNlID0gRVNQSW5mby5NYXhEaXN0LlZhbHVlCgkJCQkJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IEVTUEluZm8uTWF4RGlzdC5WYWx1ZQoJCQkJCQkJcmVsb2FkRVNQKCkKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gRVNQIE1heCBEaXN0YW5jZSEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBub3QgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIChhcmcgPT0gImYiIG9yIGFyZyA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBFU1BJbmZvLk1heERpc3QuRW5hYmxlZCB0aGVuCgkJCQkJCQlFU1BJbmZvLk1heERpc3QuRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSAwCgkJCQkJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDAKCQkJCQkJCXJlbG9hZEVTUCgpCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9mZiBFU1AgTWF4IERpc3RhbmNlISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVTUCBNYXggRGlzdGFuY2UgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBEaWQgeW91IHNwZWNpZnkgYSBudW1iZXI/IgoJCQkJCQl3YXJuKCJHb3QgaW52YWxpZCBhcmd1bWVudCBhdCBydW50aW1lLiBHb3QgIiAuLiBhcmcgLi4gIiwgZXhwZWN0ZWQgYm9vbGVhbiBvciBudW1iZXIiKQoJCQkJCWVuZAkJCQkJCQkJCQkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsMSw4KSA9PSAocHJlZml4IC4uICJhbnRpYWZrIikgdGhlbgkJCQkJCgkJCQkJbG9jYWwgc2MgPSAwCgkJCQkJbG9jYWwgZGIKCQkJCQlpZiBBbnRpQWZrIHRoZW4KCQkJCQkJQW50aUFmayA9IGZhbHNlCgkJCQkJCXNjID0gMAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9mZiBhbnRpLWFmayEiCgkJCQkJZWxzZQoJCQkJCQlBbnRpQWZrID0gdHJ1ZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9uIGFudGktYWZrISIKCQkJCQkJd2FpdCgxLjUpCgkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCWVuZAoJCQkJCQlyZXBlYXQKCQkJCQkJCXBsYXllci5JZGxlZDpPbmNlKGZ1bmN0aW9uKCkKCQkJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIik6Q2xpY2tCdXR0b24yKFZlY3RvcjIubmV3KFVEaW0yLm5ldyguNSkpKQoJCQkJCQkJCWlmIG5vdCBkYiB0aGVuCgkJCQkJCQkJCXNjID0gc2MgKyAxCgkJCQkJCQkJCXByaW50KCJTdG9wcGVkIGlkbGUgZGlzY29ubmVjdCAiLi5zYy4uIiB0aW1lcy4iKQoJCQkJCQkJCQlkYiA9IHRydWUKCQkJCQkJCQllbmQKCQkJCQkJCWVuZCkKCQkJCQkJCWRiID0gZmFsc2UKCQkJCQkJCXdhaXQoKQoJCQkJCQl1bnRpbCBBbnRpQWZrID09IGZhbHNlCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29tbWFuZCEgRGlkIHlvdSB0eXBlIGl0IHdyb25nPyIKCQkJCQl3YXJuKCJHb3QgYW4gaW52YWxpZCBjb21tYW5kIGF0IHJ1bnRpbWUuIENvbW1hbmQgcmVjZWl2ZWQgd2FzICIuLnRleHQpCgkJCQllbmQKCgkJCQl3YWl0KDEuNSkKCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQllbmQKCQkJZWxzZQoJCQkJbG9jYWwgbWF0Y2hlcyA9IGZpbmRQbGF5ZXIodGV4dCkKCgkJCQlpZiAjbWF0Y2hlcyA9PSAxIHRoZW4KCQkJCQl0YXJnZXQgPSBtYXRjaGVzWzFdCgkJCQkJaWYgbWF0Y2hlc1sxXSA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIJCQkJCQkKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gbWF0Y2hlc1sxXQoJCQkJCWVuZAoJCQkJCXdhaXQoMSkKCQkJCWVsc2UKCQkJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCQkJCXdhcm4oIlRhcmdldCBub3QgZm91bmQhIERvIG11bHRpcGxlIHBsYXllcnMgaGF2ZSB0aGF0IHNhbWUgc3Vic3RyaW5nIGluIHRoZWlyIG5hbWVzPyIpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgVGFyZ2V0ISBUeXBlIHRoZWlyIG5hbWUgYWdhaW4uIgoJCQkJCXdhaXQoMS41KQoJCQkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpjb25uZWN0KGZ1bmN0aW9uKHBsYXllcikKCQkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4KCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoVGFyZ2V0IGxlZnQhKSIKCQkJZW5kCgkJZW5kKQoKCQljb21tYW5kQm94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKGVudGVyUHJlc3NlZCkKCQkJaWYgZW50ZXJQcmVzc2VkIHRoZW4KCQkJCWlmIGNvbW1hbmRCb3guVGV4dCB+PSAiIiB0aGVuCgkJCQkJaW5wdXRCb3goKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkKCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgKG1hdGguY2VpbCgjYnV0dG9ucyAqIDM3KSAvIDIpIC0gNykKCQllbmQpKQoKCQktLSBFeHBsb2l0cwoKCQlsb2NhbCBmdW5jdGlvbiBmZigpCgkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJaWYgZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCXJldHVybiB0cnVlCgkJCQllbHNlCgkJCQkJcmV0dXJuIGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJcmV0dXJuIGZhbHNlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBleHBsb2l0KCkKCQkJLS0gRXhwbG9pdCBmdW5jdGlvbi4gV2hlbiBDIGlzIHByZXNzZWQgYW5kIG9uZSBvZiB0aGVzZSBhcmUgInRydWUiLCBpdCB3aWxsIGZpcmUgaXQuCgkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcgoJCQlsb2NhbCBEQ00gPSBSU1IuRG9DbGllbnRNYWdpYwoJCQlsb2NhbCBETSA9IFJTUi5Eb01hZ2ljCgoJCQlpZiBtdnRnLkFvRXMuQ2hhb3MuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNoYW9zIiwiU3BhY2UtVGltZSBSdXB0dXJlIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkNoYW9zIiwKCQkJCQlbMl0gPSAiU3BhY2UtVGltZSBSdXB0dXJlIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsNSwwKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlN0b3JtIiwiTGlnaHRuaW5nIEJvbHQiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQm9sdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIk9yaWdpbiJdID0gbW91c2UuSGl0LnAgKyBWZWN0b3IzLm5ldygwLDE1LDApCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuU29sYXIuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvbGFyIiwiVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4iKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJVbm1hdGNoZWQgUG93ZXIgb2YgdGhlIFN1biIsCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsIkxpZ2h0IERpc2MiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIkxpZ2h0IERpc2MiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJQb3NpdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCVJTUi5SZW1vdGVFdmVudDpGaXJlU2VydmVyKCJMaWdodERpc2MyIikKCQkJCXdhaXQoMikKCQkJCVJTUi5SZW1vdGVFdmVudDpGaXJlU2VydmVyKCJMaWdodERpc2NEZWxldGUiKQoJCQllbmQKCgkJCWlmIG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIkV4cGxvc2l2ZSBMZWFwIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkV4cGxvc2lvbiIsCgkJCQkJWzJdID0gIkV4cGxvc2l2ZSBMZWFwIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiTGFzdFBvcyJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24KCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvbGFyIiwgIkR5aW5nIFN0YXIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgRmlzdCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFYXJ0aCIsCgkJCQkJWzJdID0gIlJvY2sgRmlzdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkdyb3VuZGVkIl0gPSB0cnVlCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkxpZ2h0IiwKCQkJCQlbMl0gPSAiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ29vcmRpbmF0ZXMiXSA9IHsKCQkJCQkJCVsxXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs0XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs2XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs3XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs5XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxMF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTFdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzEyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTRdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxNl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTddID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxOV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMjBdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApCgkJCQkJCX0sCgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiUmVhcGVyIiwgIlJlYXBlcidzIFJhZ2UiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiUmVhcGVyIiwKCQkJCQlbMl0gPSAiUmVhcGVyJ3MgUmFnZSIsCgkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQJCQoKCQkJaWYgbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDcmVhdGlvbiIsICJDb250aW51b3VzIFN0cmlrZXMiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiQ3JlYXRpb24iLAoJCQkJCVsyXSA9ICJDb250aW51b3VzIFN0cmlrZXMiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJDRiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQlbIkNoYXJnZSJdID0gIjIiCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiSHlwZXJhbmciLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIiwge2xhc3RNb3VzZVBvc2l0aW9uID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbil9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIsIHtHcm91bmRlZCA9IHRydWV9KQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlNvbGFyLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsIkRvdWJsZSBSYXkiKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwKCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlN0b3JtIiwKCQkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiCgkJCQl9CQkJCgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCQkJCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiRGlyZWN0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCQl9CgkJCQl9CQkJCgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCw1MDAsMCkpCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Bpcml0IiwKCQkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iCgkJCQl9CgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGlyaXQiLAoJCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIsCgkJCQkJWzNdID0gewoJCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuUGxhc21hLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIikKCQkJCURNOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiLCB7TGFzdFBvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikKCQkJCURNOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAxNSwgMCkpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50Iiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikKCQkJCURNOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5Wb2lkLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIiwge3BvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuVGltZS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCURNOkludm9rZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHtsdiA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBjaGFyZ2UgPSBHUkNoYXJnZX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwge3JoaXQgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydCwgbm9ybSA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBycG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5BdXJvcmEuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIikKCQkJCURNOkludm9rZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgYW5kIEVjaG9lc1BoYXNlIH49IG5pbCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU291bmQiLCAiRWNob2VzIikKCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCURNOkludm9rZVNlcnZlcigiU291bmQiLCAiRWNob2VzIiwge0VjaG9lc1BoYXNlLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCQllbHNlCgkJCQkJRE06SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIG1vdXNlLkhpdC5wfSkKCQkJCWVuZAoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIikKCQkJCURNOkludm9rZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5JbGx1c2lvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIikKCQkJCURNOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5EcmFnb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuQWNpZC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQlEQ006RmlyZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siLCB7RGlyZWN0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCBGbG9vciA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZX0pCgkJCQl3YWl0KDE3LjUpCgkJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJZW5kCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iLCB7UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIikKCQkJCURNOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24sIFZlY3RvcjMubmV3KDAsIDAsIDApfSkKCQkJZW5kCgkJZW5kCgoJCS0tW1tsb2NhbCBmdW5jdGlvbiBCZWdpblRyYWNraW5nKCkKCQkJbG9jYWwgYyA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQ3VycmVudENhbWVyYQoJCQlsb2NhbCBoYiA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLkhlYXJ0YmVhdAoJCQlsb2NhbCBtID0gcGxheWVyOkdldE1vdXNlKCkKCQkJbG9jYWwgcCA9IGM6V29ybGRUb1NjcmVlblBvaW50KHBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJaGI6Y29ubmVjdChmdW5jdGlvbihzdGVwKQoJCQkJbW91c2Vtb3ZlYWJzKHAuWCwgKHAuWSArIDI1KSkKCQkJZW5kKQoJCWVuZF1dIC0tIEZvciBBaW1ib3QsIGN1cnJlbnRseSB1bmRlciBkZXZlbG9wbWVudAoKCQktLSBVSVMKCgkJbG9jYWwgVUlTID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikKCQlsb2NhbCB0ZXJtaW5hdGV1aXMgPSBmYWxzZQoJCWxvY2FsIGNvbm5lY3Rpb24KCgkJY29ubmVjdGlvbiA9IFVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQoJCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4KCQkJCWlmIG5vdCBncCB0aGVuCgkJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyCgoJCQkJCWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlplcm8gdGhlbgoJCQkJCQljb21tYW5kQm94OkNhcHR1cmVGb2N1cygpCgkJCQkJCXdhaXQoKQoJCQkJCQlpZiBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkpID09ICIwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94LlRleHQgPSBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgMSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpIC0gMSkKCQkJCQkJZW5kCgkJCQkJLS1bW2Vsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MIHRoZW4KCQkJCQkJdG9nZ2xlQWltYm90KCldXQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4KCQkJCQkJZXhwbG9pdCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbgoJCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuCgkJCQkJCUFudGlCbGluZEZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4KCQkJCQkJYmVnaW5TcGVlZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbgoJCQkJCQlpZiBtdnRnLk1pc2MuSW52aXMuVmFsdWUgPT0gdHJ1ZSB0aGVuCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlAgdGhlbgoJCQkJCQlpZiBTYW5zVGVsZXBvcnRFbmFibGVkIHRoZW4KCQkJCQkJCWlmIGdhbWUuUGxhY2VJZCA9PSA1NjYzOTkyNDQgb3IgZ2FtZS5QbGFjZUlkID09IDI1Njk2MjU4MDkgdGhlbgoJCQkJCQkJCWxvY2FsIFNhbnNQb3MgPSBDRnJhbWUubmV3KC0xNjg1LjkxMDUyLCAyMzAuMDM1MTI2LCAtMTgxLjc5ODI2NCkKCQkJCQkJCQlsb2NhbCBTYW5zQW5nbGVzID0gQ0ZyYW1lLkFuZ2xlcygwLCBtYXRoLnJhZCgyMCksIDApCgoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBTYW5zUG9zICogU2Fuc0FuZ2xlcwoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQkJCQkJd2FpdCgxKQoJCQkJCQkJCWlmIG5vdCBGcmVlemVFbmFibGVkIHRoZW4KCQkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuCgkJCQkJCWJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkcgdGhlbgoJCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5KIHRoZW4KCQkJCQkJaWYgQ2xpY2tUUEVuYWJsZWQgdGhlbgoJCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5GIHRoZW4KCQkJCQkJRnJlZXplRnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2txdW90ZSB0aGVuCgkJCQkJCWlmIG12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCQkJCWxvbmdmbGFzaCgpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5WIHRoZW4KCQkJCQkJdmlldygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkIgdGhlbgoJCQkJCQl0b2dnbGVFU1AoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5NIHRoZW4KCQkJCQkJdG9nZ2xlRVNQR29sZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRCcmFja2V0IHRoZW4KCQkJCQkJaWYgbm90IGNsb3NlZGZvcmV2ZXIgdGhlbgoJCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQoJCQkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoJCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLAoJCQkJCQkJCQkJIk91dCIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiSW4iLAoJCQkJCQkJCQkJIlNpbmUiLAoJCQkJCQkJCQkJLjUsCgkJCQkJCQkJCQl0cnVlCgkJCQkJCQkJCSkKCQkJCQkJCQllbmQKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4KCQkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQoJCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCQkJCQkJIkluIiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbmQKCQkJCQkJd2FpdCgxKQoJCQkJCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQoJCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoYW5rcyBmb3IgdXNpbmcgRUJHdWkhIgoJCQkJCQl3YWl0KDIpCgkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQkJCQl0ZXJtRUJHdWkoKQoJCQkJCQkJY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTY3JpcHRzIGFuZCBGdW5jdGlvbnMgRU5ECgoJCS0tIEVudHJhbmNlIEFuaW1hdGlvbgoKCQl3YWl0KDAuNSkKCgkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLAoJCQkiT3V0IiwKCQkJIlNpbmUiLAoJCQkuNSwKCQkJdHJ1ZQoJCSkKCgkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJIk91dCIsCgkJCSJTaW5lIiwKCQkJLjUsCgkJCXRydWUKCQkpCgoJCS0tIEluZm8KCgkJcHJpbnQoW1sKCgkJXV0pCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldlbGNvbWUgdG8gRUJHdWkhIgoJCXdhaXQoMikKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgllbmQsIGZ1bmN0aW9uKGUpCgkJbG9jYWwgY3Jhc2ggPSB7CgkJCSJJJ20gc28sIHNvLCBzbyBzbyBTTyBzb3JyeSEiLAoJCQkiV2F0ZXIgY29vbGluZz8gSSBwcmVmZXIgbGF2YSBjb29saW5nLiIsCgkJCSJZb3VyIEVCR3VpIHJhbiBpbnRvIGEgcHJvYmxlbSBhbmQgbmVlZHMgdG8gcmVzdGFydC4iLAoJCQkiU1RPUCBDb2RlOiAweERFQURCRUVGIiwKCQkJIklzIHRoaXMgd2hhdCBkZXZlbG9wbWVudCBpcyBsaWtlPyBJIGhhdGUgaXQuIiwKCQkJIlRoZSBVbnN0b3BwYWJsZSBNYXJjaGluZyBvRiB0aU1lIHRoYXQgaXMgc2xPd2x5IGd1aWRpbmcgdXMgYWxsIHRPd2FyZHMgYW4gSW5ldml0YUJsRSBERUFUSC4gVGhhdCBzcGVsbHMgXCJUdW0gRk0uIE93TyBPLCBJIGJlIGRlYXRoLlwiIiwKCQkJIkkgZ3Vlc3MgeW91IGNvdWxkIGNhbGwgbWUgYW4gXCJPb2VyXCIuIiwKCQkJIkVycm9yIE1lc3NhZ2UhIiwKCQkJIldob29wcywgd2UncmUgbG93IG9uIG1lbW9yeSEgVHJ5IHJlbWVtYmVyaW5nIGxhdGVyLiIsCgkJCSJXaG9vcHMsIHdlJ3JlIGxvdyBvbiBtZW1lb3J5LiBUcnkgc2VuZGluZyBQZXBlcyBsYXRlci4iLAoJCQkiT2theSwgd2hvIGtpbGxlZCB0aGUgY29tcHV0ZXIgaGFtc3RlcnM/IiwKCQkJIkNhbid0IGtlZXAgdXAhIElzIHRoZSBzY3JpcHQgb3ZlcmxvYWRlZCwgb3IgaGF2ZSB5b3UgbWVsdGVkIHlvdXIgQ1BVPyIsCgkJCSJPaCwgY29uZ3JhdHVsYXRpb25zLCAiIC4uIHBsYXllci5OYW1lIC4uICIsIHlvdSBicm9rZSBpdCEiLAoJCQkiSSBzd2VhciB0aGF0IHdhcyBpbnRlbnRpb25hbC4iLAoJCQkiSSBwcm9taXNlIGl0IHdvbid0IGhhcHBlbiBhZ2Fpbi4iLAoJCQkiT2theSwgZ29ubmEgYmUgcmVhbCwgTk8gQ0xVRSB3aGF0IHdlbnQgd3JvbmcgdGhlcmUuIiwKCQkJIk9oLCBubywgbmV2ZXJtaW5kLCBJIGtub3cgZXhhY3RseSB3aGF0IHdlbnQgd3JvbmcuIiwKCQkJIkEgcHJpZXN0LCBhIG1pbmlzdGVyLCBhbmQgYSByYWJiaXQgd2FsayBpbnRvIGEgYmxvb2QgYmFuay4iLAoJCQkiVGhlIG51cnNlIG9uIGR1dHkgYXNrcyB0aGUgdGhyZWUgZm9yIHRoZWlyIGJsb29kIHR5cGUgZ3JvdXAgdG8gZ2V0IHRoZW0gc2V0IHVwLiIsCgkJCSJUaGUgcHJpZXN0LCBkaWduaWZpZWQsIHNheXMgXCJJJ20gQUIhXCIuIiwKCQkJIlRoZSBtaW5pc3RlciwgaW5kaWZmZXJlbnQsIHJlcGxpZXMgXCJJIGJlbGlldmUgSSdtIHR5cGUgQS5cIiIsCgkJCSJUaGUgcmFiYml0LCBzaHlseSBhbmQgbmVydm91c2x5LCBsb29rcyBhcm91bmQgdGhlIHJvb20sIGJlZm9yZSBhbm5vdW5jaW5nLCBcIkkgdGhpbmsgSSBtaWdodCBiZSBhIHR5cGUgTy5cIi4iLAoJCQkiSGV5LCByZW1lbWJlciB0aGF0IHRpbWUgeW91ICpkaWRuJ3QqIGJyZWFrIGV2ZXJ5dGhpbmc/IE1lIG5laXRoZXIuIiwKCQkJIk9vcHMsIG15IGJhZC4iLAoJCQkiTWF5YmUgaWYgeW91IGJvdWdodCBHb2xkIHRoaXMgd291bGRuJ3QgaGF2ZSBoYXBwZW5lZC4iLAoJCQkiUXVpY2ssIHRvIHRoZSBEaXNjb3JkISIsCgkJCSJOb3cgd291bGQgYmUgYSBmYW50YXN0aWMgdGltZSB0byBnbyBvcGVuIGEgdGlja2V0Li4uIiwKCQkJIlRoaXMgaXMgd2hhdCBJIGdldD8gSSBkbyBhbGwgb2YgdGhpcyBmb3IgeW91LCBhbmQgeW91IGtpbGwgbWU/IiwKCQkJIldobyB0aGUgaGVsbCBzYWlkIFwib21hZSB3YSBtb3Ugc2hpbmRlcnVcIiBhdCBtZT8hIiwKCQkJIllvdSdyZSBsdWNreSB0aGlzIGlzIFJvYmxveCBvciBJJ2QgaGF2ZSBzb21lIGNob2ljZSB3b3JkcyBmb3IgeW91LiIsCgkJCSJEaWQgdGhhdCByZWFsbHkganVzdCBoYXBwZW4/ISIsCgkJCSJHb2QsIEknbSBzbyBzb3JyeSwgSSBwcm9taXNlIEknbGwgZG8gYmV0dGVyLiIsCgkJCSJUaGlzIGlzIHVzdWFsbHkgdGhlIHBhcnQgd2hlcmUtIG9oLCB0aGVyZSdzIHRoYXQgY3Jhc2ggZHVtcC4iLAoJCQkiVW5mb3J0dW5hdGVseSwgaXQgYXBwZWFycyBJJ3ZlIGRyb3BwZWQgaXQuIiwKCQkJIldlJ3JlIGN1cnJlbnRseSBleHBlcmllbmNpbmcgdGVjaG5pY2FsIGRpZmZpY3VsdGllcy4gUGxlYXNlIHN0YW5kIGJ5LiIsCgkJCSJUb25pZ2h0LCB3ZSBhcmUgdW5hYmxlIHRvIGJyaW5nIHlvdSBCaW5nbyBOaWdodCBMaXZlLiIsCgkJCSJZYWtub3csIGlmIHRoaXMgd2VyZSBhIEJCQyB0ZWxldmlzaW9uIGJyb2FkY2FzdCwgdGhpcyBpc3N1ZSBtaWdodCBzZWVtIG5vcm1hbC4iLAoJCQkiSXQncyBqdXN0IG9uZSBvZiB0aG9zZSBkYXlzLCBpc24ndCBpdD8iLAoJCQkiSnVzdCB3aGFjayB0aGUgc2lkZSBhIGNvdXBsZSB0aW1lcywgdGhhdCBzaG91bGQgZG8gaXQuIiwKCQkJIk9uIHRoZSBmaXJzdCBkYXkgb2YgQ2hyaXN0bWFzLCBteSB0cnVlIGxvdmUgZ2F2ZSB0byBtZS4uLiIsCgkJfQoKCQlwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKCQlwcmludChjcmFzaFttYXRoLnJhbmRvbSgxLCNjcmFzaCldKQoJCXByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQoJCXdhcm4oIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggRUJHdWkhIikKCQlwcmludChlKQoJCXByaW50KCJUaGlzIGNyYXNoIHJlcG9ydCB3YXMgZ2VuZXJhdGVkIG9uICIgLi4gb3MuZGF0ZSgnJXggJVgnLG9zLnRpbWUoKSkgLi4gIiBhbmQgd2lsbCBiZSBzYXZlZCBpbiB5b3VyIGV4ZWN1dG9yJ3MgV29ya3NwYWNlIGZvbGRlci4iKQoKCQlsb2NhbCB1ZiA9IG9zLmRhdGUoIiV4XyVYIixvcy50aW1lKCkpCgkJbG9jYWwgZGYgPSBzdHJpbmcuZ3N1Yih1ZiwiLyIsIi0iKQoJCWxvY2FsIGR0ZiA9IHN0cmluZy5nc3ViKGRmLCI6IiwiLSIpCgkJbG9jYWwgZXhlYyA9IGlkZW50aWZ5ZXhlY3V0b3IoKQoKCQlpZiBub3QgaXNmb2xkZXIoIkVCR3VpIikgdGhlbiBtYWtlZm9sZGVyKCJFQkd1aSIpIGVuZAoJCXdyaXRlZmlsZSgiRUJHdWlcXENyYXNoRHVtcC0iLi5kdGYuLiIudHh0IiwKCgkJIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iIC4uIGNyYXNoW21hdGgucmFuZG9tKDEsI2NyYXNoKV0gLi4gIlxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuIiAuLgoKCQlbW0VCR3VpIHN0b3BwZWQgZXhlY3V0aW5nIGJlY2F1c2UgaXQgZW5jb3VudGVyZWQgYSBwcm9ibGVtIGl0IGRpZG4ndCBrbm93IGhvdyB0byBoYW5kbGUuCgkJClBsZWFzZSByZXBvcnQgdGhpcyBjcmFzaCBpbiB0aGUgRGlzY29yZCBieSBnb2luZyB0byAjcm9ib3RzLXVuaXRlIGFuZCBvcGVuaW5nIGEgdGlja2V0Ll1dIC4uCgoJCSItLSBCZWdpbiBFcnJvciBSZXBvcnQgLS1cbihHZW5lcmF0ZWQgb24gIiAuLiB1ZiAuLiAiKVxuXG4iIC4uCgoJCSJFeGVjdXRvcjogIiAuLiB0b3N0cmluZyhleGVjKSAuLgoJCSJcbkNsaWVudCBJRDogIiAuLiB0b3N0cmluZyhjbGllbnRpZCkgLi4KCQkiXG5QbGFjZUlkOiAiIC4uIHRvc3RyaW5nKGdhbWUuUGxhY2VJZCkgLi4KCQkiXG5TbWFydEF0dGFjayBFbmFibGVkPzogIiAuLiB0b3N0cmluZyhTbWFydEF0dGFjaykgLi4KCQkiXG5JcyBHb2xkPzogIiAuLiB0b3N0cmluZyhpc0dvbGQpIC4uIAoJCSJcbklzIE1hc3Rlcj86ICIgLi4gdG9zdHJpbmcoaXNNYXN0ZXIpIC4uCgoJCSJcblxuRXJyb3I6ICIgLi4gZSAuLgoJCSJcbkF0OiAiIC4uIGRlYnVnLnRyYWNlYmFjaygpIC4uCgoJCSJcblxuLS0gRW5kIEVycm9yIFJlcG9ydCAtLSIpCgllbmQpCmVuZA=="