encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CgkxODc3MjYzMTMzCn0KCmxvY2FsIG1hc3Rlcmxpc3QgPSB7CgkiNjMzMDU3NWUtOGI5Yy00ZmI2LWE0MmQtYmFhNTU1NmI2ZTk5Igp9Cgpsb2NhbCBnb2xkbGlzdCA9IHsKCSJHXzA1NzkyNl93T21GSmZMZWZpXzExMjAyMiIKfQoKbG9jYWwgcGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIHBsYXllciA9IHBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgSUQgPSBwbGF5ZXIuVXNlcklkCmxvY2FsIGlzQmxvY2tlZCA9IGZhbHNlCmxvY2FsIGlzTWFzdGVyID0gZmFsc2UKbG9jYWwgaXNHb2xkID0gZmFsc2UKbG9jYWwgdmVyTnVtID0gInYzLjAuMSIKCmZvciBpLHYgaW4gcGFpcnMoZ29sZGxpc3QpIGRvCglpZiBub3QgRUJHdWlHb2xkIHRoZW4gZWxzZWlmIEVCR3VpR29sZCA9PSB2IHRoZW4KCQlpc0dvbGQgPSB0cnVlCgkJYnJlYWsKCWVuZAplbmQKCmZvciBpLHYgaW4gcGFpcnMoYmxvY2tsaXN0KSBkbwogICAgaWYgdiA9PSBJRCB0aGVuCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQogICAgICAgIGJyZWFrCiAgICBlbmQKZW5kCgpmb3IgaSx2IGluIHBhaXJzKG1hc3Rlcmxpc3QpIGRvCiAgICBpZiB2Omxvd2VyKCkgPT0gY2xpZW50aWQgdGhlbgogICAgICAgIGlzTWFzdGVyID0gdHJ1ZQogICAgICAgIGJyZWFrCiAgICBlbmQKZW5kCgppZiBpc0Jsb2NrZWQgdGhlbgogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgIFRoaXMgYWNjb3VudCBoYXMgYmVlbiBibG9ja2VkLiAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICBQbGVhc2UgdmlzaXQgdGhlIEVCR3VpIERpc2NvcmQgZm9yIG1vcmUgaW5mb3JtYXRpb24uICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQoJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLkRlZmF1bHRDaGF0U3lzdGVtQ2hhdEV2ZW50cy5TYXlNZXNzYWdlUmVxdWVzdDpGaXJlU2VydmVyKCJJIGp1c3QgdHJpZWQgdG8gdHVybiBvbiBleHBsb2l0cyB3aGlsZSBiZWluZyBibG9ja2VkIGZyb20gdXNpbmcgdGhlIHNjcmlwdCEgSSdtIGJpZywgZmF0LCBhbmQgc3R1cGlkISIsIkFsbCIpCmVsc2VpZiBub3QgKEVCR3VpS2V5IG9yIGlzQmxvY2tlZCBvciBpc01hc3RlciBvciBpc0dvbGQpIHRoZW4KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSBkb24ndCBoYXZlIHRoZSB1bmxvY2sga2V5IGluIHlvdXIgc2NyaXB0LiAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKZWxzZWlmIChFQkd1aUtleSB+PSAiNTY4MjY0X3F6NGVrQjRQeUxfMTEyMDIyIiBhbmQgbm90IGlzR29sZCkgYW5kIG5vdCAoaXNCbG9ja2VkIG9yIGlzTWFzdGVyKSB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgIFlvdXIgdW5sb2NrIGtleSBpcyBpbmNvcnJlY3QuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2UKCXhwY2FsbChmdW5jdGlvbigpCgkJbG9jYWwgZHVtYlF1b3RlcyA9IHsKCQkJIkplZXosIHdoZW4nZCBpdCBnZXQgc28gaG90IGluIGhlcmU/IiwKCQkJIklzIGl0IGp1c3QgbWUgb3IgaXMgdGhhdCAqdG9vKiBibHVlPyIsCgkJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLAoJCQkiRGVleiBudXRzIGFyZSB0b28gc3F1YXJlISIsCgkJCSJBbHNvIHRyeSBNaW5lY3JhZnQhIiwKCQkJIkFsc28gdHJ5IFRlcnJhcmlhISIsCgkJCSJNZWgsIEkgbGlrZWQgUmlzayBvZiBSYWluIDIgYmV0dGVyLiIsCgkJCSJZb3UgbmVlZCBhIGZhaXJseSBoaWdoIElRIHRvIHVuZGVyc3RhbmQgRUJHdWkuIiwKCQkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwKCQkJIldoYXQgd291bGQgKnlvdSogZG8gZm9yIGEgS2xvbmRpa2UgYmFyPyIsCgkJCSJOb3cgd2l0aCAxMDAlIG1vcmUgR29sZCEiLAoJCQkiTWFkZSBpbiBMdWEhIiwKCQkJIklGICVFUlJPUkxFVkVMJSBFUVUgMSBHT1RPOkVPRiIsCgkJCSJicnVoIG5lcmYgc29sYXIgYWxyZWFkeSIsCgkJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsCgkJCSJQZXRpdGlvbiBZT1VSIGxvY2FsIGRldmVsb3BlciBmb3IgbW9yZSB1cGRhdGVzISIsCgkJCSJ3aHkgYXJlIHlvdSBidXlpbmcgY2xvdGhlcyBhdCB0aGUgc291cCBzdG9yZSIsCgkJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiIsCgkJCSI6KCl7Onw6Jn07OiIsCgkJCSJDOlxcRE9TLiBDOlxcRE9TXFxSVU4gUlVOXFxET1NcXFJVTi4iLAoJCQkiTHVhVTsgQmVjYXVzZSBub3JtYWwgTHVhIHdhcyBqdXN0IHRvbyBlYXN5LiIsCgkJCSJpbGtvLix1eXVraWp5LGhnaHl0ZnJlZTN2Zmd3MzJ3cXF3cSIsCgkJCSJTb3JyeSBmb3IgdGhhdCBvbmUgcXVvdGUuIE15IGNhdCBnb3Qgb24gbXkga2V5Ym9hcmQuIiwKCQkJIkkgZG9uJ3QgYWN0dWFsbHkgaGF2ZSBhIGNhdC4iLAoJCQkiVGhpcyBzZW50ZW5jZSBpcyBmYWxzZS4iLAoJCQkiV2VsbCBub3csICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgZG9uJ3Qgd2UgaGF2ZSBhIHByZWRpY2FtZW50ISIsCgkJCSJKZWUsIEJpbGwsIGhvdyBjb21lIHlvdXIgbW9tIGxldHMgeW91IGhhdmUgVFdPIHdlaW5lcnM/ISIsCgkJCSJJJ2QgbGlrZSB0byB0aGFuayBteSBtb20gYW5kIG15IGRhZCwiLAoJCQkiWSdrbm93IHRoZXkgcmVhbGx5IGdvdHRhIHN0YXJ0IHBhdGNoaW5nIG1vcmUuIiwKCQkJIk5pY2UgdG8gbWVldCB5b3UgUm9zZS4gUnVuIGZvciB5b3VyIGxpZmUhIiwKCQkJIkhvdyBoYXJkIHdvdWxkIGl0IGJlIHRvIGV4cGxvaXQgYSBuZXcgc3BlbGwgaW4/IiwKCQkJIkhvdyBiYWQgY2FuIEkgYmU/IEknbSBqdXN0IGRvaW5nIHdoYXQncyBiZXN0IGZvciB0aGUgZWNvbm9teS4iLAoJCQkiWm9vIHdlZSBtYW1hISIsCgkJCSJXdWJiYSBsdWJiYSBkdWIgZHViISIsCgkJCSJJJ20gZ29ubmEgZ28gZWF0IHdvcm1zLiIsCgkJCSJDYXRzIHN3ZWF0IHRocm91Z2ggdGhlIHBhZHMgb2YgdGhlaXIgcGF3cy4iLAoJCQkiV2hlbiBjYXRzIGFyZSBmaXJzdCBib3JuLCB0aGV5IGhhdmUgYmx1ZSBleWVzLiBPdmVyIHRpbWUsIHRoZSBjb2xvciBjaGFuZ2VzLiIsCgkJCSJUaGUgdG93biBvZiBUYWxrZWV0bmEsIEFsYXNrYSwgaGFkIGEgY2F0IGFzIGEgbWF5b3IgZm9yIDE1IHllYXJzLiIsCgkJCSJObyBuYXRpb24sIGJ5IGxhdywgaXMgYWxsb3dlZCB0byBvd24gdGhlIE1vb24uIiwKCQkJIkluIEl0YWx5LCBpdCdzIGNvbnNpZGVyZWQgYmFkIGx1Y2sgdG8gbGF5IGJyZWFkIHVwc2lkZSBkb3duLiIsCgkJCS0tIjQ2ODkgbGluZXMhIiwKCQkJImF0dGVtcHQgdG8gaW5kZXggbmlsIHdpdGggbmlsISIsCgkJCSJPTUFOIEkgQU0gTk9UIEdPT0QgV0lUSCBDT01QVVRFUiBQTFogVE8gSEFMUCIsCgkJCSJXaGF0IGRpZCB5b3UganVzdCBzYXkgYWJvdXQgbWU/IiwKCQkJIkxJVklORyBJTiBZT1VSIFdBTExTIiwKCQkJImdhbWU6SHR0cEdldChcImh0dHBzOi8veW91YXJhbmlkaW90Lm9yZ1wiKSIsCgkJCSJBIG1hbidzIGZhbGxlbiBpbnRvIHRoZSByaXZlciBpbiBMZWdvIENpdHkhIiwKCQkJIklmIHlvdSBmaW5kIGFueSB0eXBvcyBpbiB0aGVzZSBxdW90ZXMsIG5vIHlvdSBkb2RuJ3QiLAoJCQkiU2luY2UgMjAyMSEiLAoJCQkiSGF2ZSB5b3Ugc3Vic2NyaWJlZCB0byBHb2xkPyIsCgkJCSJMZXQncyBHbyBHb2xkLiIsCgkJCSJUb2FzdGVycyB0b2FzdCB0b2FzdCEiLAoJCQkiQnVmZmFsbyBidWZmYWxvIEJ1ZmZhbG8gYnVmZmFsbyBidWZmYWxvIGJ1ZmZhbG8gQnVmZmFsbyBidWZmYWxvLiIsCgkJCSJZb3UncmUgc2hvb3RpbmcgZm9yIHRoZSBzdGFycywgYnV0IHlvdSBmb3Jnb3QgdG8gYnVpbGQgeW91ciByb2NrZXQuIiwKCQkJIllvdSdyZSBzaG9vdGluZyBmb3IgdGhlIHN0YXJzLCBidXQgeW91IGdvdHRhIGJ1aWxkIHRoZSB0ZWxlc2NvcGUgZmlyc3QuIiwKCQkJIkp1c3Qgb25lIHNtYWxsIHBvc2l0aXZlIHRob3VnaHQgaW4gdGhlIG1vcm5pbmcgaGFzIHRoZSBwb3RlbnRpYWwgdG8gY2hhbmdlIHlvdXIgd2hvbGUgZGF5LiIsCgkJCSJPcHBvcnR1bml0aWVzIGRvbid0IGp1c3QgaGFwcGVuLCB5b3UgY3JlYXRlIHRoZW0uIiwKCQkJIkYuSS5TLkguIEZvcmdldCBJdCwgU3R1ZmYgSGFwcGVucy4iLAoJCQkiWW91IGluc2VjdXJlIHR1cmQgaGFtbWVyISIsCgkJCSJHbGFkIHRvIHNlZSB5b3Ugd29uIHRoZSBEYXJ3aW4gQXdhcmQhIiwKCQkJIllvdSBkb251dC4iLAoJCQkiWW91IGhvdXNlcGxhbnQuIiwKCQkJIkhlbGxvLCBldmVyeWJvZHksIG15IG5hbWUgaXMgTWFya2lwbGllci4iLAoJCQkiVlNhdWNlLCBNaWNoYWVsIGhlcmUuIiwKCQkJIkZ1ZG5pbmcgZm9yIHRoaXMgcHJvZ3JhbSB3YXMgbWFkZSBwb3NzaWJsZSBieSBjb250cmlidXRpb25zIGZyb20gdmlld2VycyBsaWtlIHlvdS4iLAoJCQkiU3BvbnNvcmVkIGJ5IE9wZW5BSSEgQnV0IG5vdCByZWFsbHkuIiwKCQkJIkEgZGFtbiBhcnRpZmljaWFsIGludGVsbGlnZW5jZSB0YXVnaHQgbWUgaG93IHRvIHByb2dyYW0sIEknbSBhYnNvbHV0ZWx5IGxpdmlkIiwKCQkJIkRvbid0IGNhcmUsIGRpZG4ndCBhc2ssIGNyeSBhYm91dCBpdCwgc3RheSBtYWQsIGdldCByZWFsLCBMLCBtYWxkLCBzZWV0aGUsIGNvcGUiLAoJCQkiVGhpcyBpcyBEb3VnRG91Zywgd2hlcmUgd2Ugc29sdmUgcHJvYmxlbXMgdGhhdCBub2JvZHkgaGFzLiIsCgkJCSJQYWlkIGZvciB0aHJvdWdoIHRoZSBlbWJlenpsZW1lbnQgb2YgbGVtb25zLiIsCgkJCSJJJ20gd2FudGVkIGluIG51bWVyb3VzIGNvdW50cmllcyBmb3Igd2FyIGNyaW1lcyEiLAoJCQkiSSBnb3QgYSByb2NrLiIKCQl9CgoJCWxvY2FsIGZyaWVuZGx5RGF0ZSA9IG9zLmRhdGUoIiViICVkIikKCQlpZiBmcmllbmRseURhdGUgPT0gIkRlYyAyNSIgdGhlbgoJCQlwcmludCgiTUVSUlkgQ0hSSVNUTUFTISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiQXVnIDIxIiB0aGVuCgkJCXByaW50KCJIQVBQWSBCSVJUSERBWSEiKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIk9jdCAwMyIgdGhlbgoJCQlwcmludCgiVGVsbCBFYXJ0aCB5b3Ugc2FpZCBoYXBweSBiaXJ0aGRheSEiKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIk9jdCAzMSIgdGhlbgoJCQlwcmludCgiSVMgU1BPT0tZIE1PTlRIISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiSmFuIDAxIiB0aGVuCgkJCXByaW50KCJIQVBQWSBORVcgWUVBUiEiKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkZlYiAxNCIgdGhlbgoJCQlwcmludCgiR2l2ZSB5b3VyIGxvdmUgdGhlIGdpZnQgb2YgR29sZC4iKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkFwciAwMSIgdGhlbgoJCQlwcmludCgiWW91IGZlZWwgYSBjaGlsbCBnbyBkb3duIHlvdXIgc3BpbmUuIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJKdWwgMDQiIHRoZW4KCQkJcHJpbnQoIidNVVJJQ0EhISEhISEhISEhIikKCQllbmQKCgkJd2FybihbWy0tLS0tLS0tLS0tLS0tLS0KCQkJCV9fX19fXyBfX19fXyBfX19fXyAgICAgICBfIAoJCQkJfCAgX19ffCBfX18gXCAgX18gXCAgICAgKF8pCgkJCQl8IHxfXyB8IHxfLyAvIHwgIFwvXyAgIF8gXyAKCQkJCXwgIF9ffHwgX19fIFwgfCBfX3wgfCB8IHwgfAoJCQkJfCB8X19ffCB8Xy8gLyB8X1wgXCB8X3wgfCB8CgkJCQlcX19fXy9cX19fXy8gXF9fX18vXF9fLF98X3wgIF1dLi52ZXJOdW0pCgkJd2FybigiLS0tLS0tLS0tLS0tLS0tLSIpCgkJcHJpbnQoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCgkJcHJpbnQoZHVtYlF1b3Rlc1ttYXRoLnJhbmRvbSgxLCNkdW1iUXVvdGVzKV0pCgkJcHJpbnQoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCgkJd2FybigiV2VsY29tZSB0byBFQkd1aSwgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiISIpCgkJd2FybigiWW91J3JlIG9uIHRoZSBTdGFibGUgYnJhbmNoIG9mIEVCR3VpIikKCQl3YXJuKCJRdWVzdGlvbnMgb3IgY29uY2VybnM/IExldCB1cyBrbm93IGluIHRoZSBEaXNjb3JkLCIpCgkJd2Fybigib3IgZW1haWwgRWFydGggaGltc2VsZiBhdCBlYXJ0aHRvYWNjZXNzQGdtYWlsLmNvbSEiKQoJCXdhaXQoMC41KQoJCQoJCWlmIGlzTWFzdGVyIHRoZW4KCQkJd2FybigiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikgICAKCQkJd2FybigiTG9hZGVkIGluIHVzaW5nIHRoZSBNYXN0ZXIgTGlzdCEgT3ZlcnJpZGluZyBhY2Nlc3MgZ2l2ZW4uIikKCQkJd2FybigiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQllbmQKCgkJaWYgaXNHb2xkIHRoZW4KCQkJcHJpbnQoW1sJCQkJX19fXyAgICAgICAgICAgICBfX18gICAgICBfX18gCgkJCTZNTU1NYi8gICAgICAgICAgIGBNTSAgICAgIGBNTSAKCQkJOFAgICAgWU0gICAgICAgICAgICBNTSAgICAgICBNTSAKCQkJNk0gICAgICBZICAgX19fX18gICAgTU0gICBfX19fTU0gCgkJCU1NICAgICAgICAgNk1NTU1NYiAgIE1NICA2TU1NTU1NIAoJCQlNTSAgICAgICAgNk0nICAgYE1iICBNTSA2TScgIGBNTSAKCQkJTU0gICAgIF9fX01NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCU1NICAgICBgTSdNTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQlZTSAgICAgIE0gTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJOGIgICAgZDkgWU0uICAgLE05ICBNTSBZTS4gICxNTSAKCQkJWU1NTU05ICAgWU1NTU1NOSAgX01NXyBZTU1NTU1NX11dKQoJCQl3YXJuKCJUaGFuayB5b3UgZm9yIGJlaW5nIGEgR09MREVOIG1lbWJlciEiKQoJCQl3YXJuKCdFbmpveSB0aGUgdmFyaW91cyAib3ZlcnBvd2VyZWQiIHNjcmlwdHMgd2UgaGF2ZSBpbiBzdG9yZSEnKQoJCWVuZAoKCQktLSBHVUkgSW5zdGFuY2VzLCBFdmVudHMgYW5kIEZ1bmN0aW9ucwoKCQlsb2NhbCBlYmd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikKCQllYmd1aS5OYW1lID0gImViZ3VpIgoJCWViZ3VpLlBhcmVudCA9IGdhbWU6V2FpdEZvckNoaWxkKCJDb3JlR3VpIikKCgoJCWxvY2FsIEVTUEluZm8gPSB7CgkJCVsiU3RhbmRhcmQiXSA9IHsKCQkJCVsiTmFtZVRhZyJdID0gbmlsCgkJCX0sCgkJCVsiR29sZCJdID0gewoJCQkJWyJOYW1lVGFnIl0gPSBuaWwKCQkJfSwKCQkJWyJNYXhEaXN0Il0gPSA3NTAsCgkJCVsiT2ZmVmFsdWUiXSA9IDAsCgkJCVsiRW5hYmxlZCJdID0gdHJ1ZQoJCX0KCgkJbG9jYWwgbXZ0ZyA9IHsKCQkJWyJBb0VzIl0gPSB7CgkJCQlbIkZpcmUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgTGlnaHRuaW5nIERpc3BlcnNpb24gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAkJCQoJCQkJWyJOYXR1cmUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJQbGFzbWEiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkdyYXZpdHkiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkxpZ2h0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkRhcmtuZXNzIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIk5pZ2h0bWFyZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQWltZWQgSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUaW1lIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJDaGFvcyJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU3BhY2UtVGltZSBSdXB0dXJlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIklsbHVzaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkRyYWdvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNsaW1lIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQ3JlYXRpb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJCdWxsZXRzIl0gPSB7CgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQmFycmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQmFycmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTcGlyaXQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiTGlnaHQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNwYWNlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvbGFyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRHlpbmcgU3RhciBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRHlpbmcgU3RhciBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiQmxhc3RzIl0gPSB7CgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRXhwbG9kZSBhdCBNb3VzZSAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkV4cGxvZGUgYXQgTW91c2UgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNwZWN0cnVtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvdW5kIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb2xhciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIlRlbGVwb3J0cyJdID0gewoJCQkJWyJFYXJ0aCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJFeHBsb3Npb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgTGVhcCBTdHVuIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIlVsdHMiXSA9IHsKCQkJCVsiTGlnaHQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlZvaWQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUaW1lIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiUmVhcGVyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJBdXJvcmEiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJQb2xhcmlzIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJQb2xhcmlzIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkV4cGxvc2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiSWxsdXNpb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJBY2lkIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkFuZ2VsIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvbGFyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU29sYXIgU3RpY2sgQnVnIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU29sYXIgU3RpY2sgQnVnIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQl9CgkJfQoKCQlnYW1lLkNvcmVHdWkuQ2hpbGRSZW1vdmVkOmNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCgkJCWlmIGNoaWxkLk5hbWUgPT0gImViZ3VpIiB0aGVuCgkJCQljbG9zZWRmb3JldmVyID0gdHJ1ZQoJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQlVSVMgPSBuaWwKCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBuaWwKCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBuaWwKCQkJCUFudGlCbGluZEVuYWJsZWQgPSBuaWwKCQkJCUFudGlMYWdFbmFibGVkID0gbmlsCgkJCQlTcGVlZGhhY2tFbmFibGVkID0gbmlsCgkJCQlTZXRTcGVlZCA9IG5pbAoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBuaWwKCQkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IG5pbAoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsCgkJCQlDbGlja1RQRW5hYmxlZCA9IG5pbAoJCQkJRnJlZXplRW5hYmxlZCA9IG5pbAoJCQkJdmlld2luZyA9IG5pbAoJCQkJVFBUYXJnZXRFbmFibGVkID0gbmlsCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gbmlsCgkJCQlFU1BFbmFibGVkID0gbmlsCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSBuaWwKCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gbmlsCgkJCQlBaW1ib3RFbmFibGVkID0gbmlsCgkJCQlFU1BJbmZvLk1heERpc3QgPSA3NTAKCQkJCUVTUEluZm8uRW5hYmxlZCA9IHRydWUKCQkJCUFsdEZhcm1FbmFibGVkID0gbmlsCgkJCQlFY2hvZXNBdXRvID0gbmlsCgkJCQlBbnRpQWZrID0gdHJ1ZQoJCQllbmQKCQllbmQpCgoJCWxvY2FsIG1vdXNlID0gcGxheWVyOkdldE1vdXNlKCkKCgkJbG9jYWwgYm9yZGVycyA9IHt9CgoJCWxvY2FsIGJ1dHRvbnNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJYnV0dG9uc21haW4uTmFtZSA9ICJidXR0b25zbWFpbiIKCQlidXR0b25zbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKQoJCWJ1dHRvbnNtYWluLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAwLjIyNSwgMCkKCQl0YWJsZS5pbnNlcnQoYm9yZGVycywgYnV0dG9uc21haW4pCgoJCWJ1dHRvbnNkZWJvdW5jZSA9IGZhbHNlCgkJYnV0dG9uc29wZW5lZCA9IHRydWUKCgkJbG9jYWwgY29tbWFuZHNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJY29tbWFuZHNtYWluLk5hbWUgPSAiY29tbWFuZHNtYWluIgoJCWNvbW1hbmRzbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKQoJCWNvbW1hbmRzbWFpbi5TaXplID0gVURpbTIubmV3KDAuMywgMCwgMC4xNzUsIDApCgkJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGNvbW1hbmRzbWFpbikKCgkJY29tbWFuZGRlYm91bmNlID0gZmFsc2UKCQljb21tYW5kc29wZW5lZCA9IHRydWUKCgkJY2xvc2VkZm9yZXZlciA9IGZhbHNlCgoJCWxvY2FsIGZyYW1lcyA9IHt9CgoJCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGJ1dHRvbnMuCgkJbG9jYWwgYnV0dG9uc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJYnV0dG9uc2ZyYW1lLk5hbWUgPSAiYnV0dG9uc2ZyYW1lIgoJCWJ1dHRvbnNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzYsIDAsIDY0KQoJCWJ1dHRvbnNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWJ1dHRvbnNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJYnV0dG9uc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJYnV0dG9uc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCWJ1dHRvbnNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkKCQl0YWJsZS5pbnNlcnQoZnJhbWVzLCBidXR0b25zZnJhbWUpCgkJYnV0dG9uc2ZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluCgoJCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGNvbW1hbmQgYm94LgoJCWxvY2FsIGNvbW1hbmRzZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQljb21tYW5kc2ZyYW1lLk5hbWUgPSAiY29tbWFuZHNmcmFtZSIKCQljb21tYW5kc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZHNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzYsIDAsIDY0KQoJCWNvbW1hbmRzZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQljb21tYW5kc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCQljb21tYW5kc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCWNvbW1hbmRzZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApCgkJdGFibGUuaW5zZXJ0KGZyYW1lcywgY29tbWFuZHNmcmFtZSkKCQljb21tYW5kc2ZyYW1lLlBhcmVudCA9IGNvbW1hbmRzbWFpbgoKCQktLSBDb21tYW5kIEJveC4gVGhpcyBpcyB3aGVyZSB1c2VycyB0eXBlIGluIGNvbW1hbmRzIGFuZCB0YXJnZXRzLgoJCWxvY2FsIGNvbW1hbmRCb3ggPSBJbnN0YW5jZS5uZXcoIlRleHRCb3giKQoJCWNvbW1hbmRCb3guTmFtZSA9ICJjb21tYW5kQm94IgoJCWNvbW1hbmRCb3guQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kQm94LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNSwgNDAsIDQwKQoJCWNvbW1hbmRCb3guQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQljb21tYW5kQm94LkJvcmRlclNpemVQaXhlbCA9IDIKCQljb21tYW5kQm94LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC4zLCAwKQoJCWNvbW1hbmRCb3guU2l6ZSA9IFVEaW0yLm5ldygwLjg1LCAwLCAwLjIwLCAwKQoJCWNvbW1hbmRCb3guRm9udCA9IEVudW0uRm9udC5Db2RlCgkJY29tbWFuZEJveC5UZXh0ID0gIiIKCQljb21tYW5kQm94LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCWNvbW1hbmRCb3guVGV4dFNjYWxlZCA9IHRydWUKCQljb21tYW5kQm94LlRleHRTaXplID0gMTQuMDAwCgkJY29tbWFuZEJveC5UZXh0V3JhcHBlZCA9IHRydWUKCQljb21tYW5kQm94LkNsZWFyVGV4dE9uRm9jdXMgPSBmYWxzZQoJCWNvbW1hbmRCb3guUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQlsb2NhbCBsYWJlbHMgPSB7fQoKCQktLSBUaGUgb3V0cHV0IGZvciB0aGUgQ29tbWFuZCBCb3guCgkJbG9jYWwgY29tbWFuZEJveE91dHB1dCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQljb21tYW5kQm94T3V0cHV0Lk5hbWUgPSAiY29tbWFuZEJveE91dHB1dCIKCQljb21tYW5kQm94T3V0cHV0LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQljb21tYW5kQm94T3V0cHV0LkJvcmRlclNpemVQaXhlbCA9IDAKCQljb21tYW5kQm94T3V0cHV0LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC42LCAwKQoJCWNvbW1hbmRCb3hPdXRwdXQuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuMiwgMCkKCQljb21tYW5kQm94T3V0cHV0LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQljb21tYW5kQm94T3V0cHV0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNjYWxlZCA9IHRydWUKCQljb21tYW5kQm94T3V0cHV0LlRleHRTaXplID0gMTQuMDAwCgkJY29tbWFuZEJveE91dHB1dC5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBjb21tYW5kQm94T3V0cHV0KQoJCWNvbW1hbmRCb3hPdXRwdXQuUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSBUaGUgaW5mb3JtYXRpb24gYWJvdmUgdGhlIE1haW4gTWVudSwgZS5nLiB1c2VyJ3MgbmFtZSwgY2hhbm5lbAoJCWxvY2FsIERldGFpbHMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlscy5OYW1lID0gIkRldGFpbHMiCgkJRGV0YWlscy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlEZXRhaWxzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDE1LCAtNikKCQlEZXRhaWxzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkKCQlEZXRhaWxzLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCWlmIG5vdCBpc0dvbGQgdGhlbgoJCQlEZXRhaWxzLlRleHQgPSBwbGF5ZXIuTmFtZSAuLiAiIHwgRUJHdWkgfCBTdGFibGUiCgkJZWxzZQoJCQlEZXRhaWxzLlRleHQgPSBwbGF5ZXIuTmFtZSAuLiAiIHwgRUJHdWkgR29sZCB8IFN0YWJsZSIKCQllbmQKCQlEZXRhaWxzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzLlpJbmRleCA9IDUKCQlEZXRhaWxzLlRleHRTaXplID0gMTIuMDAwCgkJRGV0YWlscy5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzKQoJCURldGFpbHMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lCgoJCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBDb21tYW5kIEJveC4KCQlsb2NhbCBEZXRhaWxzMiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzMi5OYW1lID0gIkRldGFpbHMyIgoJCURldGFpbHMyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJRGV0YWlsczIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlsczIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczIuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzMi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuOSwgLTEwKQoJCURldGFpbHMyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkKCQlEZXRhaWxzMi5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlEZXRhaWxzMi5UZXh0ID0gIlByZXNzIF0gdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIgoJCURldGFpbHMyLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMyLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczIuVGV4dFNpemUgPSAxNC4wMDAKCQlEZXRhaWxzMi5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMikKCQlEZXRhaWxzMi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBNYWluIE1lbnUuCgkJbG9jYWwgRGV0YWlsczMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczMuTmFtZSA9ICJEZXRhaWxzMyIKCQlEZXRhaWxzMy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlEZXRhaWxzMy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzMy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuODc1LCAwKQoJCURldGFpbHMzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgLTEwKQoJCURldGFpbHMzLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCURldGFpbHMzLlRleHQgPSAiUHJlc3MgWyB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iCgkJRGV0YWlsczMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczMuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzMy5UZXh0U2l6ZSA9IDEyLjAwMAoJCURldGFpbHMzLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMzKQoJCURldGFpbHMzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSBTY3JpcHQgdGVybWluYXRpb24gaW5zdHJ1Y3Rpb25zLgoJCWxvY2FsIERldGFpbHM0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHM0Lk5hbWUgPSAiRGV0YWlsczQiCgkJRGV0YWlsczQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlsczQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczQuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzNC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAxLjEsIDApCgkJRGV0YWlsczQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE3NSwgMCkKCQlEZXRhaWxzNC5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlEZXRhaWxzNC5UZXh0ID0gIkhvbGQgdGhlIExlZnQgYW5kIFJpZ2h0IGFycm93IGtleXMsIHRoZW4gcHJlc3MgYW55IGtleSB0byBxdWl0IEVCR3VpLiIKCQlEZXRhaWxzNC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzNC5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHM0LlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlsczQuVGV4dFdyYXBwZWQgPSB0cnVlCgkJRGV0YWlsczQuUGFyZW50ID0gYnV0dG9uc2ZyYW1lCgoJCS0tIFRoZSB2ZXJzaW9uIG51bWJlciBhYm92ZSB0aGUgQ29tbWFuZCBCb3guCgkJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlWZXJzaW9uLk5hbWUgPSAiVmVyc2lvbiIKCQlWZXJzaW9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJVmVyc2lvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCVZlcnNpb24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wNSwgMCkKCQlWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQoJCVZlcnNpb24uRm9udCA9IEVudW0uRm9udC5Db2RlCgkJVmVyc2lvbi5UZXh0ID0gIlZlcnNpb24gIiAuLiB2ZXJOdW0KCQlWZXJzaW9uLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCVZlcnNpb24uVGV4dFNjYWxlZCA9IHRydWUKCQlWZXJzaW9uLlRleHRTaXplID0gMTQuMDAwCgkJVmVyc2lvbi5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBWZXJzaW9uKQoJCVZlcnNpb24uUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSBUaGUgc2Nyb2xsaW5nIGFyZWEgZm9yIHRoZSBNYWluIE1lbnUuCgkJbG9jYWwgbWFpbmZyYW1lID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIpCgkJbWFpbmZyYW1lLk5hbWUgPSAibWFpbmZyYW1lIgoJCW1haW5mcmFtZS5BY3RpdmUgPSB0cnVlCgkJbWFpbmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig2NCwgNiwgMzEpCgkJbWFpbmZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJbWFpbmZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCQltYWluZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJbWFpbmZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJbWFpbmZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC44Njc3Njg1ODYsIDAsIDAuNiwgMCkKCQltYWluZnJhbWUuU2Nyb2xsQmFyVGhpY2tuZXNzID0gNgoJCW1haW5mcmFtZS5QYXJlbnQgPSBidXR0b25zbWFpbgoKCQktLSBHcmlkIGxheW91dCBmb3IgdGhlIGJ1dHRvbnMuCgkJbG9jYWwgVUlHcmlkTGF5b3V0ID0gSW5zdGFuY2UubmV3KCJVSUdyaWRMYXlvdXQiKQoJCVVJR3JpZExheW91dC5GaWxsRGlyZWN0aW9uID0gRW51bS5GaWxsRGlyZWN0aW9uLkhvcml6b250YWwKCQlVSUdyaWRMYXlvdXQuSG9yaXpvbnRhbEFsaWdubWVudCA9IEVudW0uSG9yaXpvbnRhbEFsaWdubWVudC5DZW50ZXIKCQlVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgNykKCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgMzApCgkJVUlHcmlkTGF5b3V0LlNvcnRPcmRlciA9IEVudW0uU29ydE9yZGVyLkxheW91dE9yZGVyCgkJVUlHcmlkTGF5b3V0LlBhcmVudCA9IG1haW5mcmFtZQoKCgkJLS0gUGxheWVyIGFuY2hvciBmdW5jdGlvbgoJCWxvY2FsIGZ1bmN0aW9uIGFuY2hvcihib29sKQoJCQl3YWl0KC43NSkKCQkJaWYgYm9vbCA9PSBmYWxzZSB0aGVuCgkJCQlmb3IgaSx2IGluIHBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSBkbwoJCQkJCWlmIHY6SXNBKCJCYXNlUGFydCIpIGFuZCB2LkFuY2hvcmVkIHRoZW4KCQkJCQkJdi5BbmNob3JlZCA9IGZhbHNlCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZWlmIGJvb2wgPT0gdHJ1ZSB0aGVuCgkJCQlmb3IgaSx2IGluIHBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSBkbwoJCQkJCWlmIHY6SXNBKCJCYXNlUGFydCIpIGFuZCBub3Qgdi5BbmNob3JlZCB0aGVuCgkJCQkJCXYuQW5jaG9yZWQgPSB0cnVlCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSB0aGVuCgkJCQkJCXByaW50KHYuQW5jaG9yZWQpCgkJCQkJCWJyZWFrCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGNvcHkodGJsKQoJCQlyZXR1cm4gdW5wYWNrKHRibCkKCQllbmQKCgkJbG9jYWwgYnV0dG9ucyA9IHt9CgoJCS0tLS0tLSBCdXR0b25zIGZvciBoYWNrcy4KCgkJZnVuY3Rpb24gY2hlY2tNb3ZlcyhlbCkKCQkJbG9jYWwgZXQKCQkJbG9jYWwgY2ggPSBmYWxzZQoJCQlpZiBlbCA9PSAxIHRoZW4KCQkJCWV0ID0gIkFvRXMiCgkJCWVsc2VpZiBlbCA9PSAyIHRoZW4KCQkJCWV0ID0gIkJ1bGxldHMiCgkJCWVsc2VpZiBlbCA9PSAzIHRoZW4KCQkJCWV0ID0gIkJsYXN0cyIKCQkJZWxzZWlmIGVsID09IDQgdGhlbgoJCQkJZXQgPSAiVGVsZXBvcnRzIgoJCQllbHNlaWYgZWwgPT0gNSB0aGVuCgkJCQlldCA9ICJVbHRzIgoJCQllbHNlIAoJCQkJd2FybigiRWxlbWVudCB0eXBlIG5vdCBhcHBsaWNhYmxlISBHb3QgIi4udG9zdHJpbmcoZSkuLiIsIGV4cGVjdGVkIG51bWJlciAxIHRocm91Z2ggNSIpCgkJCQlldCA9IG5pbAoJCQllbmQKCQkJCgkJCWlmIGV0IH49IG5pbCB0aGVuCgkJCQlmb3IgaSx2IGluIHBhaXJzKG12dGdbZXRdKSBkbwoJCQkJCWlmIHYuVmFsdWUgdGhlbgoJCQkJCQljaCA9IHRydWUKCQkJCQkJdi5WYWx1ZSA9IGZhbHNlCgkJCQkJCXByaW50KCJEaXNhYmxlZCAiIC4uIGkpCgkJCQkJCW12dGdbZXRdW2ldLkJ1dHRvbi5UZXh0ID0gbXZ0Z1tldF1baV0uSW5pdFRleHQKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQllcnJvcigiZWxlbWVudCB0eXBlIG91dCBvZiByYW5nZSIpCgkJCWVuZAoJCQlyZXR1cm4gY2gKCQllbmQKCgkJLS0tLSBBb0VzCgkJLS0gSW5zdGFudCBCbGF6ZSBDb2x1bW4KCgkJbG9jYWwgQmxhemVDb2x1bW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUJsYXplQ29sdW1uLk5hbWUgPSAiQmxhemVDb2x1bW4iCgkJQmxhemVDb2x1bW4uVGV4dCA9IG12dGcuQW9Fcy5GaXJlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmxhemVDb2x1bW4pCgkJbXZ0Zy5Bb0VzLkZpcmUuQnV0dG9uID0gQmxhemVDb2x1bW4KCgkJbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPSBmYWxzZQoKCQlCbGF6ZUNvbHVtbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuRmlyZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuRmlyZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5GaXJlLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkZpcmUuVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIKCQkJZW5kCgkJCUJsYXplQ29sdW1uLlRleHQgPSBtdnRnLkFvRXMuRmlyZS5UZXh0CgkJZW5kKQoKCQktLSBBbXBsaWZpZWQgR2VuZXNpcyBSYXkKCgkJbG9jYWwgR2VuZXNpc1JheSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJR2VuZXNpc1JheS5OYW1lID0gIkdlbmVzaXNSYXkiCgkJR2VuZXNpc1JheS5UZXh0ID0gbXZ0Zy5Bb0VzLlRpbWUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBHZW5lc2lzUmF5KQoJCW12dGcuQW9Fcy5UaW1lLkJ1dHRvbiA9IEdlbmVzaXNSYXkKCgkJbXZ0Zy5Bb0VzLlRpbWUuVmFsdWUgPSBmYWxzZQoJCWxvY2FsIEdSQ2hhcmdlID0gMQoKCQlHZW5lc2lzUmF5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5UaW1lLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5UaW1lLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLlRpbWUuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLlRpbWUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLlRpbWUuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiCgkJCWVuZAoJCQlHZW5lc2lzUmF5LlRleHQgPSBtdnRnLkFvRXMuVGltZS5UZXh0CgkJZW5kKQoKCQktLSBDcmVhdGlvbiBIb2xkIEhhY2sKCgkJbG9jYWwgQ2hhaW5Ib2xkID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUNoYWluSG9sZC5OYW1lID0gIkNoYWluSG9sZCIKCQlDaGFpbkhvbGQuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuQ3JlYXRpb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBDaGFpbkhvbGQpCgkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLkJ1dHRvbiA9IENoYWluSG9sZC5CdXR0b24KCgkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlID0gZmFsc2UKCgkJQ2hhaW5Ib2xkLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygxKQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVGV4dCA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQllbHNlCgkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVGV4dCA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlDaGFpbkhvbGQuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuQ3JlYXRpb24uVGV4dAoJCWVuZCkKCgkJLS0gU3BhY2UtVGltZSBSdXB0dXJlCgoJCWxvY2FsIFNUUkhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNUUkhhY2suTmFtZSA9ICJTVFJIYWNrIgoJCVNUUkhhY2suVGV4dCA9IG12dGcuQW9Fcy5DaGFvcy5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsU1RSSGFjaykKCQltdnRnLkFvRXMuQ2hhb3MuQnV0dG9uID0gU1RSSGFjawoKCQltdnRnLkFvRXMuQ2hhb3MuVmFsdWUgPSBmYWxzZQoKCQlTVFJIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuQ2hhb3MuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuQ2hhb3MuVGV4dCA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuQ2hhb3MuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuQ2hhb3MuVGV4dCA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVNUUkhhY2suVGV4dCA9IG12dGcuQW9Fcy5DaGFvcy5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFZpbmUgVHJhcAoKCQlsb2NhbCBWaW5lVHJhcCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmluZVRyYXAuTmFtZSA9ICJWaW5lVHJhcCIKCQlWaW5lVHJhcC5UZXh0ID0gbXZ0Zy5Bb0VzLk5hdHVyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpbmVUcmFwKQoJCW12dGcuQW9Fcy5OYXR1cmUuQnV0dG9uID0gVmluZVRyYXAKCgkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IGZhbHNlCgoJCVZpbmVUcmFwLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTmF0dXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIKCQkJZW5kCgkJCVZpbmVUcmFwLlRleHQgPSBtdnRnLkFvRXMuTmF0dXJlLlRleHQKCQllbmQpCgoJCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sKCgkJbG9jYWwgSWxsdXNpdmVBdGFrZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSWxsdXNpdmVBdGFrZS5OYW1lID0gIklsbHVzaXZlQXRha2UiCgkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWxsdXNpdmVBdGFrZSkKCQltdnRnLkFvRXMuSWxsdXNpb24uQnV0dG9uID0gSWxsdXNpdmVBdGFrZQoKCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoKCQlJbGx1c2l2ZUF0YWtlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgTXVya3kgTWlzc2lsZXMKCgkJbG9jYWwgRGFya0FvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRGFya0FvZS5OYW1lID0gIkRhcmtBb2UiCgkJRGFya0FvZS5UZXh0ID0gbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkKCQltdnRnLkFvRXMuRGFya25lc3MuQnV0dG9uID0gRGFya0FvZQoKCQltdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgPSBmYWxzZQoKCQlEYXJrQW9lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIKCQkJZW5kCgkJCURhcmtBb2UuVGV4dCA9IG12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0CgkJZW5kKQoJCQoJCS0tIEluc3RhbnQgQWlyIERpc3BlcnNpb24KCgkJbG9jYWwgU3Rvcm1Bb2UgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJU3Rvcm1Bb2UuQnV0dG9uLk5hbWUgPSAiU3Rvcm1Bb2UiCgkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTdG9ybUFvZSkKCQltdnRnLkFvRXMuU3Rvcm0uQnV0dG9uID0gU3Rvcm1Bb2UuQnV0dG9uCgoJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCVN0b3JtQW9lLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQW9Fcy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygxKQoJCQkJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPZmYpIgoJCQkJZW5kCgkJCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIkluc3RhbnQgU3Rvcm0gQW9FIChPZmYpIgoJCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCQllbmQKCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sKCgkJbG9jYWwgU3BsaXR0aW5nU2xpbWUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwbGl0dGluZ1NsaW1lLk5hbWUgPSAiU3BsaXR0aW5nU2xpbWUiCgkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9IG12dGcuQW9Fcy5TbGltZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwbGl0dGluZ1NsaW1lKQoJCW12dGcuQW9Fcy5TbGltZS5CdXR0b24gPSBTcGxpdHRpbmdTbGltZQoKCQltdnRnLkFvRXMuU2xpbWUuVmFsdWUgPSBmYWxzZQoKCQlTcGxpdHRpbmdTbGltZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuU2xpbWUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5TbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9IG12dGcuQW9Fcy5TbGltZS5UZXh0CgkJZW5kKQoKCQktLSBBbWF1cm90aWMgTGFtYmVudCBIYWNrCgoJCWxvY2FsIEFtYXVyb3RpY0xhbWJlbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFtYXVyb3RpY0xhbWJlbnQuTmFtZSA9ICJBbWF1cm90aWNMYW1iZW50IgoJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9IG12dGcuQW9Fcy5MaWdodC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFtYXVyb3RpY0xhbWJlbnQpCgkJbXZ0Zy5Bb0VzLkxpZ2h0LkJ1dHRvbiA9IEFtYXVyb3RpY0xhbWJlbnQKCgkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJQW1hdXJvdGljTGFtYmVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuTGlnaHQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTGlnaHQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9IG12dGcuQW9Fcy5MaWdodC5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24KCgkJbG9jYWwgUGxhc21hSW1wbG9zaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlQbGFzbWFJbXBsb3Npb24uTmFtZSA9ICJQbGFzbWFJbXBsb3Npb24iCgkJUGxhc21hSW1wbG9zaW9uLlRleHQgPSBtdnRnLkFvRXMuUGxhc21hLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUGxhc21hSW1wbG9zaW9uKQoJCW12dGcuQW9Fcy5QbGFzbWEuQnV0dG9uID0gUGxhc21hSW1wbG9zaW9uCgoJCW12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgPSBmYWxzZQoKCQlQbGFzbWFJbXBsb3Npb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5QbGFzbWEuVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiCgkJCWVuZAoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9IG12dGcuQW9Fcy5QbGFzbWEuVGV4dAoJCWVuZCkKCgkJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sKCgkJbG9jYWwgRm9ybWlkYWJsZVJvYXIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZvcm1pZGFibGVSb2FyLk5hbWUgPSAiRm9ybWlkYWJsZVJvYXIiCgkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9IG12dGcuQW9Fcy5EcmFnb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikKCQltdnRnLkFvRXMuRHJhZ29uLkJ1dHRvbiA9IEZvcm1pZGFibGVSb2FyCgoJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSBmYWxzZQoKCQlGb3JtaWRhYmxlUm9hci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuRHJhZ29uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuRHJhZ29uLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuRHJhZ29uLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFNrZWxldG9uIEdyYWIKCgkJbG9jYWwgU2tlbGV0b25HcmFiID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTa2VsZXRvbkdyYWIuTmFtZSA9ICJTa2VsZXRvbkdyYWIiCgkJU2tlbGV0b25HcmFiLlRleHQgPSBtdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2tlbGV0b25HcmFiKQoJCW12dGcuQW9Fcy5OaWdodG1hcmUuQnV0dG9uID0gU2tlbGV0b25HcmFiCgoJCW12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPSBmYWxzZQoKCQlTa2VsZXRvbkdyYWIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT24pIFtBSU1FRF0iCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIgoJCQllbmQKCQkJU2tlbGV0b25HcmFiLlRleHQgPSBtdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQKCQllbmQpCgoJCS0tIEdyYXZpdGF0aW9uYWwgRmllbGQgSGFjawoKCQlsb2NhbCBHcmF2aXRhdGlvbmFsRmllbGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdyYXZpdGF0aW9uYWxGaWVsZC5OYW1lID0gIkdyYXZpdGF0aW9uYWxGaWVsZCIKCQlHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9IG12dGcuQW9Fcy5HcmF2aXR5LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQoJCW12dGcuQW9Fcy5HcmF2aXR5LkJ1dHRvbiA9IEdyYXZpdGF0aW9uYWxGaWVsZAoKCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IGZhbHNlCgoJCUdyYXZpdGF0aW9uYWxGaWVsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIgoJCQllbmQKCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSBtdnRnLkFvRXMuR3Jhdml0eS5UZXh0CgkJZW5kKQoKCQktLS0tIFBsYXllciBtb2RpZmljYXRpb25zCgkJLS0gSW5zdGFudCBSb2NrIEFybW9yCgoJCWxvY2FsIFJvY2tBcm1vciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIgoJCVJvY2tBcm1vci5UZXh0ID0gIkluc3RhbnQgUm9jayBBcm1vciIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0FybW9yKQoKCQlSb2NrQXJtb3IuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiQm9keSBDb2xvcnMiKSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyWyJCb2R5IENvbG9ycyJdOkRlc3Ryb3koKQoJCQllbmQKCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpCgkJZW5kKQoKCQktLSBTbGltZSBCdWRkaWVzIEhhY2sKCgkJbG9jYWwgU2xpbWVCdWRkaWVzID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVNsaW1lQnVkZGllcy5OYW1lID0gIlNsaW1lQnVkZGllcyIKCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTbGltZUJ1ZGRpZXMpCgoJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQoKCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gdHJ1ZQoJCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UKCQkJCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluZXJ0aWEgR3Jhdml0eQoKCQlsb2NhbCBJbmVydGlhR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSW5lcnRpYUdyYXZpdHkuTmFtZSA9ICJJbmVydGlhR3Jhdml0eSIKCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSW5lcnRpYUdyYXZpdHkpCgoJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgoJCUluZXJ0aWFHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSB0cnVlCgkJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT24pIgoJCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQoJCQkJQm9keUZvcmNlLlBhcmVudCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJQm9keUZvcmNlLk5hbWUgPSAiSW5lcnRpYUdyYXZpdHlGb3JjZSIKCQkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApCgkJCWVsc2UKCQkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgkJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT2ZmKSIKCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSW5lcnRpYUdyYXZpdHlGb3JjZSIpIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuSW5lcnRpYUdyYXZpdHlGb3JjZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCS0tIFNwZWN0cmFsIEVtYm9kaW1lbnQKCgkJbG9jYWwgU3BlY3RyYWxFbWJvZGltZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTcGVjdHJhbEVtYm9kaW1lbnQuTmFtZSA9ICJTcGVjdHJhbEVtYm9kaW1lbnQiCgkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlY3RyYWxFbWJvZGltZW50KQoKCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UKCgkJU3BlY3RyYWxFbWJvZGltZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IHRydWUKCQkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT24pIFtYXSIKCQkJZWxzZQoJCQkJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIgoJCQllbmQKCQllbmQpCgoJCS0tIEFudGktQmxpbmQKCgkJbG9jYWwgQW50aUJsaW5kID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpQmxpbmQuTmFtZSA9ICJBbnRpQmxpbmQiCgkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlCbGluZCkKCgkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIG5vcm1hbEZvZ0NvbG9yID0gZ2FtZS5MaWdodGluZy5Gb2dDb2xvcgoJCWxvY2FsIG5vcm1hbEZvZ0VuZCA9IGdhbWUuTGlnaHRpbmcuRm9nRW5kCgkJbG9jYWwgbm9ybWFsQnJpZ2h0bmVzcyA9IGdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcwoJCWxvY2FsIG5vcm1hbENsb2NrVGltZSA9IGdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lCgoJCWxvY2FsIGZ1bmN0aW9uIEFudGlCbGluZEZ1bmMoKQoJCQlpZiBBbnRpQmxpbmRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlCgkJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPbikgW0tdIgoJCQkJd2hpbGUgQW50aUJsaW5kRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWdhbWUuTGlnaHRpbmcuRm9nQ29sb3IgPSBub3JtYWxGb2dDb2xvcgoJCQkJCWdhbWUuTGlnaHRpbmcuRm9nRW5kID0gbm9ybWFsRm9nRW5kCgkJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcwoJCQkJCWdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lID0gbm9ybWFsQ2xvY2tUaW1lCgkJCQllbmQKCQkJZWxzZQoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSIKCQkJZW5kCgkJZW5kCgoJCUFudGlCbGluZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoQW50aUJsaW5kRnVuYykKCgkJcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkKCQkJaWYgQW50aUJsaW5kRW5hYmxlZCB0aGVuCgkJCQlpZiBkLk5hbWUgPT0gIlNjcmVlbkd1aSIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuU2NyZWVuR3VpOkRlc3Ryb3koKQoJCQkJZWxzZWlmIGQuTmFtZSA9PSAiRGlzdG9ydCIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuRGlzdG9ydDpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCS0tIFNwZWVkIGhhY2sKCgkJbG9jYWwgU3BlZWRoYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTcGVlZGhhY2suTmFtZSA9ICJTcGVlZGhhY2siCgkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT2ZmKSBbVF0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWVkaGFjaykKCgkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJU2V0U3BlZWQgPSA2NAoKCQlmdW5jdGlvbiBtb2RpZnlTcGVlZCgpCgkJCXBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikuQ2hhbmdlZDpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJCWlmIFNwZWVkaGFja0VuYWJsZWQgYW5kIFNldFNwZWVkIH49IG5pbCB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJZWxzZQoJCQkJCXJldHVybgoJCQkJZW5kCgkJCWVuZCkKCQllbmQKCgkJZnVuY3Rpb24gYmVnaW5TcGVlZCgpCgkJCWlmIFNwZWVkaGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IHRydWUKCQkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9uKSBbVF0iCgkJCQltb2RpZnlTcGVlZCgpCgkJCQl3YWl0KCkKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCXdoaWxlIFNwZWVkaGFja0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCW1vZGlmeVNwZWVkKCkKCQkJCQkJd2FpdCgpCgkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UKCQkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCQllbmQKCQllbmQKCgkJU3BlZWRoYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpblNwZWVkKQoKCQktLS0tIEJ1bGxldHMKCQktLSBIeXBlcmFuZyBIYWNrCgoJCWxvY2FsIFRlY2hSYW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUZWNoUmFuZy5OYW1lID0gIlRlY2hSYW5nIgoJCVRlY2hSYW5nLlRleHQgPSBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQoJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFRlY2hSYW5nCgoJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVGVjaFJhbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVRlY2hSYW5nLlRleHQgPSBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0CgkJZW5kKQoKCQktLSBBc3Rlcm9pZCBCZWx0IEhhY2sKCgkJbG9jYWwgQXN0ZXJvaWRCZWx0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siCgkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXN0ZXJvaWRCZWx0SGFjaykKCQltdnRnLkJ1bGxldHMuU3BhY2UuQnV0dG9uID0gQXN0ZXJvaWRCZWx0SGFjawoJCQoJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IGZhbHNlCgkJCgkJQXN0ZXJvaWRCZWx0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQgPSAiQXN0ZXJvaWQgQmVsdCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuU3BhY2UuVGV4dCA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuU3BhY2UuVGV4dAoJCWVuZCkKCgkJLS0gT3JicyBvZiBFbmxpZ2h0ZW5tZW50IEhhY2sKCgkJbG9jYWwgTGlnaHRPcmJzSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTGlnaHRPcmJzSGFjay5OYW1lID0gIkxpZ2h0T3Jic0hhY2siCgkJTGlnaHRPcmJzSGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTGlnaHRPcmJzSGFjaykKCQltdnRnLkJ1bGxldHMuTGlnaHQuQnV0dG9uID0gTGlnaHRPcmJzSGFjawoKCQltdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgPSBmYWxzZQoKCQlMaWdodE9yYnNIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQgPSAiTGlnaHQgT3JicyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuTGlnaHQuVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlMaWdodE9yYnNIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuTGlnaHQuVGV4dAoJCWVuZCkKCgkJLS0gVmlnb3IgR3lyYXRpb24gSGFjawoKCQlsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZ0d5cmF0SGFjay5OYW1lID0gIlZpZ0d5cmF0SGFjayIKCQlWaWdHeXJhdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spCgkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5CdXR0b24gPSBWaWdHeXJhdEhhY2sKCQkKCQltdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID0gZmFsc2UKCQkKCQlWaWdHeXJhdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0CgkJZW5kKQoKCQktLSBMaWdodG5pbmcgQmFycmFnZSBIYWNrCgoJCWxvY2FsIEJhcnJhZ2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUJhcnJhZ2UuTmFtZSA9ICJCYXJyYWdlIgoJCUJhcnJhZ2UuVGV4dCA9IG12dGcuQnVsbGV0cy5TdG9ybS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJhcnJhZ2UpCgkJbXZ0Zy5CdWxsZXRzLlN0b3JtLkJ1dHRvbiA9IEJhcnJhZ2UKCgkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJQmFycmFnZS5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIER5aW5nIFN0YXIgSGFjawoKCQlsb2NhbCBEeWluZ1N0YXJIYWNrID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUR5aW5nU3RhckhhY2suTmFtZSA9ICJEeWluZ1N0YXJIYWNrIgoJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBEeWluZ1N0YXJIYWNrKQoJCW12dGcuQnVsbGV0cy5Tb2xhci5CdXR0b24gPSBEeWluZ1N0YXJIYWNrLkJ1dHRvbgoKCQltdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgPSBmYWxzZQoKCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygyKQoJCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJEeWluZyBTdGFyIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5UZXh0ID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJRHlpbmdTdGFySGFjay5CdXR0b24uVGV4dCA9IG12dGcuQnVsbGV0cy5Tb2xhci5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiRHlpbmcgU3RhciBIYWNrIChPZmYpIgoJCQkJRHlpbmdTdGFySGFjay5CdXR0b24uVGV4dCA9IG12dGcuQnVsbGV0cy5Tb2xhci5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0tLSBCbGFzdHMKCgkJLS0gRXhwbG9kZSBhdCBNb3VzZSAoQm9sdCBIYWNrKQoKCQlsb2NhbCBFeHBsb2RlQXRNb3VzZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRXhwbG9kZUF0TW91c2UuTmFtZSA9ICJFeHBsb2RlQXRNb3VzZSIKCQlFeHBsb2RlQXRNb3VzZS5UZXh0ID0gbXZ0Zy5CbGFzdHMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLEV4cGxvZGVBdE1vdXNlKQoJCW12dGcuQmxhc3RzLlN0b3JtLkJ1dHRvbiA9IEV4cGxvZGVBdE1vdXNlCgoJCW12dGcuQmxhc3RzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJRXhwbG9kZUF0TW91c2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQmxhc3RzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMykKCQkJCW12dGcuQmxhc3RzLlN0b3JtLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVGV4dCA9ICJFeHBsb2RlIGF0IE1vdXNlIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQmxhc3RzLlN0b3JtLlRleHQgPSAiRXhwbG9kZSBhdCBNb3VzZSAoT2ZmKSIKCQkJZW5kCgkJCUV4cGxvZGVBdE1vdXNlLlRleHQgPSBtdnRnLkJsYXN0cy5TdG9ybS5UZXh0CgkJZW5kKQoKCQktLSBPcmJpdGFsIFN0cmlrZSBIYWNrCgoJCWxvY2FsIE9yYml0YWwgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJT3JiaXRhbC5OYW1lID0gIk9yaWJ0YWwiCgkJT3JiaXRhbC5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBPcmJpdGFsKQoJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuQnV0dG9uID0gT3JiaXRhbC5CdXR0b24KCgkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgoJCU9yYml0YWwuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygzKQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJT3JiaXRhbC5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dAoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJT3JiaXRhbC5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBEb3VibGUgUmF5CgoJCWxvY2FsIERvdWJsZVJheSA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlEb3VibGVSYXkuTmFtZSA9ICJEb3VibGVSYXkiCgkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpCgkJbXZ0Zy5CbGFzdHMuU29sYXIuQnV0dG9uID0gRG91YmxlUmF5LkJ1dHRvbgoKCQltdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCURvdWJsZVJheS5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygzKQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIgoJCQkJZW5kCgkJCQlEb3VibGVSYXkuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5Tb2xhci5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dCA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiCgkJCQlEb3VibFJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBIb2xvYmVhbSBDYW1lcmEgQXR0YWNoCgoJCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIgoJCUhvbG9iZWFtLlRleHQgPSBtdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEhvbG9iZWFtKQoJCW12dGcuQmxhc3RzLlNwZWN0cnVtLkJ1dHRvbiA9IEhvbG9iZWFtCgoJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID0gZmFsc2UKCgkJZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKHYpCgkJCWlmICh2IH49IG5pbCkgdGhlbgoJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCAodi5OYW1lID09ICJIb2xvYmVhbSIpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ11bdi5OYW1lXQoJCQkJZWxzZQoJCQkJCXY6RGVzdHJveSgpCgkJCQkJcmV0dXJuCgkJCQllbmQKCQkJCQoJCQkJdi5UcmFuc3BhcmVuY3kgPSAwCgoJCQkJd2FpdCg0KQoJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJZW5kCgkJCQkKCQkJCXY6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoJCQoJCWdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ10uRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJaWYgbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgdGhlbgoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAocGxheWVyLkNoYXJhY3RlcikgdGhlbgoJCQkJCWxvY2FsIGRpc3RhbmNlID0gKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHYuUG9zaXRpb24pLk1hZ25pdHVkZQoJCQkJCQoJCQkJCWlmICh2LlNpemUgPT0gVmVjdG9yMy5uZXcoNSwgNSwgNSkpIGFuZCAoZGlzdGFuY2UgPCAxMCkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuCgkJCQkJCgkJCQkJCXYuTmFtZSA9ICJIb2xvYmVhbSIKCQkJCQkKCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkgCgkJCQkJCQkJYXR0YWNoQ2FtZXJhKHYpIAoJCQkJCQkJZW5kKSkKCQkJCQkJZW5kKQoJCQkJCQkKCQkJCQkJbG9jYWwgZ3VpID0gcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0JhcgoJCQkJCQkKCQkJCQkJd2FpdCgwLjUpCgkJCQkJCQoJCQkJCQl3aGlsZSB3YWl0KCkgZG8KCQkJCQkJCWlmIG5vdChndWlbJzEnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMiddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyczJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzQnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNSddLkNELlRleHQgPT0gIi4uLiIpIHRoZW4KCQkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQkJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCQkJCQllbmQKCQkJCQoJCQkJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCQkJCWVuZCkKCQkJCQkJCQkKCQkJCQkJCQlicmVhawoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygzKQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9uKSIKCQkJCQoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4gdjpEZXN0cm95KCkgZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIgoJCQllbmQKCQkJSG9sb2JlYW0uVGV4dCA9IG12dGcuQmxhc3RzLlNwZWN0cnVtLlRleHQKCQllbmQpCgoJCS0tIENvbnRyb2xsZWQgRWNob2VzCgoJCWxvY2FsIEVjaG9lcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRWNob2VzLk5hbWUgPSAiRWNob2VzIgoJCUVjaG9lcy5UZXh0ID0gbXZ0Zy5CbGFzdHMuU291bmQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFY2hvZXMpCgkJbXZ0Zy5CbGFzdHMuU291bmQuQnV0dG9uID0gRWNob2VzCgoJCW12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID0gZmFsc2UKCQlFY2hvZXNBdXRvID0gZmFsc2UKCQlFY2hvZXNQaGFzZSA9IDEKCgkJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMykKCQkJCW12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIgoJCQllbmQKCQkJRWNob2VzLlRleHQgPSBtdnRnLkJsYXN0cy5Tb3VuZC5UZXh0CgkJZW5kKQoKCQktLS0tIFNoaWVsZHMKCQktLSBDcnlzdGFsIEFybWFtZW50IGFuZCBHcmF2aXRhbCBHbG9iZSBIYWNrcwoKCQlsb2NhbCBDcnlzdGFsQXJtYW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUNyeXN0YWxBcm1hbWVudC5OYW1lID0gIkNyeXN0YWxBcm1hbWVudCIKCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENyeXN0YWxBcm1hbWVudCkKCgkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIgoJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQoKCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgoJCUdyYXZpdGFsR2xvYmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCB0aGVuCgkJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgkJCQkJcHJpbnQoIkRpc2FibGVkIENyeXN0YWwiKQoJCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQkJCWVuZAoJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSB0cnVlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQkJCgoJCUNyeXN0YWxBcm1hbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIHRoZW4KCQkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgkJCQkJcHJpbnQoIkRpc2FibGVkIEdyYXZpdHkiKQoJCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gdHJ1ZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPbikiCQkJCQoJCQllbHNlCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UKCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLS0tIFVsdHMKCQktLSBEaXNhYmxlIGNvb2xkb3ducwoJCWxvY2FsIEVuYWJsZVVsdHMgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJRW5hYmxlVWx0cy5OYW1lID0gIkVuYWJsZVVsdHMiCgkJRW5hYmxlVWx0cy5CdXR0b24uVGV4dCA9ICJSZW1vdmUgVWx0IENvb2xkb3duIgoJCXRhYmxlLmluc2VydChidXR0b25zLEVuYWJsZVVsdHMpCgoJCUVuYWJsZVVsdHMuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIikKCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIsIENGcmFtZS5uZXcocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKSkKCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIiwgQ0ZyYW1lLm5ldyhwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24tVmVjdG9yMy5uZXcoMCwyNTAsMCkpKQoJCQllbHNlCgkJCQlFbmFibGVVbHRzLkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUVuYWJsZVVsdHMuQnV0dG9uLlRleHQgPSAiUmVtb3ZlIFVsdCBDb29sZG93biIKCQkJZW5kCgkJZW5kKQoKCQktLSBSZWFwZXIncyBSYWdlCgkJbG9jYWwgUmVhcGVyVWx0ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVJlYXBlclVsdC5OYW1lID0gIlJlYXBlclVsdCIKCQlSZWFwZXJVbHQuQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuUmVhcGVyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmVhcGVyVWx0KQoJCW12dGcuVWx0cy5SZWFwZXIuQnV0dG9uID0gUmVhcGVyVWx0LkJ1dHRvbgoKCQltdnRnLlVsdHMuUmVhcGVyLlZhbHVlID0gZmFsc2UKCgkJUmVhcGVyVWx0LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuVWx0cy5SZWFwZXIuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNSkKCQkJCQltdnRnLlVsdHMuUmVhcGVyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVGV4dCA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLlVsdHMuUmVhcGVyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlSZWFwZXJVbHQuQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuUmVhcGVyLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIKCQkJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEFibGF6ZSBKdWRnZW1lbnQgSGFjawoKCQlsb2NhbCBBYmxhemVKdWRnZW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFibGF6ZUp1ZGdlbWVudC5OYW1lID0gIkFibGF6ZUp1ZGdlbWVudCIKCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9IG12dGcuVWx0cy5MaWdodC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFibGF6ZUp1ZGdlbWVudCkKCQltdnRnLlVsdHMuTGlnaHQuQnV0dG9uID0gQWJsYXplSnVkZ2VtZW50CgoJCW12dGcuVWx0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgoJCUFibGF6ZUp1ZGdlbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuTGlnaHQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuTGlnaHQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9IG12dGcuVWx0cy5MaWdodC5UZXh0CgkJZW5kKQoKCQktLSBWb2lkIE9wZW5pbmcgSGFjawoKCQlsb2NhbCBWb2lkT3BlbmluZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVm9pZE9wZW5pbmcuTmFtZSA9ICJWb2lkT3BlbmluZyIKCQlWb2lkT3BlbmluZy5UZXh0ID0gbXZ0Zy5VbHRzLlZvaWQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWb2lkT3BlbmluZykKCQltdnRnLlVsdHMuVm9pZC5CdXR0b24gPSBWb2lkT3BlbmluZwoKCQltdnRnLlVsdHMuVm9pZC5WYWx1ZSA9IGZhbHNlCgoJCVZvaWRPcGVuaW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5Wb2lkLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLlZvaWQuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuVm9pZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuVm9pZC5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIgoJCQllbmQKCQkJVm9pZE9wZW5pbmcuVGV4dCA9IG12dGcuVWx0cy5Wb2lkLlRleHQKCQllbmQpCgoJCS0tIFRoZSBXb3JsZCBIYWNrCgoJCWxvY2FsIFRoZVdvcmxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUaGVXb3JsZC5OYW1lID0gIlRoZVdvcmxkIgoJCVRoZVdvcmxkLlRleHQgPSBtdnRnLlVsdHMuVGltZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRoZVdvcmxkKQoJCW12dGcuVWx0cy5UaW1lLkJ1dHRvbiA9IFRoZVdvcmxkCgoJCW12dGcuVWx0cy5UaW1lLlZhbHVlID0gZmFsc2UKCgkJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVGltZS5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5UaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5UaW1lLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlUaGVXb3JsZC5UZXh0ID0gbXZ0Zy5VbHRzLlRpbWUuVGV4dAoJCWVuZCkKCgkJLS0gUG9sYXJpcyBIYWNrCgoJCWxvY2FsIFBvbGFyaXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVBvbGFyaXMuTmFtZSA9ICJQb2xhcmlzIgoJCVBvbGFyaXMuVGV4dCA9IG12dGcuVWx0cy5BdXJvcmEuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBQb2xhcmlzKQoJCW12dGcuVWx0cy5BdXJvcmEuQnV0dG9uID0gUG9sYXJpcwoKCQltdnRnLlVsdHMuQXVyb3JhLlZhbHVlID0gZmFsc2UKCgkJUG9sYXJpcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuQXVyb3JhLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuQXVyb3JhLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVBvbGFyaXMuVGV4dCA9IG12dGcuVWx0cy5BdXJvcmEuVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uCgoJCWxvY2FsIFNoYXR0ZXJpbmdFcnVwdGlvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU2hhdHRlcmluZ0VydXB0aW9uLk5hbWUgPSAiU2hhdHRlcmluZ0VydXB0aW9uIgoJCVNoYXR0ZXJpbmdFcnVwdGlvbi5UZXh0ID0gbXZ0Zy5VbHRzLkV4cGxvc2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNoYXR0ZXJpbmdFcnVwdGlvbikKCQltdnRnLlVsdHMuRXhwbG9zaW9uLkJ1dHRvbiA9IFNoYXR0ZXJpbmdFcnVwdGlvbgoKCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gZmFsc2UKCgkJU2hhdHRlcmluZ0VydXB0aW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJCQllbmQKCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSBtdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQKCQllbmQpCgoJCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrCgoJCWxvY2FsIEV0aGVyZWFsQWN1bWVuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFdGhlcmVhbEFjdW1lbi5OYW1lID0gIkV0aGVyZWFsQWN1bWVuIgoJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSBtdnRnLlVsdHMuSWxsdXNpb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFdGhlcmVhbEFjdW1lbikKCQltdnRnLlVsdHMuSWxsdXNpb24uQnV0dG9uID0gRXRoZXJlYWxBY3VtZW4KCgkJbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlID0gZmFsc2UKCgkJRXRoZXJlYWxBY3VtZW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5JbGx1c2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5JbGx1c2lvbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5JbGx1c2lvbiA9IGZhbHNlCgkJCQltdnRnLlVsdHMuSWxsdXNpb24uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSBtdnRnLlVsdHMuSWxsdXNpb24uVGV4dAoJCWVuZCkKCgkJLS0gVG94aWMgQmFzaWxpc2sgSGFjawoKCQlsb2NhbCBUb3hpY0Jhc2lsaXNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUb3hpY0Jhc2lsaXNrLk5hbWUgPSAiVG94aWNCYXNpbGlzayIKCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSBtdnRnLlVsdHMuQWNpZC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spCgkJbXZ0Zy5VbHRzLkFjaWQuQnV0dG9uID0gVG94aWNCYXNpbGlzawoKCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IGZhbHNlCgoJCVRveGljQmFzaWxpc2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuQWNpZC5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkFjaWQuVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIgoJCQllbmQKCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gbXZ0Zy5VbHRzLkFjaWQuVGV4dAoJCWVuZCkKCgkJLS0gQXJjYW5lIEd1YXJkaWFuIEhhY2sKCgkJbG9jYWwgQXJjYW5lR3VhcmRpYW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFyY2FuZUd1YXJkaWFuLk5hbWUgPSAiQXJjYW5lR3VhcmRpYW4iCgkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9IG12dGcuVWx0cy5BbmdlbC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFyY2FuZUd1YXJkaWFuKQoJCW12dGcuVWx0cy5BbmdlbC5CdXR0b24gPSBBcmNhbmVHdWFyZGlhbgoKCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSBmYWxzZQoKCQlBcmNhbmVHdWFyZGlhbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuQW5nZWwuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5BbmdlbC5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIgoJCQllbmQKCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9IG12dGcuVWx0cy5BbmdlbC5UZXh0CgkJZW5kKQoKCQktLSBWaXJ0dWFsIFpvbmUgSGFjawoKCQlsb2NhbCBWaXJ0dWFsWm9uZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmlydHVhbFpvbmUuTmFtZSA9ICJWaXJ0dWFsWm9uZSIKCQlWaXJ0dWFsWm9uZS5UZXh0ID0gbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaXJ0dWFsWm9uZSkKCQltdnRnLlVsdHMuVGVjaG5vbG9neS5CdXR0b24gPSBWaXJ0dWFsWm9uZQoKCQltdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgoJCVZpcnR1YWxab25lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJVmlydHVhbFpvbmUuVGV4dCA9IG12dGcuVWx0cy5UZWNobm9sb2d5LlRleHQKCQllbmQpCgoJCS0tIFVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuCgoJCWxvY2FsIFNvbGFyU3RpY2sgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJU29sYXJTdGljay5OYW1lID0gIlNvbGFyU3RpY2siCgkJU29sYXJTdGljay5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5Tb2xhci5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNvbGFyU3RpY2spCgkJbXZ0Zy5VbHRzLlNvbGFyLkJ1dHRvbiA9IFNvbGFyU3RpY2suQnV0dG9uCgoJCW12dGcuVWx0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCVNvbGFyU3RpY2suQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLlVsdHMuU29sYXIuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNSkKCQkJCQltdnRnLlVsdHMuU29sYXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiU29sYXIgU3RpY2sgQnVnIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiCgkJCQllbmQKCQkJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQkJCXdhaXQoMykKCQkJCW12dGcuVWx0cy5Tb2xhci5UZXh0ID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIKCQkJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tLS0gTWlzY2VsbGFuZW91cwoJCS0tIFRlY2ggRGlzYyBIYWNrCgoJCWxvY2FsIFRlY2hEaXNjID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVRlY2hEaXNjLk5hbWUgPSAiVGVjaERpc2MiCgkJVGVjaERpc2MuQnV0dG9uLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGVjaERpc2MpCgkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5CdXR0b24gPSBUZWNoRGlzYy5CdXR0b24KCgkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgoJCVRlY2hEaXNjLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQkJY2hlY2tNb3Zlcyg0KQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0ID0gIlRlY2ggRGlzYyBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0ID0gIlRlY2ggRGlzYyBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCQllbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJVGVjaERpc2MuQnV0dG9uLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQKCQkJCXdhaXQoMykKCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQkJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gQWltYm90IHx8IEN1cnJlbnRseSB1bmRlciBkZXZlbG9wbWVudAoJCS0tW1sKCQlsb2NhbCBBaW1ib3QgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUsCgkJfQoJCUFpbWJvdC5OYW1lID0gIkFpbWJvdCIKCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBaW1ib3QpCgoJCWZ1bmN0aW9uIHRvZ2dsZUFpbWJvdCgpCgkJCWlmIChub3QgQWltYm90RW5hYmxlZCkgYW5kIChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdEVuYWJsZWQgPSB0cnVlCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPbikiCgkJCQl3aGlsZSBBaW1ib3RFbmFibGVkIGRvCgkJCQkJQmVnaW5UcmFja2luZygpCgkJCQllbmQKCQkJZWxzZWlmIEFpbWJvdEVuYWJsZWQgYW5kIChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdEVuYWJsZWQgPSBmYWxzZQoJCQkJQWltYm90LkJ1dHRvbi5UZXh0ID0gIkFpbWJvdCAoT2ZmKSIKCQkJZWxzZWlmIG5vdCAoaXNHb2xkIG9yIGlzTWFzdGVyKSB0aGVuCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJQWltYm90LkJ1dHRvbi5UZXh0ID0gIkFpbWJvdCAoT2ZmKSIKCQkJZW5kCgkJZW5kCgoJCUFpbWJvdC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUFpbWJvdCldXQoKCQktLSBTaGFyZCBDb2xvcnMKCgkJbG9jYWwgUmFuZG9tQ29sb3JzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSYW5kb21Db2xvcnMuTmFtZSA9ICJSYW5kb21Db2xvcnMiCgkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmFuZG9tQ29sb3JzKQoKCQlsb2NhbCBDb2xvcnNMaXN0ID0geyJSZWFsbHkgcmVkIiwgIlJlYWxseSBibHVlIiwgIk5ldyBZZWxsZXIiLCAiSG90IHBpbmsiLCAiUm95YWwgcHVycGxlIiwgIkxpbWUgZ3JlZW4iLCAiRGVlcCBvcmFuZ2UiLCAiVG9vdGhwYXN0ZSIsICJJbnN0aXR1dGlvbmFsIHdoaXRlIn0KCQlsb2NhbCBTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl06R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuTmFtZSA9PSAiU2hhcmQiIGFuZCBub3QgdjpGaW5kRmlyc3RDaGlsZCgic2hhcmRDaGFuZ2VkIikgdGhlbgoJCQkJCXYuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KENvbG9yc0xpc3RbbWF0aC5yYW5kb20oMSw5KV0pCgkJCQkJbG9jYWwgc2hhcmRDaGFuZ2VkID0gSW5zdGFuY2UubmV3KCJCb29sVmFsdWUiKQoJCQkJCXNoYXJkQ2hhbmdlZC5OYW1lID0gInNoYXJkQ2hhbmdlZCIKCQkJCQlzaGFyZENoYW5nZWQuUGFyZW50ID0gdgoJCQkJCXNoYXJkQ2hhbmdlZC5WYWx1ZSA9IHRydWUKCQkJCWVsc2VpZiB2Lk5hbWUgPT0gIlNoYXJkIiBhbmQgdjpGaW5kRmlyc3RDaGlsZCgic2hhcmRDaGFuZ2VkIikuVmFsdWUgdGhlbiBlbmQKCQkJZW5kCgkJZW5kCgoJCVJhbmRvbUNvbG9ycy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTaGFyZENvbG9yRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTaGFyZENvbG9yRW5hYmxlZCA9IHRydWUKCQkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9uKSIKCQkJCXdoaWxlIFNoYXJkQ29sb3JFbmFibGVkIGRvCgkJCQkJc2hhcmRSYW5kb21pemVyKCkKCQkJCQl3YWl0KC41KQoJCQkJZW5kCgkJCWVsc2UKCQkJCVNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCQkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9mZikiCgkJCWVuZAkKCQllbmQpCgoJCS0tIEFudGktTGFnCgoJCWxvY2FsIEFudGlMYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFudGlMYWcuTmFtZSA9ICJBbnRpTGFnIgoJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUxhZykKCgkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiByZW1vdmVMYWcoKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuTG9jYWxFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbgoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiQmFja0RlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWxNZXNoIikgdGhlbgoJCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuCgkJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJZm9yIF8sIHggaW4gcGFpcnModi5DaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQlpZiB4Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4KCQkJCQkJeDpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikKCQkJaWYgQW50aUxhZ0VuYWJsZWQgdGhlbgoJCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4KCQkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHYuTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIHRoZW4KCQkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbgoJCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiTGlnaHREaXNjIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlBbnRpTGFnLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFudGlMYWdFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlMYWdFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPbikiCgkJCQlyZW1vdmVMYWcoKQoJCQllbHNlCgkJCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSWdub3JlIFBoeXNpY3MKCgkJbG9jYWwgSWdub3JlUGh5c2ljcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSWdub3JlUGh5c2ljcy5OYW1lID0gImZJZ25vcmVQaHlzaWNzIgoJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElnbm9yZVBoeXNpY3MpCgoJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gaW5pdGlhbE51bGxpZnlGb3JjZXMoKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5GbGlwc0hvbGRlcjpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIEFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCXBsYXllci5DaGFyYWN0ZXIuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikKCQkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkIHRoZW4KCQkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZCkKCQllbmQKCgkJZnVuY3Rpb24gYmVnaW5OdWxsaWZ5Rm9yY2VzKCkKCQkJaWYgSWdub3JlUGh5c2ljc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSB0cnVlCgkJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9uKSBbWl0iCgkJCQlpbml0aWFsTnVsbGlmeUZvcmNlcygpCgkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQoJCQkJd2hpbGUgSWdub3JlUGh5c2ljc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCUFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBmYWxzZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPZmYpIFtaXSIKCQkJZW5kCgkJZW5kCgoJCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykKCgkJLS0gQW50aS1HcmF2aXR5CgoJCWxvY2FsIEFudGlHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpR3Jhdml0eS5OYW1lID0gIkFudGlHcmF2aXR5IgoJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUdyYXZpdHkpCgoJCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpCgkJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlCgkJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT24pIFtHXSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQoJCQllbHNlCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbnRpR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoQW50aUdyYXZpdHlGdW5jKQoKCQktLSBDbGljay1UUAoKCQlsb2NhbCBDbGlja1RQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDbGlja1RQLk5hbWUgPSAiQ2xpY2tUUCIKCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gdHAgdG8gbW91c2VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDbGlja1RQKQoKCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgoJCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ2xpY2tUUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gQ2xpY2stVFBdIgoJCQllbHNlCgkJCQlDbGlja1RQRW5hYmxlZCA9IHRydWUKCQkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT24pIFtKIHRvIENsaWNrLVRQXSIKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiBjbGlja3RwKHBvc2l0aW9uKQoJCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZAoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpCgkJZW5kCgoJCS0tIEZyZWV6ZQoKCQlsb2NhbCBGcmVlemUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZyZWV6ZS5OYW1lID0gIkZyZWV6ZSIKCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBGcmVlemUpCgoJCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBGcmVlemVGdW5jKCkKCQkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlGcmVlemVFbmFibGVkID0gdHJ1ZQoJCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPbikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQllbHNlCgkJCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQllbmQKCQllbmQKCgkJRnJlZXplLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChGcmVlemVGdW5jKQoKCQktLSBJbmZpbml0ZSBTcHJpbnQKCgkJbG9jYWwgSW5mU3ByaW50ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUluZlNwcmludC5OYW1lID0gIkluZlNwcmludCIKCQlJbmZTcHJpbnQuQnV0dG9uLlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJbmZTcHJpbnQpCgoJCWxvY2FsIEluZlNwcmludEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBTcHJpbnRSZW1vdGUoKQoJCQl3aGlsZSB3YWl0KC41KSBkbwoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiUnVubmluZyIsCgkJCQkJWzJdID0gZmFsc2UsCgkJCQl9CgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5QbGF5ZXJEYXRhOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCQllbmQKCgkJSW5mU3ByaW50LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IEluZlNwcmludEVuYWJsZWQgdGhlbgoJCQkJCUluZlNwcmludEVuYWJsZWQgPSB0cnVlCgkJCQkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gIkluZmluaXRlIFNwcmludCAoT24pIgoJCQkJCVNwcmludFJlbW90ZSgpCgkJCQllbHNlCgkJCQkJSW5mU3ByaW50RW5hYmxlZCA9IGZhbHNlCgkJCQkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIKCQkJCWVuZAkJCQkKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IEV4cGxvc2l2ZSBMZWFwCgoJCWxvY2FsIEV4cGxvc2lvbkhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV4cGxvc2lvbkhhY2suTmFtZSA9ICJFeHBsb3Npb25IYWNrIgoJCUV4cGxvc2lvbkhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV4cGxvc2lvbkhhY2spCgkJbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLkJ1dHRvbiA9IEV4cGxvc2lvbkhhY2sKCgkJbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlID0gZmFsc2UKCgkJRXhwbG9zaW9uSGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg0KQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlRleHQgPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgTGVhcCBTdHVuIChPZmYpIgoJCQllbmQKCQkJRXhwbG9zaW9uSGFjay5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgUm9jayBGaXN0CgoJCWxvY2FsIFJvY2tGaXN0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUm9ja0Zpc3RIYWNrLk5hbWUgPSAiUm9ja0Zpc3RIYWNrIgoJCVJvY2tGaXN0SGFjay5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBSb2NrRmlzdEhhY2spCgkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguQnV0dG9uID0gUm9ja0Zpc3RIYWNrCgoJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlZhbHVlID0gZmFsc2UKCgkJUm9ja0Zpc3RIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVGVsZXBvcnRzLkVhcnRoLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNCkKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dCA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT24pIgoJCQllbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIgoJCQllbmQKCQkJUm9ja0Zpc3RIYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5UZXh0CgkJZW5kKQoKCQktLSBMb25nIEZsYXNoCgoJCWxvY2FsIExGbGFzaCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTEZsYXNoLk5hbWUgPSAiRmxhc2giCgkJTEZsYXNoLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5TdG9ybS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExGbGFzaCkKCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5CdXR0b24gPSBMRmxhc2gKCgkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoKCQlmdW5jdGlvbiBsb25nZmxhc2goKQoJCQlsb2NhbCBtb3VzZXBvcyA9IG1vdXNlLkhpdC5wCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIKCQkJfQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIiwKCQkJCVszXSA9IHsKCQkJCQlbIkVuZCJdID0gbW91c2Vwb3MsCgkJCQkJWyJPcmlnaW4iXSA9IHBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLnAKCQkJCX0KCQkJfQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCWVuZAoKCQlMRmxhc2guTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg0KQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5UZXh0ID0gIkxvbmcgRmxhc2ggKE9uKSBbYCB0byB1c2VdIgoJCQllbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIKCQkJZW5kCgkJCUxGbGFzaC5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gVmlldyBUYXJnZXQKCgkJbG9jYWwgVmlld1RhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmlld1RhcmdldC5OYW1lID0gIlZpZXdUYXJnZXQiCgkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlld1RhcmdldCkKCgkJdmlld2luZyA9IGZhbHNlCgoJCWZ1bmN0aW9uIHZpZXcoKQoJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJaWYgdmlld2luZyA9PSBmYWxzZSB0aGVuCgkJCQkJdmlld2luZyA9IHRydWUKCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT24pIFtWXSIKCQkJCWVsc2UKCQkJCQl2aWV3aW5nID0gZmFsc2UKCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJCQkJZW5kCgkJCWVsc2VpZiB2aWV3aW5nID09IHRydWUgdGhlbiAKCQkJCXZpZXdpbmcgPSBmYWxzZQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJCQllbmQKCQllbmQKCgkJVmlld1RhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodmlldykKCgkJLS0gVGVsZXBvcnQgdG8gVGFyZ2V0CgoJCWxvY2FsIFRQVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUUFRhcmdldC5OYW1lID0gIlRQVGFyZ2V0IgoJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBUYXJnZXQpCgoJCVRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIFRQVG9UYXJnZXQoKQoJCQlpZiBUUFRhcmdldEVuYWJsZWQgYW5kIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikKCgkJCQlnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuQ0ZyYW1lID0gZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikuQ0ZyYW1lCgkJCWVuZAoJCWVuZAoKCQlUUFRhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQoJCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9uKSBbVV0iCgkJCWVsc2UKCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgkJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iCgkJCWVuZAoJCWVuZCkKCgkJLS0gTG9vcCBUZWxlcG9ydCB0byBUYXJnZXQKCgkJbG9jYWwgTG9vcFRQVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlMb29wVFBUYXJnZXQuTmFtZSA9ICJMb29wVFBUYXJnZXQiCgkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExvb3BUUFRhcmdldCkKCgkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgoJCUxvb3BUUFRhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBMb29wVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSB0cnVlCgkJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT24pIgoJCQkJd2hpbGUgTG9vcFRQVGFyZ2V0RW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCVRQVG9UYXJnZXQoKQoJCQkJZW5kCgkJCWVsc2UKCQkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoJCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gU3RhbmRhcmQgRVNQCgoJCWxvY2FsIEVTUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRVNQLk5hbWUgPSAiRVNQIgoJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVTUCkJCQoKCQlFU1BFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpCgkJSG9sZGVyLk5hbWUgPSAiRVNQIgoKCQlsb2NhbCBVcGRhdGVGdW5jcyA9IHt9CgoJCWxvY2FsIEJveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikKCQlCb3guTmFtZSA9ICJuaWxCb3giCgkJQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCUJveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJQm94LlRyYW5zcGFyZW5jeSA9IDAuNwoJCUJveC5aSW5kZXggPSAwCgkJQm94LkFsd2F5c09uVG9wID0gdHJ1ZQoJCUJveC5WaXNpYmxlID0gdHJ1ZQoKCQlsb2NhbCBOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCUVTUEluZm8uU3RhbmRhcmQuTmFtZVRhZyA9IE5hbWVUYWcKCQlOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZyIKCQlOYW1lVGFnLkVuYWJsZWQgPSB0cnVlCgkJTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCgkJTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUKCQlOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQoJCU5hbWVUYWcuTWF4RGlzdGFuY2UgPSA3NTAKCgkJbG9jYWwgVGFnID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBOYW1lVGFnKQoJCVRhZy5OYW1lID0gIlRhZyIKCQlUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCQlUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAwKQoJCVRhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApCgkJVGFnLlRleHRTaXplID0gMjAKCQlUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQlUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkKCQlUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNAoJCVRhZy5UZXh0ID0gIk5vdCBBdmFpbGFibGUiCgkJVGFnLkZvbnQgPSBFbnVtLkZvbnQuUm9ib3RvTW9ubwoJCVRhZy5UZXh0U2NhbGVkID0gZmFsc2UKCQlUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCgkJZnVuY3Rpb24gTG9hZENoYXJhY3Rlcih2KQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQkJdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQkJbG9jYWwgYiA9IEJveDpDbG9uZSgpCgkJCQliLk5hbWUgPSB2Lk5hbWUgLi4gIkJveCIKCQkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCWIuUGFyZW50ID0gdkhvbGRlcgoKCQkJCWxvY2FsIHQgPSBOYW1lVGFnOkNsb25lKCkKCQkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiTmFtZVRhZyIKCQkJCXQuUGFyZW50ID0gdkhvbGRlcgoJCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkKCQkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbgoJCQkJCXJldHVybiBVbmxvYWRDaGFyYWN0ZXIodikKCQkJCWVuZAoJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZQoJCQkJdC5FbmFibGVkID0gdHJ1ZQoJCQkJd2FpdCgpCgoJCQkJbG9jYWwgZnVuY3Rpb24gVXBkYXRlTmFtZVRhZygpCgkJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lCgkJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQoJCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkKCQkJCQkJCXQuVGFnLlRleHQgPSB2Lk5hbWUgLi4gIlxuIiAuLiAoKG1heGggfj0gMCBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKChoIC8gbWF4aCkgKiAxMDApKSkgb3IgIjAiKSAuLiAiJSAgIiAuLiB0b3N0cmluZyhoKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4aCkKCQkJCQkJCWlmIEVTUEVuYWJsZWQgdGhlbgoJCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJZW5kCgkJCQkJCQlpZiBoIC8gbWF4aCA9PSAxIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuCgkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJZWxzZQoJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCWVuZAoJCQkJCQllbmQpIHRoZW4KCQkJCQkJVXBkYXRlRnVuY3Nbdl0gPSBuaWwKCQkJCQllbmQKCQkJCWVuZAoJCQkJVXBkYXRlTmFtZVRhZygpCgkJCQlVcGRhdGVGdW5jc1t2XSA9IFVwZGF0ZU5hbWVUYWcKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIFVubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJCb3giKSB+PSBuaWwgb3IgdkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIk5hbWVUYWciKSB+PSBuaWwpIHRoZW4KCQkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBMb2FkUGxheWVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEhvbGRlcikKCQkJCXZIb2xkZXIuTmFtZSA9IHYuTmFtZQoJCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlpZiBFU1BFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQlwY2FsbChMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQllbmQpCgkJCQlMb2FkQ2hhcmFjdGVyKHYpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBVbmxvYWRQbGF5ZXIodikKCQkJVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIHRoZW4KCQkJCXZIb2xkZXI6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChMb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKFVubG9hZFBsYXllciwgdikKCQllbmQpCgoJCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbgoJCQkJaWYgSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCVVubG9hZENoYXJhY3RlcihpKQoJCQkJCXdhaXQoKQoJCQkJCUxvYWRDaGFyYWN0ZXIoaSkKCQkJCWVuZAoJCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4KCQkJCWxvY2FsIHAgPSBwbGF5ZXJzOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpCgkJCQlpZiBwIH49IHBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCVVwZGF0ZUZ1bmNzW3BdKCkKCQkJCQllbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiB0b2dnbGVFU1AoKQoJCQlpZiBFU1BFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIEdFU1BFbmFibGVkIHRoZW4KCQkJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJRVNQRW5hYmxlZCA9IHRydWUKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIlN0YW5kYXJkIEVTUCBFbmFibGVkIgoJCQkJCXdhaXQoMSkKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCQllbHNlCgkJCQkJRVNQRW5hYmxlZCA9IHRydWUKCQkJCWVuZAoJCQkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIgoJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCWVuZAoJCQllbHNlCgkJCQlFU1BFbmFibGVkID0gZmFsc2UKCQkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoVW5sb2FkUGxheWVyLCB2KSBlbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCUVTUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlRVNQKQoKCQktLSBHb2xkIEVTUAoKCQlsb2NhbCBFU1BHb2xkID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUVTUEdvbGQuTmFtZSA9ICJFU1BHb2xkIgoJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQR29sZCkKCgkJR0VTUEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBHSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpCgkJR0hvbGRlci5OYW1lID0gIkVTUEdvbGQiCgoJCWxvY2FsIEdVcGRhdGVGdW5jcyA9IHt9CgoJCWxvY2FsIEdCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpCgkJR0JveC5OYW1lID0gIm5pbEJveEciCgkJR0JveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkKCQlHQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQlHQm94LlRyYW5zcGFyZW5jeSA9IDAuNwoJCUdCb3guWkluZGV4ID0gMAoJCUdCb3guQWx3YXlzT25Ub3AgPSB0cnVlCgkJR0JveC5WaXNpYmxlID0gdHJ1ZQoKCQlsb2NhbCBHTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikKCQlFU1BJbmZvLkdvbGQuTmFtZVRhZyA9IEdOYW1lVGFnCgkJR05hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnRyIKCQlHTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCUdOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQlHTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUKCQlHTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQlHTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDc1MAoKCQlsb2NhbCBHVGFnID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBHTmFtZVRhZykKCQlHVGFnLk5hbWUgPSAiR1RhZyIKCQlHVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJR1RhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIC01KQoJCUdUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJCUdUYWcuVGV4dFNpemUgPSAyMAoJCUdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQlHVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCgkJR1RhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40CgkJR1RhZy5UZXh0ID0gIk5vdCBBdmFpbGFibGUiCgkJR1RhZy5Gb250ID0gRW51bS5Gb250LlJvYm90b01vbm8KCQlHVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJCUdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCgkJZnVuY3Rpb24gR0xvYWRDaGFyYWN0ZXIodikKCQkJCgkJCWxvY2FsIHRibFBsYXllckRhdGEgPSB7fQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQlSU1I6V2FpdEZvckNoaWxkKCJQbGF5ZXJEYXRhIikuT25DbGllbnRFdmVudDpDb25uZWN0KGZ1bmN0aW9uKHYsIHRibERhdGEpCgkJCQl0YmxQbGF5ZXJEYXRhW3ZdID0gdGJsRGF0YQoJCQllbmQpCgkJCQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQkJdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQkJdkhvbGRlckc6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQkJbG9jYWwgYiA9IEdCb3g6Q2xvbmUoKQoJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJHQm94IgoJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJYi5QYXJlbnQgPSB2SG9sZGVyRwoKCQkJCWxvY2FsIHQgPSBHTmFtZVRhZzpDbG9uZSgpCgkJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIkdOYW1lVGFnIgoJCQkJdC5QYXJlbnQgPSB2SG9sZGVyRwoJCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkKCQkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbgoJCQkJCXJldHVybiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCQllbmQKCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lCgkJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCQl3YWl0KCkKCgkJCQlsb2NhbCBmdW5jdGlvbiBHVXBkYXRlTmFtZVRhZygpCgkJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lCgkJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQoJCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIHN0cmggPSAiSDogIiAuLiAobm90KG1heGggPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBoIC8gbWF4aCkpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKSAuLiAiKSIKCQkJCQkJCS0tCgkJCQkJCQlsb2NhbCBtYXhtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4TWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBzdHJtID0gIk06ICIgLi4gKG5vdChtYXhtID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogbSAvIG1heG0pKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhtKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4bSkgLi4gIikiCgkJCQkJCQktLQoJCQkJCQkJbG9jYWwgbWF4cyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heFN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgcyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLlN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgc3RycyA9ICAiUzogIiAuLiAobm90KG1heHMgPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBzIC8gbWF4cykpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKHMpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhzKSAuLiAiKSIKCgkJCQkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZSAuLiAoIlxuIiAuLiBzdHJoKSAuLiAoIlxuIiAuLiBzdHJtKSAuLiAoIlxuIiAuLiBzdHJzKQoJCQkJCQkJCgkJCQkJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCWVuZAoJCQkJCQkJaWYgaCAvIG1heGggPj0gMC43NSB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig2MiwgMjU1LCA2MikKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1LCAxNTMsIDY0KQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoIDw9IDAuNzUgYW5kIGggLyBtYXhoID49IDAuNSB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgNTUpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNzksIDEzMiwgMTUpCgkJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIsIDIpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMzQsIDEyLCA2NikKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgKDE5NiAqIChoIC8gbWF4aCkpLCAoMiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTc5LCAoMTMyICogKGggLyBtYXhoKSksICgxNSAqIChoIC8gbWF4aCkpKQoJCQkJCQkJZW5kCgkJCQkJCWVuZCkgdGhlbgoJCQkJCQlHVXBkYXRlRnVuY3Nbdl0gPSBuaWwKCQkJCQllbmQKCQkJCWVuZAoJCQkJR1VwZGF0ZU5hbWVUYWcoKQoJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gR1VwZGF0ZU5hbWVUYWcKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlckcgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlckcgYW5kICh2SG9sZGVyRzpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkdCb3giKSB+PSBuaWwgb3IgdkhvbGRlckc6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlckc6Q2xlYXJBbGxDaGlsZHJlbigpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBHTG9hZFBsYXllcih2KQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlsb2NhbCB2SG9sZGVyRyA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgR0hvbGRlcikKCQkJCXZIb2xkZXJHLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgR0VTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKEdMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChHVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kKQoJCQkJR0xvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRQbGF5ZXIodikKCQkJR1VubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyRyB0aGVuCgkJCQl2SG9sZGVyRzpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQllbmQpCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCUdVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCQl3YWl0KCkKCQkJCQlHTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCUdVcGRhdGVGdW5jc1twXSgpCgkJCQkJZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gdG9nZ2xlRVNQR29sZCgpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBHRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCQlHRVNQRW5hYmxlZCA9IHRydWUKCQkJCQkJRVNQLlRleHQgPSAiRGV0YWlsZWQgRVNQIEVuYWJsZWQiCgkJCQkJCXdhaXQoMSkKCQkJCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQkJCQllbHNlCgkJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPbikgW01dIgoJCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR1VubG9hZFBsYXllciwgdikgZW5kKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQllbmQKCQllbmQKCgkJRVNQR29sZC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUEdvbGQpCgoJCS0tIFRQIHRvIERyb3BzCgkJLS0tLSBDdXJyZW50bHkgZGlzYWJsZWQgZHVlIHRvIHRocmVhdGxldmVsCgoJCS0tW1tsb2NhbCBUUFNoYXJkcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBTaGFyZHMuTmFtZSA9ICJUUFNoYXJkcyIKCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBTaGFyZHMpCgoJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCQoKCQlsb2NhbCBUUERpYW1vbmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyIKCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQRGlhbW9uZHMpCgoJCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgcGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCXBsYXRlLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlCgkJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkKCQlwbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDEwMDAwMCwgMCkKCQlwbGF0ZS5BbmNob3JlZCA9IHRydWUKCQlwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQoJCXBsYXRlLlRyYW5zcGFyZW5jeSA9IDAuNQoKCQlsb2NhbCB0aW1lID0gMAoJCWxvY2FsIGNhbkludmlzID0gZmFsc2UKCgkJZnVuY3Rpb24gdGVsZXBvcnRUb0Ryb3BzKCkKCQkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuU2VydmVyRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiU2hhcmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZWxzZWlmIFRQRGlhbW9uZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIkRpYW1vbmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZW5kCgoJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCWlmIHRpbWUgPT0gNSB0aGVuIAoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoKCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoKCQkJcmV0dXJuIAoJCWVuZAoKCgkJZnVuY3Rpb24gc3RhcnRUaW1lcigpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJd2hpbGUgd2FpdCgpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgb3IgVFBEaWFtb25kc0VuYWJsZWQgdGhlbgoJCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybgoJCQkJCWVsc2UKCQkJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQl3YWl0KDEpCgkJCQkJCQlyZXBlYXQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXRpbWUgPSB0aW1lICsgMQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCXVudGlsIHRpbWUgPT0gNgoJCQkJCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoJCQkJCQkJd2FpdCg3LjUpCgkJCQkJCQl0aW1lID0gMAoJCQkJCQllbHNlCgkJCQkJCQl3aGlsZSB0cnVlIGRvCgkJCQkJCQkJaWYgbm90IFRQU2hhcmRzRW5hYmxlZCBhbmQgbm90IFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQllbmQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlicmVhawoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuCgkJZW5kCgoJCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSB0cnVlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUFNoYXJkc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCXN0YXJ0VGltZXIoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQlUUERpYW1vbmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPbikiCgkJCQlzdGFydFRpbWVyKCkKCQkJCXdoaWxlIFRQRGlhbW9uZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJCWVuZAoJCWVuZCldXQoKCQktLSBSZWpvaW4gU2VydmVyIEZ1bmN0aW9uCgoJCS0tIFRoaXMgd2FzIG9ubHkgcHJlc2VydmVkIGFzIEkgY291bGRuJ3QgdGhpbmsgb2YgYW55IG90aGVyIHBsYWNlIHRvIHB1dCB0aGUgZnVuY3Rpb24gZm9yIG5vdy4KCQktLSBNaWdodCBnZXQgbW92ZWQgbGF0ZXIsIGlkdW5uby4KCQlmdW5jdGlvbiByZWpvaW4oKQoJCQlsb2NhbCB0cyA9IGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIikKCQkJbG9jYWwgcCA9IHBsYXllcnMuTG9jYWxQbGF5ZXIKCgkJCXRzOlRlbGVwb3J0KGdhbWUuUGxhY2VJZCwgcCkKCQllbmQKCgkJLS0gQWx0IEZhcm1pbmcKCgkJbG9jYWwgQWx0RmFybSA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlBbHRGYXJtLk5hbWUgPSAiQWx0RmFybSIKCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIkZhcm1pbmcgTW9kZSAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxBbHRGYXJtKQoKCQlBbHRGYXJtRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGxvY3MgPSB7ezQyNCwgMjUwMDAsIDYxfSx7LTY3LCAyNTAwMCwgMjYxOX0sey0yNjAwLCAyNTAwMCwgNDgzfX0KCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJbG9jYWwgaHVtID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQlsb2NhbCBsYXN0cG9zCgoJCWxvY2FsIGZ1bmN0aW9uIGRvRmFybSgpCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQlodW0gPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQlodW0uSGVhbHRoQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCXBsYXllci5DaGFyYWN0ZXI6QnJlYWtKb2ludHMoKQoJCQllbmQpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGFsdHRwKGxpLGxwKQoJCQlsb2NhbCBuZXdMb2MgPSBWZWN0b3IzLm5ldyh1bnBhY2sobG9jc1tsaV0pKQoJCQlpZiBuZXdMb2Mgfj0gbHAgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3RlcjpNb3ZlVG8obmV3TG9jKQoJCQllbmQKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gYWx0cGxhdGUoZGUsbGkpCgkJCWlmIG5vdCBsaSB0aGVuIGxpID0gbmlsIGVuZAoJCQlpZiBkZSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBBbHRQbGF0ZSA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQlBbHRQbGF0ZS5QYXJlbnQgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpWyIuSWdub3JlIl0KCQkJCUFsdFBsYXRlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcobG9jc1tsaV1bMV0sIChsb2NzW2xpXVsyXSAtIDUpLCBsb2NzW2xpXVszXSkKCQkJCUFsdFBsYXRlLlNpemUgPSBWZWN0b3IzLm5ldyg1LDEsNSkKCQkJCUFsdFBsYXRlLkFuY2hvcmVkID0gdHJ1ZQoJCQkJQWx0UGxhdGUuVHJhbnNwYXJlbmN5ID0gMQoJCQllbHNlCgkJCQlpZiBub3QgQWx0UGxhdGUgPT0gbmlsIHRoZW4KCQkJCQlBbHRQbGF0ZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJQWx0RmFybS5CdXR0b24uTW91c2VCdXR0b24xRG93bjpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIEFsdEZhcm1FbmFibGVkIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyOk1vdmVUbyhsYXN0cG9zKQoJCQkJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCQkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIkZhcm1pbmcgTW9kZSAoT2ZmKSIKCQkJCQlhbHRwbGF0ZSh0cnVlKQoJCQkJCWh1bS5IZWFsdGhDaGFuZ2VkOkRpc2Nvbm5lY3QoKQoJCQkJZWxzZQoJCQkJCUFsdEZhcm1FbmFibGVkID0gdHJ1ZQoJCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPbikiCgkJCQkJbGFzdHBvcyA9IGhycC5wb3NpdGlvbgoJCQkJCWxvY2FsIFRQTG9jYXRpb24gPSBtYXRoLnJhbmRvbSgxLCNsb2NzKQoJCQkJCWFsdHBsYXRlKGZhbHNlLFRQTG9jYXRpb24pCgkJCQkJcmVwZWF0CgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJCQkJZG9GYXJtKCkKCQkJCQkJaWYgaHJwLlBvc2l0aW9uIH49IHVucGFjayhsb2NzW1RQTG9jYXRpb25dKSB0aGVuCgkJCQkJCQlhbHR0cChUUExvY2F0aW9uLGxhc3Rwb3MpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KC4xKQoJCQkJCXVudGlsIEFsdEZhcm1FbmFibGVkID09IGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIkZhcm1pbmcgTW9kZSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQlsb2NhbCBmdWxsYnV0dG9ucyA9IGNvcHkoYnV0dG9ucykKCgkJLS0gR1VJIFR3ZWFraW5nCgoJCWZvciBpLHYgaW4gcGFpcnMoYm9yZGVycykgZG8KCQkJdi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDEsIDAuNSkKCQkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJdi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC43NTAKCQkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJvcmRlclNpemVQaXhlbCA9IDAKCQkJdi5TaXplQ29uc3RyYWludCA9IEVudW0uU2l6ZUNvbnN0cmFpbnQuUmVsYXRpdmVZWQoJCQl2LkFjdGl2ZSA9IHRydWUKCQkJdi5QYXJlbnQgPSBlYmd1aQoJCWVuZAoKCQlmb3IgaSx2IGluIHBhaXJzKGJ1dHRvbnMpIGRvCgkJCWlmIHR5cGVvZih2KSA9PSAidGFibGUiIGFuZCB2LklzR29sZCB0aGVuCgkJCQl2LkJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjM2LCAxNzUsIDIwKQoJCQkJdi5CdXR0b24uQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCXYuQnV0dG9uLkJvcmRlclNpemVQaXhlbCA9IDIKCQkJCXYuQnV0dG9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LkJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LkJ1dHRvbi5Gb250ID0gRW51bS5Gb250LkNvZGUKCQkJCXYuQnV0dG9uLkZvbnRGYWNlLldlaWdodCA9IEVudW0uRm9udFdlaWdodC5IZWF2eQoJCQkJdi5CdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQl2LkJ1dHRvbi5UZXh0U2NhbGVkID0gdHJ1ZQoJCQkJdi5CdXR0b24uVGV4dFNpemUgPSAxNC4wMDAKCQkJCXYuQnV0dG9uLlRleHRXcmFwcGVkID0gdHJ1ZQoJCQkJdi5CdXR0b24uTGF5b3V0T3JkZXIgPSBpCgkJCQl2LkJ1dHRvbi5QYXJlbnQgPSBtYWluZnJhbWUKCQkJZWxzZQoJCQkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpCgkJCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQl2LkJvcmRlclNpemVQaXhlbCA9IDIKCQkJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQkJdi5Gb250ID0gRW51bS5Gb250LkNvZGUKCQkJCXYuRm9udEZhY2UuV2VpZ2h0ID0gRW51bS5Gb250V2VpZ2h0LkhlYXZ5CgkJCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQkJdi5UZXh0U2NhbGVkID0gdHJ1ZQoJCQkJdi5UZXh0U2l6ZSA9IDE0LjAwMAoJCQkJdi5UZXh0V3JhcHBlZCA9IHRydWUKCQkJCXYuTGF5b3V0T3JkZXIgPSBpCgkJCQl2LlBhcmVudCA9IG1haW5mcmFtZQoJCQllbmQKCQllbmQKCgkJLS0gY29tbWFuZEJveAoKCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCWxvb3BpbmcgPSBmYWxzZQoJCVNtYXJ0QXR0YWNrID0gdHJ1ZQoJCUhlYWxTZXR0aW5nID0gMQoJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCWxvY2FsIGJ1dHRvbkhlaWdodCA9IDMwCgkJbG9jYWwgYnV0dG9uR2FwID0gNwoKCQlSU1IgPSBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlOldhaXRGb3JDaGlsZCgiUmVtb3RlcyIpCgoJCWxvY2FsIHN0dW5Db25uZWN0aW9uID0gZ2V0Y29ubmVjdGlvbnMoUlNSOldhaXRGb3JDaGlsZCgiQ29tYmF0IikuT25DbGllbnRFdmVudCkKCQlsb2NhbCBsYWdnZXJzID0gewoJCQkiMUIwRjk4QkUtRTEwQi00Njc0LTlGQjQtNkY2NTE3MUEzNDdGIiwgLS0gbG9nCgkJCSI2QTMzMTA0QS0xRkU5LTRGQTgtOTM3NC1DMTY0RDI4RjgzNTEiLCAtLSBicmlhbgoJCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0CgkJCSI1NUMyMDQ5RC1DNkJELTQ1MjMtODgwNC1ENTM5QzM4NzkyQTMiLCAtLSBwZW50YXJhY3QKCQkJIjk0NjRCNjhBLTM2M0MtNDFGOC1CQjdELUI0QkVEOEFDMDk2MyIsIC0tIHZhc3RvcmlvCgkJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvawoJCQktLSAiNjNCMzlFMjctREExQi00ODJFLUIyOEMtNkEzMzk4Qzk1QTRDIiwgLS0gYWxleAoJCQkiODQ2QTY1RTItRTk2My00QTBBLTkwMjUtRTlCOEU5NTg5NjEzIiwgLS0gYnJhbQoJCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsKCQkJIjZBOTcwNTJBLTYzNEUtNDdFMS04RDkwLTVFRTNDQTRBOTZGQSIsIC0tIHJhdmVuCgkJCSJGNTk3NUQ3RC0yQUM1LTQ0QUEtODAxRi04Mjc2MjVENkQ3NjMiLCAtLSBhbGV4aWEKCQkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MKCQkJIjc0ODlDQkFFLTc5ODYtNDVBOS1CRTQwLUEyMThFRENEMEYwMSIgLS0gY2VwaGFzCgkJfQoKCQlsb2NhbCBhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQoKCQlmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbwoJCQl2ID0gdjpsb3dlcigpCgoJCQlpZiAodiA9PSBjbGllbnRpZCkgdGhlbgoJCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhSUChjaHIpCgkJCWxvY2FsIEhSUCA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQoJCQlyZXR1cm4gSFJQCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhVTShjaHIpCgkJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQoJCQlyZXR1cm4gSFVNCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlc3Bhd24ocGxyKQoJCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyCgoJCQlpZiAoY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSkgdGhlbiBjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpOkNoYW5nZVN0YXRlKDE1KSBlbmQKCQkJY2hyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpCgkJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJcGxyLkNoYXJhY3RlciA9IG5ld2NocgoKCQkJd2FpdCgpCgoJCQlwbHIuQ2hhcmFjdGVyID0gY2hyCgkJCW5ld2NocjpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpCgkJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpCgkJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lCgkJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUKCgkJCXJlc3Bhd24ocGxyKQoKCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJcGxyLkNoYXJhY3RlckFkZGVkOldhaXQoKTpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuUm9vdFBhcnQuQ0ZyYW1lLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUgPSBwb3MsIHdhaXQoKSBhbmQgcG9zMQoJCQllbmQpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQoJCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpCgkJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQoKCQkJZm9yIGksIHYgaW4gaXBhaXJzKGNvbW1hbmQpIGRvCgkJCQl2ID0gc3RyaW5nLmdzdWIodiwgIiVzKyIsICIiKQoJCQkJaWYgdiA9PSAiIiB0aGVuCgkJCQkJdGFibGUucmVtb3ZlKGNvbW1hbmQsIGkpCgkJCQllbmQKCQkJZW5kCgoJCQlyZXR1cm4gY29tbWFuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpCgkJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpCgkJCWxvY2FsIG1hdGNoZXMgPSB7fQoKCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8KCQkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoJCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQoKCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQobmFtZSwgdGV4dCkKCgkJCQlpZiBtYXRjaCB0aGVuCgkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIG1hdGNoZXMKCQllbmQKCgkJbG9jYWwgZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvckV4Y2x1ZGUgPSB7IkhlYWQiLCJUb3JzbyIsIkxlZnQgQXJtIiwiTGVmdCBMZWciLCJSaWdodCBBcm0iLCJSaWdodCBMZWciLCJTaGFyZCIsIkRpYW1vbmQifQoKCQktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQoJCWxvY2FsIGNvbG9yMQoJCWxvY2FsIGNvbG9yMgoJCWxvY2FsIGNvbG9yMwoKCQlsb2NhbCBmdW5jdGlvbiB0ZXJtRUJHdWkoKQoJCQl3YXJuKCJDbG9zaW5nIEVCR3VpIGZvciBnb29kLi4uIikKCQkJd2FybigiVHdlZW5pbmcgb3V0IFVJIGVsZW1lbnRzLi4uIikKCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQl3YWl0KDEpCgkJCXdhcm4oIlJlc2V0dGluZyB0YXJnZXQuLi4iKQoJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCQl3YXJuKCJVbmxvYWRpbmcgYWxsIEVTUCBlbGVtZW50cy4uLiIpCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCQkJcGNhbGwoR1VubG9hZENoYXJhY3RlciwgdikKCQkJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpCgkJCWVuZAoJCQl3YXJuKCJFbnN1cmluZyBFU1AgZWxlbWVudHMgYXJlIGRpc2FibGVkLi4uIikKCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJd2FybigiUmVzZXR0aW5nIGhhY2sgdmFsdWVzLi4uIikKCQkJZm9yIGEsYiBpbiBwYWlycyhtdnRnKSBkbwoJCQkJaWYgdHlwZW9mKGIpID09ICJ0YWJsZSIgdGhlbgoJCQkJCWZvciBjLGQgaW4gcGFpcnMoYikgZG8KCQkJCQkJaWYgdHlwZW9mKGQpID09ICJ0YWJsZSIgdGhlbgoJCQkJCQkJZm9yIGUsZiBpbiBwYWlycyhkKSBkbwoJCQkJCQkJCWlmIGYgdGhlbiBmID0gZmFsc2UgZW5kCQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQl3YXJuKCJEZXN0cm95aW5nIEVCR3VpIGFuZCBpdHMgY2hpbGRyZW4uLi4iKQoJCQllYmd1aTpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gaW5wdXRCb3goKQoJCQlsb2NhbCB0ZXh0ID0gY29tbWFuZEJveC5UZXh0CgkJCXdhaXQoKQoJCQljb21tYW5kQm94LlRleHQgPSAiIgoKCQkJbG9jYWwgcHJlZml4ID0gIjsiCgkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMSkgPT0gKHByZWZpeCkgdGhlbgoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoKCQkJCS0tW1tpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInJlIikgdGhlbgoJCQkJCXJlZnJlc2gocGxheWVyKV1dCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInRwIikgdGhlbgoJCQkJCWxvY2FsIHRlbGVwb3J0dG8KCQkJCQlsb2NhbCB0cG5hbWUKCQkJCQlsb2NhbCBwbGFjZSA9IHN0cmluZy5zdWIodGV4dCwgNSkKCQkJCQlsb2NhbCBwbGFjZXMgPSB7CgkJCQkJCTU2NjM5OTI0NCwKCQkJCQkJMjU2OTYyNTgwOSwKCQkJCQkJNTcwMTU4MDgxLAoJCQkJCQk1Mzc2MDAyMDQsCgkJCQkJCTUyMDU2ODI0MCwKCQkJCQkJNTU0OTU1NTYwLAoJCQkJCQk2MDIwNDg1NTAsCgkJCQkJCTU3NTQ1NjY0NiwKCQkJCQkJMTcxMzk4NjExMiwKCQkJCQkJMTI0MzYxNTYxMiwKCQkJCQkJNjM4MDY1MzAyLAoJCQkJCQk2MzQyNDA4MjYsCgkJCQkJCTYzMzA0MjczMQoJCQkJCX0KCgkJCQkJaWYgcGxhY2UgPT0gInN0YW5kYXJkbG93IiBvciBwbGFjZSA9PSAiNTY2Mzk5MjQ0IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMV0KCQkJCQkJdHBuYW1lID0gIkxvd2JpZSBTdGFuZGFyZCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN0YW5kYXJkNDAiIG9yIHBsYWNlID09ICIyNTY5NjI1ODA5IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMl0KCQkJCQkJdHBuYW1lID0gIlN0YW5kYXJkIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibGlnaHQiIG9yIHBsYWNlID09ICI1NzAxNTgwODEiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1szXQoJCQkJCQl0cG5hbWUgPSAiTGlnaHQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJmaXJlIiBvciBwbGFjZSA9PSAiNTM3NjAwMjA0IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNF0KCQkJCQkJdHBuYW1lID0gIkZpcmUiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJ3YXRlciIgb3IgcGxhY2UgPT0gIjUyMDU2ODI0MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzVdCgkJCQkJCXRwbmFtZSA9ICJXYXRlciIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImdyYXNzIiBvciBwbGFjZSA9PSAiNTU0OTU1NTYwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNl0KCQkJCQkJdHBuYW1lID0gIkdyYXNzIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiaGVhdmVuIiBvciBwbGFjZSA9PSAiNjAyMDQ4NTUwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbN10KCQkJCQkJdHBuYW1lID0gIkhlYXZlbiIKCQkJCQllbHNlaWYgcGxhY2UgPT0gIm1pbmlsb3ZhbmlhIiBvciBwbGFjZSA9PSAic2FucyIgb3IgcGxhY2UgPT0gIjU3NTQ1NjY0NiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzhdCgkJCQkJCXRwbmFtZSA9ICJNaW5pbG92YW5pYSIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImRlZmF1bHQiIG9yIHBsYWNlID09ICJ0b3VybmFtZW50IiBvciBwbGFjZSA9PSAiMTcxMzk4NjExMiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzldCgkJCQkJCXRwbmFtZSA9ICJUb3VybmFtZW50IgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAic3Vydml2YWwiIG9yIHBsYWNlID09ICIxMjQzNjE1NjEyIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTBdCgkJCQkJCXRwbmFtZSA9ICJTdXJ2aXZhbCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FzdGFuZGFyZCIgb3IgcGxhY2UgPT0gInN0YW5kYXJkbWVnYSIgb3IgcGxhY2UgPT0gIjYzODA2NTMwMiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzExXQoJCQkJCQl0cG5hbWUgPSAiTWVnYSBTdGFuZGFyZCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FmaXJlIiBvciBwbGFjZSA9PSAiZmlyZW1lZ2EiIG9yIHBsYWNlID09ICI2MzQyNDA4MjYiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0KCQkJCQkJdHBuYW1lID0gIk1lZ2EgRmlyZSIKCQkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FncmFzcyIgb3IgcGxhY2UgPT0gImdyYXNzbWVnYSIgb3IgcGxhY2UgPT0gIjYzMzA0MjczMSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEzXQoJCQkJCQl0cG5hbWUgPSAiTWVnYSBHcmFzcyIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUaGUgcGxhY2Ugd2FzIGluY29ycmVjdGx5IHNwZWNpZmllZCEiCgkJCQkJZW5kCgoJCQkJCWlmIHRlbGVwb3J0dG8gdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGVsZXBvcnRpbmcgdG8gIiAuLiB0cG5hbWUgLi4gIiEiCgkJCQkJCWdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQodGVsZXBvcnR0bykKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gImRlY2x1dHRlciIpIHRoZW4KCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkNoYXJhY3Rlci5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQm9vay5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2hvcC5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJyYWluIikgdGhlbgoJCQkJCWxvY2FsIGN1cnJlbnRDQU0gPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQoJCQkJCWxvY2FsIHJhaW5Tb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQoJCQkJCXJhaW5Tb3VuZC5Mb29wZWQgPSB0cnVlCgkJCQkJcmFpblNvdW5kLlNvdW5kSWQgPSAicmJ4YXNzZXRpZDovLzI4MzE2NDU5MyIKCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJCXJhaW5Tb3VuZC5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJCQlyYWluU291bmQ6UGxheSgpCgoJCQkJCWxvY2FsIHJhaW5QYXJ0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoMzAwLCAzMDAsIDMwMCkKCQkJCQlyYWluUGFydC5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJcmFpblBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQkJcmFpblBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCgoJCQkJCWxvY2FsIHJhaW5FZmZlY3QgPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6V2FpdEZvckNoaWxkKCJFZmZlY3RzIik6V2FpdEZvckNoaWxkKCJSYWluIikKCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQoJCQkJCXJhaW5FZmZlY3QuUGFyZW50ID0gcmFpblBhcnQKCgkJCQkJbG9jYWwgaWdub3JlID0gd29ya3NwYWNlOldhaXRGb3JDaGlsZCgiLklnbm9yZSIpCgkJCQkJcmFpblBhcnQuUGFyZW50ID0gaWdub3JlOldhaXRGb3JDaGlsZCgiLlNlcnZlckVmZmVjdHMiKQoKCQkJCQlsb2NhbCBmb3YgPSAyICogbWF0aC50YW4obWF0aC5yYWQoY3VycmVudENBTS5GaWVsZE9mVmlldykgLyAyKQoJCQkJCWxvY2FsIG5ld1JheSA9IFJheS5uZXcKCQkJCQlsb2NhbCBoZWlnaHQgPSBWZWN0b3IzLm5ldygwLCA1MCwgMCkKCQkJCQlsb2NhbCBkZXB0aCA9IENGcmFtZS5uZXcoMCwgZm92ICogNTAsIC02MCkKCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIik6QmluZFRvUmVuZGVyU3RlcCgiUmFpbiIsIEVudW0uUmVuZGVyUHJpb3JpdHkuQ2FtZXJhLlZhbHVlLCBmdW5jdGlvbigpCgkJCQkJCWxvY2FsIHJjID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChuZXdSYXkoY3VycmVudENBTS5DRnJhbWUucCwgaGVpZ2h0KSwge2lnbm9yZX0pCgoJCQkJCQlpZiAocmMpIHRoZW4KCQkJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMC41CgkJCQkJCQlyZXR1cm4KCQkJCQkJZW5kCgoJCQkJCQlsb2NhbCB2aWV3cG9ydCA9IGN1cnJlbnRDQU0uVmlld3BvcnRTaXplCgkJCgkJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyhmb3YgKiB2aWV3cG9ydC54IC8gdmlld3BvcnQueSAqIDUwLCAwLjIsIDEwMCkKCQkJCQkJcmFpblBhcnQuQ0ZyYW1lID0gY3VycmVudENBTS5DRnJhbWUgKiBkZXB0aAoJCQoJCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQoJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSB0cnVlCgkJCgkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNCkgPT0gKHByZWZpeCAuLiAiZml4IikgdGhlbgoJCQkJCWlmIHBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikgdGhlbgoJCQkJCQlwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpLlZpc2libGUgPSBmYWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRml4aW5nIHRoZSBNZW51IEdVSSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMykgPT0gKHByZWZpeCAuLiAiYnV0dG9uaGVpZ2h0IikgdGhlbgoJCQkJCWJ1dHRvbkhlaWdodCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKQoJCQkJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCBidXR0b25IZWlnaHQpCgkJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBoZWlnaHQgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKSAuLiAiISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJidXR0b25nYXAiKSB0aGVuCgkJCQkJYnV0dG9uR2FwID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpCgkJCQkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIGJ1dHRvbkdhcCkKCQkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQoKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGdhcCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpIC4uICIhIgoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAicmVqb2luIikgdGhlbgoJCQkJCXJlam9pbigpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJlam9pbmluZy4uLiIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImF1cmEvb2ZmIikgdGhlbgoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpCgoJCQkJCWlmIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIikgdGhlbgoJCQkJCQlnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpOkRlc3Ryb3koKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBoYXMgYmVlbiByZW1vdmVkLiIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGRvZXMgbm90IGV4aXN0ISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDE0KSA9PSAocHJlZml4IC4uICJ0YXJnZXRzZXR0aW5nIikgdGhlbgoJCQkJCXRhcmdldFNldHRpbmcgPSBzdHJpbmcuc3ViKHRleHQsIDE2KQoKCQkJCQlyZXBlYXQKCQkJCQkJaWYgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBzZWxlY3QhIgoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gY2xvc2VzdCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGZhcnRoZXN0ISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGxvd2hwISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBoaWdoaHAhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiY2xpY2siIHRoZW4KCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImNsaWNrIiBkbwoJCQkJCQkJCW1vdXNlLkJ1dHRvbjFEb3duOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCQkJCQlpZiB0YWJsZS5maW5kKHBsYXllcnM6R2V0UGxheWVycygpLG1vdXNlLlRhcmdldCkgdGhlbgoJCQkJCQkJCQkJdGFyZ2V0ID0gbW91c2UuVGFyZ2V0CgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZCkKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCIKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIHRhcmdldCBzZXR0aW5nISBEaWQgeW91IHNwZWNpZnkgc2VsZWN0LCBjbG9zZXN0LCBmYXJ0aGVzdCwgbG93aHAsIG9yIGhpZ2hocD8gU2V0dGluZyBoYXMgYmVlbiBzZXQgdG8gc2VsZWN0LiIKCQkJCQkJZW5kCgkJCQkJdW50aWwgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IgoKCQkJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAibG9vcCIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgbG9vcGluZyA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCWxvb3BpbmcgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RhcnRlZCBsb29waW5nIGF0dGFja3MhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlsb29waW5nID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGxvb3BpbmcgYXR0YWNrcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJbG9vcGluZyA9IG5vdCBsb29waW5nCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBsb29waW5nIGF0dGFja3MgKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgoJCQkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCQkJd2hpbGUgbG9vcGluZyBkbwoJCQkJCQkJZXhwbG9pdCgpCgkJCQkJCQl3YWl0KCkKCQkJCQkJZW5kCgkJCQkJCXJldHVybgoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImdyY2hhcmdlIikgdGhlbgoJCQkJCUdSQ2hhcmdlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMSkpCgkJCQkJd2FpdCgpCgkJCQkJaWYgR1JDaGFyZ2UgPT0gbmlsIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/IgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIGNoYXJnZSB0byAiIC4uIEdSQ2hhcmdlIC4uICIhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAic3BlZWQiKSB0aGVuCgkJCQkJU2V0U3BlZWQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDgpKQoJCQkJCXdhaXQoKQoJCQkJCWlmIFNldFNwZWVkID09IG5pbCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBzcGVlZCB0byAiIC4uIFNldFNwZWVkIC4uICIhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTIpID09IChwcmVmaXggLi4gInNtYXJ0YXR0YWNrIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNSkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgU21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCVNtYXJ0QXR0YWNrID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk5vdyBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE2KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgU21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJU21hcnRBdHRhY2sgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlTbWFydEF0dGFjayA9IG5vdCBTbWFydEF0dGFjawoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBTbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGZvcmNlZmllbGQgZGV0ZWN0aW9uICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImdhbWVjb2xvciIpIHRoZW4KCQkJCQlpZiBub3QgZ2FtZS5MaWdodGluZzpGaW5kRmlyc3RDaGlsZCgiRUJHR3VpQ29sb3JDb3JyZWN0aW9uIikgdGhlbgoJCQkJCQlJbnN0YW5jZS5uZXcoIkNvbG9yQ29ycmVjdGlvbkVmZmVjdCIsIGdhbWUuTGlnaHRpbmcpLk5hbWUgPSAiRUJHR3VpQ29sb3JDb3JyZWN0aW9uIgoJCQkJCQl3YWl0KCkKCQkJCQllbmQKCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTcpID09ICJub3JtYWwiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uQ29udHJhc3QgPSAwCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAwCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZXZlcnRpbmcuLi4iCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiZ3JheXNjYWxlIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAtMQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiR3JheXNjYWxpbmcuLi4iCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0aHVlIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAtMgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGh1ZS4uLiIKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRhbGwiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uQ29udHJhc3QgPSAtMgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGFsbC4uLiIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGNvbG9yIG1vZGUgKG9yIG5vbmUgc3BlY2lmaWVkKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYmxhY2tjYXN0IikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMykgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTQpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBkaXNhYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IG5vdCBibGFja2Nhc3RFbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBibGFjayBjYXN0aW5nICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAic3R1biIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJc3R1bkVuYWJsZWQgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlzdHVuRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBkaXNhYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJc3R1bkVuYWJsZWQgPSBub3Qgc3R1bkVuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8KCQkJCQkJCQljb25uZWN0aW9uOkRpc2FibGUoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2UKCQkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbwoJCQkJCQkJCWNvbm5lY3Rpb246RW5hYmxlKCkKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgc3R1biAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImRydWdzIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCA5KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlkcnVnc0VuYWJsZWQgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDEwKSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlkcnVnc0VuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBkaXNhYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJZHJ1Z3NFbmFibGVkID0gbm90IGRydWdzRW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBkcnVnIG1vZGUgKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMSkgPT0gKHByZWZpeCAuLiAibWFnaWNjb2xvciIpIHRoZW4KCQkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCAxMykKCQkJCQlsb2NhbCBhcmdzID0gc3BsaXRBcmdzKHN0cmluZ2FyZ3MpCgoJCQkJCWlmIChhcmdzWzFdID09ICJ0Iikgb3IgKGFyZ3NbMV0gPT0gIm9uIikgdGhlbgoJCQkJCQlpZiAoY29sb3IxIH49IG5pbCkgYW5kIChjb2xvcjIgfj0gbmlsKSBhbmQgKGNvbG9yMyB+PSBuaWwpIHRoZW4KCQkJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBlbmFibGVkISIKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb24hIgoJCQkJCQkJZW5kCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UgbXVzdCBoYXZlIGNvbG9ycyBzZXQgd2l0aCB0aGlzIGNvbW1hbmQgYmVmb3JlIHR1cm5pbmcgaXQgYmFjayBvbiEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiAoYXJnc1sxXSA9PSAiZiIpIG9yIChhcmdzWzFdID09ICJvZmYiKSB0aGVuCgkJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb2xvcnNFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZGlzYWJsZWQhIgoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlhcmdzWzFdID0gdG9udW1iZXIoYXJnc1sxXSkKCQkJCQkJYXJnc1syXSA9IHRvbnVtYmVyKGFyZ3NbMl0pCgkJCQkJCWFyZ3NbM10gPSB0b251bWJlcihhcmdzWzNdKQoKCQkJCQkJaWYgbm90IGFyZ3NbM10gdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzPyIKCQkJCQkJZWxzZQoJCQkJCQkJaWYgKGFyZ3NbMV0gfj0gbmlsKSBhbmQgKGFyZ3NbMl0gfj0gbmlsKSBhbmQgKGFyZ3NbM10gfj0gbmlsKSB0aGVuCgkJCQkJCQkJbG9jYWwgZXhlY3V0YWJsZSA9IHRydWUKCgkJCQkJCQkJZm9yIGkgPSAxLCAzLCAxIGRvCgkJCQkJCQkJCWlmIChhcmdzW2ldIDwgMCkgb3IgKGFyZ3NbaV0gPiAyNTUpIHRoZW4KCQkJCQkJCQkJCWV4ZWN1dGFibGUgPSBmYWxzZQoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCWlmIGV4ZWN1dGFibGUgPT0gdHJ1ZSB0aGVuCgkJCQkJCQkJCWNvbG9yMSA9IGFyZ3NbMV0KCQkJCQkJCQkJY29sb3IyID0gYXJnc1syXQoJCQkJCQkJCQljb2xvcjMgPSBhcmdzWzNdCgoJCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIHdhcyBzZXQgdG8gIiAuLiBjb2xvcjEgLi4gIiwgIiAuLiBjb2xvcjIgLi4gIiwgYW5kICIgLi4gY29sb3IzIC4uICIhIgoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBUaGUgbnVtYmVycyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1ISIKCQkJCQkJCQllbmQKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFBsZWFzZSB1c2UgbnVtYmVycyB0byBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcy4iCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJjb2xvcnMiKSB0aGVuCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkKCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSAKCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQl3aGlsZSB0cnVlIGRvCgkJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuCgkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihtYXRoLnJhbmRvbSgwLCAyNTUpLCBtYXRoLnJhbmRvbSgwLCAyNTUpLCBtYXRoLnJhbmRvbSgwLCAyNTUpKQoJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkKCQkJCQkJCQkJCWVsc2VpZiBjb2xvcnNFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQlpZiBub3QgdGFibGUuZmluZChjb2xvckV4Y2x1ZGUsIGQuTmFtZSkgdGhlbiAKCQkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKGNvbG9yMSwgY29sb3IyLCBjb2xvcjMpCgkJCQkJCQkJCQkJCXdhaXQoKQoJCQkJCQkJCQkJCWVsc2UgYnJlYWsgZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCWVuZCkKCQkJCQkJZW5kKQoKCQkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCWlmIChibGFja2Nhc3RFbmFibGVkID09IHRydWUpIGFuZCAoZC5QYXJlbnQgfj0gbmlsKSB0aGVuCgkJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGQ6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQkJCQkJCWlmIHY6SXNBKCJEZWNhbCIpIHRoZW4KCQkJCQkJCQkJCQl2LkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQlpZiBkOklzQSgiUGFydGljbGVFbWl0dGVyIikgdGhlbgkJCQoJCQkJCQkJCQl3aGlsZSB0cnVlIGRvCgkJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbgoJCQkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSksCgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQoJCQkJCQkJCQkJCWVsc2VpZiBjb2xvcnNFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKSwKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCWVuZCkKCQkJCQkJZW5kKQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImhlYWwiKSB0aGVuCgkJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgNykKCQkJCQlsb2NhbCBhcmdzID0gc3BsaXRBcmdzKHN0cmluZ2FyZ3MpCgoJCQkJCWlmIGFyZ3NbMV0gdGhlbgkJCQkKCQkJCQkJaWYgKCMoZmluZFBsYXllcihhcmdzWzFdKSkgPT0gMSkgdGhlbgoJCQkJCQkJbG9jYWwgaGVhbGluZ1BsYXllciA9IGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0KCQkJCQkJCWxvY2FsIGNociA9IGdhbWUuUGxheWVyc1toZWFsaW5nUGxheWVyXS5DaGFyYWN0ZXIKCgkJCQkJCQlpZiBjaHIgdGhlbgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJIZWFsaW5nICIgLi4gZmluZFBsYXllcihhcmdzWzFdKVsxXSAuLiAiLi4uIgoJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIpCgkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iKQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJCQkJaWYgY2hyID09IHBsYXllci5DaGFyYWN0ZXIgdGhlbgoJCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBbmdlbCIsIkFuZ2VsaWMgQXVyYSIpCgkJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiZWNob2VzIikgdGhlbgkJCQkJCgkJCQkJaWYgc3RyaW5nLmZpbmQodGV4dCwicGhhc2UiKSBhbmQgbm90IHN0cmluZy5maW5kKHRleHQsImF1dG8iKSB0aGVuCgkJCQkJCWxvY2FsIHBoYXNlID0gc3RyaW5nLnN1Yih0ZXh0LCAxNSkKCQkJCQkJaWYgdG9udW1iZXIocGhhc2UpID09IG5pbCB0aGVuCgkJCQkJCQlpZiAocGhhc2UgPT0gInBvdyIpIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDEKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gUE9XISIKCQkJCQkJCWVsc2VpZiAocGhhc2UgPT0gImJybiIpIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDIKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gQlJOISIKCQkJCQkJCWVsc2VpZiAocGhhc2UgPT0gInN0biIpIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDMKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gU1ROISIKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBhcmd1bWVudCEgU3BlY2lmeTogUE9XOyBCUk47IFNUTiwgb3IgbnVtYmVyIDEtMy4iCgkJCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZSEgRXhwZWN0ZWQgUE9XLCBCUk4sIFNUTiwgb3IgbnVtYmVyIDEtMywgZ290ICIuLnBoYXNlKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0b251bWJlcihwaGFzZSkgfj0gbmlsIHRoZW4KCQkJCQkJCWlmIG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKSA9PSAxIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDEKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gUE9XISIKCQkJCQkJCWVsc2VpZiBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkgPT0gMiB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAyCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIEJSTiEiCgkJCQkJCQllbHNlaWYgbWF0aC5mbG9vcih0b251bWJlcihwaGFzZSkpID09IDMgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMwoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBQT1chIgoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuZmluZCh0ZXh0LCJhdXRvIikgYW5kIG5vdCBzdHJpbmcuZmluZCh0ZXh0LCJwaGFzZSIpIHRoZW4KCQkJCQkJbG9jYWwgYm9vbCA9IHN0cmluZy5zdWIodGV4dCwxNCkKCQkJCQkJaWYgKGJvb2wgPT0gInQiKSBvciAoYm9vbCA9PSAib24iKSB0aGVuCgkJCQkJCQlpZiBFY2hvZXNBdXRvIHRoZW4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIGF1dG8tdGFyZ2V0IGlzIGFscmVhZHkgb24hIgoJCQkJCQkJZWxzZQoJCQkJCQkJCUVjaG9lc0F1dG8gPSB0cnVlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvbiBFY2hvZXMgYXV0by10YXJnZXQhIgoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiAoYm9vbCA9PSAiZiIpIG9yIChib29sID09ICJvZmYiKSB0aGVuCgkJCQkJCQlpZiBFY2hvZXNBdXRvIHRoZW4KCQkJCQkJCQlFY2hvZXNBdXRvID0gZmFsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9mZiBFY2hvZXMgYXV0by10YXJnZXQhIgoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgYXV0by10YXJnZXQgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiBib29sID09ICIiIHRoZW4KCQkJCQkJCWxvY2FsIEF1dG8KCQkJCQkJCUVjaG9lc0F1dG8gPSBub3QgRWNob2VzQXV0bwoJCQkJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJCQkJQXV0byA9ICJvbiIKCQkJCQkJCWVsc2UKCQkJCQkJCQlBdXRvID0gIm9mZiIKCQkJCQkJCWVuZAoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgRWNob2VzIGF1dG8tdGFyZ2V0IHRvICIuLkF1dG8uLiIhIgoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBhcmd1bWVudCEgU3BlY2lmeSB0L2YsIG9uL29mZi4iCgkJCQkJCQl3YXJuKCJHb3QgaW52YWxpZCBhcmd1bWVudCBhdCBydW50aW1lISBFeHBlY3RlZCB0L2Ygb3Igb24vb2ZmLCBnb3QgIi4uYm9vbCkKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBhcmd1bWVudCEgU3BlY2lmeSBwaGFzZSBvciBhdXRvLiIKCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZSEgRXhwZWN0ZWQgcGhhc2Ugb3IgYXV0bywgZ290ICIuLnN0cmluZy5zdWIodGV4dCw5KSkKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJjaGFuZ2Vsb2ciKSB0aGVuCgkJCQkJLS0gVGFnOiBDSE5HTEcKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ29waWVkIHRoZSBjaGFuZ2Vsb2cgdG8geW91ciBjbGlwYm9hcmQhIgoJCQkJCXNldGNsaXBib2FyZCgiaHR0cHM6Ly9naXRodWIuY29tL0VhcnRoVG9BY2Nlc3MvRUJHVUkjY2hhbmdlbG9nIikKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gIm9yaWdpbiIpIHRoZW4KCQkJCQl4cGNhbGwoZnVuY3Rpb24oKQoJCQkJCQlsb2NhbCBvcmlnaW4gPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCQkJCQlvcmlnaW4uQW5jaG9yZWQgPSB0cnVlCgkJCQkJCW9yaWdpbi5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdCgkJCQkJCW9yaWdpbi5OYW1lID0gIk9yaWdpbiIKCQkJCQkJb3JpZ2luLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uCgkJCQkJCW9yaWdpbi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIlJlYWxseSByZWQiKQoJCQkJCQlvcmlnaW4uU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpCgkJCQkJCW9yaWdpbi5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApCgkJCQkJCXdhcm4oIk1hZGUgYSBibG9jayBhdCB0aGUgb3JpZ2luISIpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzISBDaGVjayBjb25zb2xlIGZvciBtb3JlIGluZm8iCgkJCQkJZW5kLCBmdW5jdGlvbihlKQoJCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpCgkJCQkJCXdhcm4oJ3RyYWNlYmFjazonLCBkZWJ1Zy50cmFjZWJhY2soKSkKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJoZWxwIikgdGhlbgoJCQkJCXNldGNsaXBib2FyZCgiaHR0cHM6Ly9naXRodWIuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvYmxvYi9tYWluL0RvY3MubWQiKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb2N1bWVudGF0aW9uIGNvcGllZCB0byBjbGlwYm9hcmQhIgoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaW5mbyIpIHRoZW4KCQkJCQlsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvbWFpbi9iaW4vaW5mby5sdWEnKSkoKQoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInN0YXR1cyIgdGhlbgoJCQkJCQlwcmludCgiVGhlIGN1cnJlbnQgc3RhdHVzIG9mIEVCR3VpIGlzICIgLi4gc3RhdHVzKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHdWkgU3RhdHVzOiAiIC4uIHN0YXR1cwoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJyZXBvIiBvciBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJnaXRodWIiIHRoZW4KCQkJCQkJcHJpbnQoIlRoZSBHaXRIdWIgcmVwb3NpdG9yeSBsaW5rIGlzICIgLi4gcmVwbykKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkNoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGluZm8hIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAidXBkYXRlIikgdGhlbgoJCQkJCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpCgkJCQkJaWYgdmVyTnVtID09IGN1cnJlbnQgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm8gdXBkYXRlIHJlcXVpcmVkISIKCQkJCQllbHNlaWYgdmVyTnVtID09IGxhc3QgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVmVyc2lvbiBvdXRkYXRlZCEgQ3VycmVudDogIiAuLiBjdXJyZW50CgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiYnJvIHVyIG9uIGEgZGV2IGJ1aWxkIG9yIHNtIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwxLDUpID09IChwcmVmaXguLiJkZXNwIikgdGhlbgoJCQkJCWxvY2FsIGFyZyA9IHN0cmluZy5zdWIodGV4dCw3KQoJCQkJCWxvY2FsIGZ1bmN0aW9uIHJlbG9hZEVTUCgpCgkJCQkJCWlmIEVTUEVuYWJsZWQgdGhlbgoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCQkJCXBjYWxsKFVubG9hZFBsYXllciwgdikKCQkJCQkJCQlwY2FsbChMb2FkUGxheWVyLCB2KQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlwY2FsbChHVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCQkJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpCgkJCQkJCQkJcGNhbGwoR0xvYWRQbGF5ZXIsIHYpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQkJbG9jYWwgZnVuY3Rpb24gaXNudW1iZXIobikKCQkJCQkJcmV0dXJuICh0eXBlKG4pID09ICJudW1iZXIiKSBhbmQgKG1hdGguZmxvb3IobikgPT0gbikKCQkJCQllbmQKCQkJCQlpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKHRvbnVtYmVyKGFyZykgPj0gMTAwIGFuZCB0b251bWJlcihhcmcpIDw9IDEwMDAwMCkgdGhlbgoJCQkJCQlFU1BJbmZvLk1heERpc3QgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsNykpCgkJCQkJCUVTUEluZm8uU3RhbmRhcmQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCw3KSkKCQkJCQkJRVNQSW5mby5Hb2xkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsNykpCgkJCQkJCXJlbG9hZEVTUCgpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTZXQgRVNQIE1heCBEaXN0YW5jZSB0byAiIC4uIGFyZwoJCQkJCWVsc2VpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgdG9udW1iZXIoYXJnKSA8PSAxMCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOdW1iZXIgdG9vIGxvdyEgVHJ5IHNvbWV0aGluZyBiaWdnZXIuIgoJCQkJCWVsc2VpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgdG9udW1iZXIoYXJnKSA+PSAxMDAwMDAgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiV09BSCBUSEFUJ1MgQSBCSUcgTlVNQkVSLiBVc2Ugc29tZXRoaW5nIHNtYWxsZXIhIgoJCQkJCWVsc2VpZiBub3QgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIChhcmcgPT0gInQiIG9yIGFyZyA9PSAib24iKSB0aGVuCgkJCQkJCWlmIEVTUEluZm8uRW5hYmxlZCB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRVNQIE1heCBEaXN0YW5jZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJRVNQSW5mby5FbmFibGVkID0gdHJ1ZQoJCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnLk1heERpc3RhbmNlID0gRVNQSW5mby5NYXhEaXN0CgkJCQkJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IEVTUEluZm8uTWF4RGlzdAoJCQkJCQkJcmVsb2FkRVNQKCkKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gRVNQIE1heCBEaXN0YW5jZSEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBub3QgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIChhcmcgPT0gImYiIG9yIGFyZyA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBFU1BJbmZvLkVuYWJsZWQgdGhlbgoJCQkJCQkJRVNQSW5mby5FbmFibGVkID0gZmFsc2UKCQkJCQkJCUVTUEluZm8uU3RhbmRhcmQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDAKCQkJCQkJCUVTUEluZm8uR29sZC5OYW1lVGFnLk1heERpc3RhbmNlID0gMAoJCQkJCQkJcmVsb2FkRVNQKCkKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIEVTUCBNYXggRGlzdGFuY2UhIgoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRVNQIE1heCBEaXN0YW5jZSBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIERpZCB5b3Ugc3BlY2lmeSBhIG51bWJlcj8iCgkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUuIEdvdCAiIC4uIGFyZyAuLiAiLCBleHBlY3RlZCBib29sZWFuIG9yIG51bWJlciIpCgkJCQkJZW5kCQkJCQkJCQkJCQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwxLDgpID09IChwcmVmaXggLi4gImFudGlhZmsiKSB0aGVuCgkJCQkJaWYgQW50aUFmayB0aGVuCgkJCQkJCUFudGlBZmsgPSBmYWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9mZiBhbnRpLWFmayEiCgkJCQkJZWxzZQoJCQkJCQlBbnRpQWZrID0gdHJ1ZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9uIGFudGktYWZrISIKCQkJCQkJd2FpdCgxLjUpCgkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCWVuZAoJCQkJCQlsb2NhbCBzdG9wcGVkQ291bnQgPSAwCgkJCQkJCXJlcGVhdAoJCQkJCQkJbG9jYWwgaWRsZWNvbm5lY3QKCQkJCQkJCWlkbGVjb25uZWN0ID0gcGxheWVyLklkbGVkOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCQkJCWdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpDbGlja0J1dHRvbjIoVmVjdG9yMi5uZXcoVURpbTIubmV3KC41KSkpCgkJCQkJCQkJaWRsZWNvbm5lY3Q6RGlzY29ubmVjdCgpCgkJCQkJCQllbmQpCgkJCQkJCQlzdG9wcGVkQ291bnQgPSBzdG9wcGVkQ291bnQgKyAxCgkJCQkJCQlwcmludCgiU3RvcHBlZCBpZGxlIGRpc2Nvbm5lY3QgIi4uc3RvcHBlZENvdW50Li4iIHRpbWUocykuIikKCQkJCQkJCXdhaXQoKSAKCQkJCQkJdW50aWwgQW50aUFmayA9PSBmYWxzZQoJCQkJCWVuZAoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGNvbW1hbmQhIERpZCB5b3UgdHlwZSBpdCB3cm9uZz8iCgkJCQkJd2FybigiR290IGFuIGludmFsaWQgY29tbWFuZCBhdCBydW50aW1lLiBDb21tYW5kIHJlY2VpdmVkIHdhcyAiLi50ZXh0KQoJCQkJZW5kCgoJCQkJd2FpdCgxLjUpCgkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCWxvY2FsIG1hdGNoZXMgPSBmaW5kUGxheWVyKHRleHQpCgoJCQkJaWYgI21hdGNoZXMgPT0gMSB0aGVuCgkJCQkJdGFyZ2V0ID0gbWF0Y2hlc1sxXQoJCQkJCWlmIG1hdGNoZXNbMV0gPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCQkJCQkJCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIG1hdGNoZXNbMV0KCQkJCQllbmQKCQkJCQl3YWl0KDEpCgkJCQllbHNlCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCQl3YXJuKCJUYXJnZXQgbm90IGZvdW5kISBEbyBtdWx0aXBsZSBwbGF5ZXJzIGhhdmUgdGhhdCBzYW1lIHN1YnN0cmluZyBpbiB0aGVpciBuYW1lcz8iKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIFRhcmdldCEgVHlwZSB0aGVpciBuYW1lIGFnYWluLiIKCQkJCQl3YWl0KDEuNSkKCQkJCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Y29ubmVjdChmdW5jdGlvbihwbGF5ZXIpCgkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKFRhcmdldCBsZWZ0ISkiCgkJCWVuZAoJCWVuZCkKCgkJY29tbWFuZEJveC5Gb2N1c0xvc3Q6Q29ubmVjdChmdW5jdGlvbihlbnRlclByZXNzZWQpCgkJCWlmIGVudGVyUHJlc3NlZCB0aGVuCgkJCQlpZiBjb21tYW5kQm94LlRleHQgfj0gIiIgdGhlbgoJCQkJCWlucHV0Qm94KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpCgkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIChtYXRoLmNlaWwoI2J1dHRvbnMgKiAzNykgLyAyKSAtIDcpCgkJZW5kKSkKCgkJLS0gRXhwbG9pdHMKCgkJbG9jYWwgZnVuY3Rpb24gZmYoKQoJCQlpZiBTbWFydEF0dGFjayA9PSB0cnVlIHRoZW4KCQkJCWlmIGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQlyZXR1cm4gdHJ1ZQoJCQkJZWxzZQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVsc2UKCQkJCXJldHVybiBmYWxzZQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gZXhwbG9pdCgpCgkJCS0tIEV4cGxvaXQgZnVuY3Rpb24uIFdoZW4gQyBpcyBwcmVzc2VkIGFuZCBvbmUgb2YgdGhlc2UgYXJlICJ0cnVlIiwgaXQgd2lsbCBmaXJlIGl0LgoJCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIKCQkJbG9jYWwgRENNID0gUlNSLkRvQ2xpZW50TWFnaWMKCQkJbG9jYWwgRE0gPSBSU1IuRG9NYWdpYwoKCQkJaWYgbXZ0Zy5Bb0VzLkNoYW9zLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDaGFvcyIsIlNwYWNlLVRpbWUgUnVwdHVyZSIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJDaGFvcyIsCgkJCQkJWzJdID0gIlNwYWNlLVRpbWUgUnVwdHVyZSIsCgkJCQkJWzNdID0gewoJCQkJCQlbIk9yaWdpbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLDUsMCkKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTdG9ybSIsIkxpZ2h0bmluZyBCb2x0IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlN0b3JtIiwKCQkJCQlbMl0gPSAiTGlnaHRuaW5nIEJvbHQiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJPcmlnaW4iXSA9IG1vdXNlLkhpdC5wICsgVmVjdG9yMy5uZXcoMCwxNSwwKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsIlVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNvbGFyIiwKCQkJCQlbMl0gPSAiVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4iLAoJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24tVmVjdG9yMy5uZXcoMCwyNTAsMCkpCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCJMaWdodCBEaXNjIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlRlY2hub2xvZ3kiLAoJCQkJCVsyXSA9ICJMaWdodCBEaXNjIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiUG9zaXRpb24iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlSU1IuUmVtb3RlRXZlbnQ6RmlyZVNlcnZlcigiTGlnaHREaXNjMiIpCgkJCQl3YWl0KDIpCgkJCQlSU1IuUmVtb3RlRXZlbnQ6RmlyZVNlcnZlcigiTGlnaHREaXNjRGVsZXRlIikKCQkJZW5kCgoJCQlpZiBtdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJFeHBsb3NpdmUgTGVhcCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFeHBsb3Npb24iLAoJCQkJCVsyXSA9ICJFeHBsb3NpdmUgTGVhcCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkxhc3RQb3MiXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvbGFyIiwgIkR5aW5nIFN0YXIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTb2xhciIsICJEeWluZyBTdGFyIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuVGVsZXBvcnRzLkVhcnRoLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEZpc3QiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiRWFydGgiLAoJCQkJCVsyXSA9ICJSb2NrIEZpc3QiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJHcm91bmRlZCJdID0gdHJ1ZQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsIk9yYnMgb2YgRW5saWdodGVubWVudCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJMaWdodCIsCgkJCQkJWzJdID0gIk9yYnMgb2YgRW5saWdodGVubWVudCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkNvb3JkaW5hdGVzIl0gPSB7CgkJCQkJCQlbMV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbNF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbNV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbNl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbN10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbOF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbOV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTBdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzExXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxMl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE0XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxNV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTZdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE3XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxOF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTldID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzIwXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKQoJCQkJCQl9LAoJCQkJCQlbIk9yaWdpbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24KCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5SZWFwZXIuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlJlYXBlciIsICJSZWFwZXIncyBSYWdlIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlJlYXBlciIsCgkJCQkJWzJdID0gIlJlYXBlcidzIFJhZ2UiLAoJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCQkKCgkJCWlmIG12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQ3JlYXRpb24iLCAiQ29udGludW91cyBTdHJpa2VzIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkNyZWF0aW9uIiwKCQkJCQlbMl0gPSAiQ29udGludW91cyBTdHJpa2VzIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ0YiXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJWyJDaGFyZ2UiXSA9ICIyIgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiSHlwZXJhbmciKQoJCQkJRE06SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5EYXJrbmVzcy5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIsIHtsYXN0TW91c2VQb3NpdGlvbiA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pfSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlN0b3JtIiwgIkxpZ2h0bmluZyBEaXNwZXJzaW9uIikKCQkJCURNOkludm9rZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iLCB7R3JvdW5kZWQgPSB0cnVlfSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU29sYXIiLCJEb3VibGUgUmF5IikJCQkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNvbGFyIiwKCQkJCQlbMl0gPSAiRG91YmxlIFJheSIsCgkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApCgkJCQl9CQkJCgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIgoJCQkJfQkJCQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkRpcmVjdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApCgkJCQkJfQoJCQkJfQkJCQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlRlY2hub2xvZ3kiLAoJCQkJCVsyXSA9ICJPcmJpdGFsIFN0cmlrZSIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlRlY2hub2xvZ3kiLAoJCQkJCVsyXSA9ICJPcmJpdGFsIFN0cmlrZSIsCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsNTAwLDApKQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwaXJpdCIsCgkJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Bpcml0IiwKCQkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iLAoJCQkJCVszXSA9IHsKCQkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSkKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGFjZSIsCgkJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiCgkJCQl9CgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGFjZSIsCgkJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiLAoJCQkJCVszXSA9IHsKCQkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSkKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5GaXJlLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuTmF0dXJlLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJOYXR1cmUiLCAiVmluZSBUcmFwIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJOYXR1cmUiLCAiVmluZSBUcmFwIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCWVuZAoKCQkJaWYgU2xpbWVCdWRkaWVzRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50IikKCQkJCURNOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50Iiwge0xhc3RQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkKCQkJZW5kCgoJCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikKCQkJCURNOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMTUsIDApKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5MaWdodC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5MaWdodC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiLCB7T3JpZ2luID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAyNSwgMCksIG9yYlBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTAsIDApfSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuVm9pZC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQoJCQkJRE06SW52b2tlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIsIHtwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDE1MCwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIikKCQkJCURNOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLlRpbWUuVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCB7bHYgPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgY2hhcmdlID0gR1JDaGFyZ2V9KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5UaW1lLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJRE06SW52b2tlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHtyaGl0ID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQsIG5vcm0gPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgcnBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuQXVyb3JhLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlNvdW5kLlZhbHVlIGFuZCBFY2hvZXNQaGFzZSB+PSBuaWwgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIpCgkJCQlpZiBFY2hvZXNBdXRvIHRoZW4KCQkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCQkJZWxzZQoJCQkJCURNOkludm9rZVNlcnZlcigiU291bmQiLCAiRWNob2VzIiwge0VjaG9lc1BoYXNlLCBtb3VzZS5IaXQucH0pCgkJCQllbmQKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiKQoJCQkJRE06SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuRHJhZ29uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIikKCQkJCURNOkludm9rZVNlcnZlcigiRHJhZ29uIiwgIkZvcm1pZGFibGUgUm9hciIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIDE3NX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJRENNOkZpcmVTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siKQoJCQkJRE06SW52b2tlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIiwge0RpcmVjdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgRmxvb3IgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWV9KQoJCQkJd2FpdCgxNy41KQoJCQkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJCWVuZAoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5BbmdlbC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIikKCQkJCURNOkludm9rZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIiwge1Bvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCA1MCwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5TbGltZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIikKCQkJCURNOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMjAsIDApKQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLCBWZWN0b3IzLm5ldygwLCAwLCAwKX0pCgkJCWVuZAoJCWVuZAoKCQktLVtbbG9jYWwgZnVuY3Rpb24gQmVnaW5UcmFja2luZygpCgkJCWxvY2FsIGMgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkN1cnJlbnRDYW1lcmEKCQkJbG9jYWwgaGIgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQKCQkJbG9jYWwgbSA9IHBsYXllcjpHZXRNb3VzZSgpCgkJCWxvY2FsIHAgPSBjOldvcmxkVG9TY3JlZW5Qb2ludChwbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCWhiOmNvbm5lY3QoZnVuY3Rpb24oc3RlcCkKCQkJCW1vdXNlbW92ZWFicyhwLlgsIChwLlkgKyAyNSkpCgkJCWVuZCkKCQllbmRdXSAtLSBGb3IgQWltYm90LCBjdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQKCgkJLS0gVUlTCgoJCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCgkJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UKCQlsb2NhbCBjb25uZWN0aW9uCgoJCWNvbm5lY3Rpb24gPSBVSVMuSW5wdXRCZWdhbjpjb25uZWN0KGZ1bmN0aW9uKGlucHV0LCBncCkKCQkJaWYgbm90IHRlcm1pbmF0ZXVpcyB0aGVuCgkJCQlpZiBub3QgZ3AgdGhlbgoJCQkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcgoKCQkJCQlpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5aZXJvIHRoZW4KCQkJCQkJY29tbWFuZEJveDpDYXB0dXJlRm9jdXMoKQoJCQkJCQl3YWl0KCkKCQkJCQkJaWYgc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpKSA9PSAiMCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveC5UZXh0ID0gc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIDEsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSAtIDEpCgkJCQkJCWVuZAoJCQkJCS0tW1tlbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTCB0aGVuCgkJCQkJCXRvZ2dsZUFpbWJvdCgpXV0KCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQyB0aGVuCgkJCQkJCWV4cGxvaXQoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5VIHRoZW4KCQkJCQkJVFBUb1RhcmdldCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLksgdGhlbgoJCQkJCQlBbnRpQmxpbmRGdW5jKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVCB0aGVuCgkJCQkJCWJlZ2luU3BlZWQoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5YIHRoZW4KCQkJCQkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCB0aGVuCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlAgdGhlbgoJCQkJCQlpZiBTYW5zVGVsZXBvcnRFbmFibGVkIHRoZW4KCQkJCQkJCWlmIGdhbWUuUGxhY2VJZCA9PSA1NjYzOTkyNDQgb3IgZ2FtZS5QbGFjZUlkID09IDI1Njk2MjU4MDkgdGhlbgoJCQkJCQkJCWxvY2FsIFNhbnNQb3MgPSBDRnJhbWUubmV3KC0xNjg1LjkxMDUyLCAyMzAuMDM1MTI2LCAtMTgxLjc5ODI2NCkKCQkJCQkJCQlsb2NhbCBTYW5zQW5nbGVzID0gQ0ZyYW1lLkFuZ2xlcygwLCBtYXRoLnJhZCgyMCksIDApCgoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBTYW5zUG9zICogU2Fuc0FuZ2xlcwoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQkJCQkJd2FpdCgxKQoJCQkJCQkJCWlmIG5vdCBGcmVlemVFbmFibGVkIHRoZW4KCQkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuCgkJCQkJCWJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkcgdGhlbgoJCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5KIHRoZW4KCQkJCQkJaWYgQ2xpY2tUUEVuYWJsZWQgdGhlbgoJCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5GIHRoZW4KCQkJCQkJRnJlZXplRnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2txdW90ZSB0aGVuCgkJCQkJCWlmIG12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCQkJCWxvbmdmbGFzaCgpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5WIHRoZW4KCQkJCQkJdmlldygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkIgdGhlbgoJCQkJCQl0b2dnbGVFU1AoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5NIHRoZW4KCQkJCQkJdG9nZ2xlRVNQR29sZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRCcmFja2V0IHRoZW4KCQkJCQkJaWYgbm90IGNsb3NlZGZvcmV2ZXIgdGhlbgoJCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQoJCQkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoJCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLAoJCQkJCQkJCQkJIk91dCIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiSW4iLAoJCQkJCQkJCQkJIlNpbmUiLAoJCQkJCQkJCQkJLjUsCgkJCQkJCQkJCQl0cnVlCgkJCQkJCQkJCSkKCQkJCQkJCQllbmQKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4KCQkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQoJCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCQkJCQkJIkluIiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbmQKCQkJCQkJd2FpdCgxKQoJCQkJCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQoJCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoYW5rcyBmb3IgdXNpbmcgRUJHdWkhIgoJCQkJCQl3YWl0KDIpCgkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQkJCQl0ZXJtRUJHdWkoKQoJCQkJCQkJY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTY3JpcHRzIGFuZCBGdW5jdGlvbnMgRU5ECgoJCS0tIEVudHJhbmNlIEFuaW1hdGlvbgoKCQl3YWl0KDAuNSkKCgkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLAoJCQkiT3V0IiwKCQkJIlNpbmUiLAoJCQkuNSwKCQkJdHJ1ZQoJCSkKCgkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJIk91dCIsCgkJCSJTaW5lIiwKCQkJLjUsCgkJCXRydWUKCQkpCgoJCS0tIEluZm8KCgkJcHJpbnQoW1sKCgkJXV0pCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldlbGNvbWUgdG8gRUJHdWkhIgoJCXdhaXQoMikKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgllbmQsIGZ1bmN0aW9uKGUpCgkJbG9jYWwgY3Jhc2ggPSB7CgkJCSJJJ20gc28sIHNvLCBzbyBzbyBTTyBzb3JyeSEiLAoJCQkiV2F0ZXIgY29vbGluZz8gSSBwcmVmZXIgbGF2YSBjb29saW5nLiIsCgkJCSJZb3VyIEVCR3VpIHJhbiBpbnRvIGEgcHJvYmxlbSBhbmQgbmVlZHMgdG8gcmVzdGFydC4iLAoJCQkiU1RPUCBDb2RlOiAweERFQURCRUVGIiwKCQkJIklzIHRoaXMgd2hhdCBkZXZlbG9wbWVudCBpcyBsaWtlPyBJIGhhdGUgaXQuIiwKCQkJIlRoZSBVbnN0b3BwYWJsZSBNYXJjaGluZyBvRiB0aU1lIHRoYXQgaXMgc2xPd2x5IGd1aWRpbmcgdXMgYWxsIHRPd2FyZHMgYW4gSW5ldml0YUJsRSBERUFUSC4gVGhhdCBzcGVsbHMgXCJUdW0gRk0uIE93TyBPLCBJIGJlIGRlYXRoLlwiIiwKCQkJIkkgZ3Vlc3MgeW91IGNvdWxkIGNhbGwgbWUgYW4gXCJPb2VyXCIuIiwKCQkJIkVycm9yIE1lc3NhZ2UhIiwKCQkJIldob29wcywgd2UncmUgbG93IG9uIG1lbW9yeSEgVHJ5IHJlbWVtYmVyaW5nIGxhdGVyLiIsCgkJCSJXaG9vcHMsIHdlJ3JlIGxvdyBvbiBtZW1lb3J5LiBUcnkgc2VuZGluZyBQZXBlcyBsYXRlci4iLAoJCQkiT2theSwgd2hvIGtpbGxlZCB0aGUgY29tcHV0ZXIgaGFtc3RlcnM/IiwKCQkJIkNhbid0IGtlZXAgdXAhIElzIHRoZSBzY3JpcHQgb3ZlcmxvYWRlZCwgb3IgaGF2ZSB5b3UgbWVsdGVkIHlvdXIgQ1BVPyIsCgkJCSJPaCwgY29uZ3JhdHVsYXRpb25zLCAiIC4uIHBsYXllci5OYW1lIC4uICIsIHlvdSBicm9rZSBpdCEiLAoJCQkiSSBzd2VhciB0aGF0IHdhcyBpbnRlbnRpb25hbC4iLAoJCQkiSSBwcm9taXNlIGl0IHdvbid0IGhhcHBlbiBhZ2Fpbi4iLAoJCQkiT2theSwgZ29ubmEgYmUgcmVhbCwgTk8gQ0xVRSB3aGF0IHdlbnQgd3JvbmcgdGhlcmUuIiwKCQkJIk9oLCBubywgbmV2ZXJtaW5kLCBJIGtub3cgZXhhY3RseSB3aGF0IHdlbnQgd3JvbmcuIiwKCQkJIkEgcHJpZXN0LCBhIG1pbmlzdGVyLCBhbmQgYSByYWJiaXQgd2FsayBpbnRvIGEgYmxvb2QgYmFuay4iLAoJCQkiVGhlIG51cnNlIG9uIGR1dHkgYXNrcyB0aGUgdGhyZWUgZm9yIHRoZWlyIGJsb29kIHR5cGUgZ3JvdXAgdG8gZ2V0IHRoZW0gc2V0IHVwLiIsCgkJCSJUaGUgcHJpZXN0LCBkaWduaWZpZWQsIHNheXMgXCJJJ20gQUIhXCIuIiwKCQkJIlRoZSBtaW5pc3RlciwgaW5kaWZmZXJlbnQsIHJlcGxpZXMgXCJJIGJlbGlldmUgSSdtIHR5cGUgQS5cIiIsCgkJCSJUaGUgcmFiYml0LCBzaHlseSBhbmQgbmVydm91c2x5LCBsb29rcyBhcm91bmQgdGhlIHJvb20sIGJlZm9yZSBhbm5vdW5jaW5nLCBcIkkgdGhpbmsgSSBtaWdodCBiZSBhIHR5cGUgTy5cIi4iLAoJCQkiSGV5LCByZW1lbWJlciB0aGF0IHRpbWUgeW91ICpkaWRuJ3QqIGJyZWFrIGV2ZXJ5dGhpbmc/IE1lIG5laXRoZXIuIiwKCQkJIk9vcHMsIG15IGJhZC4iLAoJCQkiTWF5YmUgaWYgeW91IGJvdWdodCBHb2xkIHRoaXMgd291bGRuJ3QgaGF2ZSBoYXBwZW5lZC4iLAoJCQkiUXVpY2ssIHRvIHRoZSBEaXNjb3JkISIsCgkJCSJOb3cgd291bGQgYmUgYSBmYW50YXN0aWMgdGltZSB0byBnbyBvcGVuIGEgdGlja2V0Li4uIiwKCQkJIlRoaXMgaXMgd2hhdCBJIGdldD8gSSBkbyBhbGwgb2YgdGhpcyBmb3IgeW91LCBhbmQgeW91IGtpbGwgbWU/IiwKCQkJIldobyB0aGUgaGVsbCBzYWlkIFwib21hZSB3YSBtb3Ugc2hpbmRlcnVcIiBhdCBtZT8hIiwKCQkJIllvdSdyZSBsdWNreSB0aGlzIGlzIFJvYmxveCBvciBJJ2QgaGF2ZSBzb21lIGNob2ljZSB3b3JkcyBmb3IgeW91LiIsCgkJCSJEaWQgdGhhdCByZWFsbHkganVzdCBoYXBwZW4/ISIsCgkJCSJHb2QsIEknbSBzbyBzb3JyeSwgSSBwcm9taXNlIEknbGwgZG8gYmV0dGVyLiIsCgkJCSJUaGlzIGlzIHVzdWFsbHkgdGhlIHBhcnQgd2hlcmUtIG9oLCB0aGVyZSdzIHRoYXQgY3Jhc2ggZHVtcC4iLAoJCQkiVW5mb3J0dW5hdGVseSwgaXQgYXBwZWFycyBJJ3ZlIGRyb3BwZWQgaXQuIiwKCQkJIldlJ3JlIGN1cnJlbnRseSBleHBlcmllbmNpbmcgdGVjaG5pY2FsIGRpZmZpY3VsdGllcy4gUGxlYXNlIHN0YW5kIGJ5LiIsCgkJCSJUb25pZ2h0LCB3ZSBhcmUgdW5hYmxlIHRvIGJyaW5nIHlvdSBCaW5nbyBOaWdodCBMaXZlLiIsCgkJCSJZYWtub3csIGlmIHRoaXMgd2VyZSBhIEJCQyB0ZWxldmlzaW9uIGJyb2FkY2FzdCwgdGhpcyBpc3N1ZSBtaWdodCBzZWVtIG5vcm1hbC4iLAoJCQkiSXQncyBqdXN0IG9uZSBvZiB0aG9zZSBkYXlzLCBpc24ndCBpdD8iLAoJCQkiSnVzdCB3aGFjayB0aGUgc2lkZSBhIGNvdXBsZSB0aW1lcywgdGhhdCBzaG91bGQgZG8gaXQuIiwKCQkJIk9uIHRoZSBmaXJzdCBkYXkgb2YgQ2hyaXN0bWFzLCBteSB0cnVlIGxvdmUgZ2F2ZSB0byBtZS4uLiIsCgkJfQoKCQlwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKCQlwcmludChjcmFzaFttYXRoLnJhbmRvbSgxLCNjcmFzaCldKQoJCXByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQoJCXdhcm4oIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggRUJHdWkhIikKCQlwcmludChlKQoJCXByaW50KCJUaGlzIGNyYXNoIHJlcG9ydCB3YXMgZ2VuZXJhdGVkIG9uICIgLi4gb3MuZGF0ZSgnJXggJVgnLG9zLnRpbWUoKSkgLi4gIiBhbmQgd2lsbCBiZSBzYXZlZCBpbiB5b3VyIGV4ZWN1dG9yJ3MgV29ya3NwYWNlIGZvbGRlci4iKQoKCQlsb2NhbCB1ZiA9IG9zLmRhdGUoIiV4XyVYIixvcy50aW1lKCkpCgkJbG9jYWwgZGYgPSBzdHJpbmcuZ3N1Yih1ZiwiLyIsIi0iKQoJCWxvY2FsIGR0ZiA9IHN0cmluZy5nc3ViKGRmLCI6IiwiLSIpCgkJbG9jYWwgZXhlYyA9IGlkZW50aWZ5ZXhlY3V0b3IoKQoKCQlpZiBub3QgaXNmb2xkZXIoIkVCR3VpIikgdGhlbiBtYWtlZm9sZGVyKCJFQkd1aSIpIGVuZAoJCXdyaXRlZmlsZSgiRUJHdWlcXENyYXNoRHVtcC0iLi5kdGYuLiIudHh0IiwKCgkJIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iIC4uIGNyYXNoW21hdGgucmFuZG9tKDEsI2NyYXNoKV0gLi4gIlxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuIiAuLgoKCQlbW0VCR3VpIHN0b3BwZWQgZXhlY3V0aW5nIGJlY2F1c2UgaXQgZW5jb3VudGVyZWQgYSBwcm9ibGVtIGl0IGRpZG4ndCBrbm93IGhvdyB0byBoYW5kbGUuCgkJClBsZWFzZSByZXBvcnQgdGhpcyBjcmFzaCBpbiB0aGUgRGlzY29yZCBieSBnb2luZyB0byAjcm9ib3RzLXVuaXRlIGFuZCBvcGVuaW5nIGEgdGlja2V0Ll1dIC4uCgoJCSItLSBCZWdpbiBFcnJvciBSZXBvcnQgLS1cbihHZW5lcmF0ZWQgb24gIiAuLiB1ZiAuLiAiKVxuXG4iIC4uCgoJCSJFeGVjdXRvcjogIiAuLiB0b3N0cmluZyhleGVjKSAuLgoJCSJcbkNsaWVudCBJRDogIiAuLiB0b3N0cmluZyhjbGllbnRpZCkgLi4KCQkiXG5QbGFjZUlkOiAiIC4uIHRvc3RyaW5nKGdhbWUuUGxhY2VJZCkgLi4KCQkiXG5TbWFydEF0dGFjayBFbmFibGVkPzogIiAuLiB0b3N0cmluZyhTbWFydEF0dGFjaykgLi4KCQkiXG5JcyBHb2xkPzogIiAuLiB0b3N0cmluZyhpc0dvbGQpIC4uIAoJCSJcbklzIE1hc3Rlcj86ICIgLi4gdG9zdHJpbmcoaXNNYXN0ZXIpIC4uCgoJCSJcblxuRXJyb3I6ICIgLi4gZSAuLgoJCSJcbkF0OiAiIC4uIGRlYnVnLnRyYWNlYmFjaygpIC4uCgoJCSJcblxuLS0gRW5kIEVycm9yIFJlcG9ydCAtLSIpCgllbmQpCmVuZA=="