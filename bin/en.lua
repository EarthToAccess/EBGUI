encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbg0KCWdhbWUuTG9hZGVkOldhaXQoKQ0KZW5kDQoNCmlmIChnYW1lLkNvcmVHdWk6RmluZEZpcnN0Q2hpbGQoImViZ3VpIikpIHRoZW4NCglnYW1lLkNvcmVHdWkuZWJndWk6RGVzdHJveSgpDQplbmQNCg0KbG9jYWwgYmxvY2tsaXN0ID0gew0KfQ0KDQpsb2NhbCBtYXN0ZXJsaXN0ID0gew0KCTMyNTczMzM0DQp9DQoNCmxvY2FsIGdvbGRsaXN0ID0gew0KCSJnb2xkX0VsZW1lbnRhbEZpcnN0XzM5NzY3OCINCn0NCg0KbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyDQpsb2NhbCBJRCA9IHBsYXllci5Vc2VySWQNCmxvY2FsIGlzQmxvY2tlZCA9IGZhbHNlDQpsb2NhbCBpc01hc3RlciA9IGZhbHNlDQpsb2NhbCBpc0dvbGQgPSBmYWxzZQ0KDQpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQ0KICAgICAgICBicmVhaw0KICAgIGVuZA0KZW5kDQoNCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlDQogICAgICAgIGJyZWFrDQogICAgZW5kDQplbmQNCg0KaWYgaXNCbG9ja2VkIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICBUaGlzIGFjY291bnQgaGFzIGJlZW4gYmxvY2tlZC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2VpZiBub3QgRUJHdWlLZXkgYW5kIG5vdCBpc0Jsb2NrZWQgYW5kIG5vdCBpc01hc3RlciB0aGVuDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpDQplbHNlaWYgRUJHdWlLZXkgfj0gInNjcmlwdF9FbGVtZW50YWwwODIwMjJfMjIwNTAzIiBhbmQgbm90IGlzQmxvY2tlZCBhbmQgbm90IGlzTWFzdGVyIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2UNCglsb2NhbCBkdW1iUXVvdGVzID0gew0KCQkiSmVleiwgd2hlbidkIGl0IGdldCBzbyBob3QgaW4gaGVyZT8iLA0KCQkiSXMgaXQganVzdCBtZSBvciBpcyB0aGF0ICp0b28qIGJsdWU/IiwNCgkJIkxpa2UgdGFraW5nIGNhbmR5IGZyb20gYSBiYWJ5LiIsDQoJCSJEZWV6IG51dHMgYXJlIHRvbyBzcXVhcmUhIiwNCgkJIkFsc28gdHJ5IE1pbmVjcmFmdCEiLA0KCQkiQWxzbyB0cnkgVGVycmFyaWEhIiwNCgkJIk1laCwgSSBsaWtlZCBSaXNrIG9mIFJhaW4gMiBiZXR0ZXIuIiwNCgkJIllvdSBuZWVkIGEgZmFpcmx5IGhpZ2ggSVEgdG8gdW5kZXJzdGFuZCBFQkd1aS4iLA0KCQkiSmFrZSwgZnJvbSBTdGF0ZSBGYXJtPyEiLA0KCQkiV2hhdCB3b3VsZCAqeW91KiBkbyBmb3IgYSBLbG9uZGlrZSBiYXI/IiwNCgkJIk5vdyB3aXRoIDEwMCUgbW9yZSBHb2xkISIsDQoJCSJNYWRlIGluIEx1YSEiLA0KCQkiSUYgJUVSUk9STEVWRUwlIEVRVSAxIEdPVE86RU9GIiwNCgkJImJydWggbmVyZiBzb2xhciBhbHJlYWR5IiwNCgkJIkJlY2F1c2UgdGhlIGRldnMgd29uJ3QgZG8gaXQuIiwNCgkJIlBldGl0aW9uIFlPVVIgbG9jYWwgZGV2ZWxvcGVyIGZvciBtb3JlIHVwZGF0ZXMhIiwNCgkJIndoeSBhcmUgeW91IGJ1eWluZyBjbG90aGVzIGF0IHRoZSBzb3VwIHN0b3JlIiwNCgkJIkkganVzdCB3YW5uYSBiZSBhIG5vcm1hbCBHVUkgd2l0aCBub3JtYWwga25lZXMuIg0KCX0NCg0KICAgIHdhcm4oW1tfX19fX18gX19fX18gX19fX18gICAgICAgXyANCiAgICAgICAgICAgIHwgIF9fX3wgX19fIFwgIF9fIFwgICAgIChfKQ0KICAgICAgICAgICAgfCB8X18gfCB8Xy8gLyB8ICBcL18gICBfIF8gDQogICAgICAgICAgICB8ICBfX3x8IF9fXyBcIHwgX198IHwgfCB8IHwNCiAgICAgICAgICAgIHwgfF9fX3wgfF8vIC8gfF9cIFwgfF98IHwgfA0KICAgICAgICAgICAgXF9fX18vXF9fX18vIFxfX19fL1xfXyxffF98IHYyLjVdXSkNCglwcmludCgiICIpDQoJcHJpbnQoZHVtYlF1b3Rlc1ttYXRoLnJhbmRvbSgxLDE4KV0pDQoJcHJpbnQoIiAiKQ0KCXdhcm4oIldlbGNvbWUgdG8gRUJHdWksICIgLi4gcGxheWVyLk5hbWUgLi4gIiEiKQ0KCXdhcm4oIllvdSdyZSBvbiB0aGUgU3RhYmxlIGJyYW5jaCBvZiBFQkd1aSIpDQoJd2FybigiUXVlc3Rpb25zIG9yIGNvbmNlcm5zPyBMZXQgdXMga25vdyBpbiB0aGUgRGlzY29yZCwiKQ0KCXdhcm4oIm9yIGVtYWlsIEVhcnRoIGhpbXNlbGYgYXQgZWFydGh0b2FjY2Vzc0BnbWFpbC5jb20hIikNCgl3YWl0KDAuNSkNCgkNCglpZiBpc01hc3RlciB0aGVuDQoJCXdhcm4oW1sgICANCgkJCUxvYWRlZCBpbiB1c2luZyB0aGUgTWFzdGVyIExpc3QhIE92ZXJyaWRpbmcgYWNjZXNzIGdpdmVuLg0KCQkJICBdXSkNCgllbmQNCg0KCWZvciBpLHYgaW4gcGFpcnMoZ29sZGxpc3QpIGRvDQoJCWlmIG5vdCBFQkd1aUdvbGQgdGhlbiBlbHNlaWYgRUJHdWlHb2xkID09IHYgdGhlbg0KCQkJaXNHb2xkID0gdHJ1ZQ0KCQkJcHJpbnQoW1sNCgkJCQlfX19fICAgICAgICAgICAgIF9fXyAgICAgIF9fXyANCgkJCSAgIDZNTU1NYi8gICAgICAgICAgIGBNTSAgICAgIGBNTSANCgkJCSAgOFAgICAgWU0gICAgICAgICAgICBNTSAgICAgICBNTSANCgkJCSA2TSAgICAgIFkgICBfX19fXyAgICBNTSAgIF9fX19NTSANCgkJCSBNTSAgICAgICAgIDZNTU1NTWIgICBNTSAgNk1NTU1NTSANCgkJCSBNTSAgICAgICAgNk0nICAgYE1iICBNTSA2TScgIGBNTSANCgkJCSBNTSAgICAgX19fTU0gICAgIE1NICBNTSBNTSAgICBNTSANCgkJCSBNTSAgICAgYE0nTU0gICAgIE1NICBNTSBNTSAgICBNTSANCgkJCSBZTSAgICAgIE0gTU0gICAgIE1NICBNTSBNTSAgICBNTSANCgkJCSAgOGIgICAgZDkgWU0uICAgLE05ICBNTSBZTS4gICxNTSANCgkJCSAgIFlNTU1NOSAgIFlNTU1NTTkgIF9NTV8gWU1NTU1NTV9dXSkNCgkJCXdhcm4oIlRoYW5rIHlvdSBmb3IgYmVpbmcgYSBHT0xERU4gbWVtYmVyISIpDQoJCQl3YXJuKCdFbmpveSB0aGUgdmFyaW91cyAib3ZlcnBvd2VyZWQiIHNjcmlwdHMgd2UgaGF2ZSBpbiBzdG9yZSEnKQ0KCQkJYnJlYWsNCgkJZWxzZSBlbmQNCgllbmQNCg0KCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zDQoNCglsb2NhbCBlYmd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikNCgllYmd1aS5OYW1lID0gImViZ3VpIg0KCWViZ3VpLlBhcmVudCA9IGdhbWU6V2FpdEZvckNoaWxkKCJDb3JlR3VpIikNCg0KCWdhbWUuQ29yZUd1aS5DaGlsZFJlbW92ZWQ6Y29ubmVjdChmdW5jdGlvbihjaGlsZCkNCgkJaWYgY2hpbGQuTmFtZSA9PSAiZWJndWkiIHRoZW4NCgkJCWNsb3NlZGZvcmV2ZXIgPSB0cnVlDQoJCQlidXR0b25zb3BlbmVkID0gZmFsc2UNCgkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UNCgkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUNCgkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUNCgkJCXRlcm1pbmF0ZXVpcyA9IHRydWUNCgkJCVVJUyA9IG5pbA0KCQkJYnJlYWthYmxlID0gdHJ1ZQ0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gbmlsDQoJCQlWaW5lVHJhcEVuYWJsZWQgPSBuaWwNCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBuaWwNCgkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBuaWwNCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBuaWwNCgkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gbmlsDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IG5pbA0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IG5pbA0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IG5pbA0KCQkJVGhlV29ybGRFbmFibGVkID0gbmlsDQoJCQlQb2xhcmlzRW5hYmxlZCA9IG5pbA0KCQkJTGFnU2VydmVyRW5hYmxlZCA9IG5pbA0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IG5pbA0KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBuaWwNCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IG5pbA0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gbmlsDQoJCQlTZXdlckJ1cnN0RW5hYmxlZCA9IG5pbA0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBuaWwNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IG5pbA0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gbmlsDQoJCQlBbnRpQmxpbmRFbmFibGVkID0gbmlsDQoJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbA0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IG5pbA0KCQkJSG9sb2JlYW1FbmFibGVkID0gbmlsDQoJCQlTZXRTcGVlZCA9IG5pbA0KCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBuaWwNCgkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IG5pbA0KCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsDQoJCQlDbGlja1RQRW5hYmxlZCA9IG5pbA0KCQkJRnJlZXplRW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0RW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0UG93ZXIgPSBuaWwNCgkJCXZpZXdpbmcgPSBuaWwNCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJRVNQRW5hYmxlZCA9IG5pbA0KCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbA0KCQkJRlBTRHJvcHBpbmcgPSBuaWwNCgkJCXNhbnNLaWxsZWQgPSAid2lwIg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IG5pbA0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IG5pbA0KCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gbmlsDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gbmlsDQoJCQlEb3VibGVSYXlFbmFibGVkID0gbmlsDQoJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IG5pbA0KCQkJRGFya0FvZUVuYWJsZWQgPSBuaWwNCgkJCUh5cGVyYW5nRW5hYmxlZCA9IG5pbA0KCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IG5pbA0KCQkJUmVhcGVyVWx0RW5hYmxlZCA9IG5pbA0KCQllbmQNCgllbmQpDQoNCglsb2NhbCBtb3VzZSA9IHBsYXllcjpHZXRNb3VzZSgpDQoNCglsb2NhbCBib3JkZXJzID0ge30NCg0KCWxvY2FsIGJ1dHRvbnNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJYnV0dG9uc21haW4uTmFtZSA9ICJidXR0b25zbWFpbiINCglidXR0b25zbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKQ0KCWJ1dHRvbnNtYWluLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAwLjIyNSwgMCkNCgl0YWJsZS5pbnNlcnQoYm9yZGVycywgYnV0dG9uc21haW4pDQoNCglidXR0b25zZGVib3VuY2UgPSBmYWxzZQ0KCWJ1dHRvbnNvcGVuZWQgPSB0cnVlDQoNCg0KCS0taWYgKGluaXRpYXRpb25Nb2RlID09ICJNb2Rlcm4iKSB0aGVuDQoJbG9jYWwgY29tbWFuZHNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJY29tbWFuZHNtYWluLk5hbWUgPSAiY29tbWFuZHNtYWluIg0KCWNvbW1hbmRzbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKQ0KCWNvbW1hbmRzbWFpbi5TaXplID0gVURpbTIubmV3KDAuMywgMCwgMC4xNzUsIDApDQoJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGNvbW1hbmRzbWFpbikNCgktLWVuZA0KDQoJY29tbWFuZGRlYm91bmNlID0gZmFsc2UNCgljb21tYW5kc29wZW5lZCA9IHRydWUNCg0KCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQ0KDQoJbG9jYWwgZnJhbWVzID0ge30NCg0KCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGJ1dHRvbnMuDQoJbG9jYWwgYnV0dG9uc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJYnV0dG9uc2ZyYW1lLk5hbWUgPSAiYnV0dG9uc2ZyYW1lIg0KCWJ1dHRvbnNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCglidXR0b25zZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCglidXR0b25zZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQ0KCXRhYmxlLmluc2VydChmcmFtZXMsIGJ1dHRvbnNmcmFtZSkNCglidXR0b25zZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGNvbW1hbmQgYm94Lg0KCWxvY2FsIGNvbW1hbmRzZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCgljb21tYW5kc2ZyYW1lLk5hbWUgPSAiY29tbWFuZHNmcmFtZSINCgljb21tYW5kc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZHNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpDQoJY29tbWFuZHNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRzZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMg0KCWNvbW1hbmRzZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJY29tbWFuZHNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkNCgl0YWJsZS5pbnNlcnQoZnJhbWVzLCBjb21tYW5kc2ZyYW1lKQ0KCWNvbW1hbmRzZnJhbWUuUGFyZW50ID0gY29tbWFuZHNtYWluDQoNCgktLSBDb21tYW5kIGJveC4gVGhpcyBpcyB3aGVyZSB1c2VycyB0eXBlIGluIGNvbW1hbmRzIGFuZCB0YXJnZXRzLg0KCWxvY2FsIGNvbW1hbmRCb3ggPSBJbnN0YW5jZS5uZXcoIlRleHRCb3giKQ0KCWNvbW1hbmRCb3guTmFtZSA9ICJjb21tYW5kQm94Ig0KCWNvbW1hbmRCb3guQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCgljb21tYW5kQm94LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNSwgNDAsIDQwKQ0KCWNvbW1hbmRCb3guQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgljb21tYW5kQm94LkJvcmRlclNpemVQaXhlbCA9IDINCgljb21tYW5kQm94LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC4zLCAwKQ0KCWNvbW1hbmRCb3guU2l6ZSA9IFVEaW0yLm5ldygwLjg1LCAwLCAwLjIwLCAwKQ0KCWNvbW1hbmRCb3guRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCWNvbW1hbmRCb3guVGV4dCA9ICIiDQoJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCgljb21tYW5kQm94LlRleHRTY2FsZWQgPSB0cnVlDQoJY29tbWFuZEJveC5UZXh0U2l6ZSA9IDE0LjAwMA0KCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlDQoJY29tbWFuZEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UNCgljb21tYW5kQm94LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCWxvY2FsIGxhYmVscyA9IHt9DQoNCgktLSBUaGUgb3V0cHV0IGZvciB0aGUgY29tbWFuZCBib3gsIEFLQSB0aGUgd2hpdGUgdGV4dCBiZWxvdyB0aGF0IGxpc3RzIHlvdXIgdGFyZ2V0Lg0KCWxvY2FsIGNvbW1hbmRCb3hPdXRwdXQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJY29tbWFuZEJveE91dHB1dC5OYW1lID0gImNvbW1hbmRCb3hPdXRwdXQiDQoJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCgljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwDQoJY29tbWFuZEJveE91dHB1dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNiwgMCkNCgljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApDQoJY29tbWFuZEJveE91dHB1dC5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJY29tbWFuZEJveE91dHB1dC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNpemUgPSAxNC4wMDANCgljb21tYW5kQm94T3V0cHV0LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIGNvbW1hbmRCb3hPdXRwdXQpDQoJY29tbWFuZEJveE91dHB1dC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCgktLSBUaGUgaW5mb3JtYXRpb24gYWJvdmUgdGhlIGJ1dHRvbnMsIGUuZy4gdXNlcidzIG5hbWUsIGNoYW5uZWwNCglsb2NhbCBEZXRhaWxzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIg0KCURldGFpbHMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlscy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlscy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjAxNDE0MTQxNDMsIDApDQoJRGV0YWlscy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJaWYgbm90IGlzR29sZCB0aGVuDQoJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSB8IFN0YWJsZSINCgllbHNlDQoJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSBHb2xkIHwgU3RhYmxlIg0KCWVuZA0KCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJRGV0YWlscy5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHMuWkluZGV4ID0gNQ0KCURldGFpbHMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMpDQoJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBjb21tYW5kIGJveC4NCglsb2NhbCBEZXRhaWxzMiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzMi5OYW1lID0gIkRldGFpbHMyIg0KCURldGFpbHMyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJRGV0YWlsczIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlsczIuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzMi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuOSwgMCkNCglEZXRhaWxzMi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlsczIuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHMyLlRleHQgPSAiUHJlc3MgXSB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iDQoJRGV0YWlsczIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJRGV0YWlsczIuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzMi5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHMyLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMyKQ0KCURldGFpbHMyLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBidXR0b25zLg0KCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMzLk5hbWUgPSAiRGV0YWlsczMiDQoJRGV0YWlsczMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlsczMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzMy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjg3NSwgMCkNCglEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlsczMuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHMzLlRleHQgPSAiUHJlc3MgWyB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iDQoJRGV0YWlsczMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJRGV0YWlsczMuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzMy5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHMzLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMzKQ0KCURldGFpbHMzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQ0KDQoJLS0gU2NyaXB0IHRlcm1pbmF0aW9uIGluc3RydWN0aW9ucy4NCglsb2NhbCBEZXRhaWxzNCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0Ig0KCURldGFpbHM0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHM0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMS4xLCAwKQ0KCURldGFpbHM0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNzUsIDApDQoJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHM0LlRleHQgPSAiSG9sZCB0aGUgTGVmdCBhbmQgUmlnaHQgYXJyb3cga2V5cywgdGhlbiBwcmVzcyBhbnkga2V5IHRvIHF1aXQgRUJHdWkuIg0KCURldGFpbHM0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHM0LlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczQuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzNC5UZXh0V3JhcHBlZCA9IHRydWUNCglEZXRhaWxzNC5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCS0tIFRoZSB2ZXJzaW9uIG51bWJlciBhYm92ZSB0aGUgY29tbWFuZCBib3guDQoJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglWZXJzaW9uLk5hbWUgPSAiVmVyc2lvbiINCglWZXJzaW9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJVmVyc2lvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCVZlcnNpb24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wNSwgMCkNCglWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQ0KCVZlcnNpb24uRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uIHYyLjUiDQoJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlDQoJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMA0KCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikNCglWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCS0tIFRoZSBiYWNrZ3JvdW5kIGZvciB0aGUgVUkuDQoJbG9jYWwgbWFpbmZyYW1lID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIpDQoJbWFpbmZyYW1lLk5hbWUgPSAibWFpbmZyYW1lIg0KCW1haW5mcmFtZS5BY3RpdmUgPSB0cnVlDQoJbWFpbmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0OSwgODMsIDg5KQ0KCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApDQoJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYNCgltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCS0tIEdyaWQgbGF5b3V0IGZvciB0aGUgYnV0dG9ucy4NCglsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpDQoJVUlHcmlkTGF5b3V0LkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbA0KCVVJR3JpZExheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcg0KCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQ0KCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCAzMCkNCglVSUdyaWRMYXlvdXQuU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXINCglVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lDQoNCglsb2NhbCBidXR0b25zID0ge30NCg0KCS0tLS0tLSBCdXR0b25zIGZvciBoYWNrcy4NCg0KCS0tLS0gQW9Fcw0KCS0tIEluc3RhbnQgQmxhemUgQ29sdW1uDQoNCglsb2NhbCBCbGF6ZUNvbHVtbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQmxhemVDb2x1bW4uTmFtZSA9ICJCbGF6ZUNvbHVtbiINCglCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBCbGF6ZUNvbHVtbikNCg0KCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlDQoNCglCbGF6ZUNvbHVtbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gdHJ1ZQ0KCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT24pIg0KCQllbHNlDQoJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQ0KCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW1wbGlmaWVkIEdlbmVzaXMgUmF5DQoNCglsb2NhbCBHZW5lc2lzUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglHZW5lc2lzUmF5Lk5hbWUgPSAiR2VuZXNpc1JheSINCglHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHZW5lc2lzUmF5KQ0KDQoJbG9jYWwgR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIEdSQ2hhcmdlID0gMSAtLSAxMDAwMDAwDQoNCglHZW5lc2lzUmF5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEdlbmVzaXNSYXlFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUdlbmVzaXNSYXlFbmFibGVkID0gdHJ1ZQ0KCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT24pIg0KCQllbHNlDQoJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IGZhbHNlDQoJCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBDcmVhdGlvbiBIb2xkIEhhY2sNCg0KCWxvY2FsIENoYWluSG9sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ2hhaW5Ib2xkLk5hbWUgPSAiQ2hhaW5Ib2xkIg0KCUNoYWluSG9sZC5UZXh0ID0gIihHKSBJbnN0YW50IENoYWluIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENoYWluSG9sZCkNCg0KCWxvY2FsIENyZWF0aW9uSG9sZEVuYWJsZWQgPSBmYWxzZQ0KDQoJQ2hhaW5Ib2xkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuDQoJCQlpZiBub3QgQ3JlYXRpb25Ib2xkRW5hYmxlZCB0aGVuDQoJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IHRydWUNCgkJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPbikiDQoJCQllbHNlDQoJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IGZhbHNlDQoJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlDaGFpbkhvbGQuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiDQoJCQl3YWl0KDEpDQoJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFZpbmUgVHJhcA0KDQoJbG9jYWwgVmluZVRyYXAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpbmVUcmFwLk5hbWUgPSAiVmluZVRyYXAiDQoJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmluZVRyYXApDQoNCglWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQ0KDQoJVmluZVRyYXAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVmluZVRyYXBFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpbmVUcmFwRW5hYmxlZCA9IHRydWUNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9uKSINCgkJZWxzZQ0KCQkJVmluZVRyYXBFbmFibGVkID0gZmFsc2UNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sNCg0KCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIg0KCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbGx1c2l2ZUF0YWtlKQ0KDQoJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBmYWxzZQ0KDQoJSWxsdXNpdmVBdGFrZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IHRydWUNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gZmFsc2UNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IE11cmt5IE1pc3NpbGVzDQoNCglsb2NhbCBEYXJrQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglEYXJrQW9lLk5hbWUgPSAiRGFya0FvZSINCglEYXJrQW9lLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkNCg0KCWxvY2FsIERhcmtBb2VFbmFibGVkID0gZmFsc2UNCg0KCURhcmtBb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IERhcmtBb2VFbmFibGVkIHRoZW4NCgkJCURhcmtBb2VFbmFibGVkID0gdHJ1ZQ0KCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9uKSINCgkJZWxzZQ0KCQkJRGFya0FvZUVuYWJsZWQgPSBmYWxzZQ0KCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCgkNCgktLSBJbnN0YW50IEFpciBEaXNwZXJzaW9uDQoNCglsb2NhbCBTdG9ybUFvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3Rvcm1Bb2UuTmFtZSA9ICJTdG9ybUFvZSINCglTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3Rvcm1Bb2UpDQoNCglsb2NhbCBEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlDQoNCglTdG9ybUFvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgbm90IERpc3BlcnNpb25FbmFibGVkIHRoZW4NCgkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IHRydWUNCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT24pIg0KCQkJZWxzZQ0KCQkJCURpc3BlcnNpb25FbmFibGVkID0gZmFsc2UNCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSINCgkJCWVuZAkNCgkJZWxzZQ0KCQkJU3Rvcm1Bb2UuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiDQoJCQl3YWl0KDEpDQoJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sNCg0KCWxvY2FsIFNwbGl0dGluZ1NsaW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTcGxpdHRpbmdTbGltZS5OYW1lID0gIlNwbGl0dGluZ1NsaW1lIg0KCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwbGl0dGluZ1NsaW1lKQ0KDQoJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UNCg0KCVNwbGl0dGluZ1NsaW1lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSB0cnVlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBbWF1cm90aWMgTGFtYmVudCBIYWNrDQoNCglsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCINCglBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkNCg0KCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gZmFsc2UNCg0KCUFtYXVyb3RpY0xhbWJlbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSB0cnVlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT24pIg0KCQllbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uDQoNCglsb2NhbCBQbGFzbWFJbXBsb3Npb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVBsYXNtYUltcGxvc2lvbi5OYW1lID0gIlBsYXNtYUltcGxvc2lvbiINCglQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBsYXNtYUltcGxvc2lvbikNCg0KCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBmYWxzZQ0KDQoJUGxhc21hSW1wbG9zaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IHRydWUNCgkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT24pIg0KCQllbHNlDQoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UNCgkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sNCg0KCWxvY2FsIEZvcm1pZGFibGVSb2FyID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglGb3JtaWRhYmxlUm9hci5OYW1lID0gIkZvcm1pZGFibGVSb2FyIg0KCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZvcm1pZGFibGVSb2FyKQ0KDQoJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UNCg0KCUZvcm1pZGFibGVSb2FyLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSB0cnVlDQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlDQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFNrZWxldG9uIEdyYWINCg0KCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2tlbGV0b25HcmFiLk5hbWUgPSAiU2tlbGV0b25HcmFiIg0KCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTa2VsZXRvbkdyYWIpDQoNCglTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UNCg0KCVNrZWxldG9uR3JhYi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSB0cnVlDQoJCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9uKSBbQUlNRURdIg0KCQllbHNlDQoJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UNCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIg0KCQllbmQNCgllbmQpDQoNCgktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGF0aW9uYWxGaWVsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJR3Jhdml0YXRpb25hbEZpZWxkLk5hbWUgPSAiR3Jhdml0YXRpb25hbEZpZWxkIg0KCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQ0KDQoJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IGZhbHNlDQoNCglHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gdHJ1ZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFJvY2sgQXJtb3INCg0KCWxvY2FsIFJvY2tBcm1vciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIg0KCVJvY2tBcm1vci5UZXh0ID0gIkluc3RhbnQgUm9jayBBcm1vciINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0FybW9yKQ0KDQoJUm9ja0FybW9yLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIHBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbg0KCQkJcGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkNCgkJZW5kDQoJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQ0KCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQ0KCWVuZCkNCg0KCS0tLS0gUGxheWVyIG1vZGlmaWNhdGlvbnMNCgktLSBTbGltZSBCdWRkaWVzIEhhY2sNCg0KCWxvY2FsIFNsaW1lQnVkZGllcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2xpbWVCdWRkaWVzLk5hbWUgPSAiU2xpbWVCdWRkaWVzIg0KCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNsaW1lQnVkZGllcykNCg0KCWxvY2FsIFNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQ0KDQoJU2xpbWVCdWRkaWVzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuDQoJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gdHJ1ZQ0KCQkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9uKSINCgkJCWVsc2UNCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UNCgkJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMSkNCgkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluZXJ0aWEgR3Jhdml0eQ0KDQoJbG9jYWwgSW5lcnRpYUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUluZXJ0aWFHcmF2aXR5Lk5hbWUgPSAiSW5lcnRpYUdyYXZpdHkiDQoJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQ0KDQoJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCUluZXJ0aWFHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT24pIg0KCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQ0KCQkJQm9keUZvcmNlLlBhcmVudCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydA0KCQkJQm9keUZvcmNlLk5hbWUgPSAiSW5lcnRpYUdyYXZpdHlGb3JjZSINCgkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApDQoJCWVsc2UNCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT2ZmKSINCgkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSW5lcnRpYUdyYXZpdHlGb3JjZSIpIHRoZW4NCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuSW5lcnRpYUdyYXZpdHlGb3JjZTpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBTcGVjdHJhbCBFbWJvZGltZW50DQoNCglsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNwZWN0cmFsRW1ib2RpbWVudC5OYW1lID0gIlNwZWN0cmFsRW1ib2RpbWVudCINCglTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVjdHJhbEVtYm9kaW1lbnQpDQoNCglTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UNCg0KCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSB0cnVlDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9uKSBbWF0iDQoJCWVsc2UNCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQ0KCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW50aS1CbGluZA0KDQoJbG9jYWwgQW50aUJsaW5kID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbnRpQmxpbmQuTmFtZSA9ICJBbnRpQmxpbmQiDQoJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlCbGluZCkNCg0KCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgbm9ybWFsRm9nQ29sb3IgPSBnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yDQoJbG9jYWwgbm9ybWFsRm9nRW5kID0gZ2FtZS5MaWdodGluZy5Gb2dFbmQNCglsb2NhbCBub3JtYWxCcmlnaHRuZXNzID0gZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzDQoJbG9jYWwgbm9ybWFsQ2xvY2tUaW1lID0gZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUNCg0KCWxvY2FsIGZ1bmN0aW9uIEFudGlCbGluZEZ1bmMoKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPbikgW0tdIg0KCQkJd2hpbGUgQW50aUJsaW5kRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nQ29sb3IgPSBub3JtYWxGb2dDb2xvcg0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nRW5kID0gbm9ybWFsRm9nRW5kDQoJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcw0KCQkJCWdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lID0gbm9ybWFsQ2xvY2tUaW1lDQoJCQllbmQNCgkJZWxzZQ0KCQkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSINCgkJZW5kDQoJZW5kDQoNCglBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpDQoNCglwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkIHRoZW4NCgkJCWlmIGQuTmFtZSA9PSAiU2NyZWVuR3VpIiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJcGxheWVyLlBsYXllckd1aS5TY3JlZW5HdWk6RGVzdHJveSgpDQoJCQllbHNlaWYgZC5OYW1lID09ICJEaXN0b3J0IiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJcGxheWVyLlBsYXllckd1aS5EaXN0b3J0OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNwZWVkIGhhY2sNCg0KCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIg0KCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spDQoNCglTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UNCglTZXRTcGVlZCA9IDY0DQoNCglmdW5jdGlvbiBtb2RpZnlTcGVlZCgpDQoJCXBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikuQ2hhbmdlZDpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJCWlmIFNwZWVkaGFja0VuYWJsZWQgYW5kIFNldFNwZWVkIH49IG5pbCB0aGVuDQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJZWxzZQ0KCQkJCXJldHVybg0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQ0KCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPbikgW1RdIg0KCQkJbW9kaWZ5U3BlZWQoKQ0KCQkJd2FpdCgpDQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQltb2RpZnlTcGVlZCgpDQoJCQkJCXdhaXQoKQ0KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSINCgkJZW5kDQoJZW5kDQoNCglTcGVlZGhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luU3BlZWQpDQoNCgktLS0tIEJ1bGxldHMNCgktLSBIeXBlcmFuZyBIYWNrDQoNCglsb2NhbCBUZWNoUmFuZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVGVjaFJhbmcuTmFtZSA9ICJUZWNoUmFuZyINCglUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQ0KDQoJbG9jYWwgSHlwZXJhbmdFbmFibGVkID0gZmFsc2UNCg0KCVRlY2hSYW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIG5vdCBIeXBlcmFuZ0VuYWJsZWQgdGhlbg0KCQkJSHlwZXJhbmdFbmFibGVkID0gdHJ1ZQ0KCQkJVGVjaFJhbmcuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUh5cGVyYW5nRW5hYmxlZCA9IGZhbHNlDQoJCQlUZWNoUmFuZy50ZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFzdGVyb2lkIEJlbHQgSGFjaw0KDQoJbG9jYWwgQXN0ZXJvaWRCZWx0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siDQoJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXN0ZXJvaWRCZWx0SGFjaykNCgkNCglsb2NhbCBBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UNCgkNCglBc3Rlcm9pZEJlbHRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IHRydWUNCgkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBc3Rlcm9pZCBCZWx0IEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IGZhbHNlDQoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWaWdvciBHeXJhdGlvbiBIYWNrDQoNCglsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpZ0d5cmF0SGFjay5OYW1lID0gIlZpZ0d5cmF0SGFjayINCglWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spDQoJDQoJbG9jYWwgVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlDQoJDQoJVmlnR3lyYXRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZpZ29ySGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IHRydWUNCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBMaWdodG5pbmcgQmFycmFnZSBIYWNrDQoNCglsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSINCglCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQ0KDQoJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBub3QgU3Rvcm1CdWxsZXRzRW5hYmxlZCB0aGVuDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gdHJ1ZQ0KCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIg0KCQllbHNlDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gZmFsc2UNCgkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tLS0gQmxhc3RzDQoJLS0gT3JiaXRhbCBTdHJpa2UgSGFjaw0KDQoJbG9jYWwgT3JiaXRhbCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJT3JiaXRhbC5OYW1lID0gIk9yaWJ0YWwiDQoJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBPcmJpdGFsKQ0KDQoJbG9jYWwgT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UNCg0KCU9yYml0YWwuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBPcmJpdGFsSGFja0VuYWJsZWQgdGhlbg0KCQkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IHRydWUNCgkJCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9uKSINCgkJCWVsc2UNCgkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlPcmJpdGFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBEb3VibGUgUmF5IEhhY2sNCg0KCWxvY2FsIERvdWJsZVJheSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRG91YmxlUmF5Lk5hbWUgPSAiRG91YmxlUmF5Ig0KCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERvdWJsZVJheSkNCg0KCURvdWJsZVJheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgbm90IERvdWJsZVJheUVuYWJsZWQgdGhlbg0KCQkJCURvdWJsZVJheUVuYWJsZWQgPSB0cnVlDQoJCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIERvdWJsZSBSYXkgSGFjayAoT24pIg0KCQkJZWxzZQ0KCQkJCURvdWJsZVJheUVuYWJsZWQgPSBmYWxzZQ0KCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9mZikiDQoJCQllbmQNCgkJZWxzZQ0KCQkJRG91YmxlUmF5LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIERvdWJsZSBSYXkgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaA0KDQoJbG9jYWwgSG9sb2JlYW0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUhvbG9iZWFtLk5hbWUgPSAiSG9sb2JlYW0iDQoJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBIb2xvYmVhbSkNCg0KCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBhdHRhY2hDYW1lcmEodikNCgkJaWYgKHYgfj0gbmlsKSB0aGVuDQoJCQlpZiBub3Qodmlld2luZykgYW5kICh2Lk5hbWUgPT0gIkhvbG9iZWFtIikgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXVt2Lk5hbWVdDQoJCQllbHNlDQoJCQkJdjpEZXN0cm95KCkNCgkJCQlyZXR1cm4NCgkJCWVuZA0KCQkJDQoJCQl2LlRyYW5zcGFyZW5jeSA9IDANCg0KCQkJd2FpdCg0KQ0KCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJZW5kDQoJCQkNCgkJCXY6RGVzdHJveSgpDQoJCWVuZA0KCWVuZA0KCQ0KCWdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ10uRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJaWYgSG9sb2JlYW1FbmFibGVkIHRoZW4NCgkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHBsYXllci5DaGFyYWN0ZXIpIHRoZW4NCgkJCQlsb2NhbCBkaXN0YW5jZSA9IChwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2LlBvc2l0aW9uKS5NYWduaXR1ZGUNCgkJCQkNCgkJCQlpZiAodi5TaXplID09IFZlY3RvcjMubmV3KDUsIDUsIDUpKSBhbmQgKGRpc3RhbmNlIDwgMTApIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbg0KCQkJCQ0KCQkJCQl2Lk5hbWUgPSAiSG9sb2JlYW0iDQoJCQkJDQoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpIA0KCQkJCQkJCWF0dGFjaENhbWVyYSh2KSANCgkJCQkJCWVuZCkpDQoJCQkJCWVuZCkNCgkJCQkJDQoJCQkJCWxvY2FsIGd1aSA9IHBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXINCgkJCQkJDQoJCQkJCXdhaXQoMC41KQ0KCQkJCQkNCgkJCQkJd2hpbGUgd2FpdCgpIGRvDQoJCQkJCQlpZiBub3QoZ3VpWycxJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzInXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMyddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc0J10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzUnXS5DRC5UZXh0ID09ICIuLi4iKSB0aGVuDQoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuDQoJCQkJCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQkJCQkJZW5kDQoJCQkNCgkJCQkJCQkJdjpEZXN0cm95KCkNCgkJCQkJCQllbmQpDQoJCQkJCQkJDQoJCQkJCQkJYnJlYWsNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCglIb2xvYmVhbS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBIb2xvYmVhbUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSG9sb2JlYW1FbmFibGVkID0gdHJ1ZQ0KCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPbikiDQoJCQkNCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuIHY6RGVzdHJveSgpIGVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlDQoJCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIENvbnRyb2xsZWQgRWNob2VzDQoNCglsb2NhbCBFY2hvZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUVjaG9lcy5OYW1lID0gIkVjaG9lcyINCglFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRWNob2VzKQ0KDQoJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCUVjaG9lc1BoYXNlID0gMQ0KDQoJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gdHJ1ZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9uKSINCgkJZWxzZQ0KCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tLS0gU2hpZWxkcw0KCS0tIENyeXN0YWwgQXJtYW1lbnQgSGFjaw0KDQoJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglDcnlzdGFsQXJtYW1lbnQuTmFtZSA9ICJDcnlzdGFsQXJtYW1lbnQiDQoJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpDQoNCglDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UNCg0KCUNyeXN0YWxBcm1hbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSB0cnVlDQoJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9uKSINCgkJZWxzZQ0KCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEdyYXZpdGFsIEdsb2JlIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIg0KCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQ0KDQoJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQ0KDQoJR3Jhdml0YWxHbG9iZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IHRydWUNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLS0tIFVsdHMNCgktLSBSZWFwZXIncyBSYWdlDQoJbG9jYWwgUmVhcGVyVWx0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglSZWFwZXJVbHQuTmFtZSA9ICJSZWFwZXJVbHQiDQoJUmVhcGVyVWx0LlRleHQgPSAiKEcpIFJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmVhcGVyVWx0KQ0KDQoJbG9jYWwgUmVhcGVyVWx0RW5hYmxlZCA9IGZhbHNlDQoNCglSZWFwZXJVbHQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBSZWFwZXJVbHRFbmFibGVkIHRoZW4NCgkJCQlSZWFwZXJVbHRFbmFibGVkID0gdHJ1ZQ0KCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9uKSINCgkJCWVsc2UNCgkJCQlSZWFwZXJVbHRFbmFibGVkID0gZmFsc2UNCgkJCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCVJlYXBlclVsdC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMSkNCgkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFibGF6ZSBKdWRnZW1lbnQgSGFjaw0KDQoJbG9jYWwgQWJsYXplSnVkZ2VtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBYmxhemVKdWRnZW1lbnQuTmFtZSA9ICJBYmxhemVKdWRnZW1lbnQiDQoJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBYmxhemVKdWRnZW1lbnQpDQoNCglBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlDQoNCglBYmxhemVKdWRnZW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSB0cnVlDQoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWb2lkIE9wZW5pbmcgSGFjaw0KDQoJbG9jYWwgVm9pZE9wZW5pbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZvaWRPcGVuaW5nLk5hbWUgPSAiVm9pZE9wZW5pbmciDQoJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVm9pZE9wZW5pbmcpDQoNCglWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gZmFsc2UNCg0KCVZvaWRPcGVuaW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IHRydWUNCgkJCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBUaGUgV29ybGQgSGFjaw0KDQoJbG9jYWwgVGhlV29ybGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRoZVdvcmxkLk5hbWUgPSAiVGhlV29ybGQiDQoJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGhlV29ybGQpDQoNCglUaGVXb3JsZEVuYWJsZWQgPSBmYWxzZQ0KDQoJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVGhlV29ybGRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRoZVdvcmxkRW5hYmxlZCA9IHRydWUNCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVGhlV29ybGRFbmFibGVkID0gZmFsc2UNCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFBvbGFyaXMgSGFjaw0KDQoJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUG9sYXJpcy5OYW1lID0gIlBvbGFyaXMiDQoJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUG9sYXJpcykNCg0KCVBvbGFyaXNFbmFibGVkID0gZmFsc2UNCg0KCVBvbGFyaXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgUG9sYXJpc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJUG9sYXJpc0VuYWJsZWQgPSB0cnVlDQoJCQlQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVBvbGFyaXNFbmFibGVkID0gZmFsc2UNCgkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbg0KDQoJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iDQoJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTaGF0dGVyaW5nRXJ1cHRpb24pDQoNCglTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gZmFsc2UNCg0KCVNoYXR0ZXJpbmdFcnVwdGlvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSB0cnVlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9uKSINCgkJZWxzZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrDQoNCglsb2NhbCBFdGhlcmVhbEFjdW1lbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRXRoZXJlYWxBY3VtZW4uTmFtZSA9ICJFdGhlcmVhbEFjdW1lbiINCglFdGhlcmVhbEFjdW1lbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBFdGhlcmVhbEFjdW1lbikNCg0KCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IGZhbHNlDQoNCglFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gdHJ1ZQ0KCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT24pIg0KCQllbHNlDQoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQ0KCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVG94aWMgQmFzaWxpc2sgSGFjaw0KDQoJbG9jYWwgVG94aWNCYXNpbGlzayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVG94aWNCYXNpbGlzay5OYW1lID0gIlRveGljQmFzaWxpc2siDQoJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spDQoNCglUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlDQoNCglUb3hpY0Jhc2lsaXNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRveGljQmFzaWxpc2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gdHJ1ZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFyY2FuZSBHdWFyZGlhbiBIYWNrDQoNCglsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiINCglBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBcmNhbmVHdWFyZGlhbikNCg0KCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IGZhbHNlDQoNCglBcmNhbmVHdWFyZGlhbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gdHJ1ZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT24pIg0KCQllbHNlDQoJCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVmlydHVhbCBab25lIEhhY2sNCg0KCWxvY2FsIFZpcnR1YWxab25lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaXJ0dWFsWm9uZS5OYW1lID0gIlZpcnR1YWxab25lIg0KCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpcnR1YWxab25lKQ0KDQoJVmlydHVhbFpvbmVFbmFibGVkID0gZmFsc2UNCg0KCVZpcnR1YWxab25lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZpcnR1YWxab25lRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSB0cnVlDQoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlDQoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLS0tIE1pc2NlbGxhbmVvdXMNCgktLSBTaGFyZCBDb2xvcnMNCg0KCWxvY2FsIFJhbmRvbUNvbG9ycyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUmFuZG9tQ29sb3JzLk5hbWUgPSAiUmFuZG9tQ29sb3JzIg0KCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJhbmRvbUNvbG9ycykNCg0KCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQ0KCWxvY2FsIFNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpDQoJCWZvciBpLCBjaGlsZCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiBub3QgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIHRoZW4gcHJpbnQoIkNoaWxkIG5vdCBhIFNoYXJkIikNCgkJCWVsc2VpZiBjaGlsZC5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCBjaGlsZDpGaW5kRmlyc3RDaGlsZCgiQ0NCb29sIikgdGhlbg0KCQkJCXhwY2FsbChmdW5jdGlvbigpDQoJCQkJCWNoaWxkLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldyhDb2xvcnNMaXN0W21hdGgucmFuZG9tKDEsOSldKQ0KCQkJCWVuZCwgZnVuY3Rpb24oZSkNCgkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQ0KCQkJCQl3YXJuKCJbdHJhY2ViYWNrXSAiLCBkZWJ1Zy50cmFjZWJhY2soKSkNCgkJCQllbmQpDQoJCQkJbG9jYWwgQ0NCb29sID0gSW5zdGFuY2UubmV3KCJCb29sVmFsdWUiKQ0KCQkJCUNDQm9vbC5OYW1lID0gIkNDQm9vbCINCgkJCQlDQ0Jvb2wuUGFyZW50ID0gY2hpbGQNCgkJCQlDQ0Jvb2wuVmFsdWUgPSB0cnVlDQoJCQllbHNlaWYgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIGFuZCBjaGlsZDpGaW5kRmlyc3RDaGlsZCgiQ0NCb29sIikuVmFsdWUgdGhlbiBlbmQNCgkJZW5kDQoJZW5kDQoNCglSYW5kb21Db2xvcnMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2hhcmRDb2xvckVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU2hhcmRDb2xvckVuYWJsZWQgPSB0cnVlDQoJCQlwcmludCgiVHVybmVkIG9uIFJhbmRvbSBTaGFyZCBDb2xvcnMiKQ0KCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT24pIg0KCQkJd2hpbGUgU2hhcmRDb2xvckVuYWJsZWQgZG8NCgkJCQlzaGFyZFJhbmRvbWl6ZXIoKQ0KCQkJCXdhaXQoMSkNCgkJCWVuZA0KCQllbHNlDQoJCQlTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlDQoJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIg0KCQllbmQJDQoJZW5kKQ0KDQoJLS0gQW50aS1MYWcNCg0KCWxvY2FsIEFudGlMYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFudGlMYWcuTmFtZSA9ICJBbnRpTGFnIg0KCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUxhZykNCg0KCUFudGlMYWdFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHJlbW92ZUxhZygpDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5Mb2NhbEVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4NCgkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJCYWNrRGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiU3BlY2lhbE1lc2giKSB0aGVuDQoJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4NCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4NCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmICh2Lk5hbWUgPT0gIkxpZ2h0RGlzYyIpIHRoZW4NCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuDQoJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCWZvciBfLCB4IGluIHBhaXJzKHYuQ2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJaWYgeC5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuDQoJCQkJCXg6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Y29ubmVjdChmdW5jdGlvbih2KQ0KCQlpZiBBbnRpTGFnRW5hYmxlZCB0aGVuDQoJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbg0KCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgdi5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgdGhlbg0KCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuDQoJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCglBbnRpTGFnLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFudGlMYWdFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFudGlMYWdFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPbikiDQoJCQlyZW1vdmVMYWcoKQ0KCQllbHNlDQoJCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlDQoJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElnbm9yZSBQaHlzaWNzDQoNCglsb2NhbCBJZ25vcmVQaHlzaWNzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJZ25vcmVQaHlzaWNzLk5hbWUgPSAiZklnbm9yZVBoeXNpY3MiDQoJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPZmYpIFtaXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWdub3JlUGh5c2ljcykNCg0KCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkNCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXIuQ2hhcmFjdGVyLkZsaXBzSG9sZGVyOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIEFmdGVyTnVsbGlmeUZvcmNlcygpDQoJCXBsYXllci5DaGFyYWN0ZXIuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikNCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkIHRoZW4NCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQ0KCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPbikgW1pdIg0KCQkJaW5pdGlhbE51bGxpZnlGb3JjZXMoKQ0KCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkNCgkJCXdoaWxlIElnbm9yZVBoeXNpY3NFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCgkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iDQoJCWVuZA0KCWVuZA0KDQoJSWdub3JlUGh5c2ljcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5OdWxsaWZ5Rm9yY2VzKQ0KDQoJLS0gQW50aS1HcmF2aXR5DQoNCglsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSINCglBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT2ZmKSBbR10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQ0KDQoJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpDQoJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT24pIFtHXSINCgkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikNCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiDQoJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQ0KCQllbHNlDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIg0KCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbg0KCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykNCg0KCS0tIENsaWNrLVRQDQoNCglsb2NhbCBDbGlja1RQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglDbGlja1RQLk5hbWUgPSAiQ2xpY2tUUCINCglDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gdHAgdG8gbW91c2VdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBDbGlja1RQKQ0KDQoJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQ0KDQoJQ2xpY2tUUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBDbGlja1RQRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCUNsaWNrVFBFbmFibGVkID0gZmFsc2UNCgkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT2ZmKSBbSiB0byBDbGljay1UUF0iDQoJCWVsc2UNCgkJCUNsaWNrVFBFbmFibGVkID0gdHJ1ZQ0KCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPbikgW0ogdG8gQ2xpY2stVFBdIg0KCQllbmQNCgllbmQpDQoNCglmdW5jdGlvbiBjbGlja3RwKHBvc2l0aW9uKQ0KCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZA0KCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpDQoJZW5kDQoNCgktLSBGcmVlemUNCg0KCWxvY2FsIEZyZWV6ZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRnJlZXplLk5hbWUgPSAiRnJlZXplIg0KCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZyZWV6ZSkNCg0KCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gRnJlZXplRnVuYygpDQoJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRnJlZXplRW5hYmxlZCA9IHRydWUNCgkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT24pIFtGXSINCgkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUNCgkJZWxzZQ0KCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlDQoJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIg0KCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJZW5kDQoJZW5kDQoNCglGcmVlemUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEZyZWV6ZUZ1bmMpDQoNCgktLSBMb25nIEZsYXNoDQoNCglsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUxGbGFzaC5OYW1lID0gIkZsYXNoIg0KCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTEZsYXNoKQ0KDQoJRmxhc2hFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIGxvbmdmbGFzaCgpDQoJCWxvY2FsIG1vdXNlcG9zID0gbW91c2UuSGl0LnANCgkJbG9jYWwgYXJncyA9IHsNCgkJCVsxXSA9ICJTdG9ybSIsDQoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIg0KCQl9DQoJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQlsb2NhbCBhcmdzID0gew0KCQkJWzFdID0gIlN0b3JtIiwNCgkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giLA0KCQkJWzNdID0gew0KCQkJCVsiRW5kIl0gPSBtb3VzZXBvcywNCgkJCQlbIk9yaWdpbiJdID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLnANCgkJCX0NCgkJfQ0KCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCWVuZA0KDQoJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEZsYXNoRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGbGFzaEVuYWJsZWQgPSB0cnVlDQoJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPbikgW2AgdG8gdXNlXSINCgkJZWxzZQ0KCQkJRmxhc2hFbmFibGVkID0gZmFsc2UNCgkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVmlldyBUYXJnZXQNCg0KCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpZXdUYXJnZXQuTmFtZSA9ICJWaWV3VGFyZ2V0Ig0KCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpDQoNCgl2aWV3aW5nID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHZpZXcoKQ0KCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbg0KCQkJaWYgdmlld2luZyA9PSBmYWxzZSB0aGVuDQoJCQkJdmlld2luZyA9IHRydWUNCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT24pIFtWXSINCgkJCWVsc2UNCgkJCQl2aWV3aW5nID0gZmFsc2UNCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIg0KCQkJZW5kDQoJCWVsc2VpZiB2aWV3aW5nID09IHRydWUgdGhlbiANCgkJCXZpZXdpbmcgPSBmYWxzZQ0KCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIg0KCQllbmQNCgllbmQNCg0KCVZpZXdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHZpZXcpDQoNCgktLSBUZWxlcG9ydCB0byBUYXJnZXQNCg0KCWxvY2FsIFRQVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUFRhcmdldC5OYW1lID0gIlRQVGFyZ2V0Ig0KCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBUYXJnZXQpDQoNCglUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgZnVuY3Rpb24gVFBUb1RhcmdldCgpDQoJCWlmIFRQVGFyZ2V0RW5hYmxlZCBhbmQgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4NCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKQ0KDQoJCQlnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuQ0ZyYW1lID0gZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikuQ0ZyYW1lDQoJCWVuZA0KCWVuZA0KDQoJVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IHRydWUNCgkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikgW1VdIg0KCQllbHNlDQoJCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIg0KCQllbmQNCgllbmQpDQoNCgktLSBMb29wIFRlbGVwb3J0IHRvIFRhcmdldA0KDQoJbG9jYWwgTG9vcFRQVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglMb29wVFBUYXJnZXQuTmFtZSA9ICJMb29wVFBUYXJnZXQiDQoJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExvb3BUUFRhcmdldCkNCg0KCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KDQoJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIExvb3BUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IHRydWUNCgkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikiDQoJCQl3aGlsZSBMb29wVFBUYXJnZXRFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJVFBUb1RhcmdldCgpDQoJCQllbmQNCgkJZWxzZQ0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlDQoJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRVNQDQoNCglsb2NhbCBFU1AgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUVTUC5OYW1lID0gIkVTUCINCglFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBFU1ApDQoNCglFU1BFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIEhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQ0KCUhvbGRlci5OYW1lID0gIkVTUCINCg0KCWxvY2FsIFVwZGF0ZUZ1bmNzID0ge30NCg0KCWxvY2FsIEJveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikNCglCb3guTmFtZSA9ICJuaWxCb3giDQoJQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQ0KCUJveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpDQoJQm94LlRyYW5zcGFyZW5jeSA9IDAuNw0KCUJveC5aSW5kZXggPSAwDQoJQm94LkFsd2F5c09uVG9wID0gdHJ1ZQ0KCUJveC5WaXNpYmxlID0gdHJ1ZQ0KDQoJbG9jYWwgTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikNCglOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZyINCglOYW1lVGFnLkVuYWJsZWQgPSB0cnVlDQoJTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApDQoJTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUNCglOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQ0KDQoJbG9jYWwgVGFnID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBOYW1lVGFnKQ0KCVRhZy5OYW1lID0gIlRhZyINCglUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDENCglUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAwKQ0KCVRhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApDQoJVGFnLlRleHRTaXplID0gMjANCglUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkNCglUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkNCglUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNA0KCVRhZy5UZXh0ID0gIm5pbCINCglUYWcuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCVRhZy5UZXh0U2NhbGVkID0gZmFsc2UNCglUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDANCg0KCWZ1bmN0aW9uIExvYWRDaGFyYWN0ZXIodikNCgkJaWYgdiB+PSBwbGF5ZXIgdGhlbg0KCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwNCgkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQ0KCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQ0KDQoJCQlsb2NhbCBiID0gQm94OkNsb25lKCkNCgkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiQm94Ig0KCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydA0KCQkJYi5QYXJlbnQgPSB2SG9sZGVyDQoNCgkJCWxvY2FsIHQgPSBOYW1lVGFnOkNsb25lKCkNCgkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiTmFtZVRhZyINCgkJCXQuUGFyZW50ID0gdkhvbGRlcg0KCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkNCgkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbg0KCQkJCXJldHVybiBVbmxvYWRDaGFyYWN0ZXIodikNCgkJCWVuZA0KCQkJdC5UYWcuVGV4dCA9IHYuTmFtZQ0KCQkJdC5FbmFibGVkID0gdHJ1ZQ0KCQkJd2FpdCgpDQoNCgkJCWxvY2FsIGZ1bmN0aW9uIFVwZGF0ZU5hbWVUYWcoKQ0KCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpDQoJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQ0KCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkNCgkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApDQoJCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lIC4uICJcbiIgLi4gKChtYXhoIH49IDAgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgoaCAvIG1heGgpICogMTAwKSkpIG9yICIwIikgLi4gIiUgICIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpDQoJCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4NCgkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMA0KCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43DQoJCQkJCQllbHNlDQoJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDENCgkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDENCgkJCQkJCWVuZA0KCQkJCQkJaWYgaCAvIG1heGggPT0gMSB0aGVuDQoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbg0KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCWVsc2UNCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpDQoJCQkJCQllbmQNCgkJCQkJZW5kKSB0aGVuDQoJCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gbmlsDQoJCQkJZW5kDQoJCQllbmQNCgkJCVVwZGF0ZU5hbWVUYWcoKQ0KCQkJVXBkYXRlRnVuY3Nbdl0gPSBVcGRhdGVOYW1lVGFnDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQlpZiB2SG9sZGVyIGFuZCAodkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkJveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiTmFtZVRhZyIpIH49IG5pbCkgdGhlbg0KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBMb2FkUGxheWVyKHYpDQoJCWlmIHYgfj0gcGxheWVyIHRoZW4NCgkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEhvbGRlcikNCgkJCXZIb2xkZXIuTmFtZSA9IHYuTmFtZQ0KCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkNCgkJCQlpZiBFU1BFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQlwY2FsbChMb2FkQ2hhcmFjdGVyLCB2KQ0KCQkJCWVuZA0KCQkJZW5kKQ0KCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkNCgkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpDQoJCQllbmQpDQoJCQlMb2FkQ2hhcmFjdGVyKHYpDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gVW5sb2FkUGxheWVyKHYpDQoJCVVubG9hZENoYXJhY3Rlcih2KQ0KCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJaWYgdkhvbGRlciB0aGVuDQoJCQl2SG9sZGVyOkRlc3Ryb3koKQ0KCQllbmQNCgllbmQNCg0KCWZvciBpLCB2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldFBsYXllcnMoKSkgZG8NCgkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpDQoJZW5kDQoNCglnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXBjYWxsKExvYWRQbGF5ZXIsIHYpDQoJZW5kKQ0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQlwY2FsbChVbmxvYWRQbGF5ZXIsIHYpDQoJZW5kKQ0KDQoJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpDQoJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuDQoJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuDQoJCQkJVW5sb2FkQ2hhcmFjdGVyKGkpDQoJCQkJd2FpdCgpDQoJCQkJTG9hZENoYXJhY3RlcihpKQ0KCQkJZW5kDQoJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbg0KCQkJbG9jYWwgcCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpDQoJCQlpZiBwIH49IHBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4NCgkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCVVwZGF0ZUZ1bmNzW3BdKCkNCgkJCQllbmQpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJZnVuY3Rpb24gdG9nZ2xlRVNQKCkNCgkJaWYgRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlFU1BFbmFibGVkID0gdHJ1ZQ0KCQkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIg0KCQkJZm9yIGksdiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKTpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpDQoJCQllbmQNCgkJZWxzZQ0KCQkJRVNQRW5hYmxlZCA9IGZhbHNlDQoJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIg0KCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJRVNQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1ApDQoNCgktLSBUUCB0byBEcm9wcw0KDQoJbG9jYWwgVFBTaGFyZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRQU2hhcmRzLk5hbWUgPSAiVFBTaGFyZHMiDQoJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQU2hhcmRzKQ0KDQoJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UJDQoNCglsb2NhbCBUUERpYW1vbmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyINCglUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQRGlhbW9uZHMpDQoNCglUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBwbGF0ZSA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJcGxhdGUuUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2UNCglwbGF0ZS5TaXplID0gVmVjdG9yMy5uZXcoNDAsIDEsIDQwKQ0KCXBsYXRlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMTAwMDAwLCAwKQ0KCXBsYXRlLkFuY2hvcmVkID0gdHJ1ZQ0KCXBsYXRlLlJlZmxlY3RhbmNlID0gMC41DQoJcGxhdGUuVHJhbnNwYXJlbmN5ID0gMC41DQoNCglsb2NhbCB0aW1lID0gMA0KCWxvY2FsIGNhbkludmlzID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHRlbGVwb3J0VG9Ecm9wcygpDQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLlNlcnZlckVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgVFBTaGFyZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIlNoYXJkIiB0aGVuDQoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lDQoJCQkJd2FpdCguMikNCgkJCWVsc2VpZiBUUERpYW1vbmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJEaWFtb25kIiB0aGVuDQoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lDQoJCQkJd2FpdCguMikNCgkJCWVuZA0KDQoJCQlpZiBjYW5JbnZpcyB0aGVuDQoJCQkJaWYgdGltZSA9PSA1IHRoZW4gDQoJCQkJCWJyZWFrDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoNCgkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQ0KDQoJCXJldHVybiANCgllbmQNCg0KDQoJZnVuY3Rpb24gc3RhcnRUaW1lcigpDQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikNCgkJd2hpbGUgd2FpdCgpIGRvDQoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgb3IgVFBEaWFtb25kc0VuYWJsZWQgdGhlbg0KCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybg0KCQkJCWVsc2UNCgkJCQkJaWYgY2FuSW52aXMgdGhlbg0KCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpDQoJCQkJCQl3YWl0KDEpDQoJCQkJCQlyZXBlYXQNCgkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQ0KCQkJCQkJCXRpbWUgPSB0aW1lICsgMQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCXVudGlsIHRpbWUgPT0gNg0KCQkJCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQ0KCQkJCQkJd2FpdCg3LjUpDQoJCQkJCQl0aW1lID0gMA0KCQkJCQllbHNlDQoJCQkJCQl3aGlsZSB0cnVlIGRvDQoJCQkJCQkJaWYgbm90IFRQU2hhcmRzRW5hYmxlZCBhbmQgbm90IFRQRGlhbW9uZHNFbmFibGVkIHRoZW4NCgkJCQkJCQkJYnJlYWsNCgkJCQkJCQllbmQNCgkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVsc2UNCgkJCQlicmVhaw0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybg0KCWVuZA0KDQoJVFBTaGFyZHMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIik6V2FpdEZvckNoaWxkKCJNYWluIikuQ2hhcmFjdGVyLkF2YWlsYWJsZS5TY3JvbGxpbmdGcmFtZS5GcmFtZTpGaW5kRmlyc3RDaGlsZCgiU3BlY3RyYWwgRW1ib2RpbWVudCIpIHRoZW4NCgkJCWNhbkludmlzID0gdHJ1ZQ0KCQllbmQNCgkJaWYgVFBTaGFyZHNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQU2hhcmRzRW5hYmxlZCA9IHRydWUNCgkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPbikiDQoJCQlzdGFydFRpbWVyKCkNCgkJCXdoaWxlIFRQU2hhcmRzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJc3RhcnRUaW1lcigpDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UNCgkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCglUUERpYW1vbmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuDQoJCQljYW5JbnZpcyA9IHRydWUNCgkJZW5kDQoJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQRGlhbW9uZHNFbmFibGVkID0gdHJ1ZQ0KCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPbikiDQoJCQlzdGFydFRpbWVyKCkNCgkJCXdoaWxlIFRQRGlhbW9uZHNFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlzdGFydFRpbWVyKCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlDQoJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFJlam9pbiBTZXJ2ZXIgRnVuY3Rpb24NCg0KCS0tIFRoaXMgd2FzIG9ubHkgcHJlc2VydmVkIGFzIEkgY291bGRuJ3QgdGhpbmsgb2YgYW55IG90aGVyIHBsYWNlIHRvIHB1dCB0aGUgZnVuY3Rpb24gZm9yIG5vdy4NCgktLSBNaWdodCBnZXQgbW92ZWQgbGF0ZXIsIGlkdW5uby4NCglmdW5jdGlvbiByZWpvaW4oKQ0KCQlsb2NhbCB0cyA9IGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIikNCgkJbG9jYWwgcCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyDQoNCgkJdHM6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBwKQ0KCWVuZA0KDQoJLS0gR1VJIFR3ZWFraW5nDQoNCglmb3IgaSwgdiBpbiBwYWlycyhib3JkZXJzKSBkbw0KCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQ0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MA0KCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZDQoJCXYuQWN0aXZlID0gdHJ1ZQ0KCQl2LlBhcmVudCA9IGViZ3VpDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbw0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDIwLCAxMTUpDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCQl2LlRleHRTY2FsZWQgPSB0cnVlDQoJCXYuVGV4dFNpemUgPSAxNC4wMDANCgkJdi5UZXh0V3JhcHBlZCA9IHRydWUNCgkJdi5MYXlvdXRPcmRlciA9IGkNCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUNCgllbmQNCg0KCS0tW1tmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbw0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDE3NSwgMjApDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCQl2LlRleHRTY2FsZWQgPSB0cnVlDQoJCXYuVGV4dFNpemUgPSAxNC4wMDANCgkJdi5UZXh0V3JhcHBlZCA9IHRydWUNCgkJdi5MYXlvdXRPcmRlciA9IGkNCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUNCgllbmRdXQ0KDQoJLS0gY29tbWFuZEJveA0KDQoJdGFyZ2V0ID0gcGxheWVyLk5hbWUNCgl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCINCglsb29waW5nID0gZmFsc2UNCglzbWFydEF0dGFjayA9IHRydWUNCglIZWFsU2V0dGluZyA9IDENCglzdHVuRW5hYmxlZCA9IHRydWUNCglGUFNEcm9wcGluZyA9IGZhbHNlDQoJbG9jYWwgYnV0dG9uSGVpZ2h0ID0gMzANCglsb2NhbCBidXR0b25HYXAgPSA3DQogICAgbG9jYWwgaGVscDEgPSBbW3x8IEJlbG93IGlzIGEgZnVsbCwgY29tcHJlaGVuc2l2ZSBsaXN0IG9mIGVhY2ggY29tbWFuZCBFQkdVSSBoYXMgdG8gb2ZmZXIuIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIChQcmVmaXggaXMgOykNCg0KICAgICAgICAgICAgICAgICJoZWxwIFtudW1dIiAtIFNob3dzIHRoaXMgY29tbWFuZHMgbGlzdCEgQ2hvb3NlIGJldHdlZW4gcGFnZXMgMSBvciAyLg0KICAgICAgICAgICAgICAgICJjaGFuZ2Vsb2ciIC0gU2hvd3MgYSBsaW5rIHRvIHRoZSBjaGFuZ2Vsb2cgZm9yIEVCR1VJIGFuZCBpdHMgQ2FuYXJ5IGJyYW5jaC4NCiAgICAgICAgICAgICAgICAicmUiIC0gUmVmcmVzaGVzIHlvdXIgY2hhcmFjdGVyLiBUaGlzIHdpbGwgdGVtcG9yYXJpbHkgdmFuaXNoIHlvdSwgYW5kIGJyaW5nIHlvdSBiYWNrIHdpdGggZnVsbCBzdGF0cy4NCiAgICAgICAgICAgICAgICAidHAgPG1hcD4iIC0gVGVsZXBvcnRzIHlvdSB0byB0aGUgbWFwIG9mIHlvdXIgY2hvaWNlLiBIZWF2ZW4gZG9lc24ndCB3b3JrIHdpdGhvdXQgdGhlIGdhbWVwYXNzLg0KICAgICAgICAgICAgICAgICJkZWNsdXR0ZXIiIC0gQ2xlYXJzIHRoZSBiYWNrZ3JvdW5kcyBvZiB0aGUgbWFpbiBHVUlzLCBhbmQgc2hyaW5rcyB0aGUgbW92ZXMvc3RhdHMuDQogICAgICAgICAgICAgICAgInJhaW4iIC0gRW5hYmxlcyB0aGUgcmFpbiBmcm9tIFdhdGVyIG1hcC4gQ2FyZWZ1bCwgeW91IGhhdmUgdG8gcmVqb2luIHRvIHR1cm4gaXQgb2ZmIQ0KICAgICAgICAgICAgICAgICJmaXgiIC0gUmVtb3ZlcyB0aGUgIkxPQURJTkciIHNjcmVlbiB3aGVuIHRlbGVwb3J0aW5nIHRvIGNlcnRhaW4gbWFwcy4NCiAgICAgICAgICAgICAgICAiYnV0dG9uaGVpZ2h0IDxudW0+IiAtIENoYW5nZXMgdGhlIGhlaWdodCwgaW4gcGl4ZWxzLCBvZiBFQkdVSSdzIGJ1dHRvbnMuDQogICAgICAgICAgICAgICAgImJ1dHRvbmdhcCA8bnVtPiIgLSBDaGFuZ2VzIHRoZSBnYXAsIGluIHBpeGVscywgYmV0d2VlbiBFQkdVSSdzIGJ1dHRvbnMuDQogICAgICAgICAgICAgICAgInJlam9pbiIgLSBSZWpvaW5zIHRoZSBzZXJ2ZXIuDQogICAgICAgICAgICAgICAgImF1cmEvb2ZmIiAtIEFuIGFsdGVybmF0ZSBtZXRob2Qgb2Ygc2lsZW50bHkgdHVybmluZyBvZmYgYXVyYS4NCiAgICAgICAgICAgICAgICAidGFyZ2V0c2V0dGluZyA8bW9kZT4iIC0gTW9kaWZpZXMgaG93IEVCR1VJIHNlbGVjdHMgdGFyZ2V0cy4gV29uJ3QgdGFyZ2V0IHRob3NlIGluIHNhZmV6b25lLCBleGNlcHQgaW4gInNlbGVjdCIgbW9kZS4NCiAgICAgICAgICAgICAgICAgICAgLS0gInNlbGVjdCIgYWxsb3dzIHlvdSB0byBjaG9vc2UgYnkgdHlwaW5nIGludG8gdGhlIGNvbW1hbmQgYm94LiBTZXQgdG8gdGhpcyBieSBkZWZhdWx0Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiY2xvc2VzdCIgc2VsZWN0cyB0aGUgcGVyc29uIGNsb3Nlc3QgdG8geW91Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiZmFydGhlc3QiIHNlbGVjdHMgdGhlIHBlcnNvbiBmYXJ0aGVzdCBmcm9tIHlvdS4NCiAgICAgICAgICAgICAgICAgICAgLS0gImxvd2hwIiBzZWxlY3RzIHRoZSBwZXJzb24gd2l0aCB0aGUgbG93ZXN0IEhQLg0KICAgICAgICAgICAgICAgICAgICAtLSAiaGlnaGhwIiBzZWxlY3RzIHRoZSBjbG9zZXN0IHBlcnNvbiB3aXRoIHRoZSBoaWdoZXN0IEhQLl1dDQoNCiAgICBsb2NhbCBoZWxwMiA9IFtbImxvb3AiIC0gTG9vcHMgdGhlIHVzYWdlIG9mIGVuYWJsZWQgYXR0YWNrIGV4cGxvaXRzLg0KICAgICAgICAgICAgICAgICJncmNoYXJnZSA8bnVtPiIgLSBNdWx0aXBsaWVzIHRoZSB0aW1lIEFtcGxpZmllZCBHZW5lc2lzIFJheSBhdHRhY2sgZXhwbG9pdCBzdGF5cyBhbGl2ZSBmb3IuIERlZmF1bHQsIDEsIGxhc3RzIDYgc2Vjb25kcy4NCiAgICAgICAgICAgICAgICAic3BlZWQgPG51bT4iIC0gQ2hhbmdlcyB5b3VyIGRlZmF1bHQgd2Fsa3NwZWVkLiBEZWZhdWx0LCA2NCwgZXF1YWxzIG1heC1zcGVlZCBzcHJpbnRpbmcuDQogICAgICAgICAgICAgICAgInNtYXJ0YXR0YWNrIiAtIFRvZ2dsZXMgaWYgYXR0YWNrIGV4cGxvaXRzIHdpbGwgZmlyZSBvbiBwZW9wbGUgd2hvIGFyZSBpbiBzYWZlem9uZS4gRGVmYXVsdCBvbi4NCiAgICAgICAgICAgICAgICAiZ2FtZWNvbG9yIDxtb2RlPiIgLSBDaGFuZ2VzIHRoZSBjb250cmFzdCBhbmQgc2F0dXJhdGlvbiBvZiB0aGUgZ2FtZS4NCiAgICAgICAgICAgICAgICAgICAgLS0gIm5vcm1hbCIgd2lsbCByZXNldCBldmVyeXRoaW5nIHRvIG5vcm1hbC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImdyYXlzY2FsZSIgdHVybnMgb2ZmIHRoZSBzYXR1cmF0aW9uIGFuZCBtYWtlcyBldmVyeXRoaW5nIGdyYXkuDQogICAgICAgICAgICAgICAgICAgIC0tICJpbnZlcnRodWUiIGludmVydHMgdGhlIGh1ZSBvZiBldmVyeXRoaW5nLiBHcmVlbiBiZWNvbWVzIHB1cnBsZSwgYmx1ZSBiZWNvbWVzIHJlZC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImludmVydGFsbCIgaW52ZXJ0cyB0aGUgaHVlLCBzYXR1cmF0aW9uLCBhbmQgY29udHJhc3Qgb2YgZXZlcnl0aGluZy4gTmVnYXRpdmUhDQogICAgICAgICAgICAgICAgImJsYWNrY2FzdCIgLSBDaGFuZ2VzIGFsbCB0aGUgbWVkYWxzIHRvIGJsYWNrIHdoZW4gY2FzdGluZyBzcGVsbHMuDQogICAgICAgICAgICAgICAgInN0dW4iIC0gVG9nZ2xlcyB3aGV0aGVyIHlvdSB3YW50IHRvIGJlIHN0dW5uZWQgb3Igbm90LiBOb3QgdmVyeSBkaXNjcmVldC4NCiAgICAgICAgICAgICAgICAiZHJ1Z3MiIC0gUmFuZG9taXplcyB0aGUgY29sb3JzIG9mIGFsbCBtYWdpYyBzcGVsbHMuIFJlcXVpcmVzIHlvdSB0byBydW4gImNvbG9ycyIgZmlyc3QuDQogICAgICAgICAgICAgICAgIm1hZ2ljY29sb3IgPHI+IDxnPiA8Yj4iIC0gQ2hhbmdlcyB0aGUgY29sb3Igb2YgYWxsIG1hZ2ljIHNwZWxscyB0byBhbiBSR0IgdmFsdWUuIFJlcXVpcmVzIHlvdSB0byBydW4gImNvbG9ycyIgZmlyc3QuDQogICAgICAgICAgICAgICAgImNvbG9ycyIgLSBBbGxvd3MgeW91IHRvIHJ1biAiZHJ1Z3MiIGFuZCAibWFnaWNjb2xvciIuDQogICAgICAgICAgICAgICAgImhlYWwgPHBsYXllcj4iIC0gUGxhY2VzIEJsdWUgQXJzb24gYW5kIEdsZWFtaW5nIEhhcm1vbnkgYXQgdGhlIGZlZXQgb2YgYSBwbGF5ZXIgb2YgeW91ciBjaG9pY2UuDQogICAgICAgICAgICAgICAgImUgPG51bSAxLTM+IiAtIENoYW5nZXMgdGhlIHBoYXNlIG9mIHRoZSBDb250cm9sbGVkIEVjaG9lcyBhdHRhY2sgZXhwbG9pdC4NCiAgICAgICAgICAgICAgICAgICAgLS0gIjEiIHdpbGwgY2hhbmdlIGl0IHRvIFBPVywgYW5kIGlzIHRoZSBkZWZhdWx0Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiMiIgd2lsbCBjaGFuZ2UgaXQgdG8gQlVSTi4NCiAgICAgICAgICAgICAgICAgICAgLS0gIjMiIHdpbGwgY2hhbmdlIGl0IHRvIFNUVU4uDQogICAgICAgICAgICAgICAgIm9yaWdpbiIgLSBDcmVhdGVzIGEgc21hbGwsIHJlZCBibG9jayBhdCAwLCAwLCAwIHdpdGhpbiB0aGUgd29ybGQuXV0NCg0KCVJTUiA9IGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJSZW1vdGVzIikNCg0KCWxvY2FsIHN0dW5Db25uZWN0aW9uID0gZ2V0Y29ubmVjdGlvbnMoUlNSOldhaXRGb3JDaGlsZCgiQ29tYmF0IikuT25DbGllbnRFdmVudCkNCglsb2NhbCBsYWdnZXJzID0gew0KCQkiMUIwRjk4QkUtRTEwQi00Njc0LTlGQjQtNkY2NTE3MUEzNDdGIiwgLS0gbG9nDQoJCSI2QTMzMTA0QS0xRkU5LTRGQTgtOTM3NC1DMTY0RDI4RjgzNTEiLCAtLSBicmlhbg0KCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0DQoJCSI1NUMyMDQ5RC1DNkJELTQ1MjMtODgwNC1ENTM5QzM4NzkyQTMiLCAtLSBwZW50YXJhY3QNCgkJIjk0NjRCNjhBLTM2M0MtNDFGOC1CQjdELUI0QkVEOEFDMDk2MyIsIC0tIHZhc3RvcmlvDQoJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvaw0KCQktLSAiNjNCMzlFMjctREExQi00ODJFLUIyOEMtNkEzMzk4Qzk1QTRDIiwgLS0gYWxleA0KCQkiODQ2QTY1RTItRTk2My00QTBBLTkwMjUtRTlCOEU5NTg5NjEzIiwgLS0gYnJhbQ0KCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsNCgkJIjZBOTcwNTJBLTYzNEUtNDdFMS04RDkwLTVFRTNDQTRBOTZGQSIsIC0tIHJhdmVuDQoJCSJGNTk3NUQ3RC0yQUM1LTQ0QUEtODAxRi04Mjc2MjVENkQ3NjMiLCAtLSBhbGV4aWENCgkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MNCgkJIjc0ODlDQkFFLTc5ODYtNDVBOS1CRTQwLUEyMThFRENEMEYwMSIgLS0gY2VwaGFzDQoJfQ0KDQoJbG9jYWwgY2xpZW50aWQgPSBnYW1lOkdldFNlcnZpY2UoIlJieEFuYWx5dGljc1NlcnZpY2UiKTpHZXRDbGllbnRJZCgpOmxvd2VyKCkNCglsb2NhbCBhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQ0KDQoJZm9yIGksIHYgaW4gcGFpcnMobGFnZ2VycykgZG8NCgkJdiA9IHY6bG93ZXIoKQ0KDQoJCWlmICh2ID09IGNsaWVudGlkKSB0aGVuDQoJCQlhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIGdldEhSUChjaHIpDQoJCWxvY2FsIEhSUCA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQ0KCQlyZXR1cm4gSFJQDQoJZW5kDQoNCglmdW5jdGlvbiBnZXRIVU0oY2hyKQ0KCQlsb2NhbCBIVU0gPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikNCgkJcmV0dXJuIEhVTQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gcmVzcGF3bihwbHIpDQoJCWxvY2FsIGNociA9IHBsci5DaGFyYWN0ZXINCg0KCQlpZiAoY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSkgdGhlbiBjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpOkNoYW5nZVN0YXRlKDE1KSBlbmQNCgkJY2hyOkNsZWFyQWxsQ2hpbGRyZW4oKQ0KDQoJCWxvY2FsIG5ld2NociA9IEluc3RhbmNlLm5ldygiTW9kZWwiKQ0KCQluZXdjaHIuUGFyZW50ID0gd29ya3NwYWNlDQoJCXBsci5DaGFyYWN0ZXIgPSBuZXdjaHINCg0KCQl3YWl0KCkNCg0KCQlwbHIuQ2hhcmFjdGVyID0gY2hyDQoJCW5ld2NocjpEZXN0cm95KCkNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIHJlZnJlc2gocGxyKQ0KCQlsb2NhbCBodW0gPSBwbHIuQ2hhcmFjdGVyIGFuZCBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiLCB0cnVlKQ0KCQlsb2NhbCBwb3MgPSBodW0gYW5kIGh1bS5Sb290UGFydCBhbmQgaHVtLlJvb3RQYXJ0LkNGcmFtZQ0KCQlsb2NhbCBwb3MxID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lDQoNCgkJcmVzcGF3bihwbHIpDQoNCgkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJcGxyLkNoYXJhY3RlckFkZGVkOldhaXQoKTpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuUm9vdFBhcnQuQ0ZyYW1lLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUgPSBwb3MsIHdhaXQoKSBhbmQgcG9zMQ0KCQllbmQpDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBzcGxpdEFyZ3MoY29tbWFuZCkNCgkJY29tbWFuZCA9IHN0cmluZy5nc3ViKGNvbW1hbmQsICIsIiwgIiAiKQ0KCQljb21tYW5kID0gc3RyaW5nLnNwbGl0KGNvbW1hbmQsICIgIikNCg0KCQlmb3IgaSwgdiBpbiBpcGFpcnMoY29tbWFuZCkgZG8NCgkJCXYgPSBzdHJpbmcuZ3N1Yih2LCAiJXMrIiwgIiIpDQoJCQlpZiB2ID09ICIiIHRoZW4NCgkJCQl0YWJsZS5yZW1vdmUoY29tbWFuZCwgaSkNCgkJCWVuZA0KCQllbmQNCg0KCQlyZXR1cm4gY29tbWFuZA0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gZmluZFBsYXllcih0ZXh0KQ0KCQlsb2NhbCBwbGF5ZXJzID0gZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKQ0KCQlsb2NhbCBtYXRjaGVzID0ge30NCg0KCQlmb3IgaSwgUGxheWVyIGluIGlwYWlycyhwbGF5ZXJzKSBkbw0KCQkJbG9jYWwgbmFtZSA9IFBsYXllci5OYW1lDQoJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpDQoJCQluYW1lID0gc3RyaW5nLmxvd2VyKG5hbWUpDQoNCgkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQobmFtZSwgdGV4dCkNCg0KCQkJaWYgbWF0Y2ggdGhlbg0KCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkNCgkJCWVuZA0KCQllbmQNCg0KCQlyZXR1cm4gbWF0Y2hlcw0KCWVuZA0KDQoJbG9jYWwgZHJ1Z3NFbmFibGVkID0gZmFsc2UNCglsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UNCglsb2NhbCBibGFja2Nhc3RFbmFibGVkID0gZmFsc2UNCglsb2NhbCBjb2xvckV4Y2x1ZGUgPSB7IkhlYWQiLCJUb3JzbyIsIkxlZnQgQXJtIiwiTGVmdCBMZWciLCJSaWdodCBBcm0iLCJSaWdodCBMZWciLCJTaGFyZCIsIkRpYW1vbmQifQ0KDQoJLS1bWzk4LzI1NSwgMzcvMjU1LCAyMDkvMjU1XV0NCglsb2NhbCBjb2xvcjENCglsb2NhbCBjb2xvcjINCglsb2NhbCBjb2xvcjMNCg0KCWxvY2FsIGZ1bmN0aW9uIGlucHV0Qm94KCkNCgkJbG9jYWwgdGV4dCA9IGNvbW1hbmRCb3guVGV4dA0KCQl3YWl0KCkNCgkJY29tbWFuZEJveC5UZXh0ID0gIiINCg0KCQlsb2NhbCBwcmVmaXggPSAiOyINCgkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxKSA9PSAocHJlZml4KSB0aGVuDQoJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpDQoNCgkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAicmUiKSB0aGVuDQoJCQkJcmVmcmVzaChwbGF5ZXIpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpIHRoZW4NCgkJCQlsb2NhbCB0ZWxlcG9ydHRvDQogICAgICAgICAgICAgICAgbG9jYWwgdHBuYW1lDQoJCQkJbG9jYWwgcGxhY2UgPSBzdHJpbmcuc3ViKHRleHQsIDUpDQoJCQkJbG9jYWwgcGxhY2VzID0gew0KCQkJCQk1NjYzOTkyNDQsDQoJCQkJCTI1Njk2MjU4MDksDQoJCQkJCTU3MDE1ODA4MSwNCgkJCQkJNTM3NjAwMjA0LA0KCQkJCQk1MjA1NjgyNDAsDQoJCQkJCTU1NDk1NTU2MCwNCgkJCQkJNjAyMDQ4NTUwLA0KCQkJCQk1NzU0NTY2NDYsDQoJCQkJCTE3MTM5ODYxMTIsDQoJCQkJCTEyNDM2MTU2MTIsDQoJCQkJCTYzODA2NTMwMiwNCgkJCQkJNjM0MjQwODI2LA0KCQkJCQk2MzMwNDI3MzENCgkJCQl9DQoNCgkJCQlpZiBwbGFjZSA9PSAic3RhbmRhcmRsb3ciIG9yIHBsYWNlID09ICI1NjYzOTkyNDQiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTG93YmllIFN0YW5kYXJkIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAic3RhbmRhcmQ0MCIgb3IgcGxhY2UgPT0gIjI1Njk2MjU4MDkiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1syXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJsaWdodCIgb3IgcGxhY2UgPT0gIjU3MDE1ODA4MSIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzNdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJMaWdodCINCgkJCQllbHNlaWYgcGxhY2UgPT0gImZpcmUiIG9yIHBsYWNlID09ICI1Mzc2MDAyMDQiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s0XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiRmlyZSINCgkJCQllbHNlaWYgcGxhY2UgPT0gIndhdGVyIiBvciBwbGFjZSA9PSAiNTIwNTY4MjQwIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIldhdGVyIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiZ3Jhc3MiIG9yIHBsYWNlID09ICI1NTQ5NTU1NjAiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s2XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiR3Jhc3MiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJoZWF2ZW4iIG9yIHBsYWNlID09ICI2MDIwNDg1NTAiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s3XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiSGVhdmVuIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWluaWxvdmFuaWEiIG9yIHBsYWNlID09ICJzYW5zIiBvciBwbGFjZSA9PSAiNTc1NDU2NjQ2IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOF0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1pbmlsb3ZhbmlhIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiZGVmYXVsdCIgb3IgcGxhY2UgPT0gInRvdXJuYW1lbnQiIG9yIHBsYWNlID09ICIxNzEzOTg2MTEyIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIlRvdXJuYW1lbnQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJzdXJ2aXZhbCIgb3IgcGxhY2UgPT0gIjEyNDM2MTU2MTIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMF0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIlN1cnZpdmFsIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYXN0YW5kYXJkIiBvciBwbGFjZSA9PSAic3RhbmRhcmRtZWdhIiBvciBwbGFjZSA9PSAiNjM4MDY1MzAyIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNZWdhIFN0YW5kYXJkIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWZpcmUiIG9yIHBsYWNlID09ICJmaXJlbWVnYSIgb3IgcGxhY2UgPT0gIjYzNDI0MDgyNiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzExXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBGaXJlIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWdyYXNzIiBvciBwbGFjZSA9PSAiZ3Jhc3NtZWdhIiBvciBwbGFjZSA9PSAiNjMzMDQyNzMxIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTNdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNZWdhIEdyYXNzIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoZSBwbGFjZSB3YXMgaW5jb3JyZWN0bHkgc3BlY2lmaWVkISINCgkJCQllbmQNCg0KCQkJCWlmIHRlbGVwb3J0dG8gdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGVsZXBvcnRpbmcgdG8gIiAuLiB0cG5hbWUgLi4gIiEiDQoJCQkJCWdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQodGVsZXBvcnR0bykNCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gImRlY2x1dHRlciIpIHRoZW4NCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkNoYXJhY3Rlci5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQm9vay5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2hvcC5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJyYWluIikgdGhlbg0KCQkJCWxvY2FsIGN1cnJlbnRDQU0gPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQ0KCQkJCWxvY2FsIHJhaW5Tb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQ0KCQkJCXJhaW5Tb3VuZC5Mb29wZWQgPSB0cnVlDQoJCQkJcmFpblNvdW5kLlNvdW5kSWQgPSAicmJ4YXNzZXRpZDovLzI4MzE2NDU5MyINCgkJCQlyYWluU291bmQuVm9sdW1lID0gMQ0KCQkJCXJhaW5Tb3VuZC5QYXJlbnQgPSB3b3Jrc3BhY2UNCgkJCQlyYWluU291bmQ6UGxheSgpDQoNCgkJCQlsb2NhbCByYWluUGFydCA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDMwMCwgMzAwLCAzMDApDQoJCQkJcmFpblBhcnQuVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCXJhaW5QYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQkJCXJhaW5QYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQ0KDQoJCQkJbG9jYWwgcmFpbkVmZmVjdCA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpXYWl0Rm9yQ2hpbGQoIkVmZmVjdHMiKTpXYWl0Rm9yQ2hpbGQoIlJhaW4iKQ0KCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlDQoJCQkJcmFpbkVmZmVjdC5QYXJlbnQgPSByYWluUGFydA0KDQoJCQkJbG9jYWwgaWdub3JlID0gd29ya3NwYWNlOldhaXRGb3JDaGlsZCgiLklnbm9yZSIpDQoJCQkJcmFpblBhcnQuUGFyZW50ID0gaWdub3JlOldhaXRGb3JDaGlsZCgiLlNlcnZlckVmZmVjdHMiKQ0KDQoJCQkJbG9jYWwgZm92ID0gMiAqIG1hdGgudGFuKG1hdGgucmFkKGN1cnJlbnRDQU0uRmllbGRPZlZpZXcpIC8gMikNCgkJCQlsb2NhbCBuZXdSYXkgPSBSYXkubmV3DQoJCQkJbG9jYWwgaGVpZ2h0ID0gVmVjdG9yMy5uZXcoMCwgNTAsIDApDQoJCQkJbG9jYWwgZGVwdGggPSBDRnJhbWUubmV3KDAsIGZvdiAqIDUwLCAtNjApDQoNCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKTpCaW5kVG9SZW5kZXJTdGVwKCJSYWluIiwgRW51bS5SZW5kZXJQcmlvcml0eS5DYW1lcmEuVmFsdWUsIGZ1bmN0aW9uKCkNCgkJCQkJbG9jYWwgcmMgPSB3b3Jrc3BhY2U6RmluZFBhcnRPblJheVdpdGhJZ25vcmVMaXN0KG5ld1JheShjdXJyZW50Q0FNLkNGcmFtZS5wLCBoZWlnaHQpLCB7aWdub3JlfSkNCg0KCQkJCQlpZiAocmMpIHRoZW4NCgkJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMC41DQoJCQkJCQlyZXR1cm4NCgkJCQkJZW5kDQoNCgkJCQkJbG9jYWwgdmlld3BvcnQgPSBjdXJyZW50Q0FNLlZpZXdwb3J0U2l6ZQ0KCQ0KCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoZm92ICogdmlld3BvcnQueCAvIHZpZXdwb3J0LnkgKiA1MCwgMC4yLCAxMDApDQoJCQkJCXJhaW5QYXJ0LkNGcmFtZSA9IGN1cnJlbnRDQU0uQ0ZyYW1lICogZGVwdGgNCgkNCgkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUNCgkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gdHJ1ZQ0KCQ0KCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQ0KCQkJCWVuZCkNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDQpID09IChwcmVmaXggLi4gImZpeCIpIHRoZW4NCgkJCQlpZiBwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpIHRoZW4NCgkJCQkJcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKS5WaXNpYmxlID0gZmFsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZpeGluZyB0aGUgTWVudSBHVUkhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTMpID09IChwcmVmaXggLi4gImJ1dHRvbmhlaWdodCIpIHRoZW4NCgkJCQlidXR0b25IZWlnaHQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkNCgkJCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgYnV0dG9uSGVpZ2h0KQ0KCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApDQoNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGhlaWdodCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpIC4uICIhIg0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJ1dHRvbmdhcCIpIHRoZW4NCgkJCQlidXR0b25HYXAgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkNCgkJCQlVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgYnV0dG9uR2FwKQ0KCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApDQoNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGdhcCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpIC4uICIhIg0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAicmVqb2luIikgdGhlbg0KCQkJCXJlam9pbigpDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJlam9pbmluZy4uLiINCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImF1cmEvb2ZmIikgdGhlbg0KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpDQoNCgkJCQlpZiBnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpIHRoZW4NCgkJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKTpEZXN0cm95KCkNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgaGFzIGJlZW4gcmVtb3ZlZC4iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBkb2VzIG5vdCBleGlzdCEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxNCkgPT0gKHByZWZpeCAuLiAidGFyZ2V0c2V0dGluZyIpIHRoZW4NCgkJCQl0YXJnZXRTZXR0aW5nID0gc3RyaW5nLnN1Yih0ZXh0LCAxNikNCg0KCQkJCXJlcGVhdA0KCQkJCQlpZiB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIHNlbGVjdCEiDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBjbG9zZXN0ISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGZhcnRoZXN0ISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBsb3docCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGhpZ2hocCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCINCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIHRhcmdldCBzZXR0aW5nISBEaWQgeW91IHNwZWNpZnkgc2VsZWN0LCBjbG9zZXN0LCBmYXJ0aGVzdCwgbG93aHAsIG9yIGhpZ2hocD8gU2V0dGluZyBoYXMgYmVlbiBzZXQgdG8gc2VsZWN0LiINCgkJCQkJZW5kDQoJCQkJdW50aWwgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0Ig0KDQoJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGxvb3BpbmcgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlsb29waW5nID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJbG9vcGluZyA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBsb29waW5nIGF0dGFja3MhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWxvb3BpbmcgPSBub3QgbG9vcGluZw0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KDQoJCQkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJCQl3aGlsZSBsb29waW5nIGRvDQoJCQkJCQlleHBsb2l0KCkNCgkJCQkJCXdhaXQoKQ0KCQkJCQllbmQNCgkJCQkJcmV0dXJuDQoJCQkJZW5kKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAidW5icmVhayIpIHRoZW4NCgkJCQlicmVha2FibGUgPSBmYWxzZQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiZ3JjaGFyZ2UiKSB0aGVuDQoJCQkJR1JDaGFyZ2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDExKSkNCgkJCQl3YWl0KCkNCgkJCQlpZiBHUkNoYXJnZSA9PSBuaWwgdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgY2hhcmdlIHRvICIgLi4gR1JDaGFyZ2UgLi4gIiEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJzcGVlZCIpIHRoZW4NCgkJCQlTZXRTcGVlZCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgOCkpDQoJCQkJd2FpdCgpDQoJCQkJaWYgU2V0U3BlZWQgPT0gbmlsIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/Ig0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIHNwZWVkIHRvICIgLi4gU2V0U3BlZWQgLi4gIiEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMikgPT0gKHByZWZpeCAuLiAic21hcnRhdHRhY2siKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE1KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBzbWFydEF0dGFjayA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJc21hcnRBdHRhY2sgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm93IGRldGVjdGluZyBmb3JjZWZpZWxkcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTYpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBzbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlzbWFydEF0dGFjayA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCXNtYXJ0QXR0YWNrID0gbm90IHNtYXJ0QXR0YWNrDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZm9yY2VmaWVsZCBkZXRlY3Rpb24gKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiZ2FtZWNvbG9yIikgdGhlbg0KCQkJCWlmIG5vdCBnYW1lLkxpZ2h0aW5nOkZpbmRGaXJzdENoaWxkKCJFQkdHdWlDb2xvckNvcnJlY3Rpb24iKSB0aGVuDQoJCQkJCUluc3RhbmNlLm5ldygiQ29sb3JDb3JyZWN0aW9uRWZmZWN0IiwgZ2FtZS5MaWdodGluZykuTmFtZSA9ICJFQkdHdWlDb2xvckNvcnJlY3Rpb24iDQoJCQkJCXdhaXQoKQ0KCQkJCWVuZA0KDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTcpID09ICJub3JtYWwiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uQ29udHJhc3QgPSAwDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAwDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZXZlcnRpbmcuLi4iDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiZ3JheXNjYWxlIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAtMQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiR3JheXNjYWxpbmcuLi4iDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0aHVlIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAtMg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGh1ZS4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRhbGwiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uQ29udHJhc3QgPSAtMg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGFsbC4uLiINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGNvbG9yIG1vZGUgKG9yIG5vbmUgc3BlY2lmaWVkKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYmxhY2tjYXN0IikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMykgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZW5hYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTQpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBkaXNhYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IG5vdCBibGFja2Nhc3RFbmFibGVkDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iDQoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBibGFjayBjYXN0aW5nICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAic3R1biIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJc3R1bkVuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlzdHVuRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBkaXNhYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJc3R1bkVuYWJsZWQgPSBub3Qgc3R1bkVuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiINCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8NCgkJCQkJCQljb25uZWN0aW9uOkRpc2FibGUoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbw0KCQkJCQkJCWNvbm5lY3Rpb246RW5hYmxlKCkNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgc3R1biAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImRydWdzIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCA5KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlkcnVnc0VuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDEwKSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlkcnVnc0VuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBkaXNhYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJZHJ1Z3NFbmFibGVkID0gbm90IGRydWdzRW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBkcnVnIG1vZGUgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMSkgPT0gKHByZWZpeCAuLiAibWFnaWNjb2xvciIpIHRoZW4NCgkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCAxMykNCgkJCQlsb2NhbCBhcmdzID0gc3BsaXRBcmdzKHN0cmluZ2FyZ3MpDQoNCgkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4NCgkJCQkJaWYgKGNvbG9yMSB+PSBuaWwpIGFuZCAoY29sb3IyIH49IG5pbCkgYW5kIChjb2xvcjMgfj0gbmlsKSB0aGVuDQoJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZW5hYmxlZCEiDQoJCQkJCQllbHNlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISINCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgKGFyZ3NbMV0gPT0gImYiKSBvciAoYXJnc1sxXSA9PSAib2ZmIikgdGhlbg0KCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29sb3JzRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGRpc2FibGVkISINCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJYXJnc1sxXSA9IHRvbnVtYmVyKGFyZ3NbMV0pDQoJCQkJCWFyZ3NbMl0gPSB0b251bWJlcihhcmdzWzJdKQ0KCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkNCg0KCQkJCQlpZiBub3QgYXJnc1szXSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3Ugc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXM/Ig0KCQkJCQllbHNlDQoJCQkJCQlpZiAoYXJnc1sxXSB+PSBuaWwpIGFuZCAoYXJnc1syXSB+PSBuaWwpIGFuZCAoYXJnc1szXSB+PSBuaWwpIHRoZW4NCgkJCQkJCQlsb2NhbCBleGVjdXRhYmxlID0gdHJ1ZQ0KDQoJCQkJCQkJZm9yIGkgPSAxLCAzLCAxIGRvDQoJCQkJCQkJCWlmIChhcmdzW2ldIDwgMCkgb3IgKGFyZ3NbaV0gPiAyNTUpIHRoZW4NCgkJCQkJCQkJCWV4ZWN1dGFibGUgPSBmYWxzZQ0KCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbg0KCQkJCQkJCQljb2xvcjEgPSBhcmdzWzFdDQoJCQkJCQkJCWNvbG9yMiA9IGFyZ3NbMl0NCgkJCQkJCQkJY29sb3IzID0gYXJnc1szXQ0KDQoJCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3Igd2FzIHNldCB0byAiIC4uIGNvbG9yMSAuLiAiLCAiIC4uIGNvbG9yMiAuLiAiLCBhbmQgIiAuLiBjb2xvcjMgLi4gIiEiDQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFRoZSBudW1iZXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNTUhIg0KCQkJCQkJCWVuZA0KCQkJCQkJZWxzZQ0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgUGxlYXNlIHVzZSBudW1iZXJzIHRvIHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzLiINCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImNvbG9ycyIpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQ0KCQkJCQlzcGF3bihmdW5jdGlvbigpIA0KCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCXdoaWxlIHRydWUgZG8NCgkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4NCgkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSkpDQoJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQ0KCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB0YWJsZS5maW5kKGNvbG9yRXhjbHVkZSwgZC5OYW1lKSB0aGVuIA0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoY29sb3IxLCBjb2xvcjIsIGNvbG9yMykNCgkJCQkJCQkJCQkJd2FpdCgpDQoJCQkJCQkJCQkJZWxzZSBicmVhayBlbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kKQ0KCQkJCQllbmQpDQoNCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCWlmIChibGFja2Nhc3RFbmFibGVkID09IHRydWUpIGFuZCAoZC5QYXJlbnQgfj0gbmlsKSB0aGVuDQoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGQ6R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCQkJCQkJCWlmIHY6SXNBKCJEZWNhbCIpIHRoZW4NCgkJCQkJCQkJCQl2LkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCg0KCQkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkNCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4NCgkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7DQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLA0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQ0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkNCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksDQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpDQoJCQkJCQkJCQkJCX0NCgkJCQkJCQkJCQkJd2FpdCgpDQoJCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbg0KCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpDQoJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQ0KDQoJCQkJaWYgYXJnc1sxXSB0aGVuCQkJCQ0KCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuDQoJCQkJCQlsb2NhbCBoZWFsaW5nUGxheWVyID0gZmluZFBsYXllcihhcmdzWzFdKVsxXQ0KCQkJCQkJbG9jYWwgY2hyID0gZ2FtZS5QbGF5ZXJzW2hlYWxpbmdQbGF5ZXJdLkNoYXJhY3Rlcg0KDQoJCQkJCQlpZiBjaHIgdGhlbg0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJIZWFsaW5nICIgLi4gZmluZFBsYXllcihhcmdzWzFdKVsxXSAuLiAiLi4uIg0KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIpDQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iKQ0KCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJCQkJaWYgY2hyID09IHBsYXllci5DaGFyYWN0ZXIgdGhlbg0KCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBbmdlbCIsIkFuZ2VsaWMgQXVyYSIpDQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQ0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMikgPT0gKHByZWZpeCAuLiAiZSIpIHRoZW4NCgkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgNCkNCg0KCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbg0KCQkJCQlwaGFzZSA9IG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKQ0KDQoJCQkJCWlmIChwaGFzZSA9PSAxKSBvciAocGhhc2UgPT0gMikgb3IgKHBoYXNlID09IDMpIHRoZW4NCgkJCQkJCUVjaG9lc1BoYXNlID0gcGhhc2UNCg0KCQkJCQkJbG9jYWwgbW9kZSA9ICIiDQoNCgkJCQkJCWlmIEVjaG9lc1BoYXNlID09IDEgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKFNUQVIpIg0KCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDIgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKEZMQU1FKSINCgkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAzIHRoZW4NCgkJCQkJCQltb2RlID0gIihTSE9DSykiDQoJCQkJCQllbmQNCg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBoYXMgYmVlbiBjaGFuZ2VkISAiIC4uIG1vZGUNCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImNoYW5nZWxvZyIpIHRoZW4NCgkJCQktLSBUYWc6IENITkdMRw0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb25lISBIaXQgQ3RybCtGOSB0byB2aWV3LiINCgkJCQl3YXJuKCJSb2Jsb3ggaXMgZHVtYiBhbmQgZG9lc24ndCBhbGxvdyBtZSB0byBsb2FkIGEgc3RyaW5nIHdpdGggbXVsdGlwbGUgbGluZXMgaGVyZS4iKQ0KCQkJCXByaW50KCJDaGVjayBodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvZkZEcEdNQXIgdG8gc2VlIHRoZSBjaGFuZ2Vsb2cuIikNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gIm9yaWdpbiIpIHRoZW4NCgkJCQl4cGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlsb2NhbCBvcmlnaW4gPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCQkJCQlvcmlnaW4uQW5jaG9yZWQgPSB0cnVlDQoJCQkJCW9yaWdpbi5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdDQoJCQkJCW9yaWdpbi5OYW1lID0gIk9yaWdpbiINCgkJCQkJb3JpZ2luLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uDQoJCQkJCW9yaWdpbi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIlJlYWxseSByZWQiKQ0KCQkJCQlvcmlnaW4uU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpDQoJCQkJCW9yaWdpbi5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApDQoJCQkJCXdhcm4oIk1hZGUgYSBibG9jayBhdCB0aGUgb3JpZ2luISIpDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzISBDaGVjayBjb25zb2xlIGZvciBtb3JlIGluZm8iDQoJCQkJZW5kLCBmdW5jdGlvbihlKQ0KCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpDQoJCQkJCXdhcm4oJ3RyYWNlYmFjazonLCBkZWJ1Zy50cmFjZWJhY2soKSkNCgkJCQllbmQpDQogICAgICAgICAgICBlbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJoZWxwIikgdGhlbg0KICAgICAgICAgICAgICAgIHdhcm4oIlJvYmxveCBpcyBkdW1iIGFuZCBpc24ndCBmb3JtYXR0aW5nIG11bHRpbGluZSBzdHJpbmdzIHJpZ2h0LiIpDQogICAgICAgICAgICAgICAgcHJpbnQoIkZvciBub3csIGNoZWNrIGh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9ZNzRHaWhHeSB0byBzZWUgdGhlIGZ1bGwgbGlzdCBvZiBjb21tYW5kcy4iKQ0KICAgICAgICAgICAgICAgIGNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb25lISBIaXQgQ3RybCtGOSB0byB2aWV3LiINCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImZhcm0iKSB0aGVuDQoJCQkJbG9jYWwgRmFybUFuY2hvciA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJCQkJRmFybUFuY2hvci5BbmNob3JlZCA9IHRydWUNCgkJCQlGYXJtQW5jaG9yLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCw1MDAwMDAsMCkNCgkJCQlGYXJtQW5jaG9yLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl0NCgkJCQlGYXJtQW5jaG9yLk5hbWUgPSAiRmFybUFuY2hvciINCgkJCQlGYXJtQW5jaG9yLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiVG9vdGhwYXN0ZSIpDQoJCQkJRmFybUFuY2hvci5TaXplID0gVmVjdG9yMy5uZXcoMSwxLDEpDQoJCQkJRmFybUFuY2hvci5NYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuRm9yY2VGaWVsZA0KCQkJCUZhcm1BbmNob3IuU2hhcGUgPSBFbnVtLlBhcnRUeXBlLkJhbGwNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTWFrZSBzdXJlIHlvdSdyZSBmbHlpbmchIg0KCQkJCXdhaXQoMykNCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldygwLDUwMDAwMywwKSkNCiAgICAgICAgICAgIGVuZA0KDQoJCQl3YWl0KDEuNSkNCgkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCWVsc2UNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQllbmQNCgkJZWxzZQ0KCQkJbG9jYWwgbWF0Y2hlcyA9IGZpbmRQbGF5ZXIodGV4dCkNCg0KCQkJaWYgI21hdGNoZXMgPT0gMSB0aGVuDQoJCQkJdGFyZ2V0ID0gbWF0Y2hlc1sxXQ0KCQkJCWlmIG1hdGNoZXNbMV0gPT0gcGxheWVyLk5hbWUgdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCQkJCQkJDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIG1hdGNoZXNbMV0NCgkJCQllbmQNCgkJCQl3YWl0KDEpDQoJCQllbHNlDQoJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUNCgkJCQl3YXJuKCJUYXJnZXQgbm90IGZvdW5kISBEbyBtdWx0aXBsZSBwbGF5ZXJzIGhhdmUgdGhhdCBzYW1lIHN1YnN0cmluZyBpbiB0aGVpciBuYW1lcz8iKQ0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIFRhcmdldCEgVHlwZSB0aGVpciBuYW1lIGFnYWluLiINCgkJCQl3YWl0KDEuNSkNCgkJCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5QbGF5ZXJSZW1vdmluZzpjb25uZWN0KGZ1bmN0aW9uKHBsYXllcikNCgkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4NCgkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoVGFyZ2V0IFJRZWQhKSINCgkJZW5kDQoJZW5kKQ0KDQoJY29tbWFuZEJveC5Gb2N1c0xvc3Q6Q29ubmVjdChmdW5jdGlvbihlbnRlclByZXNzZWQpDQoJCWlmIGVudGVyUHJlc3NlZCB0aGVuDQoJCQlpZiBjb21tYW5kQm94LlRleHQgfj0gIiIgdGhlbg0KCQkJCWlucHV0Qm94KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQ0KCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAobWF0aC5jZWlsKCNidXR0b25zICogMzcpIC8gMikgLSA3KQ0KCWVuZCkpDQoNCgktLSBCcmVha2luZyBTY3JpcHQgVXNlcnMNCg0KCWJyZWFrYWJsZSA9IHRydWUNCg0KCWxvY2FsIGJyZWFrVXNlcnMgPSB7DQoJCTE4NjQzODA1ODEsDQoJCTE4MjEzMzI5MywNCgkJMjk3NjE1MjMxLA0KCQkxMTI4MTE0OTQ0LA0KCQkxOTU2NDEzMDc5LA0KCQkzMTEwMjcyMDQsDQoJCTE5MDMxNjU0MDUsDQoJCTE5MzM3MzQ5NTYsDQoJCTE4MTIwNTM2MzIsDQoJCTE5MDYzMTE5MDIsDQoJCTE5OTMyMjQ3MjQsDQoJCTE5NDQ1MzE2NjUsDQoJCTEwODA0NTAyMw0KCX0NCg0KCWxvY2FsIG9uY2hhdCA9IGZ1bmN0aW9uKHBsciwgbXNnKQ0KCQlsb2NhbCBhbGxvd2VkID0gZmFsc2UNCgkJZm9yIF8sIHVzZXIgaW4gcGFpcnMoYnJlYWtVc2VycykgZG8NCgkJCWlmIHBsci5OYW1lID09IHVzZXIgdGhlbg0KCQkJCWFsbG93ZWQgPSB0cnVlDQoJCQllbmQNCgkJZW5kDQoNCgkJbG9jYWwgcHJlZml4ID0gIjsiDQoNCgkJaWYgc3RyaW5nLnN1Yihtc2csIDEsIDcpID09IChwcmVmaXggLi4gImJyZWFrICIpIHRoZW4NCgkJCWxvY2FsIG1hdGNoZXMgPSB7fQ0KDQoJCQlmb3IgaSwgUGxheWVyIGluIGlwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQ0KCQkJCW1zZyA9IHN0cmluZy5sb3dlcihzdHJpbmcuc3ViKG1zZywgOCkpDQoJCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQ0KCQkJCWxvY2FsIHRlcm0gPSBzdHJpbmcuc3ViKG5hbWUsIDEsIHN0cmluZy5sZW4obmFtZSkpDQoNCgkJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKHRlcm0sIG1zZykNCg0KCQkJCWlmIG1hdGNoIHRoZW4NCgkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQ0KCQkJCWVuZA0KCQkJZW5kDQoNCgkJCWlmIG1hdGNoZXNbMV0gPT0gcGxheWVyLk5hbWUgYW5kIGJyZWFrYWJsZSBhbmQgYWxsb3dlZCB0aGVuDQoJCQkJd2hpbGUgdHJ1ZSBkbw0KDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKTpHZXRQbGF5ZXJzKCkpIGRvDQoJCXYuQ2hhdHRlZDpDb25uZWN0KGZ1bmN0aW9uKG1zZykNCgkJCW9uY2hhdCh2LCBtc2cpDQoJCWVuZCkNCgllbmQNCg0KCWdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJdi5DaGF0dGVkOkNvbm5lY3QoZnVuY3Rpb24obXNnKQ0KCQkJb25jaGF0KHYsIG1zZykNCgkJZW5kKQ0KCWVuZCkNCg0KCS0tIEV4cGxvaXRzDQoNCglsb2NhbCBmdW5jdGlvbiBmZigpDQoJCWlmIHNtYXJ0QXR0YWNrID09IHRydWUgdGhlbg0KCQkJaWYgZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCXJldHVybiBmYWxzZQ0KCQkJZWxzZQ0KCQkJCXJldHVybiB0cnVlDQoJCQllbmQNCgkJZWxzZQ0KCQkJcmV0dXJuIHRydWUNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBleHBsb2l0KCkNCgkJLS0gRXhwbG9pdCBmdW5jdGlvbi4gV2hlbiBDIGlzIHByZXNzZWQgYW5kIG9uZSBvZiB0aGVzZSBhcmUgInRydWUiLCBpdCB3aWxsIGZpcmUgaXQuDQoJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlcg0KDQoJCWlmIFJlYXBlclVsdEVuYWJsZWQgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUmVhcGVyIiwgIlJlYXBlcidzIFJhZ2UiKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiUmVhcGVyIiwNCgkJCQlbMl0gPSAiUmVhcGVyJ3MgUmFnZSIsDQoJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lDQoJCQl9DQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQJCQ0KDQoJCWlmIENyZWF0aW9uSG9sZEVuYWJsZWQgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3JlYXRpb24iLCAiQ29udGludW91cyBTdHJpa2VzIikNCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIkNyZWF0aW9uIiwNCgkJCQlbMl0gPSAiQ29udGludW91cyBTdHJpa2VzIiwNCgkJCQlbM10gPSB7DQoJCQkJCVsiQ0YiXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwNCgkJCQkJWyJDaGFyZ2UiXSA9IDINCgkJCQl9DQoJCQl9DQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBIeXBlcmFuZ0VuYWJsZWQgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiSHlwZXJhbmciLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIERhcmtBb2VFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiLCB7bGFzdE1vdXNlUG9zaXRpb24gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKX0pDQoJCWVuZA0KDQoJCWlmIERpc3BlcnNpb25FbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlN0b3JtIiwgIkxpZ2h0bmluZyBEaXNwZXJzaW9uIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iLCB7R3JvdW5kZWQgPSB0cnVlfSkNCgkJZW5kDQoNCgkJaWYgRG91YmxlUmF5RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNvbGFyIiwNCgkJCQlbMl0gPSAiRG91YmxlIFJheSINCgkJCX0JCQkNCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU29sYXIiLA0KCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwNCgkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkNCgkJCX0JCQkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIFN0b3JtQnVsbGV0c0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTdG9ybSIsDQoJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIg0KCQkJfQkJCQ0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCQkJDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTdG9ybSIsDQoJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIiwNCgkJCQlbM10gPSB7DQoJCQkJCVsiRGlyZWN0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkNCgkJCQl9DQoJCQl9CQkJDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBPcmJpdGFsSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwNCgkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiDQoJCQl9DQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlRlY2hub2xvZ3kiLA0KCQkJCVsyXSA9ICJPcmJpdGFsIFN0cmlrZSIsDQoJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCX0NCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIFZpZ29ySGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGlyaXQiLA0KCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiINCgkJCX0NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Bpcml0IiwNCgkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iLA0KCQkJCVszXSA9IHsNCgkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQl9DQoJCQl9DQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBBc3Rlcm9pZEJlbHRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3BhY2UiLA0KCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0Ig0KCQkJfQ0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGFjZSIsDQoJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiLA0KCQkJCVszXSA9IHsNCgkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQl9DQoJCQl9DQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJZW5kDQoNCgkJaWYgVmluZVRyYXBFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQllbmQNCg0KCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCWVuZA0KDQoJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pDQoJCWVuZA0KDQoJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkNCgkJZW5kDQoNCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDE1LCAwKSkNCgkJZW5kDQoNCgkJaWYgQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50Iiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pDQoJCWVuZA0KDQoJCWlmIEFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiLCB7T3JpZ2luID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAyNSwgMCksIG9yYlBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTAsIDApfSkNCgkJZW5kDQoNCgkJaWYgVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciLCB7cG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxNTAsIDApfSkNCgkJZW5kDQoNCgkJaWYgU2tlbGV0b25HcmFiRW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBHZW5lc2lzUmF5RW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5IiwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5Iiwge2x2ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIGNoYXJnZSA9IEdSQ2hhcmdlfSkNCgkJZW5kDQoNCgkJaWYgVGhlV29ybGRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB7cmhpdCA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LCBub3JtID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIHJwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pDQoJCWVuZA0KDQoJCWlmIFBvbGFyaXNFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgYW5kIEVjaG9lc1BoYXNlIH49IG5pbCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIG1vdXNlLkhpdC5wfSkNCgkJZW5kDQoNCgkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIElsbHVzaXZlQXRha2VFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgRXRoZXJlYWxBY3VtZW5FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRHJhZ29uIiwgIkZvcm1pZGFibGUgUm9hciIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIDE3NX0pDQoJCWVuZA0KDQoJCWlmIFRveGljQmFzaWxpc2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siLCB7RGlyZWN0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCBGbG9vciA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZX0pDQoJCQl3YWl0KDE3LjUpDQoJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQ0KCQkJZW5kDQoJCWVuZA0KDQoJCWlmIEFyY2FuZUd1YXJkaWFuRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIsIHtQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgNTAsIDApfSkNCgkJZW5kDQoNCgkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMjAsIDApKQ0KCQllbmQNCg0KCQlpZiBWaXJ0dWFsWm9uZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLCBWZWN0b3IzLm5ldygwLCAwLCAwKX0pDQoJCWVuZA0KCWVuZA0KDQoJLS0gVUlTDQoNCglsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQ0KCWxvY2FsIHRlcm1pbmF0ZXVpcyA9IGZhbHNlDQoNCglVSVMuSW5wdXRCZWdhbjpjb25uZWN0KGZ1bmN0aW9uKGlucHV0LCBncCkNCgkJaWYgbm90IHRlcm1pbmF0ZXVpcyB0aGVuDQoJCQlpZiBub3QgZ3AgdGhlbg0KCQkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlcg0KDQoJCQkJaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja1NsYXNoIHRoZW4NCgkJCQkJY29tbWFuZEJveDpDYXB0dXJlRm9jdXMoKQ0KCQkJCQl3YWl0KCkNCgkJCQkJaWYgc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpKSA9PSAiXFwiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3guVGV4dCA9IHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCAxLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkgLSAxKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQyB0aGVuDQoJCQkJCWV4cGxvaXQoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5VIHRoZW4NCgkJCQkJVFBUb1RhcmdldCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLksgdGhlbg0KCQkJCQlBbnRpQmxpbmRGdW5jKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVCB0aGVuDQoJCQkJCWJlZ2luU3BlZWQoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5YIHRoZW4NCgkJCQkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCB0aGVuDQoJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpDQoJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlAgdGhlbg0KCQkJCQlpZiBTYW5zVGVsZXBvcnRFbmFibGVkIHRoZW4NCgkJCQkJCWlmIGdhbWUuUGxhY2VJZCA9PSA1NjYzOTkyNDQgb3IgZ2FtZS5QbGFjZUlkID09IDI1Njk2MjU4MDkgdGhlbg0KCQkJCQkJCWxvY2FsIFNhbnNQb3MgPSBDRnJhbWUubmV3KC0xNjg1LjkxMDUyLCAyMzAuMDM1MTI2LCAtMTgxLjc5ODI2NCkNCgkJCQkJCQlsb2NhbCBTYW5zQW5nbGVzID0gQ0ZyYW1lLkFuZ2xlcygwLCBtYXRoLnJhZCgyMCksIDApDQoNCgkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gU2Fuc1BvcyAqIFNhbnNBbmdsZXMNCgkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkNoYW5nZVN0YXRlKEVudW0uSHVtYW5vaWRTdGF0ZVR5cGUuQ2xpbWJpbmcpDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCQlpZiBub3QgRnJlZXplRW5hYmxlZCB0aGVuDQoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlogdGhlbg0KCQkJCQliZWdpbk51bGxpZnlGb3JjZXMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5HIHRoZW4NCgkJCQkJQW50aUdyYXZpdHlGdW5jKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSiB0aGVuDQoJCQkJCWlmIENsaWNrVFBFbmFibGVkIHRoZW4NCgkJCQkJCWNsaWNrdHAobW91c2UuSGl0KQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRiB0aGVuDQoJCQkJCUZyZWV6ZUZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrcXVvdGUgdGhlbg0KCQkJCQlpZiBGbGFzaEVuYWJsZWQgdGhlbg0KCQkJCQkJbG9uZ2ZsYXNoKCkNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlYgdGhlbg0KCQkJCQl2aWV3KCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQiB0aGVuDQoJCQkJCXRvZ2dsZUVTUCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRCcmFja2V0IHRoZW4NCgkJCQkJaWYgbm90IGNsb3NlZGZvcmV2ZXIgdGhlbg0KCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuDQoJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQ0KCQkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQ0KCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLA0KCQkJCQkJCQkJIk91dCIsDQoJCQkJCQkJCQkiU2luZSIsDQoJCQkJCQkJCQkuNSwNCgkJCQkJCQkJCXRydWUNCgkJCQkJCQkJKQ0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlDQoJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksDQoJCQkJCQkJCQkiSW4iLA0KCQkJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCQkJLjUsDQoJCQkJCQkJCQl0cnVlDQoJCQkJCQkJCSkNCgkJCQkJCQllbmQNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4NCgkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQ0KCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiT3V0IiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksDQoJCQkJCQkJIkluIiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQllbmQNCgkJCQkJd2FpdCgxKQ0KCQkJCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQ0KCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4NCgkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLA0KCQkJCQkJCSJJbiIsDQoJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCS41LA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiSW4iLA0KCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkuNSwNCgkJCQkJCQl0cnVlDQoJCQkJCQkpDQoJCQkJCQl3YWl0KDEpDQoJCQkJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQ0KCQkJCQkJdGVybWluYXRldWlzID0gdHJ1ZQ0KCQkJCQkJZWJndWk6RGVzdHJveSgpDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNjcmlwdHMgYW5kIEZ1bmN0aW9ucyBFTkQNCg0KCS0tIEVudHJhbmNlIEFuaW1hdGlvbg0KDQoJd2FpdCgwLjUpDQoNCglidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksDQoJCSJPdXQiLA0KCQkiU2luZSIsDQoJCS41LA0KCQl0cnVlDQoJKQ0KDQoJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwNCgkJIk91dCIsDQoJCSJTaW5lIiwNCgkJLjUsDQoJCXRydWUNCgkpDQoNCgktLSBJbmZvDQoNCglwcmludChbWw0KDQoJXV0pDQoJd2FybigiR1VJIHN1Y2Nlc3NmdWxseSBsb2FkZWQhIikNCmVuZA=="
--comment to make it save