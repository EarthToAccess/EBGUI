encui ="aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbg0KCWdhbWUuTG9hZGVkOldhaXQoKQ0KZW5kDQoNCmlmIChnYW1lLkNvcmVHdWk6RmluZEZpcnN0Q2hpbGQoImViZ3VpIikpIHRoZW4NCglnYW1lLkNvcmVHdWkuZWJndWk6RGVzdHJveSgpDQplbmQNCg0KbG9jYWwgYmxvY2tsaXN0ID0gew0KfQ0KDQpsb2NhbCBtYXN0ZXJsaXN0ID0gew0KCTMyNTczMzM0DQp9DQoNCmxvY2FsIGdvbGRsaXN0ID0gew0KCSJnb2xkX0VsZW1lbnRhbEZpcnN0XzM5NzY3OCINCn0NCg0KbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyDQpsb2NhbCBJRCA9IHBsYXllci5Vc2VySWQNCmxvY2FsIGlzQmxvY2tlZCA9IGZhbHNlDQpsb2NhbCBpc01hc3RlciA9IGZhbHNlDQpsb2NhbCBpc0dvbGQgPSBmYWxzZQ0KDQpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQ0KICAgICAgICBicmVhaw0KICAgIGVuZA0KZW5kDQoNCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlDQogICAgICAgIGJyZWFrDQogICAgZW5kDQplbmQNCg0KaWYgaXNCbG9ja2VkIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICBUaGlzIGFjY291bnQgaGFzIGJlZW4gYmxvY2tlZC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2VpZiBub3QgRUJHdWlLZXkgYW5kIG5vdCBpc0Jsb2NrZWQgYW5kIG5vdCBpc01hc3RlciB0aGVuDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpDQplbHNlaWYgRUJHdWlLZXkgfj0gInNjcmlwdF9FbGVtZW50YWwwODIwMjJfMjIwNTAzIiBhbmQgbm90IGlzQmxvY2tlZCBhbmQgbm90IGlzTWFzdGVyIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2UNCgkNCglsb2NhbCBkdW1iUXVvdGVzID0gew0KCQkiSmVleiwgd2hlbidkIGl0IGdldCBzbyBob3QgaW4gaGVyZT8iLA0KCQkiSXMgaXQganVzdCBtZSBvciBpcyB0aGF0ICp0b28qIGJsdWU/IiwNCgkJIkxpa2UgdGFraW5nIGNhbmR5IGZyb20gYSBiYWJ5LiIsDQoJCSJEZWV6IG51dHMgYXJlIHRvbyBzcXVhcmUhIiwNCgkJIkFsc28gdHJ5IE1pbmVjcmFmdCEiLA0KCQkiQWxzbyB0cnkgVGVycmFyaWEhIiwNCgkJIk1laCwgSSBsaWtlZCBSaXNrIG9mIFJhaW4gMiBiZXR0ZXIuIiwNCgkJIllvdSBuZWVkIGEgZmFpcmx5IGhpZ2ggSVEgdG8gdW5kZXJzdGFuZCBFQkd1aS4iLA0KCQkiSmFrZSwgZnJvbSBTdGF0ZSBGYXJtPyEiDQoJfQ0KDQogICAgd2FybihbW19fX19fXyBfX19fXyBfX19fXyAgICAgICBfIA0KICAgICAgICAgICAgfCAgX19ffCBfX18gXCAgX18gXCAgICAgKF8pDQogICAgICAgICAgICB8IHxfXyB8IHxfLyAvIHwgIFwvXyAgIF8gXyANCiAgICAgICAgICAgIHwgIF9ffHwgX19fIFwgfCBfX3wgfCB8IHwgfA0KICAgICAgICAgICAgfCB8X19ffCB8Xy8gLyB8X1wgXCB8X3wgfCB8DQogICAgICAgICAgICBcX19fXy9cX19fXy8gXF9fX18vXF9fLF98X3wgdjIuMl1dKQ0KCXByaW50KCIgIikNCglwcmludChkdW1iUXVvdGVzW21hdGgucmFuZG9tKDEsOSldKQ0KCXByaW50KCIgIikNCgl3YXJuKCJXZWxjb21lIHRvIEVCR3VpLCAiIC4uIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIC4uICIhIikNCgl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQ0KCXdhcm4oIlF1ZXN0aW9ucyBvciBjb25jZXJucz8gTGV0IHVzIGtub3cgaW4gdGhlIERpc2NvcmQsIikNCgl3YXJuKCJvciBlbWFpbCBFYXJ0aCBoaW1zZWxmIGF0IGVhcnRodG9hY2Nlc3NAZ21haWwuY29tISIpDQoJd2FpdCgwLjUpDQoNCglmb3IgaSx2IGluIHBhaXJzKGdvbGRsaXN0KSBkbw0KCQlpZiBub3QgRUJHdWlHb2xkIHRoZW4gZWxzZWlmIEVCR3VpR29sZCA9PSB2IHRoZW4NCgkJCWlzR29sZCA9IHRydWUNCgkJCXByaW50KFtbDQoJCQkJX19fXyAgICAgICAgICAgICBfX18gICAgICBfX18gDQoJCQkgICA2TU1NTWIvICAgICAgICAgICBgTU0gICAgICBgTU0gDQoJCQkgIDhQICAgIFlNICAgICAgICAgICAgTU0gICAgICAgTU0gDQoJCQkgNk0gICAgICBZICAgX19fX18gICAgTU0gICBfX19fTU0gDQoJCQkgTU0gICAgICAgICA2TU1NTU1iICAgTU0gIDZNTU1NTU0gDQoJCQkgTU0gICAgICAgIDZNJyAgIGBNYiAgTU0gNk0nICBgTU0gDQoJCQkgTU0gICAgIF9fX01NICAgICBNTSAgTU0gTU0gICAgTU0gDQoJCQkgTU0gICAgIGBNJ01NICAgICBNTSAgTU0gTU0gICAgTU0gDQoJCQkgWU0gICAgICBNIE1NICAgICBNTSAgTU0gTU0gICAgTU0gDQoJCQkgIDhiICAgIGQ5IFlNLiAgICxNOSAgTU0gWU0uICAsTU0gDQoJCQkgICBZTU1NTTkgICBZTU1NTU05ICBfTU1fIFlNTU1NTU1fXV0pDQoJCQl3YXJuKCJUaGFuayB5b3UgZm9yIGJlaW5nIGEgR09MREVOIG1lbWJlciEiKQ0KCQkJd2FybignRW5qb3kgdGhlIHZhcmlvdXMgIm92ZXJwb3dlcmVkIiBzY3JpcHRzIHdlIGhhdmUgaW4gc3RvcmUhJykNCgkJCWJyZWFrDQoJCWVsc2UgZW5kDQoJZW5kDQoNCgktLSBHVUkgSW5zdGFuY2VzLCBFdmVudHMgYW5kIEZ1bmN0aW9ucw0KDQoJbG9jYWwgZWJndWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpDQoJZWJndWkuTmFtZSA9ICJlYmd1aSINCgllYmd1aS5QYXJlbnQgPSBnYW1lOldhaXRGb3JDaGlsZCgiQ29yZUd1aSIpDQoNCglnYW1lLkNvcmVHdWkuQ2hpbGRSZW1vdmVkOmNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpDQoJCWlmIGNoaWxkLk5hbWUgPT0gImViZ3VpIiB0aGVuDQoJCQljbG9zZWRmb3JldmVyID0gdHJ1ZQ0KCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlDQoJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlDQoJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlDQoJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlDQoJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlDQoJCQlVSVMgPSBuaWwNCgkJCWJyZWFrYWJsZSA9IHRydWUNCgkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IG5pbA0KCQkJVmluZVRyYXBFbmFibGVkID0gbmlsDQoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gbmlsDQoJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gbmlsDQoJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gbmlsDQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IG5pbA0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBuaWwNCgkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBuaWwNCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBuaWwNCgkJCVRoZVdvcmxkRW5hYmxlZCA9IG5pbA0KCQkJUG9sYXJpc0VuYWJsZWQgPSBuaWwNCgkJCUxhZ1NlcnZlckVuYWJsZWQgPSBuaWwNCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBuaWwNCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gbmlsDQoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBuaWwNCgkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IG5pbA0KCQkJU2V3ZXJCdXJzdEVuYWJsZWQgPSBuaWwNCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gbmlsDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBuaWwNCgkJCVZpcnR1YWxab25lRW5hYmxlZCA9IG5pbA0KCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbA0KCQkJQW50aUxhZ0VuYWJsZWQgPSBuaWwNCgkJCVNwZWVkaGFja0VuYWJsZWQgPSBuaWwNCgkJCUhvbG9iZWFtRW5hYmxlZCA9IG5pbA0KCQkJU2V0U3BlZWQgPSBuaWwNCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gbmlsDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwNCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IG5pbA0KCQkJQ2xpY2tUUEVuYWJsZWQgPSBuaWwNCgkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwNCgkJCVRocnVzdEVuYWJsZWQgPSBuaWwNCgkJCVRocnVzdFBvd2VyID0gbmlsDQoJCQl2aWV3aW5nID0gbmlsDQoJCQlUUFRhcmdldEVuYWJsZWQgPSBuaWwNCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBuaWwNCgkJCUVTUEVuYWJsZWQgPSBuaWwNCgkJCVRQU2hhcmRzRW5hYmxlZCA9IG5pbA0KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBuaWwNCgkJCUZQU0Ryb3BwaW5nID0gbmlsDQoJCQlzYW5zS2lsbGVkID0gIndpcCINCgkJCUFzdGVyb2lkQmVsdEVuYWJsZWQgPSBuaWwNCgkJCVZpZ29ySGFja0VuYWJsZWQgPSBuaWwNCgkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IG5pbA0KCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IG5pbA0KCQkJRG91YmxlUmF5RW5hYmxlZCA9IG5pbA0KCQkJRGlzcGVyc2lvbkVuYWJsZWQgPSBuaWwNCgkJCURhcmtBb2VFbmFibGVkID0gbmlsDQoJCQlIeXBlcmFuZ0VuYWJsZWQgPSBuaWwNCgkJZW5kDQoJZW5kKQ0KDQoJbG9jYWwgbW91c2UgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6R2V0TW91c2UoKQ0KDQoJbG9jYWwgYm9yZGVycyA9IHt9DQoNCglsb2NhbCBidXR0b25zbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWJ1dHRvbnNtYWluLk5hbWUgPSAiYnV0dG9uc21haW4iDQoJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkNCglidXR0b25zbWFpbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC4yMjUsIDApDQoJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGJ1dHRvbnNtYWluKQ0KDQoJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UNCglidXR0b25zb3BlbmVkID0gdHJ1ZQ0KDQoNCgktLWlmIChpbml0aWF0aW9uTW9kZSA9PSAiTW9kZXJuIikgdGhlbg0KCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWNvbW1hbmRzbWFpbi5OYW1lID0gImNvbW1hbmRzbWFpbiINCgljb21tYW5kc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCkNCgljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQ0KCXRhYmxlLmluc2VydChib3JkZXJzLCBjb21tYW5kc21haW4pDQoJLS1lbmQNCg0KCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlDQoJY29tbWFuZHNvcGVuZWQgPSB0cnVlDQoNCgljbG9zZWRmb3JldmVyID0gZmFsc2UNCg0KCWxvY2FsIGZyYW1lcyA9IHt9DQoNCgktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBidXR0b25zLg0KCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWJ1dHRvbnNmcmFtZS5OYW1lID0gImJ1dHRvbnNmcmFtZSINCglidXR0b25zZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQ0KCWJ1dHRvbnNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWJ1dHRvbnNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJYnV0dG9uc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJYnV0dG9uc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCWJ1dHRvbnNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkNCgl0YWJsZS5pbnNlcnQoZnJhbWVzLCBidXR0b25zZnJhbWUpDQoJYnV0dG9uc2ZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluDQoNCgktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBjb21tYW5kIGJveC4NCglsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJY29tbWFuZHNmcmFtZS5OYW1lID0gImNvbW1hbmRzZnJhbWUiDQoJY29tbWFuZHNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQ0KCWNvbW1hbmRzZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgljb21tYW5kc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCgljb21tYW5kc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCWNvbW1hbmRzZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApDQoJdGFibGUuaW5zZXJ0KGZyYW1lcywgY29tbWFuZHNmcmFtZSkNCgljb21tYW5kc2ZyYW1lLlBhcmVudCA9IGNvbW1hbmRzbWFpbg0KDQoJLS0gQ29tbWFuZCBib3guIFRoaXMgaXMgd2hlcmUgdXNlcnMgdHlwZSBpbiBjb21tYW5kcyBhbmQgdGFyZ2V0cy4NCglsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikNCgljb21tYW5kQm94Lk5hbWUgPSAiY29tbWFuZEJveCINCgljb21tYW5kQm94LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkNCgljb21tYW5kQm94LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJY29tbWFuZEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkNCgljb21tYW5kQm94LlNpemUgPSBVRGltMi5uZXcoMC44NSwgMCwgMC4yMCwgMCkNCgljb21tYW5kQm94LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCgljb21tYW5kQm94LlRleHQgPSAiIg0KCWNvbW1hbmRCb3guVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJY29tbWFuZEJveC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3guVGV4dFNpemUgPSAxNC4wMDANCgljb21tYW5kQm94LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3guQ2xlYXJUZXh0T25Gb2N1cyA9IGZhbHNlDQoJY29tbWFuZEJveC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCglsb2NhbCBsYWJlbHMgPSB7fQ0KDQoJLS0gVGhlIG91dHB1dCBmb3IgdGhlIGNvbW1hbmQgYm94LCBBS0EgdGhlIHdoaXRlIHRleHQgYmVsb3cgdGhhdCBsaXN0cyB5b3VyIHRhcmdldC4NCglsb2NhbCBjb21tYW5kQm94T3V0cHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCWNvbW1hbmRCb3hPdXRwdXQuTmFtZSA9ICJjb21tYW5kQm94T3V0cHV0Ig0KCWNvbW1hbmRCb3hPdXRwdXQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCgljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCWNvbW1hbmRCb3hPdXRwdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjYsIDApDQoJY29tbWFuZEJveE91dHB1dC5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yLCAwKQ0KCWNvbW1hbmRCb3hPdXRwdXQuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgljb21tYW5kQm94T3V0cHV0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNjYWxlZCA9IHRydWUNCgljb21tYW5kQm94T3V0cHV0LlRleHRTaXplID0gMTQuMDAwDQoJY29tbWFuZEJveE91dHB1dC5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBjb21tYW5kQm94T3V0cHV0KQ0KCWNvbW1hbmRCb3hPdXRwdXQuUGFyZW50ID0gY29tbWFuZHNmcmFtZQ0KDQoJLS0gVGhlIGluZm9ybWF0aW9uIGFib3ZlIHRoZSBidXR0b25zLCBlLmcuIHVzZXIncyBuYW1lLCBjaGFubmVsDQoJbG9jYWwgRGV0YWlscyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzLk5hbWUgPSAiRGV0YWlscyINCglEZXRhaWxzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlscy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCURldGFpbHMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wMTQxNDE0MTQzLCAwKQ0KCURldGFpbHMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHMuVGV4dCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIC4uICIgfCBFQkd1aSB8IFN0YWJsZSINCglEZXRhaWxzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzLlpJbmRleCA9IDUNCglEZXRhaWxzLlRleHRTaXplID0gMTQuMDAwDQoJRGV0YWlscy5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzKQ0KCURldGFpbHMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lDQoNCgktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgY29tbWFuZCBib3guDQoJbG9jYWwgRGV0YWlsczIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlsczIuTmFtZSA9ICJEZXRhaWxzMiINCglEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCURldGFpbHMyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjksIDApDQoJRGV0YWlsczIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMyLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzMi5UZXh0ID0gIlByZXNzIF0gdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIg0KCURldGFpbHMyLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMyLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczIuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzMi5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMikNCglEZXRhaWxzMi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCgktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgYnV0dG9ucy4NCglsb2NhbCBEZXRhaWxzMyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzMy5OYW1lID0gIkRldGFpbHMzIg0KCURldGFpbHMzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC44NzUsIDApDQoJRGV0YWlsczMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMzLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIg0KCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykNCglEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCS0tIFNjcmlwdCB0ZXJtaW5hdGlvbiBpbnN0cnVjdGlvbnMuDQoJbG9jYWwgRGV0YWlsczQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlsczQuTmFtZSA9ICJEZXRhaWxzNCINCglEZXRhaWxzNC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglEZXRhaWxzNC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzNC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCURldGFpbHM0LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDEuMSwgMCkNCglEZXRhaWxzNC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTc1LCAwKQ0KCURldGFpbHM0LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzNC5UZXh0ID0gIkhvbGQgTGVmdCBhbmQgUmlnaHQsIHRoZW4gcHJlc3MgYW55dGhpbmcgdG8gdGVybWluYXRlIHRoZSBzY3JpcHQgYW5kIEdVSXMuIg0KCURldGFpbHM0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHM0LlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczQuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzNC5UZXh0V3JhcHBlZCA9IHRydWUNCglEZXRhaWxzNC5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCS0tIFRoZSB2ZXJzaW9uIG51bWJlciBhYm92ZSB0aGUgY29tbWFuZCBib3guDQoJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglWZXJzaW9uLk5hbWUgPSAiVmVyc2lvbiINCglWZXJzaW9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJVmVyc2lvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCVZlcnNpb24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wNSwgMCkNCglWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQ0KCVZlcnNpb24uRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uIHYyLjIiDQoJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlDQoJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMA0KCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikNCglWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCS0tIFRoZSBiYWNrZ3JvdW5kIGZvciB0aGUgVUkuDQoJbG9jYWwgbWFpbmZyYW1lID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIpDQoJbWFpbmZyYW1lLk5hbWUgPSAibWFpbmZyYW1lIg0KCW1haW5mcmFtZS5BY3RpdmUgPSB0cnVlDQoJbWFpbmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0OSwgODMsIDg5KQ0KCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApDQoJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYNCgltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCS0tIEdyaWQgbGF5b3V0IGZvciB0aGUgYnV0dG9ucy4NCglsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpDQoJVUlHcmlkTGF5b3V0LkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbA0KCVVJR3JpZExheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcg0KCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQ0KCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCAzMCkNCglVSUdyaWRMYXlvdXQuU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXINCglVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lDQoNCglsb2NhbCBidXR0b25zID0ge30NCg0KCS0tLS0gU3RhbmRhcmQgaGFja3MNCgktLSBJbnN0YW50IEJsYXplIENvbHVtbg0KDQoJbG9jYWwgQmxhemVDb2x1bW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUJsYXplQ29sdW1uLk5hbWUgPSAiQmxhemVDb2x1bW4iDQoJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmxhemVDb2x1bW4pDQoNCglCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQ0KDQoJQmxhemVDb2x1bW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQmxhemVDb2x1bW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IHRydWUNCgkJCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9uKSINCgkJZWxzZQ0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gZmFsc2UNCgkJCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgUm9jayBBcm1vcg0KDQoJbG9jYWwgUm9ja0FybW9yID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglSb2NrQXJtb3IuTmFtZSA9ICJSb2NrQXJtb3IiDQoJUm9ja0FybW9yLlRleHQgPSAiSW5zdGFudCBSb2NrIEFybW9yIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBSb2NrQXJtb3IpDQoNCglSb2NrQXJtb3IuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiQm9keSBDb2xvcnMiKSB0aGVuDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyWyJCb2R5IENvbG9ycyJdOkRlc3Ryb3koKQ0KCQllbmQNCgkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpDQoJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBWaW5lIFRyYXANCg0KCWxvY2FsIFZpbmVUcmFwID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaW5lVHJhcC5OYW1lID0gIlZpbmVUcmFwIg0KCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpbmVUcmFwKQ0KDQoJVmluZVRyYXBFbmFibGVkID0gZmFsc2UNCg0KCVZpbmVUcmFwLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZpbmVUcmFwRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlWaW5lVHJhcEVuYWJsZWQgPSB0cnVlDQoJCQlWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPbikiDQoJCWVsc2UNCgkJCVZpbmVUcmFwRW5hYmxlZCA9IGZhbHNlDQoJCQlWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24NCg0KCWxvY2FsIFBsYXNtYUltcGxvc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUGxhc21hSW1wbG9zaW9uLk5hbWUgPSAiUGxhc21hSW1wbG9zaW9uIg0KCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUGxhc21hSW1wbG9zaW9uKQ0KDQoJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IGZhbHNlDQoNCglQbGFzbWFJbXBsb3Npb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gdHJ1ZQ0KCQkJUGxhc21hSW1wbG9zaW9uLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPbikiDQoJCWVsc2UNCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBmYWxzZQ0KCQkJUGxhc21hSW1wbG9zaW9uLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IE11cmt5IE1pc3NpbGVzDQoNCglsb2NhbCBEYXJrQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglEYXJrQW9lLk5hbWUgPSAiRGFya0FvZSINCglEYXJrQW9lLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkNCg0KCWxvY2FsIERhcmtBb2VFbmFibGVkID0gZmFsc2UNCg0KCURhcmtBb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IERhcmtBb2VFbmFibGVkIHRoZW4NCgkJCURhcmtBb2VFbmFibGVkID0gdHJ1ZQ0KCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9uKSINCgkJZWxzZQ0KCQkJRGFya0FvZUVuYWJsZWQgPSBmYWxzZQ0KCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEh5cGVyYW5nIEhhY2sNCg0KCWxvY2FsIFRlY2hSYW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUZWNoUmFuZy5OYW1lID0gIlRlY2hSYW5nIg0KCVRlY2hSYW5nLlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGVjaFJhbmcpDQoNCglsb2NhbCBIeXBlcmFuZ0VuYWJsZWQgPSBmYWxzZQ0KDQoJVGVjaFJhbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IEh5cGVyYW5nRW5hYmxlZCB0aGVuDQoJCQlIeXBlcmFuZ0VuYWJsZWQgPSB0cnVlDQoJCQlUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJSHlwZXJhbmdFbmFibGVkID0gZmFsc2UNCgkJCVRlY2hSYW5nLnRleHQgPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQXN0ZXJvaWQgQmVsdCBIYWNrDQoNCglsb2NhbCBBc3Rlcm9pZEJlbHRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBc3Rlcm9pZEJlbHRIYWNrLk5hbWUgPSAiQXN0ZXJvaWRCZWx0SGFjayINCglBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBc3Rlcm9pZEJlbHRIYWNrKQ0KCQ0KCWxvY2FsIEFzdGVyb2lkQmVsdEVuYWJsZWQgPSBmYWxzZQ0KCQ0KCUFzdGVyb2lkQmVsdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQXN0ZXJvaWRCZWx0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gdHJ1ZQ0KCQkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkFzdGVyb2lkIEJlbHQgSGFjayAoT24pIg0KCQllbHNlDQoJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UNCgkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZpZ29yIEd5cmF0aW9uIEhhY2sNCg0KCWxvY2FsIFZpZ0d5cmF0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVmlnR3lyYXRIYWNrLk5hbWUgPSAiVmlnR3lyYXRIYWNrIg0KCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZ0d5cmF0SGFjaykNCgkNCglsb2NhbCBWaWdvckhhY2tFbmFibGVkID0gZmFsc2UNCgkNCglWaWdHeXJhdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVmlnb3JIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlWaWdvckhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT24pIg0KCQllbHNlDQoJCQlWaWdvckhhY2tFbmFibGVkID0gZmFsc2UNCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIENyeXN0YWwgQXJtYW1lbnQgSGFjaw0KDQoJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglDcnlzdGFsQXJtYW1lbnQuTmFtZSA9ICJDcnlzdGFsQXJtYW1lbnQiDQoJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPbikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENyeXN0YWxBcm1hbWVudCkNCg0KCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQ0KDQoJQ3J5c3RhbEFybWFtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IHRydWUNCgkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT24pIg0KCQllbHNlDQoJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UNCgkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU3BlY3RyYWwgRW1ib2RpbWVudA0KDQoJbG9jYWwgU3BlY3RyYWxFbWJvZGltZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTcGVjdHJhbEVtYm9kaW1lbnQuTmFtZSA9ICJTcGVjdHJhbEVtYm9kaW1lbnQiDQoJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlY3RyYWxFbWJvZGltZW50KQ0KDQoJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlDQoNCglTcGVjdHJhbEVtYm9kaW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gdHJ1ZQ0KCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPbikgW1hdIg0KCQllbHNlDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UNCgkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEdyYXZpdGFsIEdsb2JlIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIg0KCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQ0KDQoJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQ0KDQoJR3Jhdml0YWxHbG9iZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IHRydWUNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGF0aW9uYWxGaWVsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJR3Jhdml0YXRpb25hbEZpZWxkLk5hbWUgPSAiR3Jhdml0YXRpb25hbEZpZWxkIg0KCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQ0KDQoJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IGZhbHNlDQoNCglHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gdHJ1ZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBbWF1cm90aWMgTGFtYmVudCBIYWNrDQoNCglsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCINCglBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkNCg0KCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gZmFsc2UNCg0KCUFtYXVyb3RpY0xhbWJlbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSB0cnVlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT24pIg0KCQllbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrDQoNCglsb2NhbCBBYmxhemVKdWRnZW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFibGF6ZUp1ZGdlbWVudC5OYW1lID0gIkFibGF6ZUp1ZGdlbWVudCINCglBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFibGF6ZUp1ZGdlbWVudCkNCg0KCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gZmFsc2UNCg0KCUFibGF6ZUp1ZGdlbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IHRydWUNCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT24pIg0KCQllbHNlDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZvaWQgT3BlbmluZyBIYWNrDQoNCglsb2NhbCBWb2lkT3BlbmluZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVm9pZE9wZW5pbmcuTmFtZSA9ICJWb2lkT3BlbmluZyINCglWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWb2lkT3BlbmluZykNCg0KCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQ0KDQoJVm9pZE9wZW5pbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT24pIg0KCQllbHNlDQoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gZmFsc2UNCgkJCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgU2tlbGV0b24gR3JhYg0KDQoJbG9jYWwgU2tlbGV0b25HcmFiID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTa2VsZXRvbkdyYWIuTmFtZSA9ICJTa2VsZXRvbkdyYWIiDQoJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIFtBSU1FRF0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNrZWxldG9uR3JhYikNCg0KCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBmYWxzZQ0KDQoJU2tlbGV0b25HcmFiLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNrZWxldG9uR3JhYkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IHRydWUNCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT24pIFtBSU1FRF0iDQoJCWVsc2UNCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBmYWxzZQ0KCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIFtBSU1FRF0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEhvbG9iZWFtIENhbWVyYSBBdHRhY2gNCg0KCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIg0KCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSG9sb2JlYW0pDQoNCglIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKHYpDQoJCWlmICh2IH49IG5pbCkgdGhlbg0KCQkJaWYgbm90KHZpZXdpbmcpIGFuZCAodi5OYW1lID09ICJIb2xvYmVhbSIpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ11bdi5OYW1lXQ0KCQkJZWxzZQ0KCQkJCXY6RGVzdHJveSgpDQoJCQkJcmV0dXJuDQoJCQllbmQNCgkJCQ0KCQkJdi5UcmFuc3BhcmVuY3kgPSAwDQoNCgkJCXdhaXQoNCkNCgkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCWVuZA0KCQkJDQoJCQl2OkRlc3Ryb3koKQ0KCQllbmQNCgllbmQNCgkNCglnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCWlmIEhvbG9iZWFtRW5hYmxlZCB0aGVuDQoJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSB0aGVuDQoJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdi5Qb3NpdGlvbikuTWFnbml0dWRlDQoJCQkJDQoJCQkJaWYgKHYuU2l6ZSA9PSBWZWN0b3IzLm5ldyg1LCA1LCA1KSkgYW5kIChkaXN0YW5jZSA8IDEwKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4NCgkJCQkNCgkJCQkJdi5OYW1lID0gIkhvbG9iZWFtIg0KCQkJCQ0KCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKSANCgkJCQkJCQlhdHRhY2hDYW1lcmEodikgDQoJCQkJCQllbmQpKQ0KCQkJCQllbmQpDQoJCQkJCQ0KCQkJCQlsb2NhbCBndWkgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyDQoJCQkJCQ0KCQkJCQl3YWl0KDAuNSkNCgkJCQkJDQoJCQkJCXdoaWxlIHdhaXQoKSBkbw0KCQkJCQkJaWYgbm90KGd1aVsnMSddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWycyJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzMnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNCddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc1J10uQ0QuVGV4dCA9PSAiLi4uIikgdGhlbg0KCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbg0KCQkJCQkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQkJCQkJCWVuZA0KCQkJDQoJCQkJCQkJCXY6RGVzdHJveSgpDQoJCQkJCQkJZW5kKQ0KCQkJCQkJCQ0KCQkJCQkJCWJyZWFrDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgSG9sb2JlYW1FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUhvbG9iZWFtRW5hYmxlZCA9IHRydWUNCgkJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT24pIg0KCQkJDQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbiB2OkRlc3Ryb3koKSBlbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQ0KCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBbXBsaWZpZWQgR2VuZXNpcyBSYXkNCg0KCWxvY2FsIEdlbmVzaXNSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdlbmVzaXNSYXkuTmFtZSA9ICJHZW5lc2lzUmF5Ig0KCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdlbmVzaXNSYXkpDQoNCglsb2NhbCBHZW5lc2lzUmF5RW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgR1JDaGFyZ2UgPSAxIC0tIDEwMDAwMDANCg0KCUdlbmVzaXNSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR2VuZXNpc1JheUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJR2VuZXNpc1JheUVuYWJsZWQgPSB0cnVlDQoJCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPbikiDQoJCWVsc2UNCgkJCUdlbmVzaXNSYXlFbmFibGVkID0gZmFsc2UNCgkJCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFRoZSBXb3JsZCBIYWNrDQoNCglsb2NhbCBUaGVXb3JsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVGhlV29ybGQuTmFtZSA9ICJUaGVXb3JsZCINCglUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUaGVXb3JsZCkNCg0KCVRoZVdvcmxkRW5hYmxlZCA9IGZhbHNlDQoNCglUaGVXb3JsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBUaGVXb3JsZEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVGhlV29ybGRFbmFibGVkID0gdHJ1ZQ0KCQkJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT24pIg0KCQllbHNlDQoJCQlUaGVXb3JsZEVuYWJsZWQgPSBmYWxzZQ0KCQkJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gUG9sYXJpcyBIYWNrDQoNCglsb2NhbCBQb2xhcmlzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglQb2xhcmlzLk5hbWUgPSAiUG9sYXJpcyINCglQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBQb2xhcmlzKQ0KDQoJUG9sYXJpc0VuYWJsZWQgPSBmYWxzZQ0KDQoJUG9sYXJpcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBQb2xhcmlzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlQb2xhcmlzRW5hYmxlZCA9IHRydWUNCgkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJUG9sYXJpc0VuYWJsZWQgPSBmYWxzZQ0KCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU2hhcmQgQ29sb3JzDQoNCglsb2NhbCBSYW5kb21Db2xvcnMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyINCglSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBSYW5kb21Db2xvcnMpDQoNCglsb2NhbCBDb2xvcnNMaXN0ID0geyJSZWFsbHkgcmVkIiwgIlJlYWxseSBibHVlIiwgIk5ldyBZZWxsZXIiLCAiSG90IHBpbmsiLCAiUm95YWwgcHVycGxlIiwgIkxpbWUgZ3JlZW4iLCAiRGVlcCBvcmFuZ2UiLCAiVG9vdGhwYXN0ZSIsICJJbnN0aXR1dGlvbmFsIHdoaXRlIn0NCglsb2NhbCBTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBmdW5jdGlvbiBzaGFyZFJhbmRvbWl6ZXIoKQ0KCQlmb3IgaSwgY2hpbGQgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgbm90IGNoaWxkLk5hbWUgPT0gIlNoYXJkIiB0aGVuIHByaW50KCJDaGlsZCBub3QgYSBTaGFyZCIpDQoJCQllbHNlaWYgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIGFuZCBub3QgY2hpbGQ6RmluZEZpcnN0Q2hpbGQoIkNDQm9vbCIpIHRoZW4NCgkJCQl4cGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQljaGlsZC5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkNCgkJCQllbmQsIGZ1bmN0aW9uKGUpDQoJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkNCgkJCQkJd2FybigiW3RyYWNlYmFja10gIiwgZGVidWcudHJhY2ViYWNrKCkpDQoJCQkJZW5kKQ0KCQkJCWxvY2FsIENDQm9vbCA9IEluc3RhbmNlLm5ldygiQm9vbFZhbHVlIikNCgkJCQlDQ0Jvb2wuTmFtZSA9ICJDQ0Jvb2wiDQoJCQkJQ0NCb29sLlBhcmVudCA9IGNoaWxkDQoJCQkJQ0NCb29sLlZhbHVlID0gdHJ1ZQ0KCQkJZWxzZWlmIGNoaWxkLk5hbWUgPT0gIlNoYXJkIiBhbmQgY2hpbGQ6RmluZEZpcnN0Q2hpbGQoIkNDQm9vbCIpLlZhbHVlIHRoZW4gZW5kDQoJCWVuZA0KCWVuZA0KDQoJUmFuZG9tQ29sb3JzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNoYXJkQ29sb3JFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNoYXJkQ29sb3JFbmFibGVkID0gdHJ1ZQ0KCQkJcHJpbnQoIlR1cm5lZCBvbiBSYW5kb20gU2hhcmQgQ29sb3JzIikNCgkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9uKSINCgkJCXdoaWxlIFNoYXJkQ29sb3JFbmFibGVkIGRvDQoJCQkJc2hhcmRSYW5kb21pemVyKCkNCgkJCQl3YWl0KDEpDQoJCQllbmQNCgkJZWxzZQ0KCQkJU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQ0KCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSINCgkJZW5kCQ0KCWVuZCkNCg0KCS0tIENvbnRyb2xsZWQgRWNob2VzDQoNCglsb2NhbCBFY2hvZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUVjaG9lcy5OYW1lID0gIkVjaG9lcyINCglFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRWNob2VzKQ0KDQoJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCUVjaG9lc1BoYXNlID0gMQ0KDQoJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gdHJ1ZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9uKSINCgkJZWxzZQ0KCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbg0KDQoJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iDQoJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTaGF0dGVyaW5nRXJ1cHRpb24pDQoNCglTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gZmFsc2UNCg0KCVNoYXR0ZXJpbmdFcnVwdGlvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSB0cnVlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9uKSINCgkJZWxzZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sNCg0KCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIg0KCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbGx1c2l2ZUF0YWtlKQ0KDQoJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBmYWxzZQ0KDQoJSWxsdXNpdmVBdGFrZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IHRydWUNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gZmFsc2UNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBFdGhlcmVhbCBBY3VtZW4gSGFjaw0KDQoJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUV0aGVyZWFsQWN1bWVuLk5hbWUgPSAiRXRoZXJlYWxBY3VtZW4iDQoJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXRoZXJlYWxBY3VtZW4pDQoNCglFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQ0KDQoJRXRoZXJlYWxBY3VtZW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgRXRoZXJlYWxBY3VtZW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IHRydWUNCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gZmFsc2UNCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEZvcm1pZGFibGUgUm9hciBIYWNrDQoNCglsb2NhbCBGb3JtaWRhYmxlUm9hciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRm9ybWlkYWJsZVJvYXIuTmFtZSA9ICJGb3JtaWRhYmxlUm9hciINCglGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikNCg0KCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlDQoNCglGb3JtaWRhYmxlUm9hci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gdHJ1ZQ0KCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT24pIg0KCQllbHNlDQoJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSBmYWxzZQ0KCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVG94aWMgQmFzaWxpc2sgSGFjaw0KDQoJbG9jYWwgVG94aWNCYXNpbGlzayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVG94aWNCYXNpbGlzay5OYW1lID0gIlRveGljQmFzaWxpc2siDQoJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spDQoNCglUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlDQoNCglUb3hpY0Jhc2lsaXNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRveGljQmFzaWxpc2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gdHJ1ZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFyY2FuZSBHdWFyZGlhbiBIYWNrDQoNCglsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiINCglBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBcmNhbmVHdWFyZGlhbikNCg0KCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IGZhbHNlDQoNCglBcmNhbmVHdWFyZGlhbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gdHJ1ZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT24pIg0KCQllbHNlDQoJCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sNCg0KCWxvY2FsIFNwbGl0dGluZ1NsaW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTcGxpdHRpbmdTbGltZS5OYW1lID0gIlNwbGl0dGluZ1NsaW1lIg0KCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwbGl0dGluZ1NsaW1lKQ0KDQoJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UNCg0KCVNwbGl0dGluZ1NsaW1lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSB0cnVlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBMaWdodG5pbmcgQmFycmFnZSBIYWNrDQoNCglsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSINCglCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQ0KDQoJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBub3QgU3Rvcm1CdWxsZXRzRW5hYmxlZCB0aGVuDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gdHJ1ZQ0KCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIg0KCQllbHNlDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gZmFsc2UNCgkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZpcnR1YWwgWm9uZSBIYWNrDQoNCglsb2NhbCBWaXJ0dWFsWm9uZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVmlydHVhbFpvbmUuTmFtZSA9ICJWaXJ0dWFsWm9uZSINCglWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaXJ0dWFsWm9uZSkNCg0KCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlDQoNCglWaXJ0dWFsWm9uZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWaXJ0dWFsWm9uZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gdHJ1ZQ0KCQkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT24pIg0KCQllbHNlDQoJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSBmYWxzZQ0KCQkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW50aS1CbGluZA0KDQoJbG9jYWwgQW50aUJsaW5kID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbnRpQmxpbmQuTmFtZSA9ICJBbnRpQmxpbmQiDQoJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlCbGluZCkNCg0KCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgbm9ybWFsRm9nQ29sb3IgPSBnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yDQoJbG9jYWwgbm9ybWFsRm9nRW5kID0gZ2FtZS5MaWdodGluZy5Gb2dFbmQNCglsb2NhbCBub3JtYWxCcmlnaHRuZXNzID0gZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzDQoJbG9jYWwgbm9ybWFsQ2xvY2tUaW1lID0gZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUNCg0KCWxvY2FsIGZ1bmN0aW9uIEFudGlCbGluZEZ1bmMoKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPbikgW0tdIg0KCQkJd2hpbGUgQW50aUJsaW5kRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nQ29sb3IgPSBub3JtYWxGb2dDb2xvcg0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nRW5kID0gbm9ybWFsRm9nRW5kDQoJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcw0KCQkJCWdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lID0gbm9ybWFsQ2xvY2tUaW1lDQoJCQllbmQNCgkJZWxzZQ0KCQkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSINCgkJZW5kDQoJZW5kDQoNCglBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpDQoNCglnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkIHRoZW4NCgkJCWlmIGQuTmFtZSA9PSAiU2NyZWVuR3VpIiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5TY3JlZW5HdWk6RGVzdHJveSgpDQoJCQllbHNlaWYgZC5OYW1lID09ICJEaXN0b3J0IiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5EaXN0b3J0OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFudGktTGFnDQoNCglsb2NhbCBBbnRpTGFnID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbnRpTGFnLk5hbWUgPSAiQW50aUxhZyINCglBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlMYWcpDQoNCglBbnRpTGFnRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiByZW1vdmVMYWcoKQ0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuTG9jYWxFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuDQoJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbg0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiQmFja0RlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWxNZXNoIikgdGhlbg0KCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbg0KCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQlmb3IgXywgeCBpbiBwYWlycyh2LkNoYXJhY3RlcjpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCWlmIHguTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbg0KCQkJCQl4OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikNCgkJaWYgQW50aUxhZ0VuYWJsZWQgdGhlbg0KCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4NCgkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHYuTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIHRoZW4NCgkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbg0KCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBbnRpTGFnRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpTGFnRW5hYmxlZCA9IHRydWUNCgkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT24pIg0KCQkJcmVtb3ZlTGFnKCkNCgkJZWxzZQ0KCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbmZpbml0ZSBTcHJpbnQNCg0KCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIg0KCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spDQoNCglTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UNCglTZXRTcGVlZCA9IDY0DQoNCglmdW5jdGlvbiBtb2RpZnlTcGVlZCgpDQoJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikuQ2hhbmdlZDpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJCWlmIFNwZWVkaGFja0VuYWJsZWQgYW5kIFNldFNwZWVkIH49IG5pbCB0aGVuDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJZWxzZQ0KCQkJCXJldHVybg0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQ0KCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPbikgW1RdIg0KCQkJbW9kaWZ5U3BlZWQoKQ0KCQkJd2FpdCgpDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQltb2RpZnlTcGVlZCgpDQoJCQkJCXdhaXQoKQ0KCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSINCgkJZW5kDQoJZW5kDQoNCglTcGVlZGhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luU3BlZWQpDQoNCgktLSBJZ25vcmUgUGh5c2ljcw0KDQoJbG9jYWwgSWdub3JlUGh5c2ljcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJSWdub3JlUGh5c2ljcy5OYW1lID0gImZJZ25vcmVQaHlzaWNzIg0KCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElnbm9yZVBoeXNpY3MpDQoNCglJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBmdW5jdGlvbiBpbml0aWFsTnVsbGlmeUZvcmNlcygpDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5GbGlwc0hvbGRlcjpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQ0KCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpDQoJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuDQoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQpDQoJZW5kDQoNCglmdW5jdGlvbiBiZWdpbk51bGxpZnlGb3JjZXMoKQ0KCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IHRydWUNCgkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT24pIFtaXSINCgkJCWluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkNCgkJCUFmdGVyTnVsbGlmeUZvcmNlcygpDQoJCQl3aGlsZSBJZ25vcmVQaHlzaWNzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlDQoJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9mZikgW1pdIg0KCQllbmQNCgllbmQNCg0KCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykNCg0KCS0tIEFudGktR3Jhdml0eQ0KDQoJbG9jYWwgQW50aUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFudGlHcmF2aXR5Lk5hbWUgPSAiQW50aUdyYXZpdHkiDQoJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpR3Jhdml0eSkNCg0KCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBBbnRpR3Jhdml0eUZ1bmMoKQ0KCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW50aUdyYXZpdHlFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9uKSBbR10iDQoJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpDQoJCQlCb2R5Rm9yY2UuUGFyZW50ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0DQoJCQlCb2R5Rm9yY2UuTmFtZSA9ICJBbnRpR3Jhdml0eUZvcmNlIg0KCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkNCgkJZWxzZQ0KCQkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCgkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSINCgkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQW50aUdyYXZpdHlGb3JjZSIpIHRoZW4NCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW50aUdyYXZpdHlGb3JjZTpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCUFudGlHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpR3Jhdml0eUZ1bmMpDQoNCgktLSBJbmVydGlhIEdyYXZpdHkNCg0KCWxvY2FsIEluZXJ0aWFHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Ig0KCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbmVydGlhR3Jhdml0eSkNCg0KCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoNCglJbmVydGlhR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBJbmVydGlhR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gdHJ1ZQ0KCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9uKSINCgkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikNCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiDQoJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCAxNjM4LCAwKQ0KCQllbHNlDQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQ0KCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiDQoJCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkluZXJ0aWFHcmF2aXR5Rm9yY2UiKSB0aGVuDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkluZXJ0aWFHcmF2aXR5Rm9yY2U6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQ2xpY2stVFANCg0KCWxvY2FsIENsaWNrVFAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUNsaWNrVFAuTmFtZSA9ICJDbGlja1RQIg0KCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT2ZmKSBbSiB0byB0cCB0byBtb3VzZV0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENsaWNrVFApDQoNCglDbGlja1RQRW5hYmxlZCA9IGZhbHNlDQoNCglDbGlja1RQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENsaWNrVFBFbmFibGVkID09IHRydWUgdGhlbg0KCQkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQ0KCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIENsaWNrLVRQXSINCgkJZWxzZQ0KCQkJQ2xpY2tUUEVuYWJsZWQgPSB0cnVlDQoJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9uKSBbSiB0byBDbGljay1UUF0iDQoJCWVuZA0KCWVuZCkNCg0KCWZ1bmN0aW9uIGNsaWNrdHAocG9zaXRpb24pDQoJCWxvY2FsIHBsYXllciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcg0KCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZA0KCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpDQoJZW5kDQoNCgktLSBGcmVlemUNCg0KCWxvY2FsIEZyZWV6ZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRnJlZXplLk5hbWUgPSAiRnJlZXplIg0KCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZyZWV6ZSkNCg0KCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gRnJlZXplRnVuYygpDQoJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRnJlZXplRW5hYmxlZCA9IHRydWUNCgkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT24pIFtGXSINCgkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUNCgkJZWxzZQ0KCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlDQoJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIg0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJZW5kDQoJZW5kDQoNCglGcmVlemUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEZyZWV6ZUZ1bmMpDQoNCgktLSBMb25nIEZsYXNoDQoNCglsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUxGbGFzaC5OYW1lID0gIkZsYXNoIg0KCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTEZsYXNoKQ0KDQoJRmxhc2hFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIGxvbmdmbGFzaCgpDQoJCWxvY2FsIG1vdXNlcG9zID0gbW91c2UuSGl0LnANCgkJbG9jYWwgYXJncyA9IHsNCgkJCVsxXSA9ICJTdG9ybSIsDQoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIg0KCQl9DQoJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWxvY2FsIGFyZ3MgPSB7DQoJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsDQoJCQlbM10gPSB7DQoJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLA0KCQkJCVsiT3JpZ2luIl0gPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUucA0KCQkJfQ0KCQl9DQoJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgllbmQNCg0KCUxGbGFzaC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBGbGFzaEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRmxhc2hFbmFibGVkID0gdHJ1ZQ0KCQkJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT24pIFtgIHRvIHVzZV0iDQoJCWVsc2UNCgkJCUZsYXNoRW5hYmxlZCA9IGZhbHNlDQoJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZpZXcgVGFyZ2V0DQoNCglsb2NhbCBWaWV3VGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaWV3VGFyZ2V0Lk5hbWUgPSAiVmlld1RhcmdldCINCglWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaWV3VGFyZ2V0KQ0KDQoJdmlld2luZyA9IGZhbHNlDQoNCglmdW5jdGlvbiB2aWV3KCkNCgkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCWlmIHZpZXdpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCXZpZXdpbmcgPSB0cnVlDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9uKSBbVl0iDQoJCQllbHNlDQoJCQkJdmlld2luZyA9IGZhbHNlDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSINCgkJCWVuZA0KCQllbHNlaWYgdmlld2luZyA9PSB0cnVlIHRoZW4gDQoJCQl2aWV3aW5nID0gZmFsc2UNCgkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSINCgkJZW5kDQoJZW5kDQoNCglWaWV3VGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh2aWV3KQ0KDQoJLS0gVGVsZXBvcnQgdG8gVGFyZ2V0DQoNCglsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCINCglUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQ0KDQoJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIFRQVG9UYXJnZXQoKQ0KCQlpZiBUUFRhcmdldEVuYWJsZWQgYW5kIHRhcmdldCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikNCg0KCQkJZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQ0KCQllbmQNCgllbmQNCg0KCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlDQoJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT24pIFtVXSINCgkJZWxzZQ0KCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCgkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gTG9vcCBUZWxlcG9ydCB0byBUYXJnZXQNCg0KCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTG9vcFRQVGFyZ2V0Lk5hbWUgPSAiTG9vcFRQVGFyZ2V0Ig0KCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpDQoNCglMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCg0KCUxvb3BUUFRhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBMb29wVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSB0cnVlDQoJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT24pIg0KCQkJd2hpbGUgTG9vcFRQVGFyZ2V0RW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCVRQVG9UYXJnZXQoKQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEVTUA0KDQoJbG9jYWwgRVNQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglFU1AuTmFtZSA9ICJFU1AiDQoJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQ0KDQoJRVNQRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkNCglIb2xkZXIuTmFtZSA9ICJFU1AiDQoNCglsb2NhbCBVcGRhdGVGdW5jcyA9IHt9DQoNCglsb2NhbCBCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpDQoJQm94Lk5hbWUgPSAibmlsQm94Ig0KCUJveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkNCglCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQ0KCUJveC5UcmFuc3BhcmVuY3kgPSAwLjcNCglCb3guWkluZGV4ID0gMA0KCUJveC5BbHdheXNPblRvcCA9IHRydWUNCglCb3guVmlzaWJsZSA9IHRydWUNCg0KCWxvY2FsIE5hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpDQoJTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWciDQoJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQ0KCU5hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQ0KCU5hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlDQoJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkNCg0KCWxvY2FsIFRhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgTmFtZVRhZykNCglUYWcuTmFtZSA9ICJUYWciDQoJVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxDQoJVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkNCglUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQ0KCVRhZy5UZXh0U2l6ZSA9IDIwDQoJVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpDQoJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpDQoJVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQNCglUYWcuVGV4dCA9ICJuaWwiDQoJVGFnLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglUYWcuVGV4dFNjYWxlZCA9IGZhbHNlDQoJVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwDQoNCglmdW5jdGlvbiBMb2FkQ2hhcmFjdGVyKHYpDQoJCWlmIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsDQoJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikNCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkNCg0KCQkJbG9jYWwgYiA9IEJveDpDbG9uZSgpDQoJCQliLk5hbWUgPSB2Lk5hbWUgLi4gIkJveCINCgkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCWIuUGFyZW50ID0gdkhvbGRlcg0KDQoJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpDQoJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIk5hbWVUYWciDQoJCQl0LlBhcmVudCA9IHZIb2xkZXINCgkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpDQoJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4NCgkJCQlyZXR1cm4gVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCQllbmQNCgkJCXQuVGFnLlRleHQgPSB2Lk5hbWUNCgkJCXQuRW5hYmxlZCA9IHRydWUNCgkJCXdhaXQoKQ0KDQoJCQlsb2NhbCBmdW5jdGlvbiBVcGRhdGVOYW1lVGFnKCkNCgkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUNCgkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApDQoJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQ0KCQkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZSAuLiAiXG4iIC4uICgobWF4aCB+PSAwIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoKGggLyBtYXhoKSAqIDEwMCkpKSBvciAiMCIpIC4uICIlICAiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKQ0KCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuDQoJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDANCgkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNw0KCQkJCQkJZWxzZQ0KCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQllbmQNCgkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbg0KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4NCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQllbHNlDQoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZCkgdGhlbg0KCQkJCQlVcGRhdGVGdW5jc1t2XSA9IG5pbA0KCQkJCWVuZA0KCQkJZW5kDQoJCQlVcGRhdGVOYW1lVGFnKCkNCgkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZw0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIFVubG9hZENoYXJhY3Rlcih2KQ0KCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJCb3giKSB+PSBuaWwgb3IgdkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIk5hbWVUYWciKSB+PSBuaWwpIHRoZW4NCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gTG9hZFBsYXllcih2KQ0KCQlpZiB2IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuDQoJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBIb2xkZXIpDQoJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUNCgkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpDQoJCQkJaWYgRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJcGNhbGwoTG9hZENoYXJhY3RlciwgdikNCgkJCQllbmQNCgkJCWVuZCkNCgkJCXYuQ2hhcmFjdGVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbigpDQoJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQ0KCQkJZW5kKQ0KCQkJTG9hZENoYXJhY3Rlcih2KQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQ0KCQlVbmxvYWRDaGFyYWN0ZXIodikNCgkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCWlmIHZIb2xkZXIgdGhlbg0KCQkJdkhvbGRlcjpEZXN0cm95KCkNCgkJZW5kDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKTpHZXRQbGF5ZXJzKCkpIGRvDQoJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQ0KCWVuZA0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQlwY2FsbChMb2FkUGxheWVyLCB2KQ0KCWVuZCkNCg0KCWdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQ0KCWVuZCkNCg0KCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQ0KCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbg0KCQkJaWYgSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbg0KCQkJCVVubG9hZENoYXJhY3RlcihpKQ0KCQkJCXdhaXQoKQ0KCQkJCUxvYWRDaGFyYWN0ZXIoaSkNCgkJCWVuZA0KCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4NCgkJCWxvY2FsIHAgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKTpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQ0KCQkJaWYgcCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuDQoJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlVcGRhdGVGdW5jc1twXSgpDQoJCQkJZW5kKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCWZ1bmN0aW9uIHRvZ2dsZUVTUCgpDQoJCWlmIEVTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRVNQRW5hYmxlZCA9IHRydWUNCgkJCUVTUC5UZXh0ID0gIkVTUCAoT24pIFtCXSINCgkJCWZvciBpLHYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0UGxheWVycygpKSBkbw0KCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUVTUEVuYWJsZWQgPSBmYWxzZQ0KCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSINCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChVbmxvYWRQbGF5ZXIsIHYpIGVuZCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCUVTUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlRVNQKQ0KDQoJLS0gVFAgdG8gRHJvcHMNCg0KCWxvY2FsIFRQU2hhcmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUFNoYXJkcy5OYW1lID0gIlRQU2hhcmRzIg0KCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUUFNoYXJkcykNCg0KCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCQ0KDQoJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBEaWFtb25kcy5OYW1lID0gIlRQRGlhbW9uZHMiDQoJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQ0KDQoJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgcGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCXBsYXRlLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlDQoJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkNCglwbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDEwMDAwMCwgMCkNCglwbGF0ZS5BbmNob3JlZCA9IHRydWUNCglwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQ0KCXBsYXRlLlRyYW5zcGFyZW5jeSA9IDAuNQ0KDQoJbG9jYWwgdGltZSA9IDANCglsb2NhbCBjYW5JbnZpcyA9IGZhbHNlDQoNCglmdW5jdGlvbiB0ZWxlcG9ydFRvRHJvcHMoKQ0KCQlsb2NhbCBocnAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5TZXJ2ZXJFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJTaGFyZCIgdGhlbg0KCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQ0KCQkJCXdhaXQoLjIpDQoJCQllbHNlaWYgVFBEaWFtb25kc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiRGlhbW9uZCIgdGhlbg0KCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQ0KCQkJCXdhaXQoLjIpDQoJCQllbmQNCg0KCQkJaWYgY2FuSW52aXMgdGhlbg0KCQkJCWlmIHRpbWUgPT0gNSB0aGVuIA0KCQkJCQlicmVhaw0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KDQoJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkNCg0KCQlyZXR1cm4gDQoJZW5kDQoNCg0KCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQ0KCQlsb2NhbCBocnAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpDQoJCXdoaWxlIHdhaXQoKSBkbw0KCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4NCgkJCQlpZiB0aW1lIH49IDAgdGhlbiByZXR1cm4NCgkJCQllbHNlDQoJCQkJCWlmIGNhbkludmlzIHRoZW4NCgkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQkJd2FpdCgxKQ0KCQkJCQkJcmVwZWF0DQoJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkNCgkJCQkJCQl0aW1lID0gdGltZSArIDENCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQl1bnRpbCB0aW1lID09IDYNCgkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkNCgkJCQkJCXdhaXQoNy41KQ0KCQkJCQkJdGltZSA9IDANCgkJCQkJZWxzZQ0KCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCWlmIG5vdCBUUFNoYXJkc0VuYWJsZWQgYW5kIG5vdCBUUERpYW1vbmRzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCWJyZWFrDQoJCQkJCQkJZW5kDQoJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbHNlDQoJCQkJYnJlYWsNCgkJCWVuZA0KCQllbmQNCg0KCQlyZXR1cm4NCgllbmQNCg0KCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuDQoJCQljYW5JbnZpcyA9IHRydWUNCgkJZW5kDQoJCWlmIFRQU2hhcmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUFNoYXJkc0VuYWJsZWQgPSB0cnVlDQoJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT24pIg0KCQkJc3RhcnRUaW1lcigpDQoJCQl3aGlsZSBUUFNoYXJkc0VuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4NCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwDQoJCQkJCXN0YXJ0VGltZXIoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlDQoJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbg0KCQkJY2FuSW52aXMgPSB0cnVlDQoJCWVuZA0KCQlpZiBUUERpYW1vbmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IHRydWUNCgkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT24pIg0KCQkJc3RhcnRUaW1lcigpDQoJCQl3aGlsZSBUUERpYW1vbmRzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJc3RhcnRUaW1lcigpDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQ0KCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgkNCglsb2NhbCBnb2xkYnV0dG9ucyA9IHt9DQoNCgktLS0tIEdvbGQgSGFja3MNCgktLSBPcmJpdGFsIFN0cmlrZSBIYWNrDQoNCglsb2NhbCBPcmJpdGFsID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglPcmJpdGFsLk5hbWUgPSAiT3JpYnRhbCINCglPcmJpdGFsLlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoZ29sZGJ1dHRvbnMsIE9yYml0YWwpDQoNCglsb2NhbCBPcmJpdGFsSGFja0VuYWJsZWQgPSBmYWxzZQ0KDQoJT3JiaXRhbC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgbm90IE9yYml0YWxIYWNrRW5hYmxlZCB0aGVuDQoJCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJCU9yYml0YWwuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPbikiDQoJCQllbHNlDQoJCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UNCgkJCQlPcmJpdGFsLlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlPcmJpdGFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJT3JiaXRhbC5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNsaW1lIEJ1ZGRpZXMgSGFjaw0KDQoJbG9jYWwgU2xpbWVCdWRkaWVzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTbGltZUJ1ZGRpZXMuTmFtZSA9ICJTbGltZUJ1ZGRpZXMiDQoJU2xpbWVCdWRkaWVzLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChnb2xkYnV0dG9ucywgU2xpbWVCdWRkaWVzKQ0KDQoJbG9jYWwgU2xpbWVCdWRkaWVzRW5hYmxlZCA9IGZhbHNlDQoNCglTbGltZUJ1ZGRpZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSB0cnVlDQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPbikiDQoJCQllbHNlDQoJCQkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IGZhbHNlDQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMSkNCgkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIlNsaW1iZSBCdWRkaWVzIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCgktLSBJbnN0YW50IEFpciBEaXNwZXJzaW9uDQoNCglsb2NhbCBTdG9ybUFvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3Rvcm1Bb2UuTmFtZSA9ICJTdG9ybUFvZSINCglTdG9ybUFvZS5UZXh0ID0gIkluc3RhbnQgU3Rvcm0gQW9FIChPZmYpIg0KCXRhYmxlLmluc2VydChnb2xkYnV0dG9ucywgU3Rvcm1Bb2UpDQoNCglsb2NhbCBEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlDQoNCglTdG9ybUFvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgbm90IERpc3BlcnNpb25FbmFibGVkIHRoZW4NCgkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IHRydWUNCgkJCQlTdG9ybUFvZS5UZXh0ID0gIkluc3RhbnQgU3Rvcm0gQW9FIChPbikiDQoJCQllbHNlDQoJCQkJRGlzcGVyc2lvbkVuYWJsZWQgPSBmYWxzZQ0KCQkJCVN0b3JtQW9lLlRleHQgPSAiSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiDQoJCQllbmQJDQoJCWVsc2UNCgkJCVN0b3JtQW9lLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJU3Rvcm1Bb2UuVGV4dCA9ICJJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRG91YmxlIFJheSBIYWNrDQoNCglsb2NhbCBEb3VibGVSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCURvdWJsZVJheS5OYW1lID0gIkRvdWJsZVJheSINCglEb3VibGVSYXkuVGV4dCA9ICJEb3VibGUgUmF5IEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGdvbGRidXR0b25zLCBEb3VibGVSYXkpDQoNCglEb3VibGVSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBEb3VibGVSYXlFbmFibGVkIHRoZW4NCgkJCQlEb3VibGVSYXlFbmFibGVkID0gdHJ1ZQ0KCQkJCURvdWJsZVJheS5UZXh0ID0gIkRvdWJsZSBSYXkgSGFjayAoT24pIg0KCQkJZWxzZQ0KCQkJCURvdWJsZVJheUVuYWJsZWQgPSBmYWxzZQ0KCQkJCURvdWJsZVJheS5UZXh0ID0gIkRvdWJsZSBSYXkgSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlEb3VibGVSYXkuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiDQoJCQl3YWl0KDEpDQoJCQlEb3VibGVSYXkuVGV4dCA9ICJEb3VibGUgUmF5IEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFJlam9pbiBTZXJ2ZXIgRnVuY3Rpb24NCg0KCS0tIFRoaXMgd2FzIG9ubHkgcHJlc2VydmVkIGFzIEkgY291bGRuJ3QgdGhpbmsgb2YgYW55IG90aGVyIHBsYWNlIHRvIHB1dCB0aGUgZnVuY3Rpb24gZm9yIG5vdy4NCgktLSBNaWdodCBnZXQgbW92ZWQgbGF0ZXIsIGlkdW5uby4NCglmdW5jdGlvbiByZWpvaW4oKQ0KCQlsb2NhbCB0cyA9IGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIikNCgkJbG9jYWwgcCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyDQoNCgkJdHM6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBwKQ0KCWVuZA0KDQoJLS0gR1VJIFR3ZWFraW5nDQoNCglmb3IgaSwgdiBpbiBwYWlycyhib3JkZXJzKSBkbw0KCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQ0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MA0KCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZDQoJCXYuQWN0aXZlID0gdHJ1ZQ0KCQl2LlBhcmVudCA9IGViZ3VpDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbw0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDIwLCAxMTUpDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCQl2LlRleHRTY2FsZWQgPSB0cnVlDQoJCXYuVGV4dFNpemUgPSAxNC4wMDANCgkJdi5UZXh0V3JhcHBlZCA9IHRydWUNCgkJdi5MYXlvdXRPcmRlciA9IGkNCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUNCgllbmQNCg0KCWZvciBpLCB2IGluIHBhaXJzKGdvbGRidXR0b25zKSBkbw0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDE3NSwgMjApDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCQl2LlRleHRTY2FsZWQgPSB0cnVlDQoJCXYuVGV4dFNpemUgPSAxNC4wMDANCgkJdi5UZXh0V3JhcHBlZCA9IHRydWUNCgkJdi5MYXlvdXRPcmRlciA9IGkNCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUNCgllbmQNCg0KCS0tIGNvbW1hbmRCb3gNCg0KCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiDQoJbG9vcGluZyA9IGZhbHNlDQoJc21hcnRBdHRhY2sgPSB0cnVlDQoJSGVhbFNldHRpbmcgPSAxDQoJc3R1bkVuYWJsZWQgPSB0cnVlDQoJRlBTRHJvcHBpbmcgPSBmYWxzZQ0KCWxvY2FsIGJ1dHRvbkhlaWdodCA9IDMwDQoJbG9jYWwgYnV0dG9uR2FwID0gNw0KICAgIGxvY2FsIGhlbHAxID0gW1t8fCBCZWxvdyBpcyBhIGZ1bGwsIGNvbXByZWhlbnNpdmUgbGlzdCBvZiBlYWNoIGNvbW1hbmQgRUJHVUkgaGFzIHRvIG9mZmVyLiB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAoUHJlZml4IGlzIDspDQoNCiAgICAgICAgICAgICAgICAiaGVscCBbbnVtXSIgLSBTaG93cyB0aGlzIGNvbW1hbmRzIGxpc3QhIENob29zZSBiZXR3ZWVuIHBhZ2VzIDEgb3IgMi4NCiAgICAgICAgICAgICAgICAiY2hhbmdlbG9nIiAtIFNob3dzIGEgbGluayB0byB0aGUgY2hhbmdlbG9nIGZvciBFQkdVSSBhbmQgaXRzIENhbmFyeSBicmFuY2guDQogICAgICAgICAgICAgICAgInJlIiAtIFJlZnJlc2hlcyB5b3VyIGNoYXJhY3Rlci4gVGhpcyB3aWxsIHRlbXBvcmFyaWx5IHZhbmlzaCB5b3UsIGFuZCBicmluZyB5b3UgYmFjayB3aXRoIGZ1bGwgc3RhdHMuDQogICAgICAgICAgICAgICAgInRwIDxtYXA+IiAtIFRlbGVwb3J0cyB5b3UgdG8gdGhlIG1hcCBvZiB5b3VyIGNob2ljZS4gSGVhdmVuIGRvZXNuJ3Qgd29yayB3aXRob3V0IHRoZSBnYW1lcGFzcy4NCiAgICAgICAgICAgICAgICAiZGVjbHV0dGVyIiAtIENsZWFycyB0aGUgYmFja2dyb3VuZHMgb2YgdGhlIG1haW4gR1VJcywgYW5kIHNocmlua3MgdGhlIG1vdmVzL3N0YXRzLg0KICAgICAgICAgICAgICAgICJyYWluIiAtIEVuYWJsZXMgdGhlIHJhaW4gZnJvbSBXYXRlciBtYXAuIENhcmVmdWwsIHlvdSBoYXZlIHRvIHJlam9pbiB0byB0dXJuIGl0IG9mZiENCiAgICAgICAgICAgICAgICAiZml4IiAtIFJlbW92ZXMgdGhlICJMT0FESU5HIiBzY3JlZW4gd2hlbiB0ZWxlcG9ydGluZyB0byBjZXJ0YWluIG1hcHMuDQogICAgICAgICAgICAgICAgImJ1dHRvbmhlaWdodCA8bnVtPiIgLSBDaGFuZ2VzIHRoZSBoZWlnaHQsIGluIHBpeGVscywgb2YgRUJHVUkncyBidXR0b25zLg0KICAgICAgICAgICAgICAgICJidXR0b25nYXAgPG51bT4iIC0gQ2hhbmdlcyB0aGUgZ2FwLCBpbiBwaXhlbHMsIGJldHdlZW4gRUJHVUkncyBidXR0b25zLg0KICAgICAgICAgICAgICAgICJyZWpvaW4iIC0gUmVqb2lucyB0aGUgc2VydmVyLg0KICAgICAgICAgICAgICAgICJhdXJhL29mZiIgLSBBbiBhbHRlcm5hdGUgbWV0aG9kIG9mIHNpbGVudGx5IHR1cm5pbmcgb2ZmIGF1cmEuDQogICAgICAgICAgICAgICAgInRhcmdldHNldHRpbmcgPG1vZGU+IiAtIE1vZGlmaWVzIGhvdyBFQkdVSSBzZWxlY3RzIHRhcmdldHMuIFdvbid0IHRhcmdldCB0aG9zZSBpbiBzYWZlem9uZSwgZXhjZXB0IGluICJzZWxlY3QiIG1vZGUuDQogICAgICAgICAgICAgICAgICAgIC0tICJzZWxlY3QiIGFsbG93cyB5b3UgdG8gY2hvb3NlIGJ5IHR5cGluZyBpbnRvIHRoZSBjb21tYW5kIGJveC4gU2V0IHRvIHRoaXMgYnkgZGVmYXVsdC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImNsb3Nlc3QiIHNlbGVjdHMgdGhlIHBlcnNvbiBjbG9zZXN0IHRvIHlvdS4NCiAgICAgICAgICAgICAgICAgICAgLS0gImZhcnRoZXN0IiBzZWxlY3RzIHRoZSBwZXJzb24gZmFydGhlc3QgZnJvbSB5b3UuDQogICAgICAgICAgICAgICAgICAgIC0tICJsb3docCIgc2VsZWN0cyB0aGUgcGVyc29uIHdpdGggdGhlIGxvd2VzdCBIUC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImhpZ2hocCIgc2VsZWN0cyB0aGUgY2xvc2VzdCBwZXJzb24gd2l0aCB0aGUgaGlnaGVzdCBIUC5dXQ0KDQogICAgbG9jYWwgaGVscDIgPSBbWyJsb29wIiAtIExvb3BzIHRoZSB1c2FnZSBvZiBlbmFibGVkIGF0dGFjayBleHBsb2l0cy4NCiAgICAgICAgICAgICAgICAiZ3JjaGFyZ2UgPG51bT4iIC0gTXVsdGlwbGllcyB0aGUgdGltZSBBbXBsaWZpZWQgR2VuZXNpcyBSYXkgYXR0YWNrIGV4cGxvaXQgc3RheXMgYWxpdmUgZm9yLiBEZWZhdWx0LCAxLCBsYXN0cyA2IHNlY29uZHMuDQogICAgICAgICAgICAgICAgInNwZWVkIDxudW0+IiAtIENoYW5nZXMgeW91ciBkZWZhdWx0IHdhbGtzcGVlZC4gRGVmYXVsdCwgNjQsIGVxdWFscyBtYXgtc3BlZWQgc3ByaW50aW5nLg0KICAgICAgICAgICAgICAgICJzbWFydGF0dGFjayIgLSBUb2dnbGVzIGlmIGF0dGFjayBleHBsb2l0cyB3aWxsIGZpcmUgb24gcGVvcGxlIHdobyBhcmUgaW4gc2FmZXpvbmUuIERlZmF1bHQgb24uDQogICAgICAgICAgICAgICAgImdhbWVjb2xvciA8bW9kZT4iIC0gQ2hhbmdlcyB0aGUgY29udHJhc3QgYW5kIHNhdHVyYXRpb24gb2YgdGhlIGdhbWUuDQogICAgICAgICAgICAgICAgICAgIC0tICJub3JtYWwiIHdpbGwgcmVzZXQgZXZlcnl0aGluZyB0byBub3JtYWwuDQogICAgICAgICAgICAgICAgICAgIC0tICJncmF5c2NhbGUiIHR1cm5zIG9mZiB0aGUgc2F0dXJhdGlvbiBhbmQgbWFrZXMgZXZlcnl0aGluZyBncmF5Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiaW52ZXJ0aHVlIiBpbnZlcnRzIHRoZSBodWUgb2YgZXZlcnl0aGluZy4gR3JlZW4gYmVjb21lcyBwdXJwbGUsIGJsdWUgYmVjb21lcyByZWQuDQogICAgICAgICAgICAgICAgICAgIC0tICJpbnZlcnRhbGwiIGludmVydHMgdGhlIGh1ZSwgc2F0dXJhdGlvbiwgYW5kIGNvbnRyYXN0IG9mIGV2ZXJ5dGhpbmcuIE5lZ2F0aXZlIQ0KICAgICAgICAgICAgICAgICJibGFja2Nhc3QiIC0gQ2hhbmdlcyBhbGwgdGhlIG1lZGFscyB0byBibGFjayB3aGVuIGNhc3Rpbmcgc3BlbGxzLg0KICAgICAgICAgICAgICAgICJzdHVuIiAtIFRvZ2dsZXMgd2hldGhlciB5b3Ugd2FudCB0byBiZSBzdHVubmVkIG9yIG5vdC4gTm90IHZlcnkgZGlzY3JlZXQuDQogICAgICAgICAgICAgICAgImRydWdzIiAtIFJhbmRvbWl6ZXMgdGhlIGNvbG9ycyBvZiBhbGwgbWFnaWMgc3BlbGxzLiBSZXF1aXJlcyB5b3UgdG8gcnVuICJjb2xvcnMiIGZpcnN0Lg0KICAgICAgICAgICAgICAgICJtYWdpY2NvbG9yIDxyPiA8Zz4gPGI+IiAtIENoYW5nZXMgdGhlIGNvbG9yIG9mIGFsbCBtYWdpYyBzcGVsbHMgdG8gYW4gUkdCIHZhbHVlLiBSZXF1aXJlcyB5b3UgdG8gcnVuICJjb2xvcnMiIGZpcnN0Lg0KICAgICAgICAgICAgICAgICJjb2xvcnMiIC0gQWxsb3dzIHlvdSB0byBydW4gImRydWdzIiBhbmQgIm1hZ2ljY29sb3IiLg0KICAgICAgICAgICAgICAgICJoZWFsIDxwbGF5ZXI+IiAtIFBsYWNlcyBCbHVlIEFyc29uIGFuZCBHbGVhbWluZyBIYXJtb255IGF0IHRoZSBmZWV0IG9mIGEgcGxheWVyIG9mIHlvdXIgY2hvaWNlLg0KICAgICAgICAgICAgICAgICJlIDxudW0gMS0zPiIgLSBDaGFuZ2VzIHRoZSBwaGFzZSBvZiB0aGUgQ29udHJvbGxlZCBFY2hvZXMgYXR0YWNrIGV4cGxvaXQuDQogICAgICAgICAgICAgICAgICAgIC0tICIxIiB3aWxsIGNoYW5nZSBpdCB0byBQT1csIGFuZCBpcyB0aGUgZGVmYXVsdC4NCiAgICAgICAgICAgICAgICAgICAgLS0gIjIiIHdpbGwgY2hhbmdlIGl0IHRvIEJVUk4uDQogICAgICAgICAgICAgICAgICAgIC0tICIzIiB3aWxsIGNoYW5nZSBpdCB0byBTVFVOLg0KICAgICAgICAgICAgICAgICJvcmlnaW4iIC0gQ3JlYXRlcyBhIHNtYWxsLCByZWQgYmxvY2sgYXQgMCwgMCwgMCB3aXRoaW4gdGhlIHdvcmxkLl1dDQoNCglSU1IgPSBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlOldhaXRGb3JDaGlsZCgiUmVtb3RlcyIpDQoNCglsb2NhbCBzdHVuQ29ubmVjdGlvbiA9IGdldGNvbm5lY3Rpb25zKFJTUjpXYWl0Rm9yQ2hpbGQoIkNvbWJhdCIpLk9uQ2xpZW50RXZlbnQpDQoJbG9jYWwgbGFnZ2VycyA9IHsNCgkJIjFCMEY5OEJFLUUxMEItNDY3NC05RkI0LTZGNjUxNzFBMzQ3RiIsIC0tIGxvZw0KCQkiNkEzMzEwNEEtMUZFOS00RkE4LTkzNzQtQzE2NEQyOEY4MzUxIiwgLS0gYnJpYW4NCgkJIjgzNzczNkFBLTAxOTItNDdGOS05OEM1LThERDBERjE4RkU3NCIsIC0tIGpldA0KCQkiNTVDMjA0OUQtQzZCRC00NTIzLTg4MDQtRDUzOUMzODc5MkEzIiwgLS0gcGVudGFyYWN0DQoJCSI5NDY0QjY4QS0zNjNDLTQxRjgtQkI3RC1CNEJFRDhBQzA5NjMiLCAtLSB2YXN0b3Jpbw0KCQktLSAiODMwQkQ0RTktNUVCRS00QTEzLUI0N0ItOUJFNjAwODNCODM2IiwgLS0gbG9sb2sNCgkJLS0gIjYzQjM5RTI3LURBMUItNDgyRS1CMjhDLTZBMzM5OEM5NUE0QyIsIC0tIGFsZXgNCgkJIjg0NkE2NUUyLUU5NjMtNEEwQS05MDI1LUU5QjhFOTU4OTYxMyIsIC0tIGJyYW0NCgkJIjNGMTY4NDQwLUE1QzAtNEY3MS04RTUxLTNGREY5MDI1RjUxQiIsIC0tIHRvbWVrDQoJCSI2QTk3MDUyQS02MzRFLTQ3RTEtOEQ5MC01RUUzQ0E0QTk2RkEiLCAtLSByYXZlbg0KCQkiRjU5NzVEN0QtMkFDNS00NEFBLTgwMUYtODI3NjI1RDZENzYzIiwgLS0gYWxleGlhDQoJCSI0ODI4NzE4Mi05RTc3LTRGOTctQTY1NC05NzA2OUVEODE2NkMiLCAtLSBqZXNzDQoJCSI3NDg5Q0JBRS03OTg2LTQ1QTktQkU0MC1BMjE4RURDRDBGMDEiIC0tIGNlcGhhcw0KCX0NCg0KCWxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpDQoJbG9jYWwgYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUNCg0KCWZvciBpLCB2IGluIHBhaXJzKGxhZ2dlcnMpIGRvDQoJCXYgPSB2Omxvd2VyKCkNCg0KCQlpZiAodiA9PSBjbGllbnRpZCkgdGhlbg0KCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBnZXRIUlAoY2hyKQ0KCQlsb2NhbCBIUlAgPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikNCgkJcmV0dXJuIEhSUA0KCWVuZA0KDQoJZnVuY3Rpb24gZ2V0SFVNKGNocikNCgkJbG9jYWwgSFVNID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpDQoJCXJldHVybiBIVU0NCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIHJlc3Bhd24ocGxyKQ0KCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyDQoNCgkJaWYgKGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikpIHRoZW4gY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKTpDaGFuZ2VTdGF0ZSgxNSkgZW5kDQoJCWNocjpDbGVhckFsbENoaWxkcmVuKCkNCg0KCQlsb2NhbCBuZXdjaHIgPSBJbnN0YW5jZS5uZXcoIk1vZGVsIikNCgkJbmV3Y2hyLlBhcmVudCA9IHdvcmtzcGFjZQ0KCQlwbHIuQ2hhcmFjdGVyID0gbmV3Y2hyDQoNCgkJd2FpdCgpDQoNCgkJcGxyLkNoYXJhY3RlciA9IGNocg0KCQluZXdjaHI6RGVzdHJveSgpDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiByZWZyZXNoKHBscikNCgkJbG9jYWwgaHVtID0gcGxyLkNoYXJhY3RlciBhbmQgcGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIiwgdHJ1ZSkNCgkJbG9jYWwgcG9zID0gaHVtIGFuZCBodW0uUm9vdFBhcnQgYW5kIGh1bS5Sb290UGFydC5DRnJhbWUNCgkJbG9jYWwgcG9zMSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZQ0KDQoJCXJlc3Bhd24ocGxyKQ0KDQoJCXNwYXduKGZ1bmN0aW9uKCkNCgkJCXBsci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCk6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpLlJvb3RQYXJ0LkNGcmFtZSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lID0gcG9zLCB3YWl0KCkgYW5kIHBvczENCgkJZW5kKQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gc3BsaXRBcmdzKGNvbW1hbmQpDQoJCWNvbW1hbmQgPSBzdHJpbmcuZ3N1Yihjb21tYW5kLCAiLCIsICIgIikNCgkJY29tbWFuZCA9IHN0cmluZy5zcGxpdChjb21tYW5kLCAiICIpDQoNCgkJZm9yIGksIHYgaW4gaXBhaXJzKGNvbW1hbmQpIGRvDQoJCQl2ID0gc3RyaW5nLmdzdWIodiwgIiVzKyIsICIiKQ0KCQkJaWYgdiA9PSAiIiB0aGVuDQoJCQkJdGFibGUucmVtb3ZlKGNvbW1hbmQsIGkpDQoJCQllbmQNCgkJZW5kDQoNCgkJcmV0dXJuIGNvbW1hbmQNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIGZpbmRQbGF5ZXIodGV4dCkNCgkJbG9jYWwgcGxheWVycyA9IGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkNCgkJbG9jYWwgbWF0Y2hlcyA9IHt9DQoNCgkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8NCgkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQ0KCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQ0KCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQ0KDQoJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKG5hbWUsIHRleHQpDQoNCgkJCWlmIG1hdGNoIHRoZW4NCgkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpDQoJCQllbmQNCgkJZW5kDQoNCgkJcmV0dXJuIG1hdGNoZXMNCgllbmQNCg0KCWxvY2FsIGRydWdzRW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgY29sb3JzRW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgZWJndWljYXN0RW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgY29sb3JFeGNsdWRlID0geyJIZWFkIiwiVG9yc28iLCJMZWZ0IEFybSIsIkxlZnQgTGVnIiwiUmlnaHQgQXJtIiwiUmlnaHQgTGVnIiwiU2hhcmQiLCJEaWFtb25kIn0NCg0KCS0tW1s5OC8yNTUsIDM3LzI1NSwgMjA5LzI1NV1dDQoJbG9jYWwgY29sb3IxDQoJbG9jYWwgY29sb3IyDQoJbG9jYWwgY29sb3IzDQoNCglsb2NhbCBmdW5jdGlvbiBpbnB1dEJveCgpDQoJCWxvY2FsIHRleHQgPSBjb21tYW5kQm94LlRleHQNCgkJd2FpdCgpDQoJCWNvbW1hbmRCb3guVGV4dCA9ICIiDQoNCgkJbG9jYWwgcHJlZml4ID0gIjsiDQoJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMSkgPT0gKHByZWZpeCkgdGhlbg0KCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQ0KDQoJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInJlIikgdGhlbg0KCQkJCXJlZnJlc2goZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAidHAiKSB0aGVuDQoJCQkJbG9jYWwgdGVsZXBvcnR0bw0KICAgICAgICAgICAgICAgIGxvY2FsIHRwbmFtZQ0KCQkJCWxvY2FsIHBsYWNlID0gc3RyaW5nLnN1Yih0ZXh0LCA1KQ0KCQkJCWxvY2FsIHBsYWNlcyA9IHsNCgkJCQkJNTY2Mzk5MjQ0LA0KCQkJCQkyNTY5NjI1ODA5LA0KCQkJCQk1NzAxNTgwODEsDQoJCQkJCTUzNzYwMDIwNCwNCgkJCQkJNTIwNTY4MjQwLA0KCQkJCQk1NTQ5NTU1NjAsDQoJCQkJCTYwMjA0ODU1MCwNCgkJCQkJNTc1NDU2NjQ2LA0KCQkJCQkxNzEzOTg2MTEyLA0KCQkJCQkxMjQzNjE1NjEyLA0KCQkJCQk2MzgwNjUzMDIsDQoJCQkJCTYzNDI0MDgyNiwNCgkJCQkJNjMzMDQyNzMxDQoJCQkJfQ0KDQoJCQkJaWYgcGxhY2UgPT0gInN0YW5kYXJkbG93IiBvciBwbGFjZSA9PSAiNTY2Mzk5MjQ0IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkxvd2JpZSBTdGFuZGFyZCINCgkJCQllbHNlaWYgcGxhY2UgPT0gInN0YW5kYXJkNDAiIG9yIHBsYWNlID09ICIyNTY5NjI1ODA5IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMl0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIlN0YW5kYXJkIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibGlnaHQiIG9yIHBsYWNlID09ICI1NzAxNTgwODEiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1szXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTGlnaHQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJmaXJlIiBvciBwbGFjZSA9PSAiNTM3NjAwMjA0IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNF0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkZpcmUiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJ3YXRlciIgb3IgcGxhY2UgPT0gIjUyMDU2ODI0MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzVdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJXYXRlciINCgkJCQllbHNlaWYgcGxhY2UgPT0gImdyYXNzIiBvciBwbGFjZSA9PSAiNTU0OTU1NTYwIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNl0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkdyYXNzIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiaGVhdmVuIiBvciBwbGFjZSA9PSAiNjAyMDQ4NTUwIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbN10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkhlYXZlbiINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1pbmlsb3ZhbmlhIiBvciBwbGFjZSA9PSAic2FucyIgb3IgcGxhY2UgPT0gIjU3NTQ1NjY0NiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzhdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNaW5pbG92YW5pYSINCgkJCQllbHNlaWYgcGxhY2UgPT0gImRlZmF1bHQiIG9yIHBsYWNlID09ICJ0b3VybmFtZW50IiBvciBwbGFjZSA9PSAiMTcxMzk4NjExMiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzldDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJUb3VybmFtZW50Ig0KCQkJCWVsc2VpZiBwbGFjZSA9PSAic3Vydml2YWwiIG9yIHBsYWNlID09ICIxMjQzNjE1NjEyIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTBdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJTdXJ2aXZhbCINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FzdGFuZGFyZCIgb3IgcGxhY2UgPT0gInN0YW5kYXJkbWVnYSIgb3IgcGxhY2UgPT0gIjYzODA2NTMwMiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzExXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBTdGFuZGFyZCINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FmaXJlIiBvciBwbGFjZSA9PSAiZmlyZW1lZ2EiIG9yIHBsYWNlID09ICI2MzQyNDA4MjYiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgRmlyZSINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FncmFzcyIgb3IgcGxhY2UgPT0gImdyYXNzbWVnYSIgb3IgcGxhY2UgPT0gIjYzMzA0MjczMSIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEzXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBHcmFzcyINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUaGUgcGxhY2Ugd2FzIGluY29ycmVjdGx5IHNwZWNpZmllZCEiDQoJCQkJZW5kDQoNCgkJCQlpZiB0ZWxlcG9ydHRvIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRlbGVwb3J0aW5nIHRvIFBsYWNlICIgLi4gdHBuYW1lIC4uICIhIg0KCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJkZWNsdXR0ZXIiKSB0aGVuDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkNCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5DaGFyYWN0ZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLkJvb2suSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlNob3AuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkNCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAicmFpbiIpIHRoZW4NCgkJCQlsb2NhbCBjdXJyZW50Q0FNID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmENCgkJCQlsb2NhbCByYWluU291bmQgPSBJbnN0YW5jZS5uZXcoIlNvdW5kIikNCgkJCQlyYWluU291bmQuTG9vcGVkID0gdHJ1ZQ0KCQkJCXJhaW5Tb3VuZC5Tb3VuZElkID0gInJieGFzc2V0aWQ6Ly8yODMxNjQ1OTMiDQoJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDENCgkJCQlyYWluU291bmQuUGFyZW50ID0gd29ya3NwYWNlDQoJCQkJcmFpblNvdW5kOlBsYXkoKQ0KDQoJCQkJbG9jYWwgcmFpblBhcnQgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldygzMDAsIDMwMCwgMzAwKQ0KCQkJCXJhaW5QYXJ0LlRyYW5zcGFyZW5jeSA9IDENCgkJCQlyYWluUGFydC5BbmNob3JlZCA9IHRydWUNCgkJCQlyYWluUGFydC5DYW5Db2xsaWRlID0gZmFsc2UNCg0KCQkJCWxvY2FsIHJhaW5FZmZlY3QgPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6V2FpdEZvckNoaWxkKCJFZmZlY3RzIik6V2FpdEZvckNoaWxkKCJSYWluIikNCgkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQ0KCQkJCXJhaW5FZmZlY3QuUGFyZW50ID0gcmFpblBhcnQNCg0KCQkJCWxvY2FsIGlnbm9yZSA9IHdvcmtzcGFjZTpXYWl0Rm9yQ2hpbGQoIi5JZ25vcmUiKQ0KCQkJCXJhaW5QYXJ0LlBhcmVudCA9IGlnbm9yZTpXYWl0Rm9yQ2hpbGQoIi5TZXJ2ZXJFZmZlY3RzIikNCg0KCQkJCWxvY2FsIGZvdiA9IDIgKiBtYXRoLnRhbihtYXRoLnJhZChjdXJyZW50Q0FNLkZpZWxkT2ZWaWV3KSAvIDIpDQoJCQkJbG9jYWwgbmV3UmF5ID0gUmF5Lm5ldw0KCQkJCWxvY2FsIGhlaWdodCA9IFZlY3RvcjMubmV3KDAsIDUwLCAwKQ0KCQkJCWxvY2FsIGRlcHRoID0gQ0ZyYW1lLm5ldygwLCBmb3YgKiA1MCwgLTYwKQ0KDQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIik6QmluZFRvUmVuZGVyU3RlcCgiUmFpbiIsIEVudW0uUmVuZGVyUHJpb3JpdHkuQ2FtZXJhLlZhbHVlLCBmdW5jdGlvbigpDQoJCQkJCWxvY2FsIHJjID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChuZXdSYXkoY3VycmVudENBTS5DRnJhbWUucCwgaGVpZ2h0KSwge2lnbm9yZX0pDQoNCgkJCQkJaWYgKHJjKSB0aGVuDQoJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDAuNQ0KCQkJCQkJcmV0dXJuDQoJCQkJCWVuZA0KDQoJCQkJCWxvY2FsIHZpZXdwb3J0ID0gY3VycmVudENBTS5WaWV3cG9ydFNpemUNCgkNCgkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KGZvdiAqIHZpZXdwb3J0LnggLyB2aWV3cG9ydC55ICogNTAsIDAuMiwgMTAwKQ0KCQkJCQlyYWluUGFydC5DRnJhbWUgPSBjdXJyZW50Q0FNLkNGcmFtZSAqIGRlcHRoDQoJDQoJCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlDQoJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IHRydWUNCgkNCgkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDENCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA0KSA9PSAocHJlZml4IC4uICJmaXgiKSB0aGVuDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKSB0aGVuDQoJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikuVmlzaWJsZSA9IGZhbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGaXhpbmcgdGhlIE1lbnUgR1VJISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEzKSA9PSAocHJlZml4IC4uICJidXR0b25oZWlnaHQiKSB0aGVuDQoJCQkJYnV0dG9uSGVpZ2h0ID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpDQoJCQkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIGJ1dHRvbkhlaWdodCkNCgkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQ0KDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBoZWlnaHQgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKSAuLiAiISINCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJidXR0b25nYXAiKSB0aGVuDQoJCQkJYnV0dG9uR2FwID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpDQoJCQkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIGJ1dHRvbkdhcCkNCgkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQ0KDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBnYXAgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKSAuLiAiISINCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gInJlam9pbiIpIHRoZW4NCgkJCQlyZWpvaW4oKQ0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZWpvaW5pbmcuLi4iDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJhdXJhL29mZiIpIHRoZW4NCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKQ0KDQoJCQkJaWYgZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKSB0aGVuDQoJCQkJCWdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIik6RGVzdHJveSgpDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGhhcyBiZWVuIHJlbW92ZWQuIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgZG9lcyBub3QgZXhpc3QhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTQpID09IChwcmVmaXggLi4gInRhcmdldHNldHRpbmciKSB0aGVuDQoJCQkJdGFyZ2V0U2V0dGluZyA9IHN0cmluZy5zdWIodGV4dCwgMTYpDQoNCgkJCQlyZXBlYXQNCgkJCQkJaWYgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBzZWxlY3QhIg0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gY2xvc2VzdCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBmYXJ0aGVzdCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gbG93aHAhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBoaWdoaHAhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCB0YXJnZXQgc2V0dGluZyEgRGlkIHlvdSBzcGVjaWZ5IHNlbGVjdCwgY2xvc2VzdCwgZmFydGhlc3QsIGxvd2hwLCBvciBoaWdoaHA/IFNldHRpbmcgaGFzIGJlZW4gc2V0IHRvIHNlbGVjdC4iDQoJCQkJCWVuZA0KCQkJCXVudGlsIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCINCg0KCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJsb29wIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBsb29waW5nID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJbG9vcGluZyA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdGFydGVkIGxvb3BpbmcgYXR0YWNrcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWxvb3BpbmcgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgbG9vcGluZyBhdHRhY2tzISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlsb29waW5nID0gbm90IGxvb3BpbmcNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiINCgkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9mZiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGxvb3BpbmcgYXR0YWNrcyAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCg0KCQkJCXNwYXduKGZ1bmN0aW9uKCkNCgkJCQkJd2hpbGUgbG9vcGluZyBkbw0KCQkJCQkJZXhwbG9pdCgpDQoJCQkJCQl3YWl0KCkNCgkJCQkJZW5kDQoJCQkJCXJldHVybg0KCQkJCWVuZCkNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInVuYnJlYWsiKSB0aGVuDQoJCQkJYnJlYWthYmxlID0gZmFsc2UNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImdyY2hhcmdlIikgdGhlbg0KCQkJCUdSQ2hhcmdlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMSkpDQoJCQkJd2FpdCgpDQoJCQkJaWYgR1JDaGFyZ2UgPT0gbmlsIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/Ig0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIGNoYXJnZSB0byAiIC4uIEdSQ2hhcmdlIC4uICIhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAic3BlZWQiKSB0aGVuDQoJCQkJU2V0U3BlZWQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDgpKQ0KCQkJCXdhaXQoKQ0KCQkJCWlmIFNldFNwZWVkID09IG5pbCB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBzcGVlZCB0byAiIC4uIFNldFNwZWVkIC4uICIhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTIpID09IChwcmVmaXggLi4gInNtYXJ0YXR0YWNrIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNSkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCXNtYXJ0QXR0YWNrID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk5vdyBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE2KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJc21hcnRBdHRhY2sgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlzbWFydEF0dGFjayA9IG5vdCBzbWFydEF0dGFjaw0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBzbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9mZiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGZvcmNlZmllbGQgZGV0ZWN0aW9uICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImdhbWVjb2xvciIpIHRoZW4NCgkJCQlpZiBub3QgZ2FtZS5MaWdodGluZzpGaW5kRmlyc3RDaGlsZCgiRUJHR3VpQ29sb3JDb3JyZWN0aW9uIikgdGhlbg0KCQkJCQlJbnN0YW5jZS5uZXcoIkNvbG9yQ29ycmVjdGlvbkVmZmVjdCIsIGdhbWUuTGlnaHRpbmcpLk5hbWUgPSAiRUJHR3VpQ29sb3JDb3JyZWN0aW9uIg0KCQkJCQl3YWl0KCkNCgkJCQllbmQNCg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDE3KSA9PSAibm9ybWFsIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gMA0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmV2ZXJ0aW5nLi4uIg0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImdyYXlzY2FsZSIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTENCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkdyYXlzY2FsaW5nLi4uIg0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGh1ZSIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTINCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBodWUuLi4iDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0YWxsIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTINCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBhbGwuLi4iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJsYWNrY2FzdCIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgYmxhY2sgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInN0dW4iKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZW5hYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJc3R1bkVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCXN0dW5FbmFibGVkID0gbm90IHN0dW5FbmFibGVkDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iDQoJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvDQoJCQkJCQkJY29ubmVjdGlvbjpEaXNhYmxlKCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8NCgkJCQkJCQljb25uZWN0aW9uOkVuYWJsZSgpDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIHN0dW4gKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJkcnVncyIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgOSkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJZHJ1Z3NFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWRydWdzRW5hYmxlZCA9IG5vdCBkcnVnc0VuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiINCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZHJ1ZyBtb2RlICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuDQoJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgMTMpDQoJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQ0KDQoJCQkJaWYgKGFyZ3NbMV0gPT0gInQiKSBvciAoYXJnc1sxXSA9PSAib24iKSB0aGVuDQoJCQkJCWlmIChjb2xvcjEgfj0gbmlsKSBhbmQgKGNvbG9yMiB+PSBuaWwpIGFuZCAoY29sb3IzIH49IG5pbCkgdGhlbg0KCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUNCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGVuYWJsZWQhIg0KCQkJCQkJZWxzZQ0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIllvdSBtdXN0IGhhdmUgY29sb3JzIHNldCB3aXRoIHRoaXMgY29tbWFuZCBiZWZvcmUgdHVybmluZyBpdCBiYWNrIG9uISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIChhcmdzWzFdID09ICJmIikgb3IgKGFyZ3NbMV0gPT0gIm9mZiIpIHRoZW4NCgkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbG9yc0VuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBkaXNhYmxlZCEiDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWFyZ3NbMV0gPSB0b251bWJlcihhcmdzWzFdKQ0KCQkJCQlhcmdzWzJdID0gdG9udW1iZXIoYXJnc1syXSkNCgkJCQkJYXJnc1szXSA9IHRvbnVtYmVyKGFyZ3NbM10pDQoNCgkJCQkJaWYgbm90IGFyZ3NbM10gdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzPyINCgkJCQkJZWxzZQ0KCQkJCQkJaWYgKGFyZ3NbMV0gfj0gbmlsKSBhbmQgKGFyZ3NbMl0gfj0gbmlsKSBhbmQgKGFyZ3NbM10gfj0gbmlsKSB0aGVuDQoJCQkJCQkJbG9jYWwgZXhlY3V0YWJsZSA9IHRydWUNCg0KCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbw0KCQkJCQkJCQlpZiAoYXJnc1tpXSA8IDApIG9yIChhcmdzW2ldID4gMjU1KSB0aGVuDQoJCQkJCQkJCQlleGVjdXRhYmxlID0gZmFsc2UNCgkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJaWYgZXhlY3V0YWJsZSA9PSB0cnVlIHRoZW4NCgkJCQkJCQkJY29sb3IxID0gYXJnc1sxXQ0KCQkJCQkJCQljb2xvcjIgPSBhcmdzWzJdDQoJCQkJCQkJCWNvbG9yMyA9IGFyZ3NbM10NCg0KCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIHdhcyBzZXQgdG8gIiAuLiBjb2xvcjEgLi4gIiwgIiAuLiBjb2xvcjIgLi4gIiwgYW5kICIgLi4gY29sb3IzIC4uICIhIg0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBUaGUgbnVtYmVycyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1ISINCgkJCQkJCQllbmQNCgkJCQkJCWVsc2UNCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFBsZWFzZSB1c2UgbnVtYmVycyB0byBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcy4iDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJjb2xvcnMiKSB0aGVuDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkNCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSANCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQl3aGlsZSB0cnVlIGRvDQoJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuDQoJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihtYXRoLnJhbmRvbSgwLCAyNTUpLCBtYXRoLnJhbmRvbSgwLCAyNTUpLCBtYXRoLnJhbmRvbSgwLCAyNTUpKQ0KCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkNCgkJCQkJCQkJCWVsc2VpZiBjb2xvcnNFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQlpZiBub3QgdGFibGUuZmluZChjb2xvckV4Y2x1ZGUsIGQuTmFtZSkgdGhlbiANCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKGNvbG9yMSwgY29sb3IyLCBjb2xvcjMpDQoJCQkJCQkJCQkJCXdhaXQoKQ0KCQkJCQkJCQkJCWVsc2UgYnJlYWsgZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbHNlDQoJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCgkJCQkJCWVuZCkNCgkJCQkJZW5kKQ0KDQoJCQkJCXNwYXduKGZ1bmN0aW9uKCkNCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbg0KCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuDQoJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVsc2VpZiAoZWJndWljYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbg0KCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuDQoJCQkJCQkJCQkJdi5UZXh0dXJlID0gImh0dHBzOi8vd3d3LnJvYmxveC5jb20vYXNzZXQvP2lkPTg2MDM3NjU5MDQiDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCg0KCQkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkNCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4NCgkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7DQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLA0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQ0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkNCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksDQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpDQoJCQkJCQkJCQkJCX0NCgkJCQkJCQkJCQkJd2FpdCgpDQoJCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbg0KCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpDQoJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQ0KDQoJCQkJaWYgYXJnc1sxXSB0aGVuCQkJCQ0KCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuDQoJCQkJCQl3YXJuKCJhdHRlbXB0aW5nIGhlYWwgb24gIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdKQ0KCQkJCQkJbG9jYWwgaGVhbGluZ1BsYXllciA9IGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0NCgkJCQkJCWxvY2FsIGNociA9IGdhbWUuUGxheWVyc1toZWFsaW5nUGxheWVyXS5DaGFyYWN0ZXINCg0KCQkJCQkJaWYgY2hyIHRoZW4NCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiINCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiKQ0KCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikNCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMikgPT0gKHByZWZpeCAuLiAiZSIpIHRoZW4NCgkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgNCkNCg0KCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbg0KCQkJCQlwaGFzZSA9IG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKQ0KDQoJCQkJCWlmIChwaGFzZSA9PSAxKSBvciAocGhhc2UgPT0gMikgb3IgKHBoYXNlID09IDMpIHRoZW4NCgkJCQkJCUVjaG9lc1BoYXNlID0gcGhhc2UNCg0KCQkJCQkJbG9jYWwgbW9kZSA9ICIiDQoNCgkJCQkJCWlmIEVjaG9lc1BoYXNlID09IDEgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKFNUQVIpIg0KCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDIgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKEZMQU1FKSINCgkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAzIHRoZW4NCgkJCQkJCQltb2RlID0gIihTSE9DSykiDQoJCQkJCQllbmQNCg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBoYXMgYmVlbiBjaGFuZ2VkISAiIC4uIG1vZGUNCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImNoYW5nZWxvZyIpIHRoZW4NCgkJCQktLSBUYWc6IENITkdMRw0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb25lISBIaXQgQ3RybCtGOSB0byB2aWV3LiINCgkJCQl3YXJuKCJSb2Jsb3ggaXMgZHVtYiBhbmQgZG9lc24ndCBhbGxvdyBtZSB0byBsb2FkIGEgc3RyaW5nIHdpdGggbXVsdGlwbGUgbGluZXMgaGVyZS4iKQ0KCQkJCXByaW50KCJDaGVjayBodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvZkZEcEdNQXIgdG8gc2VlIHRoZSBjaGFuZ2Vsb2cuIikNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gIm9yaWdpbiIpIHRoZW4NCgkJCQl4cGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlsb2NhbCBvcmlnaW4gPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCQkJCQlvcmlnaW4uQW5jaG9yZWQgPSB0cnVlDQoJCQkJCW9yaWdpbi5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdDQoJCQkJCW9yaWdpbi5OYW1lID0gIk9yaWdpbiINCgkJCQkJb3JpZ2luLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uDQoJCQkJCW9yaWdpbi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIlJlYWxseSByZWQiKQ0KCQkJCQlvcmlnaW4uU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpDQoJCQkJCW9yaWdpbi5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApDQoJCQkJCXdhcm4oIk1hZGUgYSBibG9jayBhdCB0aGUgb3JpZ2luISIpDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzISBDaGVjayBjb25zb2xlIGZvciBtb3JlIGluZm8iDQoJCQkJZW5kLCBmdW5jdGlvbihlKQ0KCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpDQoJCQkJCXdhcm4oJ3RyYWNlYmFjazonLCBkZWJ1Zy50cmFjZWJhY2soKSkNCgkJCQllbmQpDQoJCQktLVtbZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImViZ3VpY2FzdCIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGViZ3VpY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHVUkgY2FzdGluZyBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJZWJndWljYXN0RW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkdVSSBjYXN0aW5nIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgZWJndWljYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHVUkgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWViZ3VpY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR1VJIGNhc3RpbmcgZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWViZ3VpY2FzdEVuYWJsZWQgPSBub3QgZWJndWljYXN0RW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBlYmd1aWNhc3RFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgRUJHVUkgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmRdXQ0KICAgICAgICAgICAgZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaGVscCIpIHRoZW4NCiAgICAgICAgICAgICAgICB3YXJuKCJSb2Jsb3ggaXMgZHVtYiBhbmQgaXNuJ3QgZm9ybWF0dGluZyBtdWx0aWxpbmUgc3RyaW5ncyByaWdodC4iKQ0KICAgICAgICAgICAgICAgIHByaW50KCJGb3Igbm93LCBjaGVjayBodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvWTc0R2loR3kgdG8gc2VlIHRoZSBmdWxsIGxpc3Qgb2YgY29tbWFuZHMuIikNCiAgICAgICAgICAgICAgICBjb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRG9uZSEgSGl0IEN0cmwrRjkgdG8gdmlldy4iDQogICAgICAgICAgICBlbmQNCg0KCQkJd2FpdCgxLjUpDQoJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQllbHNlDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCWxvY2FsIG1hdGNoZXMgPSBmaW5kUGxheWVyKHRleHQpDQoNCgkJCWlmICNtYXRjaGVzID09IDEgdGhlbg0KCQkJCXRhcmdldCA9IG1hdGNoZXNbMV0NCgkJCQlpZiBtYXRjaGVzWzFdID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgkJCQkJCQ0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiBtYXRjaGVzWzFdDQoJCQkJZW5kDQoJCQkJd2FpdCgxKQ0KCQkJZWxzZQ0KCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQkJd2FybigiVGFyZ2V0IG5vdCBmb3VuZCEgRG8gbXVsdGlwbGUgcGxheWVycyBoYXZlIHRoYXQgc2FtZSBzdWJzdHJpbmcgaW4gdGhlaXIgbmFtZXM/IikNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBUYXJnZXQhIFR5cGUgdGhlaXIgbmFtZSBhZ2Fpbi4iDQoJCQkJd2FpdCgxLjUpDQoJCQkJaWYgdGFyZ2V0ID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyUmVtb3Zpbmc6Y29ubmVjdChmdW5jdGlvbihwbGF5ZXIpDQoJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKFRhcmdldCBSUWVkISkiDQoJCWVuZA0KCWVuZCkNCg0KCWNvbW1hbmRCb3guRm9jdXNMb3N0OkNvbm5lY3QoZnVuY3Rpb24oZW50ZXJQcmVzc2VkKQ0KCQlpZiBlbnRlclByZXNzZWQgdGhlbg0KCQkJaWYgY29tbWFuZEJveC5UZXh0IH49ICIiIHRoZW4NCgkJCQlpbnB1dEJveCgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkNCgkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgKG1hdGguY2VpbCgjYnV0dG9ucyAqIDM3KSAvIDIpIC0gNykNCgllbmQpKQ0KDQoJLS0gQnJlYWtpbmcgU2NyaXB0IFVzZXJzDQoNCglicmVha2FibGUgPSB0cnVlDQoNCglsb2NhbCBicmVha1VzZXJzID0gew0KCQkxODY0MzgwNTgxLA0KCQkxODIxMzMyOTMsDQoJCTI5NzYxNTIzMSwNCgkJMTEyODExNDk0NCwNCgkJMTk1NjQxMzA3OSwNCgkJMzExMDI3MjA0LA0KCQkxOTAzMTY1NDA1LA0KCQkxOTMzNzM0OTU2LA0KCQkxODEyMDUzNjMyLA0KCQkxOTA2MzExOTAyLA0KCQkxOTkzMjI0NzI0LA0KCQkxOTQ0NTMxNjY1LA0KCQkxMDgwNDUwMjMNCgl9DQoNCglsb2NhbCBvbmNoYXQgPSBmdW5jdGlvbihwbHIsIG1zZykNCgkJbG9jYWwgYWxsb3dlZCA9IGZhbHNlDQoJCWZvciBfLCB1c2VyIGluIHBhaXJzKGJyZWFrVXNlcnMpIGRvDQoJCQlpZiBwbHIuTmFtZSA9PSB1c2VyIHRoZW4NCgkJCQlhbGxvd2VkID0gdHJ1ZQ0KCQkJZW5kDQoJCWVuZA0KDQoJCWxvY2FsIHByZWZpeCA9ICI7Ig0KDQoJCWlmIHN0cmluZy5zdWIobXNnLCAxLCA3KSA9PSAocHJlZml4IC4uICJicmVhayAiKSB0aGVuDQoJCQlsb2NhbCBtYXRjaGVzID0ge30NCg0KCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUNCgkJCQltc2cgPSBzdHJpbmcubG93ZXIoc3RyaW5nLnN1Yihtc2csIDgpKQ0KCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkNCgkJCQlsb2NhbCB0ZXJtID0gc3RyaW5nLnN1YihuYW1lLCAxLCBzdHJpbmcubGVuKG5hbWUpKQ0KDQoJCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZCh0ZXJtLCBtc2cpDQoNCgkJCQlpZiBtYXRjaCB0aGVuDQoJCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkNCgkJCQllbmQNCgkJCWVuZA0KDQoJCQlpZiBtYXRjaGVzWzFdID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIGFuZCBicmVha2FibGUgYW5kIGFsbG93ZWQgdGhlbg0KCQkJCXdoaWxlIHRydWUgZG8NCg0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0UGxheWVycygpKSBkbw0KCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpDQoJCQlvbmNoYXQodiwgbXNnKQ0KCQllbmQpDQoJZW5kDQoNCglnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXYuQ2hhdHRlZDpDb25uZWN0KGZ1bmN0aW9uKG1zZykNCgkJCW9uY2hhdCh2LCBtc2cpDQoJCWVuZCkNCgllbmQpDQoNCgktLSBFeHBsb2l0cw0KDQoJbG9jYWwgZnVuY3Rpb24gZmYoKQ0KCQlpZiBzbWFydEF0dGFjayA9PSB0cnVlIHRoZW4NCgkJCWlmIGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQlyZXR1cm4gZmFsc2UNCgkJCWVsc2UNCgkJCQlyZXR1cm4gdHJ1ZQ0KCQkJZW5kDQoJCWVsc2UNCgkJCXJldHVybiB0cnVlDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gZXhwbG9pdCgpDQoJCS0tIEV4cGxvaXQgZnVuY3Rpb24uIFdoZW4gQyBpcyBwcmVzc2VkIGFuZCBvbmUgb2YgdGhlc2UgYXJlICJ0cnVlIiwgaXQgd2lsbCBmaXJlIGl0Lg0KCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXINCg0KCQlpZiBIeXBlcmFuZ0VuYWJsZWQgdGhlbg0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIikNCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBEYXJrQW9lRW5hYmxlZCB0aGVuDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIikNCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIsIHtsYXN0TW91c2VQb3NpdGlvbiA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pfSkNCgkJZW5kDQoNCgkJaWYgRGlzcGVyc2lvbkVuYWJsZWQgdGhlbg0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIpDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iLCB7R3JvdW5kZWQgPSB0cnVlfSkNCgkJZW5kDQoNCgkJaWYgRG91YmxlUmF5RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNvbGFyIiwNCgkJCQlbMl0gPSAiRG91YmxlIFJheSINCgkJCX0JCQkNCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCQkJDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTb2xhciIsDQoJCQkJWzJdID0gIkRvdWJsZSBSYXkiLA0KCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQ0KCQkJfQkJCQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBTdG9ybUJ1bGxldHNFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSINCgkJCX0JCQkNCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCQkJDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTdG9ybSIsDQoJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIiwNCgkJCQlbM10gPSB7DQoJCQkJCVsiRGlyZWN0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkNCgkJCQl9DQoJCQl9CQkJDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIE9yYml0YWxIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlRlY2hub2xvZ3kiLA0KCQkJCVsyXSA9ICJPcmJpdGFsIFN0cmlrZSINCgkJCX0NCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwNCgkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiLA0KCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIFZpZ29ySGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGlyaXQiLA0KCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiINCgkJCX0NCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGlyaXQiLA0KCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIsDQoJCQkJWzNdID0gew0KCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCX0NCgkJCX0NCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgQXN0ZXJvaWRCZWx0RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNwYWNlIiwNCgkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCINCgkJCX0NCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGFjZSIsDQoJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiLA0KCQkJCVszXSA9IHsNCgkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQl9DQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIEJsYXplQ29sdW1uRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQllbmQNCg0KCQlpZiBWaW5lVHJhcEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJOYXR1cmUiLCAiVmluZSBUcmFwIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJOYXR1cmUiLCAiVmluZSBUcmFwIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCWVuZA0KDQoJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJZW5kDQoNCgkJaWYgU2xpbWVCdWRkaWVzRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50Iiwge0xhc3RQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkNCgkJZW5kDQoNCgkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQ0KCQllbmQNCg0KCQlpZiBHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMTUsIDApKQ0KCQllbmQNCg0KCQlpZiBBbWF1cm90aWNMYW1iZW50RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIsIHtwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDE1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEdlbmVzaXNSYXlFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCB7bHYgPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgY2hhcmdlID0gR1JDaGFyZ2V9KQ0KCQllbmQNCg0KCQlpZiBUaGVXb3JsZEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHtyaGl0ID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQsIG5vcm0gPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgcnBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgUG9sYXJpc0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBDb250cm9sbGVkRWNob2VzRW5hYmxlZCBhbmQgRWNob2VzUGhhc2Ugfj0gbmlsIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgbW91c2UuSGl0LnB9KQ0KCQllbmQNCg0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkNCgkJZW5kDQoNCgkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIsIHtEaXJlY3Rpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIEZsb29yID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lfSkNCgkJCXdhaXQoMTcuNSkNCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlDQoJCQllbmQNCgkJZW5kDQoNCgkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIiwge1Bvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCA1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTcGxpdHRpbmdTbGltZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpDQoJCWVuZA0KDQoJCWlmIFZpcnR1YWxab25lRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24sIFZlY3RvcjMubmV3KDAsIDAsIDApfSkNCgkJZW5kDQoJZW5kDQoNCgktLSBVSVMNCg0KCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpDQoJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UNCg0KCVVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQ0KCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4NCgkJCWlmIG5vdCBncCB0aGVuDQoJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyDQoNCgkJCQlpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrU2xhc2ggdGhlbg0KCQkJCQljb21tYW5kQm94OkNhcHR1cmVGb2N1cygpDQoJCQkJCXdhaXQoKQ0KCQkJCQlpZiBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkpID09ICJcXCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveC5UZXh0ID0gc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIDEsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSAtIDEpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4NCgkJCQkJZXhwbG9pdCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbg0KCQkJCQlUUFRvVGFyZ2V0KCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuDQoJCQkJCUFudGlCbGluZEZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4NCgkJCQkJYmVnaW5TcGVlZCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbg0KCQkJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkIHRoZW4NCgkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUCB0aGVuDQoJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbg0KCQkJCQkJaWYgZ2FtZS5QbGFjZUlkID09IDU2NjM5OTI0NCBvciBnYW1lLlBsYWNlSWQgPT0gMjU2OTYyNTgwOSB0aGVuDQoJCQkJCQkJbG9jYWwgU2Fuc1BvcyA9IENGcmFtZS5uZXcoLTE2ODUuOTEwNTIsIDIzMC4wMzUxMjYsIC0xODEuNzk4MjY0KQ0KCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkNCg0KCQkJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBTYW5zUG9zICogU2Fuc0FuZ2xlcw0KCQkJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQkJCQkJd2FpdCgxKQ0KCQkJCQkJCWlmIG5vdCBGcmVlemVFbmFibGVkIHRoZW4NCgkJCQkJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJCQkJCQllbmQNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuDQoJCQkJCWJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkcgdGhlbg0KCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5KIHRoZW4NCgkJCQkJaWYgQ2xpY2tUUEVuYWJsZWQgdGhlbg0KCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5GIHRoZW4NCgkJCQkJRnJlZXplRnVuYygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2txdW90ZSB0aGVuDQoJCQkJCWlmIEZsYXNoRW5hYmxlZCB0aGVuDQoJCQkJCQlsb25nZmxhc2goKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuViB0aGVuDQoJCQkJCXZpZXcoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CIHRoZW4NCgkJCQkJdG9nZ2xlRVNQKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbg0KCQkJCQlpZiBub3QgY2xvc2VkZm9yZXZlciB0aGVuDQoJCQkJCQlpZiBub3QgYnV0dG9uc2RlYm91bmNlIHRoZW4NCgkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlDQoJCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlDQoJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksDQoJCQkJCQkJCQkiT3V0IiwNCgkJCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkJCS41LA0KCQkJCQkJCQkJdHJ1ZQ0KCQkJCQkJCQkpDQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UNCgkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwNCgkJCQkJCQkJCSJJbiIsDQoJCQkJCQkJCQkiU2luZSIsDQoJCQkJCQkJCQkuNSwNCgkJCQkJCQkJCXRydWUNCgkJCQkJCQkJKQ0KCQkJCQkJCWVuZA0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5SaWdodEJyYWNrZXQgdGhlbg0KCQkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlDQoJCQkJCWlmIGNvbW1hbmRzb3BlbmVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLA0KCQkJCQkJCSJPdXQiLA0KCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkuNSwNCgkJCQkJCQl0cnVlDQoJCQkJCQkpDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiSW4iLA0KCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkuNSwNCgkJCQkJCQl0cnVlDQoJCQkJCQkpDQoJCQkJCWVuZA0KCQkJCQl3YWl0KDEpDQoJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlDQoJCQkJZWxzZWlmIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLkxlZnQpIGFuZCBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5SaWdodCkgdGhlbg0KCQkJCQlpZiBidXR0b25zb3BlbmVkID09IHRydWUgdGhlbg0KCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksDQoJCQkJCQkJIkluIiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApLA0KCQkJCQkJCSJJbiIsDQoJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCS41LA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJCXdhaXQoMSkNCgkJCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlDQoJCQkJCQllYmd1aTpEZXN0cm95KCkNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU2NyaXB0cyBhbmQgRnVuY3Rpb25zIEVORA0KDQoJLS0gRW50cmFuY2UgQW5pbWF0aW9uDQoNCgl3YWl0KDAuNSkNCg0KCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwNCgkJIk91dCIsDQoJCSJTaW5lIiwNCgkJLjUsDQoJCXRydWUNCgkpDQoNCgljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLA0KCQkiT3V0IiwNCgkJIlNpbmUiLA0KCQkuNSwNCgkJdHJ1ZQ0KCSkNCg0KCS0tIEluZm8NCg0KCXByaW50KCIgIikNCglwcmludCgiICIpDQoJd2FybigiR1VJIHN1Y2Nlc3NmdWxseSBsb2FkZWQhIikNCmVuZA=="