encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGJsb2NrbGlzdCA9IHsKfQoKbG9jYWwgbWFzdGVybGlzdCA9IHsKCTMyNTczMzM0Cn0KCmxvY2FsIGdvbGRsaXN0ID0gewoJImdvbGRfMDkyMDIyX1JpZ2h0Q29ya184OTg0MjMiCn0KCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIElEID0gcGxheWVyLlVzZXJJZApsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQpsb2NhbCBpc01hc3RlciA9IGZhbHNlCmxvY2FsIGlzR29sZCA9IGZhbHNlCgpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8KICAgIGlmIHYgPT0gSUQgdGhlbgogICAgICAgIGlzQmxvY2tlZCA9IHRydWUKICAgICAgICBicmVhawogICAgZW5kCmVuZAoKZm9yIGksdiBpbiBwYWlycyhtYXN0ZXJsaXN0KSBkbwogICAgaWYgdiA9PSBJRCB0aGVuCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmlmIGlzQmxvY2tlZCB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgVGhpcyBhY2NvdW50IGhhcyBiZWVuIGJsb2NrZWQuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2VpZiBub3QgRUJHdWlLZXkgYW5kIG5vdCBpc0Jsb2NrZWQgYW5kIG5vdCBpc01hc3RlciB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2VpZiBFQkd1aUtleSB+PSAiMDkyMDIyX1dhc3RlZnVsQ2Fubm9uXzk4MjE5OSIgYW5kIG5vdCBpc0Jsb2NrZWQgYW5kIG5vdCBpc01hc3RlciB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgIFlvdXIgdW5sb2NrIGtleSBpcyBpbmNvcnJlY3QuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2UKCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpCglsb2NhbCB2ZXJOdW0gPSAidjIuOC4xIgoJbG9jYWwgZHVtYlF1b3RlcyA9IHsKCQkiSmVleiwgd2hlbidkIGl0IGdldCBzbyBob3QgaW4gaGVyZT8iLAoJCSJJcyBpdCBqdXN0IG1lIG9yIGlzIHRoYXQgKnRvbyogYmx1ZT8iLAoJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLAoJCSJEZWV6IG51dHMgYXJlIHRvbyBzcXVhcmUhIiwKCQkiQWxzbyB0cnkgTWluZWNyYWZ0ISIsCgkJIkFsc28gdHJ5IFRlcnJhcmlhISIsCgkJIk1laCwgSSBsaWtlZCBSaXNrIG9mIFJhaW4gMiBiZXR0ZXIuIiwKCQkiWW91IG5lZWQgYSBmYWlybHkgaGlnaCBJUSB0byB1bmRlcnN0YW5kIEVCR3VpLiIsCgkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwKCQkiV2hhdCB3b3VsZCAqeW91KiBkbyBmb3IgYSBLbG9uZGlrZSBiYXI/IiwKCQkiTm93IHdpdGggMTAwJSBtb3JlIEdvbGQhIiwKCQkiTWFkZSBpbiBMdWEhIiwKCQkiSUYgJUVSUk9STEVWRUwlIEVRVSAxIEdPVE86RU9GIiwKCQkiYnJ1aCBuZXJmIHNvbGFyIGFscmVhZHkiLAoJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsCgkJIlBldGl0aW9uIFlPVVIgbG9jYWwgZGV2ZWxvcGVyIGZvciBtb3JlIHVwZGF0ZXMhIiwKCQkid2h5IGFyZSB5b3UgYnV5aW5nIGNsb3RoZXMgYXQgdGhlIHNvdXAgc3RvcmUiLAoJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiIKCX0KCiAgICB3YXJuKFtbX19fX19fIF9fX19fIF9fX19fICAgICAgIF8gCiAgICAgICAgICAgIHwgIF9fX3wgX19fIFwgIF9fIFwgICAgIChfKQogICAgICAgICAgICB8IHxfXyB8IHxfLyAvIHwgIFwvXyAgIF8gXyAKICAgICAgICAgICAgfCAgX198fCBfX18gXCB8IF9ffCB8IHwgfCB8CiAgICAgICAgICAgIHwgfF9fX3wgfF8vIC8gfF9cIFwgfF98IHwgfAogICAgICAgICAgICBcX19fXy9cX19fXy8gXF9fX18vXF9fLF98X3wgXV0gLi4gdmVyTnVtKQoJcHJpbnQoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCglwcmludChkdW1iUXVvdGVzW21hdGgucmFuZG9tKDEsMTgpXSkKCXByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJd2FybigiV2VsY29tZSB0byBFQkd1aSwgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiISIpCgl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQoJd2FybigiUXVlc3Rpb25zIG9yIGNvbmNlcm5zPyBMZXQgdXMga25vdyBpbiB0aGUgRGlzY29yZCwiKQoJd2Fybigib3IgZW1haWwgRWFydGggaGltc2VsZiBhdCBlYXJ0aHRvYWNjZXNzQGdtYWlsLmNvbSEiKQoJd2FpdCgwLjUpCgkKCWlmIGlzTWFzdGVyIHRoZW4KCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKSAgIAoJCXdhcm4oIkxvYWRlZCBpbiB1c2luZyB0aGUgTWFzdGVyIExpc3QhIE92ZXJyaWRpbmcgYWNjZXNzIGdpdmVuLiIpCgkJd2FybigiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCWVuZAoKCWZvciBpLHYgaW4gcGFpcnMoZ29sZGxpc3QpIGRvCgkJaWYgbm90IEVCR3VpR29sZCB0aGVuIGVsc2VpZiBFQkd1aUdvbGQgPT0gdiB0aGVuCgkJCWlzR29sZCA9IHRydWUKCQkJcHJpbnQoW1sJCQkJX19fXyAgICAgICAgICAgICBfX18gICAgICBfX18gCgkJCSAgICAgICAgICAgNk1NTU1iLyAgICAgICAgICAgYE1NICAgICAgYE1NIAoJCQkgICAgICAgICAgOFAgICAgWU0gICAgICAgICAgICBNTSAgICAgICBNTSAKCQkJICAgICAgICAgNk0gICAgICBZICAgX19fX18gICAgTU0gICBfX19fTU0gCgkJCSAgICAgICAgIE1NICAgICAgICAgNk1NTU1NYiAgIE1NICA2TU1NTU1NIAoJCQkgICAgICAgICBNTSAgICAgICAgNk0nICAgYE1iICBNTSA2TScgIGBNTSAKCQkJICAgICAgICAgTU0gICAgIF9fX01NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCSAgICAgICAgIE1NICAgICBgTSdNTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQkgICAgICAgICBZTSAgICAgIE0gTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJICAgICAgICAgIDhiICAgIGQ5IFlNLiAgICxNOSAgTU0gWU0uICAsTU0gCgkJCSAgICAgICAgICAgWU1NTU05ICAgWU1NTU1NOSAgX01NXyBZTU1NTU1NX11dKQoJCQl3YXJuKCJUaGFuayB5b3UgZm9yIGJlaW5nIGEgR09MREVOIG1lbWJlciEiKQoJCQl3YXJuKCdFbmpveSB0aGUgdmFyaW91cyAib3ZlcnBvd2VyZWQiIHNjcmlwdHMgd2UgaGF2ZSBpbiBzdG9yZSEnKQoJCQlicmVhawoJCWVsc2UgZW5kCgllbmQKCgktLSBHVUkgSW5zdGFuY2VzLCBFdmVudHMgYW5kIEZ1bmN0aW9ucwoKCWxvY2FsIGViZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQoJZWJndWkuTmFtZSA9ICJlYmd1aSIKCWViZ3VpLlBhcmVudCA9IGdhbWU6V2FpdEZvckNoaWxkKCJDb3JlR3VpIikKCglnYW1lLkNvcmVHdWkuQ2hpbGRSZW1vdmVkOmNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCgkJaWYgY2hpbGQuTmFtZSA9PSAiZWJndWkiIHRoZW4KCQkJY2xvc2VkZm9yZXZlciA9IHRydWUKCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQoJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJVUlTID0gbmlsCgkJCWJyZWFrYWJsZSA9IHRydWUKCQkJQmxhemVDb2x1bW5FbmFibGVkID0gbmlsCgkJCVZpbmVUcmFwRW5hYmxlZCA9IG5pbAoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gbmlsCgkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBuaWwKCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IG5pbAoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IG5pbAoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IG5pbAoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gbmlsCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBuaWwKCQkJVGhlV29ybGRFbmFibGVkID0gbmlsCgkJCVBvbGFyaXNFbmFibGVkID0gbmlsCgkJCUxhZ1NlcnZlckVuYWJsZWQgPSBuaWwKCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IG5pbAoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IG5pbAoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBuaWwKCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gbmlsCgkJCVNld2VyQnVyc3RFbmFibGVkID0gbmlsCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gbmlsCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IG5pbAoJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSBuaWwKCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbAoJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbAoJCQlTcGVlZGhhY2tFbmFibGVkID0gbmlsCgkJCUhvbG9iZWFtRW5hYmxlZCA9IG5pbAoJCQlTZXRTcGVlZCA9IG5pbAoJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IG5pbAoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwKCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsCgkJCUNsaWNrVFBFbmFibGVkID0gbmlsCgkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwKCQkJVGhydXN0RW5hYmxlZCA9IG5pbAoJCQlUaHJ1c3RQb3dlciA9IG5pbAoJCQl2aWV3aW5nID0gbmlsCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gbmlsCgkJCUVTUEVuYWJsZWQgPSBuaWwKCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsCgkJCVRQRGlhbW9uZHNFbmFibGVkID0gbmlsCgkJCUZQU0Ryb3BwaW5nID0gbmlsCgkJCXNhbnNLaWxsZWQgPSAid2lwIgoJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gbmlsCgkJCVZpZ29ySGFja0VuYWJsZWQgPSBuaWwKCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gbmlsCgkJCVN0b3JtQnVsbGV0c0VuYWJsZWQgPSBuaWwKCQkJRG91YmxlUmF5RW5hYmxlZCA9IG5pbAoJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IG5pbAoJCQlEYXJrQW9lRW5hYmxlZCA9IG5pbAoJCQlIeXBlcmFuZ0VuYWJsZWQgPSBuaWwKCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IG5pbAoJCQlSZWFwZXJVbHRFbmFibGVkID0gbmlsCgkJZW5kCgllbmQpCgoJbG9jYWwgbW91c2UgPSBwbGF5ZXI6R2V0TW91c2UoKQoKCWxvY2FsIGJvcmRlcnMgPSB7fQoKCWxvY2FsIGJ1dHRvbnNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCglidXR0b25zbWFpbi5OYW1lID0gImJ1dHRvbnNtYWluIgoJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkKCWJ1dHRvbnNtYWluLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAwLjIyNSwgMCkKCXRhYmxlLmluc2VydChib3JkZXJzLCBidXR0b25zbWFpbikKCglidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJYnV0dG9uc29wZW5lZCA9IHRydWUKCgoJLS1pZiAoaW5pdGlhdGlvbk1vZGUgPT0gIk1vZGVybiIpIHRoZW4KCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJY29tbWFuZHNtYWluLk5hbWUgPSAiY29tbWFuZHNtYWluIgoJY29tbWFuZHNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApCgljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQoJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGNvbW1hbmRzbWFpbikKCS0tZW5kCgoJY29tbWFuZGRlYm91bmNlID0gZmFsc2UKCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoKCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQoKCWxvY2FsIGZyYW1lcyA9IHt9CgoJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgYnV0dG9ucy4KCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJYnV0dG9uc2ZyYW1lLk5hbWUgPSAiYnV0dG9uc2ZyYW1lIgoJYnV0dG9uc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwgNTQsIDE3OSkKCWJ1dHRvbnNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCWJ1dHRvbnNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJYnV0dG9uc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJdGFibGUuaW5zZXJ0KGZyYW1lcywgYnV0dG9uc2ZyYW1lKQoJYnV0dG9uc2ZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluCgoJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgY29tbWFuZCBib3guCglsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgljb21tYW5kc2ZyYW1lLk5hbWUgPSAiY29tbWFuZHNmcmFtZSIKCWNvbW1hbmRzZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQoJY29tbWFuZHNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJY29tbWFuZHNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgljb21tYW5kc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJY29tbWFuZHNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkKCXRhYmxlLmluc2VydChmcmFtZXMsIGNvbW1hbmRzZnJhbWUpCgljb21tYW5kc2ZyYW1lLlBhcmVudCA9IGNvbW1hbmRzbWFpbgoKCS0tIENvbW1hbmQgYm94LiBUaGlzIGlzIHdoZXJlIHVzZXJzIHR5cGUgaW4gY29tbWFuZHMgYW5kIHRhcmdldHMuCglsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKCWNvbW1hbmRCb3guTmFtZSA9ICJjb21tYW5kQm94IgoJY29tbWFuZEJveC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkKCWNvbW1hbmRCb3guQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCWNvbW1hbmRCb3guQm9yZGVyU2l6ZVBpeGVsID0gMgoJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkKCWNvbW1hbmRCb3guU2l6ZSA9IFVEaW0yLm5ldygwLjg1LCAwLCAwLjIwLCAwKQoJY29tbWFuZEJveC5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoCgljb21tYW5kQm94LlRleHQgPSAiIgoJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCWNvbW1hbmRCb3guVGV4dFNjYWxlZCA9IHRydWUKCWNvbW1hbmRCb3guVGV4dFNpemUgPSAxNC4wMDAKCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlCgljb21tYW5kQm94LkNsZWFyVGV4dE9uRm9jdXMgPSBmYWxzZQoJY29tbWFuZEJveC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJbG9jYWwgbGFiZWxzID0ge30KCgktLSBUaGUgb3V0cHV0IGZvciB0aGUgY29tbWFuZCBib3gsIEFLQSB0aGUgd2hpdGUgdGV4dCBiZWxvdyB0aGF0IGxpc3RzIHlvdXIgdGFyZ2V0LgoJbG9jYWwgY29tbWFuZEJveE91dHB1dCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCWNvbW1hbmRCb3hPdXRwdXQuTmFtZSA9ICJjb21tYW5kQm94T3V0cHV0IgoJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgljb21tYW5kQm94T3V0cHV0LkJvcmRlclNpemVQaXhlbCA9IDAKCWNvbW1hbmRCb3hPdXRwdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjYsIDApCgljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApCgljb21tYW5kQm94T3V0cHV0LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gKCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCWNvbW1hbmRCb3hPdXRwdXQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgljb21tYW5kQm94T3V0cHV0LlRleHRTY2FsZWQgPSB0cnVlCgljb21tYW5kQm94T3V0cHV0LlRleHRTaXplID0gMTQuMDAwCgljb21tYW5kQm94T3V0cHV0LlRleHRXcmFwcGVkID0gdHJ1ZQoJdGFibGUuaW5zZXJ0KGxhYmVscywgY29tbWFuZEJveE91dHB1dCkKCWNvbW1hbmRCb3hPdXRwdXQuUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCS0tIFRoZSBpbmZvcm1hdGlvbiBhYm92ZSB0aGUgYnV0dG9ucywgZS5nLiB1c2VyJ3MgbmFtZSwgY2hhbm5lbAoJbG9jYWwgRGV0YWlscyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIgoJRGV0YWlscy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCURldGFpbHMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCglEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCglEZXRhaWxzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDE0MTQxNDE0MywgMCkKCURldGFpbHMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQoJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoCglpZiBub3QgaXNHb2xkIHRoZW4KCQlEZXRhaWxzLlRleHQgPSBwbGF5ZXIuTmFtZSAuLiAiIHwgRUJHdWkgfCBTdGFibGUiCgllbHNlCgkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIEdvbGQgfCBTdGFibGUiCgllbmQKCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCglEZXRhaWxzLlRleHRTY2FsZWQgPSB0cnVlCglEZXRhaWxzLlpJbmRleCA9IDUKCURldGFpbHMuVGV4dFNpemUgPSAxNC4wMDAKCURldGFpbHMuVGV4dFdyYXBwZWQgPSB0cnVlCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzKQoJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgY29tbWFuZCBib3guCglsb2NhbCBEZXRhaWxzMiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCURldGFpbHMyLk5hbWUgPSAiRGV0YWlsczIiCglEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJRGV0YWlsczIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCglEZXRhaWxzMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCglEZXRhaWxzMi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuOSwgMCkKCURldGFpbHMyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkKCURldGFpbHMyLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gKCURldGFpbHMyLlRleHQgPSAiUHJlc3MgXSB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iCglEZXRhaWxzMi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCURldGFpbHMyLlRleHRTY2FsZWQgPSB0cnVlCglEZXRhaWxzMi5UZXh0U2l6ZSA9IDE0LjAwMAoJRGV0YWlsczIuVGV4dFdyYXBwZWQgPSB0cnVlCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMikKCURldGFpbHMyLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgYnV0dG9ucy4KCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJRGV0YWlsczMuTmFtZSA9ICJEZXRhaWxzMyIKCURldGFpbHMzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCglEZXRhaWxzMy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJRGV0YWlsczMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC44NzUsIDApCglEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCglEZXRhaWxzMy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoCglEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIgoJRGV0YWlsczMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCglEZXRhaWxzMy5UZXh0U2NhbGVkID0gdHJ1ZQoJRGV0YWlsczMuVGV4dFNpemUgPSAxNC4wMDAKCURldGFpbHMzLlRleHRXcmFwcGVkID0gdHJ1ZQoJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczMpCglEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgktLSBTY3JpcHQgdGVybWluYXRpb24gaW5zdHJ1Y3Rpb25zLgoJbG9jYWwgRGV0YWlsczQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCglEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0IgoJRGV0YWlsczQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCglEZXRhaWxzNC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCglEZXRhaWxzNC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAxLjEsIDApCglEZXRhaWxzNC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTc1LCAwKQoJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaAoJRGV0YWlsczQuVGV4dCA9ICJIb2xkIHRoZSBMZWZ0IGFuZCBSaWdodCBhcnJvdyBrZXlzLCB0aGVuIHByZXNzIGFueSBrZXkgdG8gcXVpdCBFQkd1aS4iCglEZXRhaWxzNC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCURldGFpbHM0LlRleHRTY2FsZWQgPSB0cnVlCglEZXRhaWxzNC5UZXh0U2l6ZSA9IDE0LjAwMAoJRGV0YWlsczQuVGV4dFdyYXBwZWQgPSB0cnVlCglEZXRhaWxzNC5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgktLSBUaGUgdmVyc2lvbiBudW1iZXIgYWJvdmUgdGhlIGNvbW1hbmQgYm94LgoJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCVZlcnNpb24uTmFtZSA9ICJWZXJzaW9uIgoJVmVyc2lvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCglWZXJzaW9uLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCglWZXJzaW9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDUsIDApCglWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQoJVmVyc2lvbi5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoCglWZXJzaW9uLlRleHQgPSAiVmVyc2lvbiAiIC4uIHZlck51bQoJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCVZlcnNpb24uVGV4dFNjYWxlZCA9IHRydWUKCVZlcnNpb24uVGV4dFNpemUgPSAxNC4wMDAKCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBWZXJzaW9uKQoJVmVyc2lvbi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJLS0gVGhlIGJhY2tncm91bmQgZm9yIHRoZSBVSS4KCWxvY2FsIG1haW5mcmFtZSA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQoJbWFpbmZyYW1lLk5hbWUgPSAibWFpbmZyYW1lIgoJbWFpbmZyYW1lLkFjdGl2ZSA9IHRydWUKCW1haW5mcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDksIDgzLCA4OSkKCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJbWFpbmZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCW1haW5mcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJbWFpbmZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC44Njc3Njg1ODYsIDAsIDAuNiwgMCkKCW1haW5mcmFtZS5TY3JvbGxCYXJUaGlja25lc3MgPSA2CgltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgktLSBHcmlkIGxheW91dCBmb3IgdGhlIGJ1dHRvbnMuCglsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpCglVSUdyaWRMYXlvdXQuRmlsbERpcmVjdGlvbiA9IEVudW0uRmlsbERpcmVjdGlvbi5Ib3Jpem9udGFsCglVSUdyaWRMYXlvdXQuSG9yaXpvbnRhbEFsaWdubWVudCA9IEVudW0uSG9yaXpvbnRhbEFsaWdubWVudC5DZW50ZXIKCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQoJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIDMwKQoJVUlHcmlkTGF5b3V0LlNvcnRPcmRlciA9IEVudW0uU29ydE9yZGVyLkxheW91dE9yZGVyCglVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lCgoJbG9jYWwgYnV0dG9ucyA9IHt9CgoJLS0tLS0tIEJ1dHRvbnMgZm9yIGhhY2tzLgoKCS0tLS0gQW9FcwoJLS0gSW5zdGFudCBCbGF6ZSBDb2x1bW4KCglsb2NhbCBCbGF6ZUNvbHVtbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglCbGF6ZUNvbHVtbi5OYW1lID0gIkJsYXplQ29sdW1uIgoJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBCbGF6ZUNvbHVtbikKCglCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQoKCUJsYXplQ29sdW1uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgQmxhemVDb2x1bW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gdHJ1ZQoJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPbikiCgkJZWxzZQoJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQoJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEFtcGxpZmllZCBHZW5lc2lzIFJheQoKCWxvY2FsIEdlbmVzaXNSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJR2VuZXNpc1JheS5OYW1lID0gIkdlbmVzaXNSYXkiCglHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdlbmVzaXNSYXkpCgoJbG9jYWwgR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQoJbG9jYWwgR1JDaGFyZ2UgPSAxIC0tIDEwMDAwMDAKCglHZW5lc2lzUmF5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgR2VuZXNpc1JheUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IHRydWUKCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT24pIgoJCWVsc2UKCQkJR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQoJCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIENyZWF0aW9uIEhvbGQgSGFjawoKCWxvY2FsIENoYWluSG9sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglDaGFpbkhvbGQuTmFtZSA9ICJDaGFpbkhvbGQiCglDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENoYWluSG9sZCkKCglsb2NhbCBDcmVhdGlvbkhvbGRFbmFibGVkID0gZmFsc2UKCglDaGFpbkhvbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQlpZiBub3QgQ3JlYXRpb25Ib2xkRW5hYmxlZCB0aGVuCgkJCQlDcmVhdGlvbkhvbGRFbmFibGVkID0gdHJ1ZQoJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQlDcmVhdGlvbkhvbGRFbmFibGVkID0gZmFsc2UKCQkJCUNoYWluSG9sZC5UZXh0ID0gIihHKSBJbnN0YW50IENoYWluIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVsc2UKCQkJQ2hhaW5Ib2xkLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQl3YWl0KDEpCgkJCUNoYWluSG9sZC5UZXh0ID0gIihHKSBJbnN0YW50IENoYWluIEhhY2sgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gSW5zdGFudCBWaW5lIFRyYXAKCglsb2NhbCBWaW5lVHJhcCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglWaW5lVHJhcC5OYW1lID0gIlZpbmVUcmFwIgoJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBWaW5lVHJhcCkKCglWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQoKCVZpbmVUcmFwLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgVmluZVRyYXBFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJVmluZVRyYXBFbmFibGVkID0gdHJ1ZQoJCQlWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPbikiCgkJZWxzZQoJCQlWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQoJCQlWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sKCglsb2NhbCBJbGx1c2l2ZUF0YWtlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIgoJSWxsdXNpdmVBdGFrZS5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWxsdXNpdmVBdGFrZSkKCglJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlCgoJSWxsdXNpdmVBdGFrZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIElsbHVzaXZlQXRha2VFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSB0cnVlCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPbikiCgkJZWxzZQoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEluc3RhbnQgTXVya3kgTWlzc2lsZXMKCglsb2NhbCBEYXJrQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCURhcmtBb2UuTmFtZSA9ICJEYXJrQW9lIgoJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkKCglsb2NhbCBEYXJrQW9lRW5hYmxlZCA9IGZhbHNlCgoJRGFya0FvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIG5vdCBEYXJrQW9lRW5hYmxlZCB0aGVuCgkJCURhcmtBb2VFbmFibGVkID0gdHJ1ZQoJCQlEYXJrQW9lLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT24pIgoJCWVsc2UKCQkJRGFya0FvZUVuYWJsZWQgPSBmYWxzZQoJCQlEYXJrQW9lLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIKCQllbmQKCWVuZCkKCQoJLS0gSW5zdGFudCBBaXIgRGlzcGVyc2lvbgoKCWxvY2FsIFN0b3JtQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCVN0b3JtQW9lLk5hbWUgPSAiU3Rvcm1Bb2UiCglTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBTdG9ybUFvZSkKCglsb2NhbCBEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlCgoJU3Rvcm1Bb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQlpZiBub3QgRGlzcGVyc2lvbkVuYWJsZWQgdGhlbgoJCQkJRGlzcGVyc2lvbkVuYWJsZWQgPSB0cnVlCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT24pIgoJCQllbHNlCgkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQkJZW5kCQoJCWVsc2UKCQkJU3Rvcm1Bb2UuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCXdhaXQoMSkKCQkJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sKCglsb2NhbCBTcGxpdHRpbmdTbGltZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglTcGxpdHRpbmdTbGltZS5OYW1lID0gIlNwbGl0dGluZ1NsaW1lIgoJU3BsaXR0aW5nU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBTcGxpdHRpbmdTbGltZSkKCglTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBmYWxzZQoKCVNwbGl0dGluZ1NsaW1lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gdHJ1ZQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPbikiCgkJZWxzZQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBmYWxzZQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEFtYXVyb3RpYyBMYW1iZW50IEhhY2sKCglsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUFtYXVyb3RpY0xhbWJlbnQuTmFtZSA9ICJBbWF1cm90aWNMYW1iZW50IgoJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkKCglBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlCgoJQW1hdXJvdGljTGFtYmVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSB0cnVlCgkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPbikiCgkJZWxzZQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlCgkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEluc3RhbnQgUGxhc21hIEltcGxvc2lvbgoKCWxvY2FsIFBsYXNtYUltcGxvc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglQbGFzbWFJbXBsb3Npb24uTmFtZSA9ICJQbGFzbWFJbXBsb3Npb24iCglQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUGxhc21hSW1wbG9zaW9uKQoKCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBmYWxzZQoKCVBsYXNtYUltcGxvc2lvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gdHJ1ZQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9uKSIKCQllbHNlCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBmYWxzZQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sKCglsb2NhbCBGb3JtaWRhYmxlUm9hciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglGb3JtaWRhYmxlUm9hci5OYW1lID0gIkZvcm1pZGFibGVSb2FyIgoJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikKCglGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSBmYWxzZQoKCUZvcm1pZGFibGVSb2FyLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgRm9ybWlkYWJsZVJvYXJFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gdHJ1ZQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPbikiCgkJZWxzZQoJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSBmYWxzZQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEluc3RhbnQgU2tlbGV0b24gR3JhYgoKCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglTa2VsZXRvbkdyYWIuTmFtZSA9ICJTa2VsZXRvbkdyYWIiCglTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIKCXRhYmxlLmluc2VydChidXR0b25zLCBTa2VsZXRvbkdyYWIpCgoJU2tlbGV0b25HcmFiRW5hYmxlZCA9IGZhbHNlCgoJU2tlbGV0b25HcmFiLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgU2tlbGV0b25HcmFiRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSB0cnVlCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT24pIFtBSU1FRF0iCgkJZWxzZQoJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UKCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIFtBSU1FRF0iCgkJZW5kCgllbmQpCgoJLS0gR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrCgoJbG9jYWwgR3Jhdml0YXRpb25hbEZpZWxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUdyYXZpdGF0aW9uYWxGaWVsZC5OYW1lID0gIkdyYXZpdGF0aW9uYWxGaWVsZCIKCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhdGlvbmFsRmllbGQpCgoJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IGZhbHNlCgoJR3Jhdml0YXRpb25hbEZpZWxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSB0cnVlCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT24pIgoJCWVsc2UKCQkJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IGZhbHNlCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBJbnN0YW50IFJvY2sgQXJtb3IKCglsb2NhbCBSb2NrQXJtb3IgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIgoJUm9ja0FybW9yLlRleHQgPSAiSW5zdGFudCBSb2NrIEFybW9yIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikKCglSb2NrQXJtb3IuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJCb2R5IENvbG9ycyIpIHRoZW4KCQkJcGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkKCQllbmQKCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikKCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJZW5kKQoKCS0tLS0gUGxheWVyIG1vZGlmaWNhdGlvbnMKCS0tIFNsaW1lIEJ1ZGRpZXMgSGFjawoKCWxvY2FsIFNsaW1lQnVkZGllcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglTbGltZUJ1ZGRpZXMuTmFtZSA9ICJTbGltZUJ1ZGRpZXMiCglTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNsaW1lQnVkZGllcykKCglsb2NhbCBTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UKCglTbGltZUJ1ZGRpZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSB0cnVlCgkJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZWxzZQoJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCXdhaXQoMSkKCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBJbmVydGlhIEdyYXZpdHkKCglsb2NhbCBJbmVydGlhR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5IgoJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSW5lcnRpYUdyYXZpdHkpCgoJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCglJbmVydGlhR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIEluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IHRydWUKCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9uKSIKCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQoJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiCgkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApCgkJZWxzZQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT2ZmKSIKCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJJbmVydGlhR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkluZXJ0aWFHcmF2aXR5Rm9yY2U6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoJZW5kKQoKCS0tIFNwZWN0cmFsIEVtYm9kaW1lbnQKCglsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJU3BlY3RyYWxFbWJvZGltZW50Lk5hbWUgPSAiU3BlY3RyYWxFbWJvZGltZW50IgoJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIKCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVjdHJhbEVtYm9kaW1lbnQpCgoJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlCgoJU3BlY3RyYWxFbWJvZGltZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSB0cnVlCgkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT24pIFtYXSIKCQllbHNlCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQoJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIgoJCWVuZAoJZW5kKQoKCS0tIEFudGktQmxpbmQKCglsb2NhbCBBbnRpQmxpbmQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIgoJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUJsaW5kKQoKCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoKCWxvY2FsIG5vcm1hbEZvZ0NvbG9yID0gZ2FtZS5MaWdodGluZy5Gb2dDb2xvcgoJbG9jYWwgbm9ybWFsRm9nRW5kID0gZ2FtZS5MaWdodGluZy5Gb2dFbmQKCWxvY2FsIG5vcm1hbEJyaWdodG5lc3MgPSBnYW1lLkxpZ2h0aW5nLkJyaWdodG5lc3MKCWxvY2FsIG5vcm1hbENsb2NrVGltZSA9IGdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lCgoJbG9jYWwgZnVuY3Rpb24gQW50aUJsaW5kRnVuYygpCgkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlCgkJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9uKSBbS10iCgkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8KCQkJCXdhaXQoKQoJCQkJZ2FtZS5MaWdodGluZy5Gb2dDb2xvciA9IG5vcm1hbEZvZ0NvbG9yCgkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZAoJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcwoJCQkJZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUgPSBub3JtYWxDbG9ja1RpbWUKCQkJZW5kCgkJZWxzZQoJCQlBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UKCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJZW5kCgllbmQKCglBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpCgoJcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkKCQlpZiBBbnRpQmxpbmRFbmFibGVkIHRoZW4KCQkJaWYgZC5OYW1lID09ICJTY3JlZW5HdWkiIHRoZW4KCQkJCXdhaXQoKQoJCQkJcGxheWVyLlBsYXllckd1aS5TY3JlZW5HdWk6RGVzdHJveSgpCgkJCWVsc2VpZiBkLk5hbWUgPT0gIkRpc3RvcnQiIHRoZW4KCQkJCXdhaXQoKQoJCQkJcGxheWVyLlBsYXllckd1aS5EaXN0b3J0OkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCWVuZCkKCgktLSBTcGVlZCBoYWNrCgoJbG9jYWwgU3BlZWRoYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCVNwZWVkaGFjay5OYW1lID0gIlNwZWVkaGFjayIKCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWVkaGFjaykKCglTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UKCVNldFNwZWVkID0gNjQKCglmdW5jdGlvbiBtb2RpZnlTcGVlZCgpCgkJcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKS5DaGFuZ2VkOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQllbHNlCgkJCQlyZXR1cm4KCQkJZW5kCgkJZW5kKQoJZW5kCgoJZnVuY3Rpb24gYmVnaW5TcGVlZCgpCgkJaWYgU3BlZWRoYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlCgkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9uKSBbVF0iCgkJCW1vZGlmeVNwZWVkKCkKCQkJd2FpdCgpCgkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJd2hpbGUgU3BlZWRoYWNrRW5hYmxlZCBkbwoJCQkJd2FpdCgpCgkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQltb2RpZnlTcGVlZCgpCgkJCQkJd2FpdCgpCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJZW5kCgkJCWVuZAoJCWVsc2UKCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCWVuZAoJZW5kCgoJU3BlZWRoYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpblNwZWVkKQoKCS0tLS0gQnVsbGV0cwoJLS0gSHlwZXJhbmcgSGFjawoKCWxvY2FsIFRlY2hSYW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCVRlY2hSYW5nLk5hbWUgPSAiVGVjaFJhbmciCglUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGVjaFJhbmcpCgoJbG9jYWwgSHlwZXJhbmdFbmFibGVkID0gZmFsc2UKCglUZWNoUmFuZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIG5vdCBIeXBlcmFuZ0VuYWJsZWQgdGhlbgoJCQlIeXBlcmFuZ0VuYWJsZWQgPSB0cnVlCgkJCVRlY2hSYW5nLlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT24pIgoJCWVsc2UKCQkJSHlwZXJhbmdFbmFibGVkID0gZmFsc2UKCQkJVGVjaFJhbmcudGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEFzdGVyb2lkIEJlbHQgSGFjawoKCWxvY2FsIEFzdGVyb2lkQmVsdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siCglBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFzdGVyb2lkQmVsdEhhY2spCgkKCWxvY2FsIEFzdGVyb2lkQmVsdEVuYWJsZWQgPSBmYWxzZQoJCglBc3Rlcm9pZEJlbHRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgQXN0ZXJvaWRCZWx0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUFzdGVyb2lkQmVsdEVuYWJsZWQgPSB0cnVlCgkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBc3Rlcm9pZCBCZWx0IEhhY2sgKE9uKSIKCQllbHNlCgkJCUFzdGVyb2lkQmVsdEVuYWJsZWQgPSBmYWxzZQoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIFZpZ29yIEd5cmF0aW9uIEhhY2sKCglsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJVmlnR3lyYXRIYWNrLk5hbWUgPSAiVmlnR3lyYXRIYWNrIgoJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spCgkKCWxvY2FsIFZpZ29ySGFja0VuYWJsZWQgPSBmYWxzZQoJCglWaWdHeXJhdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBWaWdvckhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IHRydWUKCQkJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT24pIgoJCWVsc2UKCQkJVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gTGlnaHRuaW5nIEJhcnJhZ2UgSGFjawoKCWxvY2FsIEJhcnJhZ2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJQmFycmFnZS5OYW1lID0gIkJhcnJhZ2UiCglCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJhcnJhZ2UpCgoJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIG5vdCBTdG9ybUJ1bGxldHNFbmFibGVkIHRoZW4KCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IHRydWUKCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIgoJCWVsc2UKCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IGZhbHNlCgkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0tLSBCbGFzdHMKCS0tIE9yYml0YWwgU3RyaWtlIEhhY2sKCglsb2NhbCBPcmJpdGFsID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCU9yYml0YWwuTmFtZSA9ICJPcmlidGFsIgoJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIE9yYml0YWwpCgoJbG9jYWwgT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UKCglPcmJpdGFsLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJaWYgbm90IE9yYml0YWxIYWNrRW5hYmxlZCB0aGVuCgkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSB0cnVlCgkJCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UKCQkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZWxzZQoJCQlPcmJpdGFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQl3YWl0KDEpCgkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBEb3VibGUgUmF5IEhhY2sKCglsb2NhbCBEb3VibGVSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJRG91YmxlUmF5Lk5hbWUgPSAiRG91YmxlUmF5IgoJRG91YmxlUmF5LlRleHQgPSAiKEcpIERvdWJsZSBSYXkgSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpCgoJRG91YmxlUmF5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJaWYgbm90IERvdWJsZVJheUVuYWJsZWQgdGhlbgoJCQkJRG91YmxlUmF5RW5hYmxlZCA9IHRydWUKCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJRG91YmxlUmF5RW5hYmxlZCA9IGZhbHNlCgkJCQlEb3VibGVSYXkuVGV4dCA9ICIoRykgRG91YmxlIFJheSBIYWNrIChPZmYpIgoJCQllbmQKCQllbHNlCgkJCURvdWJsZVJheS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJd2FpdCgxKQoJCQlEb3VibGVSYXkuVGV4dCA9ICIoRykgRG91YmxlIFJheSBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEhvbG9iZWFtIENhbWVyYSBBdHRhY2gKCglsb2NhbCBIb2xvYmVhbSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIgoJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEhvbG9iZWFtKQoKCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlCgoJZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKHYpCgkJaWYgKHYgfj0gbmlsKSB0aGVuCgkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgKHYuTmFtZSA9PSAiSG9sb2JlYW0iKSB0aGVuCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ11bdi5OYW1lXQoJCQllbHNlCgkJCQl2OkRlc3Ryb3koKQoJCQkJcmV0dXJuCgkJCWVuZAoJCQkKCQkJdi5UcmFuc3BhcmVuY3kgPSAwCgoJCQl3YWl0KDQpCgkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQllbmQKCQkJCgkJCXY6RGVzdHJveSgpCgkJZW5kCgllbmQKCQoJZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCWlmIEhvbG9iZWFtRW5hYmxlZCB0aGVuCgkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHBsYXllci5DaGFyYWN0ZXIpIHRoZW4KCQkJCWxvY2FsIGRpc3RhbmNlID0gKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHYuUG9zaXRpb24pLk1hZ25pdHVkZQoJCQkJCgkJCQlpZiAodi5TaXplID09IFZlY3RvcjMubmV3KDUsIDUsIDUpKSBhbmQgKGRpc3RhbmNlIDwgMTApIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbgoJCQkJCgkJCQkJdi5OYW1lID0gIkhvbG9iZWFtIgoJCQkJCgkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKSAKCQkJCQkJCWF0dGFjaENhbWVyYSh2KSAKCQkJCQkJZW5kKSkKCQkJCQllbmQpCgkJCQkJCgkJCQkJbG9jYWwgZ3VpID0gcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0JhcgoJCQkJCQoJCQkJCXdhaXQoMC41KQoJCQkJCQoJCQkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJCQlpZiBub3QoZ3VpWycxJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzInXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMyddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc0J10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzUnXS5DRC5UZXh0ID09ICIuLi4iKSB0aGVuCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbgoJCQkJCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQkJCQllbmQKCQkJCgkJCQkJCQkJdjpEZXN0cm95KCkKCQkJCQkJCWVuZCkKCQkJCQkJCQoJCQkJCQkJYnJlYWsKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgllbmQpCgoJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBIb2xvYmVhbUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlIb2xvYmVhbUVuYWJsZWQgPSB0cnVlCgkJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT24pIgoJCQkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbiB2OkRlc3Ryb3koKSBlbmQKCQkJZW5kCgkJZWxzZQoJCQlIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQoJCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gQ29udHJvbGxlZCBFY2hvZXMKCglsb2NhbCBFY2hvZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJRWNob2VzLk5hbWUgPSAiRWNob2VzIgoJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRWNob2VzKQoKCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gZmFsc2UKCUVjaG9lc1BoYXNlID0gMQoKCUVjaG9lcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSB0cnVlCgkJCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPbikiCgkJZWxzZQoJCQlDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9IGZhbHNlCgkJCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tLS0gU2hpZWxkcwoJLS0gQ3J5c3RhbCBBcm1hbWVudCBIYWNrCgoJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUNyeXN0YWxBcm1hbWVudC5OYW1lID0gIkNyeXN0YWxBcm1hbWVudCIKCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpCgoJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgoJQ3J5c3RhbEFybWFtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSB0cnVlCgkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT24pIgoJCWVsc2UKCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBHcmF2aXRhbCBHbG9iZSBIYWNrCgoJbG9jYWwgR3Jhdml0YWxHbG9iZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglHcmF2aXRhbEdsb2JlLk5hbWUgPSAiR3Jhdml0YWxHbG9iZSIKCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGFsR2xvYmUpCgoJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoKCUdyYXZpdGFsR2xvYmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gdHJ1ZQoJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT24pIgoJCWVsc2UKCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLS0tIFVsdHMKCS0tIFJlYXBlcidzIFJhZ2UKCWxvY2FsIFJlYXBlclVsdCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglSZWFwZXJVbHQuTmFtZSA9ICJSZWFwZXJVbHQiCglSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJlYXBlclVsdCkKCglsb2NhbCBSZWFwZXJVbHRFbmFibGVkID0gZmFsc2UKCglSZWFwZXJVbHQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQlpZiBub3QgUmVhcGVyVWx0RW5hYmxlZCB0aGVuCgkJCQlSZWFwZXJVbHRFbmFibGVkID0gdHJ1ZQoJCQkJUmVhcGVyVWx0LlRleHQgPSAiKEcpIFJlYXBlcidzIFJhZ2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQlSZWFwZXJVbHRFbmFibGVkID0gZmFsc2UKCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVsc2UKCQkJUmVhcGVyVWx0LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQl3YWl0KDEpCgkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrCgoJbG9jYWwgQWJsYXplSnVkZ2VtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUFibGF6ZUp1ZGdlbWVudC5OYW1lID0gIkFibGF6ZUp1ZGdlbWVudCIKCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBBYmxhemVKdWRnZW1lbnQpCgoJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBmYWxzZQoKCUFibGF6ZUp1ZGdlbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIEFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSB0cnVlCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT24pIgoJCWVsc2UKCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBmYWxzZQoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gVm9pZCBPcGVuaW5nIEhhY2sKCglsb2NhbCBWb2lkT3BlbmluZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglWb2lkT3BlbmluZy5OYW1lID0gIlZvaWRPcGVuaW5nIgoJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBWb2lkT3BlbmluZykKCglWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gZmFsc2UKCglWb2lkT3BlbmluZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIFZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gdHJ1ZQoJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPbikiCgkJZWxzZQoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gZmFsc2UKCQkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBUaGUgV29ybGQgSGFjawoKCWxvY2FsIFRoZVdvcmxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCVRoZVdvcmxkLk5hbWUgPSAiVGhlV29ybGQiCglUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRoZVdvcmxkKQoKCVRoZVdvcmxkRW5hYmxlZCA9IGZhbHNlCgoJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBUaGVXb3JsZEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlUaGVXb3JsZEVuYWJsZWQgPSB0cnVlCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSIKCQllbHNlCgkJCVRoZVdvcmxkRW5hYmxlZCA9IGZhbHNlCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gUG9sYXJpcyBIYWNrCgoJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglQb2xhcmlzLk5hbWUgPSAiUG9sYXJpcyIKCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUG9sYXJpcykKCglQb2xhcmlzRW5hYmxlZCA9IGZhbHNlCgoJUG9sYXJpcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIFBvbGFyaXNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJUG9sYXJpc0VuYWJsZWQgPSB0cnVlCgkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9uKSIKCQllbHNlCgkJCVBvbGFyaXNFbmFibGVkID0gZmFsc2UKCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24KCglsb2NhbCBTaGF0dGVyaW5nRXJ1cHRpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJU2hhdHRlcmluZ0VydXB0aW9uLk5hbWUgPSAiU2hhdHRlcmluZ0VydXB0aW9uIgoJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNoYXR0ZXJpbmdFcnVwdGlvbikKCglTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gZmFsc2UKCglTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IHRydWUKCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPbikiCgkJZWxzZQoJCQlTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gZmFsc2UKCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrCgoJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJRXRoZXJlYWxBY3VtZW4uTmFtZSA9ICJFdGhlcmVhbEFjdW1lbiIKCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXRoZXJlYWxBY3VtZW4pCgoJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gZmFsc2UKCglFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIEV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IHRydWUKCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT24pIgoJCWVsc2UKCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gZmFsc2UKCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBUb3hpYyBCYXNpbGlzayBIYWNrCgoJbG9jYWwgVG94aWNCYXNpbGlzayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglUb3hpY0Jhc2lsaXNrLk5hbWUgPSAiVG94aWNCYXNpbGlzayIKCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spCgoJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQoKCVRveGljQmFzaWxpc2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gdHJ1ZQoJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT24pIgoJCWVsc2UKCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQoJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBBcmNhbmUgR3VhcmRpYW4gSGFjawoKCWxvY2FsIEFyY2FuZUd1YXJkaWFuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUFyY2FuZUd1YXJkaWFuLk5hbWUgPSAiQXJjYW5lR3VhcmRpYW4iCglBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFyY2FuZUd1YXJkaWFuKQoKCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IGZhbHNlCgoJQXJjYW5lR3VhcmRpYW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSB0cnVlCgkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9uKSIKCQllbHNlCgkJCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IGZhbHNlCgkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gVmlydHVhbCBab25lIEhhY2sKCglsb2NhbCBWaXJ0dWFsWm9uZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglWaXJ0dWFsWm9uZS5OYW1lID0gIlZpcnR1YWxab25lIgoJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBWaXJ0dWFsWm9uZSkKCglWaXJ0dWFsWm9uZUVuYWJsZWQgPSBmYWxzZQoKCVZpcnR1YWxab25lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgVmlydHVhbFpvbmVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gdHJ1ZQoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiCgkJZWxzZQoJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSBmYWxzZQoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tLS0gTWlzY2VsbGFuZW91cwoJLS0gU2hhcmQgQ29sb3JzCgoJbG9jYWwgUmFuZG9tQ29sb3JzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyIKCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmFuZG9tQ29sb3JzKQoKCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQoJbG9jYWwgU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQoKCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpCgkJZm9yIGksIGNoaWxkIGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl06R2V0Q2hpbGRyZW4oKSkgZG8KCQkJaWYgbm90IGNoaWxkLk5hbWUgPT0gIlNoYXJkIiB0aGVuIHByaW50KCJDaGlsZCBub3QgYSBTaGFyZCIpCgkJCWVsc2VpZiBjaGlsZC5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCBjaGlsZDpGaW5kRmlyc3RDaGlsZCgiQ0NCb29sIikgdGhlbgoJCQkJeHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQljaGlsZC5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkKCQkJCWVuZCwgZnVuY3Rpb24oZSkKCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpCgkJCQkJd2FybigiW3RyYWNlYmFja10gIiwgZGVidWcudHJhY2ViYWNrKCkpCgkJCQllbmQpCgkJCQlsb2NhbCBDQ0Jvb2wgPSBJbnN0YW5jZS5uZXcoIkJvb2xWYWx1ZSIpCgkJCQlDQ0Jvb2wuTmFtZSA9ICJDQ0Jvb2wiCgkJCQlDQ0Jvb2wuUGFyZW50ID0gY2hpbGQKCQkJCUNDQm9vbC5WYWx1ZSA9IHRydWUKCQkJZWxzZWlmIGNoaWxkLk5hbWUgPT0gIlNoYXJkIiBhbmQgY2hpbGQ6RmluZEZpcnN0Q2hpbGQoIkNDQm9vbCIpLlZhbHVlIHRoZW4gZW5kCgkJZW5kCgllbmQKCglSYW5kb21Db2xvcnMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBTaGFyZENvbG9yRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCVNoYXJkQ29sb3JFbmFibGVkID0gdHJ1ZQoJCQlwcmludCgiVHVybmVkIG9uIFJhbmRvbSBTaGFyZCBDb2xvcnMiKQoJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPbikiCgkJCXdoaWxlIFNoYXJkQ29sb3JFbmFibGVkIGRvCgkJCQlzaGFyZFJhbmRvbWl6ZXIoKQoJCQkJd2FpdCgxKQoJCQllbmQKCQllbHNlCgkJCVNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQllbmQJCgllbmQpCgoJLS0gQW50aS1MYWcKCglsb2NhbCBBbnRpTGFnID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUFudGlMYWcuTmFtZSA9ICJBbnRpTGFnIgoJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlMYWcpCgoJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoKCWZ1bmN0aW9uIHJlbW92ZUxhZygpCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkxvY2FsRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJCYWNrRGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiU3BlY2lhbE1lc2giKSB0aGVuCgkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJdjpEZXN0cm95KCkKCQkJZWxzZWlmICh2Lk5hbWUgPT0gIkxpZ2h0RGlzYyIpIHRoZW4KCQkJCXY6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvCgkJCWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuCgkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCWZvciBfLCB4IGluIHBhaXJzKHYuQ2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB4Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4KCQkJCQl4OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJZW5kCgoJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikKCQlpZiBBbnRpTGFnRW5hYmxlZCB0aGVuCgkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbHNlaWYgdi5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuCgkJCQl3YWl0KCkKCQkJCXY6RGVzdHJveSgpCgkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgdGhlbgoJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVsc2VpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbgoJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCXdhaXQoKQoJCQkJdjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgllbmQpCgoJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIEFudGlMYWdFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJQW50aUxhZ0VuYWJsZWQgPSB0cnVlCgkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT24pIgoJCQlyZW1vdmVMYWcoKQoJCWVsc2UKCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJZW5kCgllbmQpCgoJLS0gSWdub3JlIFBoeXNpY3MKCglsb2NhbCBJZ25vcmVQaHlzaWNzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUlnbm9yZVBoeXNpY3MuTmFtZSA9ICJmSWdub3JlUGh5c2ljcyIKCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWdub3JlUGh5c2ljcykKCglJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgoJbG9jYWwgZnVuY3Rpb24gaW5pdGlhbE51bGxpZnlGb3JjZXMoKQoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpHZXRDaGlsZHJlbigpKSBkbwoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQl3YWl0KCkKCQkJCXY6RGVzdHJveSgpCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJd2FpdCgpCgkJCQl2OkRlc3Ryb3koKQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCXdhaXQoKQoJCQkJdjpEZXN0cm95KCkKCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJd2FpdCgpCgkJCQl2OkRlc3Ryb3koKQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCXdhaXQoKQoJCQkJdjpEZXN0cm95KCkKCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJd2FpdCgpCgkJCQl2OkRlc3Ryb3koKQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQl3YWl0KCkKCQkJCXY6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXIuQ2hhcmFjdGVyLkZsaXBzSG9sZGVyOkdldENoaWxkcmVuKCkpIGRvCgkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCXdhaXQoKQoJCQkJdjpEZXN0cm95KCkKCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQl3YWl0KCkKCQkJCXY6RGVzdHJveSgpCgkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJd2FpdCgpCgkJCQl2OkRlc3Ryb3koKQoJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQl3YWl0KCkKCQkJCXY6RGVzdHJveSgpCgkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJd2FpdCgpCgkJCQl2OkRlc3Ryb3koKQoJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQl3YWl0KCkKCQkJCXY6RGVzdHJveSgpCgkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCXdhaXQoKQoJCQkJdjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgllbmQKCglsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQoJCXBsYXllci5DaGFyYWN0ZXIuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikKCQkJaWYgSWdub3JlUGh5c2ljc0VuYWJsZWQgdGhlbgoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoJZW5kCgoJZnVuY3Rpb24gYmVnaW5OdWxsaWZ5Rm9yY2VzKCkKCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQoJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9uKSBbWl0iCgkJCWluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJd2hpbGUgSWdub3JlUGh5c2ljc0VuYWJsZWQgZG8KCQkJCXdhaXQoKQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJCWVuZAoJCQllbmQKCQllbHNlCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UKCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPZmYpIFtaXSIKCQllbmQKCWVuZAoKCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykKCgktLSBBbnRpLUdyYXZpdHkKCglsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglBbnRpR3Jhdml0eS5OYW1lID0gIkFudGlHcmF2aXR5IgoJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQoKCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgoJZnVuY3Rpb24gQW50aUdyYXZpdHlGdW5jKCkKCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlCgkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPbikgW0ddIgoJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJQm9keUZvcmNlLk5hbWUgPSAiQW50aUdyYXZpdHlGb3JjZSIKCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkKCQllbHNlCgkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFudGlHcmF2aXR5Rm9yY2U6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoJZW5kCgoJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykKCgktLSBDbGljay1UUAoKCWxvY2FsIENsaWNrVFAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiCglDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gdHAgdG8gbW91c2VdIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENsaWNrVFApCgoJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoKCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBDbGlja1RQRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gQ2xpY2stVFBdIgoJCWVsc2UKCQkJQ2xpY2tUUEVuYWJsZWQgPSB0cnVlCgkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT24pIFtKIHRvIENsaWNrLVRQXSIKCQllbmQKCWVuZCkKCglmdW5jdGlvbiBjbGlja3RwKHBvc2l0aW9uKQoJCWlmIHBsYXllciA9PSBuaWwgb3IgcGxheWVyLkNoYXJhY3RlciA9PSBuaWwgdGhlbiByZXR1cm4gZW5kCgkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDMsIHBvc2l0aW9uLnopKQoJZW5kCgoJLS0gRnJlZXplCgoJbG9jYWwgRnJlZXplID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCUZyZWV6ZS5OYW1lID0gIkZyZWV6ZSIKCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRnJlZXplKQoKCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQoKCWZ1bmN0aW9uIEZyZWV6ZUZ1bmMoKQoJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlGcmVlemVFbmFibGVkID0gdHJ1ZQoJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9uKSBbRl0iCgkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQllbHNlCgkJCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQoJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCWVuZAoJZW5kCgoJRnJlZXplLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChGcmVlemVGdW5jKQoKCS0tIEluZmluaXRlIFNwcmludAoKCWxvY2FsIEluZlNwcmludCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglJbmZTcHJpbnQuTmFtZSA9ICJJbmZTcHJpbnQiCglJbmZTcHJpbnQuVGV4dCA9ICIoRykgSW5maW5pdGUgU3ByaW50IChPZmYpIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZlNwcmludCkKCglsb2NhbCBJbmZTcHJpbnRFbmFibGVkID0gZmFsc2UKCglsb2NhbCBmdW5jdGlvbiBTcHJpbnRSZW1vdGUoKQoJCXdoaWxlIHdhaXQoLjUpIGRvCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCVsyXSA9IGZhbHNlLAoJCQl9CgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJZW5kCgllbmQKCglJbmZTcHJpbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQlpZiBub3QgSW5mU3ByaW50RW5hYmxlZCB0aGVuCgkJCQlJbmZTcHJpbnRFbmFibGVkID0gdHJ1ZQoJCQkJSW5mU3ByaW50LlRleHQgPSAiKEcpIEluZmluaXRlIFNwcmludCAoT24pIgoJCQkJU3ByaW50UmVtb3RlKCkKCQkJZWxzZQoJCQkJSW5mU3ByaW50RW5hYmxlZCA9IGZhbHNlCgkJCQlJbmZTcHJpbnQuVGV4dCA9ICIoRykgSW5maW5pdGUgU3ByaW50IChPZmYpIgoJCQllbmQJCQkJCgkJZW5kCgllbmQpCgoJLS0gTG9uZyBGbGFzaAoKCWxvY2FsIExGbGFzaCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglMRmxhc2guTmFtZSA9ICJGbGFzaCIKCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIKCXRhYmxlLmluc2VydChidXR0b25zLCBMRmxhc2gpCgoJRmxhc2hFbmFibGVkID0gZmFsc2UKCglmdW5jdGlvbiBsb25nZmxhc2goKQoJCWxvY2FsIG1vdXNlcG9zID0gbW91c2UuSGl0LnAKCQlsb2NhbCBhcmdzID0gewoJCQlbMV0gPSAiU3Rvcm0iLAoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIgoJCX0KCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQlsb2NhbCBhcmdzID0gewoJCQlbMV0gPSAiU3Rvcm0iLAoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIiwKCQkJWzNdID0gewoJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLAoJCQkJWyJPcmlnaW4iXSA9IHBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLnAKCQkJfQoJCX0KCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJZW5kCgoJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgRmxhc2hFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJRmxhc2hFbmFibGVkID0gdHJ1ZQoJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPbikgW2AgdG8gdXNlXSIKCQllbHNlCgkJCUZsYXNoRW5hYmxlZCA9IGZhbHNlCgkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIKCQllbmQKCWVuZCkKCgktLSBWaWV3IFRhcmdldAoKCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJVmlld1RhcmdldC5OYW1lID0gIlZpZXdUYXJnZXQiCglWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpCgoJdmlld2luZyA9IGZhbHNlCgoJZnVuY3Rpb24gdmlldygpCgkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJaWYgdmlld2luZyA9PSBmYWxzZSB0aGVuCgkJCQl2aWV3aW5nID0gdHJ1ZQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT24pIFtWXSIKCQkJZWxzZQoJCQkJdmlld2luZyA9IGZhbHNlCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCWVuZAoJCWVsc2VpZiB2aWV3aW5nID09IHRydWUgdGhlbiAKCQkJdmlld2luZyA9IGZhbHNlCgkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJCWVuZAoJZW5kCgoJVmlld1RhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodmlldykKCgktLSBUZWxlcG9ydCB0byBUYXJnZXQKCglsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglUUFRhcmdldC5OYW1lID0gIlRQVGFyZ2V0IgoJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQoKCVRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgoJbG9jYWwgZnVuY3Rpb24gVFBUb1RhcmdldCgpCgkJaWYgVFBUYXJnZXRFbmFibGVkIGFuZCB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikKCgkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5DRnJhbWUgPSBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKS5DRnJhbWUKCQllbmQKCWVuZAoKCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQoJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT24pIFtVXSIKCQllbHNlCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSIKCQllbmQKCWVuZCkKCgktLSBMb29wIFRlbGVwb3J0IHRvIFRhcmdldAoKCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglMb29wVFBUYXJnZXQuTmFtZSA9ICJMb29wVFBUYXJnZXQiCglMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpCgoJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgoJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgTG9vcFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSB0cnVlCgkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikiCgkJCXdoaWxlIExvb3BUUFRhcmdldEVuYWJsZWQgZG8KCQkJCXdhaXQoKQoJCQkJVFBUb1RhcmdldCgpCgkJCWVuZAoJCWVsc2UKCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCWVuZAoJZW5kKQoKCS0tIFN0YW5kYXJkIEVTUAoKCWxvY2FsIEVTUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglFU1AuTmFtZSA9ICJFU1AiCglpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgllbHNlIAoJCUVTUEVuYWJsZWQgPSB0cnVlCgkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIgoJZW5kCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQoKCWxvY2FsIEhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQoJSG9sZGVyLk5hbWUgPSAiRVNQIgoKCWxvY2FsIFVwZGF0ZUZ1bmNzID0ge30KCglsb2NhbCBCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpCglCb3guTmFtZSA9ICJuaWxCb3hHIgoJQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCUJveC5UcmFuc3BhcmVuY3kgPSAwLjcKCUJveC5aSW5kZXggPSAwCglCb3guQWx3YXlzT25Ub3AgPSB0cnVlCglCb3guVmlzaWJsZSA9IHRydWUKCglsb2NhbCBOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWdHIgoJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCglOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQoJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCglsb2NhbCBUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE5hbWVUYWcpCglUYWcuTmFtZSA9ICJUYWciCglUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCVRhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIDApCglUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJVGFnLlRleHRTaXplID0gMjAKCVRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCglUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNAoJVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCVRhZy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoCglUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCglUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCglmdW5jdGlvbiBMb2FkQ2hhcmFjdGVyKHYpCgkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQlsb2NhbCBiID0gQm94OkNsb25lKCkKCQkJYi5OYW1lID0gdi5OYW1lIC4uICJCb3giCgkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJYi5QYXJlbnQgPSB2SG9sZGVyCgoJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpCgkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiTmFtZVRhZyIKCQkJdC5QYXJlbnQgPSB2SG9sZGVyCgkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbgoJCQkJcmV0dXJuIFVubG9hZENoYXJhY3Rlcih2KQoJCQllbmQKCQkJdC5UYWcuVGV4dCA9IHYuTmFtZQoJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCXdhaXQoKQoKCQkJbG9jYWwgZnVuY3Rpb24gVXBkYXRlTmFtZVRhZygpCgkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQoJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQoJCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lIC4uICJcbiIgLi4gKChtYXhoIH49IDAgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgoaCAvIG1heGgpICogMTAwKSkpIG9yICIwIikgLi4gIiUgICIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpCgkJCQkJCWlmIEVTUEVuYWJsZWQgdGhlbgoJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCWVsc2UKCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJZW5kCgkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbgoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQllbHNlCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkKCQkJCQkJZW5kCgkJCQkJZW5kKSB0aGVuCgkJCQkJVXBkYXRlRnVuY3Nbdl0gPSBuaWwKCQkJCWVuZAoJCQllbmQKCQkJVXBkYXRlTmFtZVRhZygpCgkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZwoJCWVuZAoJZW5kCgoJZnVuY3Rpb24gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJCb3giKSB+PSBuaWwgb3IgdkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIk5hbWVUYWciKSB+PSBuaWwpIHRoZW4KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQllbmQKCWVuZAoKCWZ1bmN0aW9uIExvYWRQbGF5ZXIodikKCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEhvbGRlcikKCQkJdkhvbGRlci5OYW1lID0gdi5OYW1lCgkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQlpZiBFU1BFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCXBjYWxsKExvYWRDaGFyYWN0ZXIsIHYpCgkJCQllbmQKCQkJZW5kKQoJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQllbmQpCgkJCUxvYWRDaGFyYWN0ZXIodikKCQllbmQKCWVuZAoKCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQoJCVVubG9hZENoYXJhY3Rlcih2KQoJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCWlmIHZIb2xkZXIgdGhlbgoJCQl2SG9sZGVyOkRlc3Ryb3koKQoJCWVuZAoJZW5kCgoJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgllbmQKCglwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQlwY2FsbChMb2FkUGxheWVyLCB2KQoJZW5kKQoKCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCXBjYWxsKFVubG9hZFBsYXllciwgdikKCWVuZCkKCglnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbgoJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQlVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCXdhaXQoKQoJCQkJTG9hZENoYXJhY3RlcihpKQoJCQllbmQKCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4KCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuCgkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJVXBkYXRlRnVuY3NbcF0oKQoJCQkJZW5kKQoJCQllbmQKCQllbmQKCWVuZCkKCglmdW5jdGlvbiB0b2dnbGVFU1AoKQoJCWlmIEVTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQlFU1BFbmFibGVkID0gdHJ1ZQoJCQkJRVNQR29sZC5UZXh0ID0gIlN0YW5kYXJkIEVTUCBFbmFibGVkIgoJCQkJd2FpdCgxKQoJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQllbHNlCgkJCQlFU1BFbmFibGVkID0gdHJ1ZQoJCQllbmQKCQkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIgoJCQlmb3IgaSx2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgkJCWVuZAoJCWVsc2UKCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQoJCQllbmQKCQllbmQKCWVuZAoKCUVTUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlRVNQKQoKCS0tIEdvbGQgRVNQCgoJbG9jYWwgRVNQR29sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglFU1BHb2xkLk5hbWUgPSAiRVNQR29sZCIKCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJR0VTUEVuYWJsZWQgPSB0cnVlCgkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9uKSBbTV0iCgllbHNlCgkJR0VTUEVuYWJsZWQgPSBmYWxzZQoJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCWVuZAoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVTUEdvbGQpCgoJbG9jYWwgR0hvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQoJR0hvbGRlci5OYW1lID0gIkVTUEdvbGQiCgoJbG9jYWwgR1VwZGF0ZUZ1bmNzID0ge30KCglsb2NhbCBHQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQoJR0JveC5OYW1lID0gIm5pbEJveEciCglHQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJR0JveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCglHQm94LlRyYW5zcGFyZW5jeSA9IDAuNwoJR0JveC5aSW5kZXggPSAwCglHQm94LkFsd2F5c09uVG9wID0gdHJ1ZQoJR0JveC5WaXNpYmxlID0gdHJ1ZQoKCWxvY2FsIEdOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJR05hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnRyIKCUdOYW1lVGFnLkVuYWJsZWQgPSB0cnVlCglHTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCglHTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUKCUdOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQoKCWxvY2FsIEdUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEdOYW1lVGFnKQoJR1RhZy5OYW1lID0gIkdUYWciCglHVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCglHVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkKCUdUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJR1RhZy5UZXh0U2l6ZSA9IDIwCglHVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCglHVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCglHVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCUdUYWcuVGV4dCA9ICJOb3QgQXZhaWxhYmxlIgoJR1RhZy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoCglHVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoKCWZ1bmN0aW9uIEdMb2FkQ2hhcmFjdGVyKHYpCgkJCgkJbG9jYWwgdGJsUGxheWVyRGF0YSA9IHt9CgkJUlNSOldhaXRGb3JDaGlsZCgiUGxheWVyRGF0YSIpLk9uQ2xpZW50RXZlbnQ6Q29ubmVjdChmdW5jdGlvbih2LCB0YmxEYXRhKQoJCQl0YmxQbGF5ZXJEYXRhW3ZdID0gdGJsRGF0YQoJCWVuZCkKCQkKCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQlsb2NhbCB2SG9sZGVyID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQlsb2NhbCBiID0gR0JveDpDbG9uZSgpCgkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiR0JveCIKCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQliLlBhcmVudCA9IHZIb2xkZXIKCgkJCWxvY2FsIHQgPSBHTmFtZVRhZzpDbG9uZSgpCgkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiR05hbWVUYWciCgkJCXQuUGFyZW50ID0gdkhvbGRlcgoJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQoJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCXJldHVybiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWVuZAoJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZQoJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCXdhaXQoKQoKCQkJbG9jYWwgZnVuY3Rpb24gR1VwZGF0ZU5hbWVUYWcoKQoJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUKCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkKCQkJCQkJbG9jYWwgc3RyaCA9ICJIOiAiIC4uIChub3QobWF4aCA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIGggLyBtYXhoKSkgb3IgMCkgLi4gIiUgWyIgLi4gdG9zdHJpbmcoaCkgLi4gInwiIC4uIHRvc3RyaW5nKG1heGgpIC4uICJdIgoJCQkJCQktLQoJCQkJCQlsb2NhbCBtYXhtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4TWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCWxvY2FsIG0gPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYW5hICogMTApIG9yIDEwMDAKCQkJCQkJbG9jYWwgc3RybSA9ICJNOiAiIC4uIChub3QobWF4bSA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIG0gLyBtYXhtKSkgb3IgMCkgLi4gIiUgWyIgLi4gdG9zdHJpbmcobSkgLi4gInwiIC4uIHRvc3RyaW5nKG1heG0pIC4uICJdIgoJCQkJCQktLQoJCQkJCQlsb2NhbCBtYXhzID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4U3RhbWluYSAqIDEwKSBvciAxMDAwCgkJCQkJCWxvY2FsIHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5TdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJbG9jYWwgc3RycyA9ICAiUzogIiAuLiAobm90KG1heHMgPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBzIC8gbWF4cykpIG9yIDApIC4uICIlIFsiIC4uIHRvc3RyaW5nKHMpIC4uICJ8IiAuLiB0b3N0cmluZyhtYXhzKSAuLiAiXSIKCgkJCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lIC4uICgiXG4iIC4uIHN0cmgpIC4uICgiXG4iIC4uIHN0cm0pIC4uICgiXG4iIC4uIHN0cnMpCgkJCQkJCQoJCQkJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCWVsc2UKCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCWVuZAoJCQkJCQlpZiBoIC8gbWF4aCA9PSAxIHRoZW4KCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbgoJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQllbHNlCgkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCWVuZAoJCQkJCWVuZCkgdGhlbgoJCQkJCUdVcGRhdGVGdW5jc1t2XSA9IG5pbAoJCQkJZW5kCgkJCWVuZAoJCQlHVXBkYXRlTmFtZVRhZygpCgkJCUdVcGRhdGVGdW5jc1t2XSA9IEdVcGRhdGVOYW1lVGFnCgkJZW5kCgllbmQKCglmdW5jdGlvbiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJbG9jYWwgdkhvbGRlciA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCWlmIHZIb2xkZXIgYW5kICh2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR0JveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR05hbWVUYWciKSB+PSBuaWwpIHRoZW4KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQllbmQKCWVuZAoKCWZ1bmN0aW9uIEdMb2FkUGxheWVyKHYpCgkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBHSG9sZGVyKQoJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUKCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCWlmIEdFU1BFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCXBjYWxsKEdMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kCgkJCWVuZCkKCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCWVuZCkKCQkJR0xvYWRDaGFyYWN0ZXIodikKCQllbmQKCWVuZAoKCWZ1bmN0aW9uIEdVbmxvYWRQbGF5ZXIodikKCQlHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJbG9jYWwgdkhvbGRlciA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCWlmIHZIb2xkZXIgdGhlbgoJCQl2SG9sZGVyOkRlc3Ryb3koKQoJCWVuZAoJZW5kCgoJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHTG9hZFBsYXllciwgdikgZW5kKQoJZW5kCgoJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJcGNhbGwoR0xvYWRQbGF5ZXIsIHYpCgllbmQpCgoJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJcGNhbGwoR1VubG9hZFBsYXllciwgdikKCWVuZCkKCglnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbgoJCQlpZiBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJR1VubG9hZENoYXJhY3RlcihpKQoJCQkJd2FpdCgpCgkJCQlHTG9hZENoYXJhY3RlcihpKQoJCQllbmQKCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4KCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCUdVcGRhdGVGdW5jc1twXSgpCgkJCQllbmQpCgkJCWVuZAoJCWVuZAoJZW5kKQoKCWZ1bmN0aW9uIHRvZ2dsZUVTUEdvbGQoKQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCWlmIEdFU1BFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIEVTUEVuYWJsZWQgdGhlbgoJCQkJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCUVTUC5UZXh0ID0gIkRldGFpbGVkIEVTUCBFbmFibGVkIgoJCQkJCXdhaXQoMSkKCQkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCQkJZWxzZQoJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJZW5kCgkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT24pIFtNXSIKCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHTG9hZFBsYXllciwgdikgZW5kKQoJCQkJZW5kCgkJCWVsc2UKCQkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHVW5sb2FkUGxheWVyLCB2KSBlbmQpCgkJCQllbmQKCQkJZW5kCgkJZWxzZQoJCQlFU1BHb2xkLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQl3YWl0KDMpCgkJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQllbmQKCWVuZAoKCUVTUEdvbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUEdvbGQpCgoJLS0gVFAgdG8gRHJvcHMKCglsb2NhbCBUUFNoYXJkcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglUUFNoYXJkcy5OYW1lID0gIlRQU2hhcmRzIgoJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBTaGFyZHMpCgoJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UJCgoJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCglUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyIKCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT2ZmKSIKCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQoKCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UKCglsb2NhbCBwbGF0ZSA9IEluc3RhbmNlLm5ldygiUGFydCIpCglwbGF0ZS5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQoJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkKCXBsYXRlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMTAwMDAwLCAwKQoJcGxhdGUuQW5jaG9yZWQgPSB0cnVlCglwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQoJcGxhdGUuVHJhbnNwYXJlbmN5ID0gMC41CgoJbG9jYWwgdGltZSA9IDAKCWxvY2FsIGNhbkludmlzID0gZmFsc2UKCglmdW5jdGlvbiB0ZWxlcG9ydFRvRHJvcHMoKQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuU2VydmVyRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJTaGFyZCIgdGhlbgoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQl3YWl0KC4yKQoJCQllbHNlaWYgVFBEaWFtb25kc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiRGlhbW9uZCIgdGhlbgoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQl3YWl0KC4yKQoJCQllbmQKCgkJCWlmIGNhbkludmlzIHRoZW4KCQkJCWlmIHRpbWUgPT0gNSB0aGVuIAoJCQkJCWJyZWFrCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCgkJcmV0dXJuIAoJZW5kCgoKCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQl3aGlsZSB3YWl0KCkgZG8KCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybgoJCQkJZWxzZQoJCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJd2FpdCgxKQoJCQkJCQlyZXBlYXQKCQkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwodGVsZXBvcnRUb0Ryb3BzKSBlbmQpCgkJCQkJCQl0aW1lID0gdGltZSArIDEKCQkJCQkJCXdhaXQoMSkKCQkJCQkJdW50aWwgdGltZSA9PSA2CgkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCQkJCQkJd2FpdCg3LjUpCgkJCQkJCXRpbWUgPSAwCgkJCQkJZWxzZQoJCQkJCQl3aGlsZSB0cnVlIGRvCgkJCQkJCQlpZiBub3QgVFBTaGFyZHNFbmFibGVkIGFuZCBub3QgVFBEaWFtb25kc0VuYWJsZWQgdGhlbgoJCQkJCQkJCWJyZWFrCgkJCQkJCQllbmQKCQkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwodGVsZXBvcnRUb0Ryb3BzKSBlbmQpCgkJCQkJCQl3YWl0KDEpCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCWJyZWFrCgkJCWVuZAoJCWVuZAoKCQlyZXR1cm4KCWVuZAoKCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJaWYgcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIik6V2FpdEZvckNoaWxkKCJNYWluIikuQ2hhcmFjdGVyLkF2YWlsYWJsZS5TY3JvbGxpbmdGcmFtZS5GcmFtZTpGaW5kRmlyc3RDaGlsZCgiU3BlY3RyYWwgRW1ib2RpbWVudCIpIHRoZW4KCQkJY2FuSW52aXMgPSB0cnVlCgkJZW5kCgkJaWYgVFBTaGFyZHNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJVFBTaGFyZHNFbmFibGVkID0gdHJ1ZQoJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT24pIgoJCQlzdGFydFRpbWVyKCkKCQkJd2hpbGUgVFBTaGFyZHNFbmFibGVkIGRvCgkJCQl3YWl0KCkKCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCXN0YXJ0VGltZXIoKQoJCQkJZW5kCgkJCWVuZAoJCWVsc2UKCQkJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UKCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJZW5kCgllbmQpCgoJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCWNhbkludmlzID0gdHJ1ZQoJCWVuZAoJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSB0cnVlCgkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT24pIgoJCQlzdGFydFRpbWVyKCkKCQkJd2hpbGUgVFBEaWFtb25kc0VuYWJsZWQgZG8KCQkJCXdhaXQoKQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJc3RhcnRUaW1lcigpCgkJCQllbmQKCQkJZW5kCgkJZWxzZQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT2ZmKSIKCQllbmQKCWVuZCkKCgktLSBSZWpvaW4gU2VydmVyIEZ1bmN0aW9uCgoJLS0gVGhpcyB3YXMgb25seSBwcmVzZXJ2ZWQgYXMgSSBjb3VsZG4ndCB0aGluayBvZiBhbnkgb3RoZXIgcGxhY2UgdG8gcHV0IHRoZSBmdW5jdGlvbiBmb3Igbm93LgoJLS0gTWlnaHQgZ2V0IG1vdmVkIGxhdGVyLCBpZHVubm8uCglmdW5jdGlvbiByZWpvaW4oKQoJCWxvY2FsIHRzID0gZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKQoJCWxvY2FsIHAgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCgoJCXRzOlRlbGVwb3J0KGdhbWUuUGxhY2VJZCwgcCkKCWVuZAoKCS0tIEdVSSBUd2Vha2luZwoKCWZvciBpLCB2IGluIHBhaXJzKGJvcmRlcnMpIGRvCgkJdi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDEsIDAuNSkKCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCXYuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNzUwCgkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCXYuU2l6ZUNvbnN0cmFpbnQgPSBFbnVtLlNpemVDb25zdHJhaW50LlJlbGF0aXZlWVkKCQl2LkFjdGl2ZSA9IHRydWUKCQl2LlBhcmVudCA9IGViZ3VpCgllbmQKCglmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbwoJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNiwgMjAsIDExNSkKCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCXYuU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaAoJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJdi5UZXh0U2NhbGVkID0gdHJ1ZQoJCXYuVGV4dFNpemUgPSAxNC4wMDAKCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQoJCXYuTGF5b3V0T3JkZXIgPSBpCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUKCWVuZAoKCS0tW1tmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbwoJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNiwgMTc1LCAyMCkKCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCXYuU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaAoJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJdi5UZXh0U2NhbGVkID0gdHJ1ZQoJCXYuVGV4dFNpemUgPSAxNC4wMDAKCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQoJCXYuTGF5b3V0T3JkZXIgPSBpCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUKCWVuZF1dCgoJLS0gY29tbWFuZEJveAoKCXRhcmdldCA9IHBsYXllci5OYW1lCgl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCIKCWxvb3BpbmcgPSBmYWxzZQoJc21hcnRBdHRhY2sgPSB0cnVlCglIZWFsU2V0dGluZyA9IDEKCXN0dW5FbmFibGVkID0gdHJ1ZQoJRlBTRHJvcHBpbmcgPSBmYWxzZQoJbG9jYWwgYnV0dG9uSGVpZ2h0ID0gMzAKCWxvY2FsIGJ1dHRvbkdhcCA9IDcKICAgIGxvY2FsIGhlbHAxID0gW1t8fCBCZWxvdyBpcyBhIGZ1bGwsIGNvbXByZWhlbnNpdmUgbGlzdCBvZiBlYWNoIGNvbW1hbmQgRUJHVUkgaGFzIHRvIG9mZmVyLiB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgKFByZWZpeCBpcyA7KQoKICAgICAgICAgICAgICAgICJoZWxwIFtudW1dIiAtIFNob3dzIHRoaXMgY29tbWFuZHMgbGlzdCEgQ2hvb3NlIGJldHdlZW4gcGFnZXMgMSBvciAyLgogICAgICAgICAgICAgICAgImNoYW5nZWxvZyIgLSBTaG93cyBhIGxpbmsgdG8gdGhlIGNoYW5nZWxvZyBmb3IgRUJHVUkgYW5kIGl0cyBDYW5hcnkgYnJhbmNoLgogICAgICAgICAgICAgICAgInJlIiAtIFJlZnJlc2hlcyB5b3VyIGNoYXJhY3Rlci4gVGhpcyB3aWxsIHRlbXBvcmFyaWx5IHZhbmlzaCB5b3UsIGFuZCBicmluZyB5b3UgYmFjayB3aXRoIGZ1bGwgc3RhdHMuCiAgICAgICAgICAgICAgICAidHAgPG1hcD4iIC0gVGVsZXBvcnRzIHlvdSB0byB0aGUgbWFwIG9mIHlvdXIgY2hvaWNlLiBIZWF2ZW4gZG9lc24ndCB3b3JrIHdpdGhvdXQgdGhlIGdhbWVwYXNzLgogICAgICAgICAgICAgICAgImRlY2x1dHRlciIgLSBDbGVhcnMgdGhlIGJhY2tncm91bmRzIG9mIHRoZSBtYWluIEdVSXMsIGFuZCBzaHJpbmtzIHRoZSBtb3Zlcy9zdGF0cy4KICAgICAgICAgICAgICAgICJyYWluIiAtIEVuYWJsZXMgdGhlIHJhaW4gZnJvbSBXYXRlciBtYXAuIENhcmVmdWwsIHlvdSBoYXZlIHRvIHJlam9pbiB0byB0dXJuIGl0IG9mZiEKICAgICAgICAgICAgICAgICJmaXgiIC0gUmVtb3ZlcyB0aGUgIkxPQURJTkciIHNjcmVlbiB3aGVuIHRlbGVwb3J0aW5nIHRvIGNlcnRhaW4gbWFwcy4KICAgICAgICAgICAgICAgICJidXR0b25oZWlnaHQgPG51bT4iIC0gQ2hhbmdlcyB0aGUgaGVpZ2h0LCBpbiBwaXhlbHMsIG9mIEVCR1VJJ3MgYnV0dG9ucy4KICAgICAgICAgICAgICAgICJidXR0b25nYXAgPG51bT4iIC0gQ2hhbmdlcyB0aGUgZ2FwLCBpbiBwaXhlbHMsIGJldHdlZW4gRUJHVUkncyBidXR0b25zLgogICAgICAgICAgICAgICAgInJlam9pbiIgLSBSZWpvaW5zIHRoZSBzZXJ2ZXIuCiAgICAgICAgICAgICAgICAiYXVyYS9vZmYiIC0gQW4gYWx0ZXJuYXRlIG1ldGhvZCBvZiBzaWxlbnRseSB0dXJuaW5nIG9mZiBhdXJhLgogICAgICAgICAgICAgICAgInRhcmdldHNldHRpbmcgPG1vZGU+IiAtIE1vZGlmaWVzIGhvdyBFQkdVSSBzZWxlY3RzIHRhcmdldHMuIFdvbid0IHRhcmdldCB0aG9zZSBpbiBzYWZlem9uZSwgZXhjZXB0IGluICJzZWxlY3QiIG1vZGUuCiAgICAgICAgICAgICAgICAgICAgLS0gInNlbGVjdCIgYWxsb3dzIHlvdSB0byBjaG9vc2UgYnkgdHlwaW5nIGludG8gdGhlIGNvbW1hbmQgYm94LiBTZXQgdG8gdGhpcyBieSBkZWZhdWx0LgogICAgICAgICAgICAgICAgICAgIC0tICJjbG9zZXN0IiBzZWxlY3RzIHRoZSBwZXJzb24gY2xvc2VzdCB0byB5b3UuCiAgICAgICAgICAgICAgICAgICAgLS0gImZhcnRoZXN0IiBzZWxlY3RzIHRoZSBwZXJzb24gZmFydGhlc3QgZnJvbSB5b3UuCiAgICAgICAgICAgICAgICAgICAgLS0gImxvd2hwIiBzZWxlY3RzIHRoZSBwZXJzb24gd2l0aCB0aGUgbG93ZXN0IEhQLgogICAgICAgICAgICAgICAgICAgIC0tICJoaWdoaHAiIHNlbGVjdHMgdGhlIGNsb3Nlc3QgcGVyc29uIHdpdGggdGhlIGhpZ2hlc3QgSFAuXV0KCiAgICBsb2NhbCBoZWxwMiA9IFtbImxvb3AiIC0gTG9vcHMgdGhlIHVzYWdlIG9mIGVuYWJsZWQgYXR0YWNrIGV4cGxvaXRzLgogICAgICAgICAgICAgICAgImdyY2hhcmdlIDxudW0+IiAtIE11bHRpcGxpZXMgdGhlIHRpbWUgQW1wbGlmaWVkIEdlbmVzaXMgUmF5IGF0dGFjayBleHBsb2l0IHN0YXlzIGFsaXZlIGZvci4gRGVmYXVsdCwgMSwgbGFzdHMgNiBzZWNvbmRzLgogICAgICAgICAgICAgICAgInNwZWVkIDxudW0+IiAtIENoYW5nZXMgeW91ciBkZWZhdWx0IHdhbGtzcGVlZC4gRGVmYXVsdCwgNjQsIGVxdWFscyBtYXgtc3BlZWQgc3ByaW50aW5nLgogICAgICAgICAgICAgICAgInNtYXJ0YXR0YWNrIiAtIFRvZ2dsZXMgaWYgYXR0YWNrIGV4cGxvaXRzIHdpbGwgZmlyZSBvbiBwZW9wbGUgd2hvIGFyZSBpbiBzYWZlem9uZS4gRGVmYXVsdCBvbi4KICAgICAgICAgICAgICAgICJnYW1lY29sb3IgPG1vZGU+IiAtIENoYW5nZXMgdGhlIGNvbnRyYXN0IGFuZCBzYXR1cmF0aW9uIG9mIHRoZSBnYW1lLgogICAgICAgICAgICAgICAgICAgIC0tICJub3JtYWwiIHdpbGwgcmVzZXQgZXZlcnl0aGluZyB0byBub3JtYWwuCiAgICAgICAgICAgICAgICAgICAgLS0gImdyYXlzY2FsZSIgdHVybnMgb2ZmIHRoZSBzYXR1cmF0aW9uIGFuZCBtYWtlcyBldmVyeXRoaW5nIGdyYXkuCiAgICAgICAgICAgICAgICAgICAgLS0gImludmVydGh1ZSIgaW52ZXJ0cyB0aGUgaHVlIG9mIGV2ZXJ5dGhpbmcuIEdyZWVuIGJlY29tZXMgcHVycGxlLCBibHVlIGJlY29tZXMgcmVkLgogICAgICAgICAgICAgICAgICAgIC0tICJpbnZlcnRhbGwiIGludmVydHMgdGhlIGh1ZSwgc2F0dXJhdGlvbiwgYW5kIGNvbnRyYXN0IG9mIGV2ZXJ5dGhpbmcuIE5lZ2F0aXZlIQogICAgICAgICAgICAgICAgImJsYWNrY2FzdCIgLSBDaGFuZ2VzIGFsbCB0aGUgbWVkYWxzIHRvIGJsYWNrIHdoZW4gY2FzdGluZyBzcGVsbHMuCiAgICAgICAgICAgICAgICAic3R1biIgLSBUb2dnbGVzIHdoZXRoZXIgeW91IHdhbnQgdG8gYmUgc3R1bm5lZCBvciBub3QuIE5vdCB2ZXJ5IGRpc2NyZWV0LgogICAgICAgICAgICAgICAgImRydWdzIiAtIFJhbmRvbWl6ZXMgdGhlIGNvbG9ycyBvZiBhbGwgbWFnaWMgc3BlbGxzLiBSZXF1aXJlcyB5b3UgdG8gcnVuICJjb2xvcnMiIGZpcnN0LgogICAgICAgICAgICAgICAgIm1hZ2ljY29sb3IgPHI+IDxnPiA8Yj4iIC0gQ2hhbmdlcyB0aGUgY29sb3Igb2YgYWxsIG1hZ2ljIHNwZWxscyB0byBhbiBSR0IgdmFsdWUuIFJlcXVpcmVzIHlvdSB0byBydW4gImNvbG9ycyIgZmlyc3QuCiAgICAgICAgICAgICAgICAiY29sb3JzIiAtIEFsbG93cyB5b3UgdG8gcnVuICJkcnVncyIgYW5kICJtYWdpY2NvbG9yIi4KICAgICAgICAgICAgICAgICJoZWFsIDxwbGF5ZXI+IiAtIFBsYWNlcyBCbHVlIEFyc29uIGFuZCBHbGVhbWluZyBIYXJtb255IGF0IHRoZSBmZWV0IG9mIGEgcGxheWVyIG9mIHlvdXIgY2hvaWNlLgogICAgICAgICAgICAgICAgImUgPG51bSAxLTM+IiAtIENoYW5nZXMgdGhlIHBoYXNlIG9mIHRoZSBDb250cm9sbGVkIEVjaG9lcyBhdHRhY2sgZXhwbG9pdC4KICAgICAgICAgICAgICAgICAgICAtLSAiMSIgd2lsbCBjaGFuZ2UgaXQgdG8gUE9XLCBhbmQgaXMgdGhlIGRlZmF1bHQuCiAgICAgICAgICAgICAgICAgICAgLS0gIjIiIHdpbGwgY2hhbmdlIGl0IHRvIEJVUk4uCiAgICAgICAgICAgICAgICAgICAgLS0gIjMiIHdpbGwgY2hhbmdlIGl0IHRvIFNUVU4uCiAgICAgICAgICAgICAgICAib3JpZ2luIiAtIENyZWF0ZXMgYSBzbWFsbCwgcmVkIGJsb2NrIGF0IDAsIDAsIDAgd2l0aGluIHRoZSB3b3JsZC5dXQoKCVJTUiA9IGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJSZW1vdGVzIikKCglsb2NhbCBzdHVuQ29ubmVjdGlvbiA9IGdldGNvbm5lY3Rpb25zKFJTUjpXYWl0Rm9yQ2hpbGQoIkNvbWJhdCIpLk9uQ2xpZW50RXZlbnQpCglsb2NhbCBsYWdnZXJzID0gewoJCSIxQjBGOThCRS1FMTBCLTQ2NzQtOUZCNC02RjY1MTcxQTM0N0YiLCAtLSBsb2cKCQkiNkEzMzEwNEEtMUZFOS00RkE4LTkzNzQtQzE2NEQyOEY4MzUxIiwgLS0gYnJpYW4KCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0CgkJIjU1QzIwNDlELUM2QkQtNDUyMy04ODA0LUQ1MzlDMzg3OTJBMyIsIC0tIHBlbnRhcmFjdAoJCSI5NDY0QjY4QS0zNjNDLTQxRjgtQkI3RC1CNEJFRDhBQzA5NjMiLCAtLSB2YXN0b3JpbwoJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvawoJCS0tICI2M0IzOUUyNy1EQTFCLTQ4MkUtQjI4Qy02QTMzOThDOTVBNEMiLCAtLSBhbGV4CgkJIjg0NkE2NUUyLUU5NjMtNEEwQS05MDI1LUU5QjhFOTU4OTYxMyIsIC0tIGJyYW0KCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsKCQkiNkE5NzA1MkEtNjM0RS00N0UxLThEOTAtNUVFM0NBNEE5NkZBIiwgLS0gcmF2ZW4KCQkiRjU5NzVEN0QtMkFDNS00NEFBLTgwMUYtODI3NjI1RDZENzYzIiwgLS0gYWxleGlhCgkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MKCQkiNzQ4OUNCQUUtNzk4Ni00NUE5LUJFNDAtQTIxOEVEQ0QwRjAxIiAtLSBjZXBoYXMKCX0KCglsb2NhbCBjbGllbnRpZCA9IGdhbWU6R2V0U2VydmljZSgiUmJ4QW5hbHl0aWNzU2VydmljZSIpOkdldENsaWVudElkKCk6bG93ZXIoKQoJbG9jYWwgYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCglmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbwoJCXYgPSB2Omxvd2VyKCkKCgkJaWYgKHYgPT0gY2xpZW50aWQpIHRoZW4KCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCQllbmQKCWVuZAoKCWZ1bmN0aW9uIGdldEhSUChjaHIpCgkJbG9jYWwgSFJQID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCgkJcmV0dXJuIEhSUAoJZW5kCgoJZnVuY3Rpb24gZ2V0SFVNKGNocikKCQlsb2NhbCBIVU0gPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikKCQlyZXR1cm4gSFVNCgllbmQKCglsb2NhbCBmdW5jdGlvbiByZXNwYXduKHBscikKCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyCgoJCWlmIChjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpKSB0aGVuIGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIik6Q2hhbmdlU3RhdGUoMTUpIGVuZAoJCWNocjpDbGVhckFsbENoaWxkcmVuKCkKCgkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpCgkJbmV3Y2hyLlBhcmVudCA9IHdvcmtzcGFjZQoJCXBsci5DaGFyYWN0ZXIgPSBuZXdjaHIKCgkJd2FpdCgpCgoJCXBsci5DaGFyYWN0ZXIgPSBjaHIKCQluZXdjaHI6RGVzdHJveSgpCgllbmQKCglsb2NhbCBmdW5jdGlvbiByZWZyZXNoKHBscikKCQlsb2NhbCBodW0gPSBwbHIuQ2hhcmFjdGVyIGFuZCBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiLCB0cnVlKQoJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lCgkJbG9jYWwgcG9zMSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZQoKCQlyZXNwYXduKHBscikKCgkJc3Bhd24oZnVuY3Rpb24oKQoJCQlwbHIuQ2hhcmFjdGVyQWRkZWQ6V2FpdCgpOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKS5Sb290UGFydC5DRnJhbWUsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSA9IHBvcywgd2FpdCgpIGFuZCBwb3MxCgkJZW5kKQoJZW5kCgoJbG9jYWwgZnVuY3Rpb24gc3BsaXRBcmdzKGNvbW1hbmQpCgkJY29tbWFuZCA9IHN0cmluZy5nc3ViKGNvbW1hbmQsICIsIiwgIiAiKQoJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQoKCQlmb3IgaSwgdiBpbiBpcGFpcnMoY29tbWFuZCkgZG8KCQkJdiA9IHN0cmluZy5nc3ViKHYsICIlcysiLCAiIikKCQkJaWYgdiA9PSAiIiB0aGVuCgkJCQl0YWJsZS5yZW1vdmUoY29tbWFuZCwgaSkKCQkJZW5kCgkJZW5kCgoJCXJldHVybiBjb21tYW5kCgllbmQKCglsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpCgkJbG9jYWwgcGxheWVycyA9IGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkKCQlsb2NhbCBtYXRjaGVzID0ge30KCgkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8KCQkJbG9jYWwgbmFtZSA9IFBsYXllci5OYW1lCgkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQoKCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZChuYW1lLCB0ZXh0KQoKCQkJaWYgbWF0Y2ggdGhlbgoJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQoJCQllbmQKCQllbmQKCgkJcmV0dXJuIG1hdGNoZXMKCWVuZAoKCWxvY2FsIGRydWdzRW5hYmxlZCA9IGZhbHNlCglsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UKCWxvY2FsIGJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQoJbG9jYWwgY29sb3JFeGNsdWRlID0geyJIZWFkIiwiVG9yc28iLCJMZWZ0IEFybSIsIkxlZnQgTGVnIiwiUmlnaHQgQXJtIiwiUmlnaHQgTGVnIiwiU2hhcmQiLCJEaWFtb25kIn0KCgktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQoJbG9jYWwgY29sb3IxCglsb2NhbCBjb2xvcjIKCWxvY2FsIGNvbG9yMwoKCWxvY2FsIGZ1bmN0aW9uIHRlcm1FQkd1aSgpCgkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLAoJCQkiSW4iLAoJCQkiU2luZSIsCgkJCS41LAoJCQl0cnVlCgkJKQoJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCSJJbiIsCgkJCSJTaW5lIiwKCQkJLjUsCgkJCXRydWUKCQkpCgkJd2FpdCgxKQoJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJZWJndWk6RGVzdHJveSgpCgllbmQKCglsb2NhbCBmdW5jdGlvbiBpbnB1dEJveCgpCgkJbG9jYWwgdGV4dCA9IGNvbW1hbmRCb3guVGV4dAoJCXdhaXQoKQoJCWNvbW1hbmRCb3guVGV4dCA9ICIiCgoJCWxvY2FsIHByZWZpeCA9ICI7IgoJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMSkgPT0gKHByZWZpeCkgdGhlbgoJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpCgoJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInJlIikgdGhlbgoJCQkJcmVmcmVzaChwbGF5ZXIpCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInRwIikgdGhlbgoJCQkJbG9jYWwgdGVsZXBvcnR0bwogICAgICAgICAgICAgICAgbG9jYWwgdHBuYW1lCgkJCQlsb2NhbCBwbGFjZSA9IHN0cmluZy5zdWIodGV4dCwgNSkKCQkJCWxvY2FsIHBsYWNlcyA9IHsKCQkJCQk1NjYzOTkyNDQsCgkJCQkJMjU2OTYyNTgwOSwKCQkJCQk1NzAxNTgwODEsCgkJCQkJNTM3NjAwMjA0LAoJCQkJCTUyMDU2ODI0MCwKCQkJCQk1NTQ5NTU1NjAsCgkJCQkJNjAyMDQ4NTUwLAoJCQkJCTU3NTQ1NjY0NiwKCQkJCQkxNzEzOTg2MTEyLAoJCQkJCTEyNDM2MTU2MTIsCgkJCQkJNjM4MDY1MzAyLAoJCQkJCTYzNDI0MDgyNiwKCQkJCQk2MzMwNDI3MzEKCQkJCX0KCgkJCQlpZiBwbGFjZSA9PSAic3RhbmRhcmRsb3ciIG9yIHBsYWNlID09ICI1NjYzOTkyNDQiIHRoZW4KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzFdCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkxvd2JpZSBTdGFuZGFyZCIKCQkJCWVsc2VpZiBwbGFjZSA9PSAic3RhbmRhcmQ0MCIgb3IgcGxhY2UgPT0gIjI1Njk2MjU4MDkiIHRoZW4KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzJdCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIlN0YW5kYXJkIgoJCQkJZWxzZWlmIHBsYWNlID09ICJsaWdodCIgb3IgcGxhY2UgPT0gIjU3MDE1ODA4MSIgdGhlbgoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbM10KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTGlnaHQiCgkJCQllbHNlaWYgcGxhY2UgPT0gImZpcmUiIG9yIHBsYWNlID09ICI1Mzc2MDAyMDQiIHRoZW4KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzRdCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkZpcmUiCgkJCQllbHNlaWYgcGxhY2UgPT0gIndhdGVyIiBvciBwbGFjZSA9PSAiNTIwNTY4MjQwIiB0aGVuCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s1XQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJXYXRlciIKCQkJCWVsc2VpZiBwbGFjZSA9PSAiZ3Jhc3MiIG9yIHBsYWNlID09ICI1NTQ5NTU1NjAiIHRoZW4KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzZdCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkdyYXNzIgoJCQkJZWxzZWlmIHBsYWNlID09ICJoZWF2ZW4iIG9yIHBsYWNlID09ICI2MDIwNDg1NTAiIHRoZW4KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzddCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkhlYXZlbiIKCQkJCWVsc2VpZiBwbGFjZSA9PSAibWluaWxvdmFuaWEiIG9yIHBsYWNlID09ICJzYW5zIiBvciBwbGFjZSA9PSAiNTc1NDU2NjQ2IiB0aGVuCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s4XQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNaW5pbG92YW5pYSIKCQkJCWVsc2VpZiBwbGFjZSA9PSAiZGVmYXVsdCIgb3IgcGxhY2UgPT0gInRvdXJuYW1lbnQiIG9yIHBsYWNlID09ICIxNzEzOTg2MTEyIiB0aGVuCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s5XQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJUb3VybmFtZW50IgoJCQkJZWxzZWlmIHBsYWNlID09ICJzdXJ2aXZhbCIgb3IgcGxhY2UgPT0gIjEyNDM2MTU2MTIiIHRoZW4KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEwXQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJTdXJ2aXZhbCIKCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYXN0YW5kYXJkIiBvciBwbGFjZSA9PSAic3RhbmRhcmRtZWdhIiBvciBwbGFjZSA9PSAiNjM4MDY1MzAyIiB0aGVuCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBTdGFuZGFyZCIKCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWZpcmUiIG9yIHBsYWNlID09ICJmaXJlbWVnYSIgb3IgcGxhY2UgPT0gIjYzNDI0MDgyNiIgdGhlbgoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgRmlyZSIKCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWdyYXNzIiBvciBwbGFjZSA9PSAiZ3Jhc3NtZWdhIiBvciBwbGFjZSA9PSAiNjMzMDQyNzMxIiB0aGVuCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxM10KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBHcmFzcyIKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIgoJCQkJZW5kCgoJCQkJaWYgdGVsZXBvcnR0byB0aGVuCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRlbGVwb3J0aW5nIHRvICIgLi4gdHBuYW1lIC4uICIhIgoJCQkJCWdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQodGVsZXBvcnR0bykKCQkJCWVuZAoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJkZWNsdXR0ZXIiKSB0aGVuCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQoJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5DaGFyYWN0ZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQm9vay5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5TaG9wLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInJhaW4iKSB0aGVuCgkJCQlsb2NhbCBjdXJyZW50Q0FNID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKCQkJCWxvY2FsIHJhaW5Tb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQoJCQkJcmFpblNvdW5kLkxvb3BlZCA9IHRydWUKCQkJCXJhaW5Tb3VuZC5Tb3VuZElkID0gInJieGFzc2V0aWQ6Ly8yODMxNjQ1OTMiCgkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJcmFpblNvdW5kLlBhcmVudCA9IHdvcmtzcGFjZQoJCQkJcmFpblNvdW5kOlBsYXkoKQoKCQkJCWxvY2FsIHJhaW5QYXJ0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldygzMDAsIDMwMCwgMzAwKQoJCQkJcmFpblBhcnQuVHJhbnNwYXJlbmN5ID0gMQoJCQkJcmFpblBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQlyYWluUGFydC5DYW5Db2xsaWRlID0gZmFsc2UKCgkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpCgkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQoJCQkJcmFpbkVmZmVjdC5QYXJlbnQgPSByYWluUGFydAoKCQkJCWxvY2FsIGlnbm9yZSA9IHdvcmtzcGFjZTpXYWl0Rm9yQ2hpbGQoIi5JZ25vcmUiKQoJCQkJcmFpblBhcnQuUGFyZW50ID0gaWdub3JlOldhaXRGb3JDaGlsZCgiLlNlcnZlckVmZmVjdHMiKQoKCQkJCWxvY2FsIGZvdiA9IDIgKiBtYXRoLnRhbihtYXRoLnJhZChjdXJyZW50Q0FNLkZpZWxkT2ZWaWV3KSAvIDIpCgkJCQlsb2NhbCBuZXdSYXkgPSBSYXkubmV3CgkJCQlsb2NhbCBoZWlnaHQgPSBWZWN0b3IzLm5ldygwLCA1MCwgMCkKCQkJCWxvY2FsIGRlcHRoID0gQ0ZyYW1lLm5ldygwLCBmb3YgKiA1MCwgLTYwKQoKCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQoJCQkJCWxvY2FsIHJjID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChuZXdSYXkoY3VycmVudENBTS5DRnJhbWUucCwgaGVpZ2h0KSwge2lnbm9yZX0pCgoJCQkJCWlmIChyYykgdGhlbgoJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSBmYWxzZQoJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMC41CgkJCQkJCXJldHVybgoJCQkJCWVuZAoKCQkJCQlsb2NhbCB2aWV3cG9ydCA9IGN1cnJlbnRDQU0uVmlld3BvcnRTaXplCgkKCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoZm92ICogdmlld3BvcnQueCAvIHZpZXdwb3J0LnkgKiA1MCwgMC4yLCAxMDApCgkJCQkJcmFpblBhcnQuQ0ZyYW1lID0gY3VycmVudENBTS5DRnJhbWUgKiBkZXB0aAoJCgkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSB0cnVlCgkKCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJZW5kKQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA0KSA9PSAocHJlZml4IC4uICJmaXgiKSB0aGVuCgkJCQlpZiBwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpIHRoZW4KCQkJCQlwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpLlZpc2libGUgPSBmYWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGaXhpbmcgdGhlIE1lbnUgR1VJISIKCQkJCWVuZAoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMykgPT0gKHByZWZpeCAuLiAiYnV0dG9uaGVpZ2h0IikgdGhlbgoJCQkJYnV0dG9uSGVpZ2h0ID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpCgkJCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgYnV0dG9uSGVpZ2h0KQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGhlaWdodCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpIC4uICIhIgoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbgoJCQkJYnV0dG9uR2FwID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpCgkJCQlVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgYnV0dG9uR2FwKQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGdhcCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpIC4uICIhIgoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSB0aGVuCgkJCQlyZWpvaW4oKQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJlam9pbmluZy4uLiIKCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiYXVyYS9vZmYiKSB0aGVuCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKQoKCQkJCWlmIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIikgdGhlbgoJCQkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIik6RGVzdHJveSgpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgaGFzIGJlZW4gcmVtb3ZlZC4iCgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgZG9lcyBub3QgZXhpc3QhIgoJCQkJZW5kCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDE0KSA9PSAocHJlZml4IC4uICJ0YXJnZXRzZXR0aW5nIikgdGhlbgoJCQkJdGFyZ2V0U2V0dGluZyA9IHN0cmluZy5zdWIodGV4dCwgMTYpCgoJCQkJcmVwZWF0CgkJCQkJaWYgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IiB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIHNlbGVjdCEiCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gY2xvc2VzdCEiCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIGRvCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQllbmQKCQkJCQkJCSkKCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQllbmQKCgkJCQkJCQl3YWl0KCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGZhcnRoZXN0ISIKCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIGRvCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQllbmQKCQkJCQkJCSkKCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQllbmQKCgkJCQkJCQl3YWl0KCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGxvd2hwISIKCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIGRvCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQllbmQKCQkJCQkJCSkKCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQllbmQKCgkJCQkJCQl3YWl0KCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBoaWdoaHAhIgoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIGRvCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQllbmQKCQkJCQkJCSkKCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQllbmQKCgkJCQkJCQl3YWl0KCkKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIERpZCB5b3Ugc3BlY2lmeSBzZWxlY3QsIGNsb3Nlc3QsIGZhcnRoZXN0LCBsb3docCwgb3IgaGlnaGhwPyBTZXR0aW5nIGhhcyBiZWVuIHNldCB0byBzZWxlY3QuIgoJCQkJCWVuZAoJCQkJdW50aWwgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IgoKCQkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4KCQkJCQlpZiBsb29waW5nID09IHRydWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIgoJCQkJCWVsc2UKCQkJCQkJbG9vcGluZyA9IHRydWUKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCWVsc2UKCQkJCQkJbG9vcGluZyA9IGZhbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGxvb3BpbmcgYXR0YWNrcyEiCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJbG9vcGluZyA9IG5vdCBsb29waW5nCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4KCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJZW5kCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJZW5kCgoJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCXdoaWxlIGxvb3BpbmcgZG8KCQkJCQkJZXhwbG9pdCgpCgkJCQkJCXdhaXQoKQoJCQkJCWVuZAoJCQkJCXJldHVybgoJCQkJZW5kKQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1bmJyZWFrIikgdGhlbgoJCQkJYnJlYWthYmxlID0gZmFsc2UKCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiZ3JjaGFyZ2UiKSB0aGVuCgkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQoJCQkJd2FpdCgpCgkJCQlpZiBHUkNoYXJnZSA9PSBuaWwgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyIKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgY2hhcmdlIHRvICIgLi4gR1JDaGFyZ2UgLi4gIiEiCgkJCQllbmQKCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAic3BlZWQiKSB0aGVuCgkJCQlTZXRTcGVlZCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgOCkpCgkJCQl3YWl0KCkKCQkJCWlmIFNldFNwZWVkID09IG5pbCB0aGVuCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/IgoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBzcGVlZCB0byAiIC4uIFNldFNwZWVkIC4uICIhIgoJCQkJZW5kCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNSkgPT0gKCJvbiIpIHRoZW4KCQkJCQlpZiBzbWFydEF0dGFjayA9PSB0cnVlIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIgoJCQkJCWVsc2UKCQkJCQkJc21hcnRBdHRhY2sgPSB0cnVlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTYpID09ICgib2ZmIikgdGhlbgoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb2ZmISIKCQkJCQllbHNlCgkJCQkJCXNtYXJ0QXR0YWNrID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlzbWFydEF0dGFjayA9IG5vdCBzbWFydEF0dGFjawoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbgoJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQllbmQKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCWVuZAoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiZ2FtZWNvbG9yIikgdGhlbgoJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4KCQkJCQlJbnN0YW5jZS5uZXcoIkNvbG9yQ29ycmVjdGlvbkVmZmVjdCIsIGdhbWUuTGlnaHRpbmcpLk5hbWUgPSAiRUJHR3VpQ29sb3JDb3JyZWN0aW9uIgoJCQkJCXdhaXQoKQoJCQkJZW5kCgoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTcpID09ICJub3JtYWwiIHRoZW4KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IDAKCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMAoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZXZlcnRpbmcuLi4iCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJncmF5c2NhbGUiIHRoZW4KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTEKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiR3JheXNjYWxpbmcuLi4iCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRodWUiIHRoZW4KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTIKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGh1ZS4uLiIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGFsbCIgdGhlbgoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTIKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGFsbC4uLiIKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIgoJCQkJZW5kCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJibGFja2Nhc3QiKSB0aGVuCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiCgkJCQkJZWxzZQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gdHJ1ZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBlbmFibGVkISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTQpID09ICgib2ZmIikgdGhlbgoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJZWxzZQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIgoJCQkJCWVuZAoJCQkJZWxzZQoJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZAoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCWVuZAoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGJsYWNrIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQllbmQKCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAic3R1biIpIHRoZW4KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbgoJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9uISIKCQkJCQllbHNlCgkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBlbmFibGVkISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJZWxzZQoJCQkJCQlzdHVuRW5hYmxlZCA9IGZhbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGRpc2FibGVkISIKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlzdHVuRW5hYmxlZCA9IG5vdCBzdHVuRW5hYmxlZAoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQljb25uZWN0aW9uOkRpc2FibGUoKQoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbwoJCQkJCQkJY29ubmVjdGlvbjpFbmFibGUoKQoJCQkJCQllbmQKCQkJCQllbmQKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBzdHVuICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJZW5kCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImRydWdzIikgdGhlbgoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDkpID09ICgib24iKSB0aGVuCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb24hIgoJCQkJCWVsc2UKCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGVuYWJsZWQhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJZWxzZQoJCQkJCQlkcnVnc0VuYWJsZWQgPSBmYWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGRpc2FibGVkISIKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlkcnVnc0VuYWJsZWQgPSBub3QgZHJ1Z3NFbmFibGVkCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQllbmQKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBkcnVnIG1vZGUgKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQllbmQKCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuCgkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCAxMykKCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykKCgkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4KCQkJCQlpZiAoY29sb3IxIH49IG5pbCkgYW5kIChjb2xvcjIgfj0gbmlsKSBhbmQgKGNvbG9yMyB+PSBuaWwpIHRoZW4KCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBlbmFibGVkISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIgoJCQkJCWVuZAoJCQkJZWxzZWlmIChhcmdzWzFdID09ICJmIikgb3IgKGFyZ3NbMV0gPT0gIm9mZiIpIHRoZW4KCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQljb2xvcnNFbmFibGVkID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBkaXNhYmxlZCEiCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb2ZmISIKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlhcmdzWzFdID0gdG9udW1iZXIoYXJnc1sxXSkKCQkJCQlhcmdzWzJdID0gdG9udW1iZXIoYXJnc1syXSkKCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkKCgkJCQkJaWYgbm90IGFyZ3NbM10gdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3Ugc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXM/IgoJCQkJCWVsc2UKCQkJCQkJaWYgKGFyZ3NbMV0gfj0gbmlsKSBhbmQgKGFyZ3NbMl0gfj0gbmlsKSBhbmQgKGFyZ3NbM10gfj0gbmlsKSB0aGVuCgkJCQkJCQlsb2NhbCBleGVjdXRhYmxlID0gdHJ1ZQoKCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbwoJCQkJCQkJCWlmIChhcmdzW2ldIDwgMCkgb3IgKGFyZ3NbaV0gPiAyNTUpIHRoZW4KCQkJCQkJCQkJZXhlY3V0YWJsZSA9IGZhbHNlCgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCgkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbgoJCQkJCQkJCWNvbG9yMSA9IGFyZ3NbMV0KCQkJCQkJCQljb2xvcjIgPSBhcmdzWzJdCgkJCQkJCQkJY29sb3IzID0gYXJnc1szXQoKCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3Igd2FzIHNldCB0byAiIC4uIGNvbG9yMSAuLiAiLCAiIC4uIGNvbG9yMiAuLiAiLCBhbmQgIiAuLiBjb2xvcjMgLi4gIiEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBUaGUgbnVtYmVycyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1ISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFBsZWFzZSB1c2UgbnVtYmVycyB0byBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcy4iCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImNvbG9ycyIpIHRoZW4KCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSAKCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuCgkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkKCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkKCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKGNvbG9yMSwgY29sb3IyLCBjb2xvcjMpCgkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZAoJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQllbmQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCQkJCQkJZW5kKQoJCQkJCWVuZCkKCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGQ6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbgoJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQpCgkJCQkJZW5kKQoKCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCWlmIGQ6SXNBKCJQYXJ0aWNsZUVtaXR0ZXIiKSB0aGVuCQkJCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbgoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSksCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSkKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQoJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKSwKCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kCgkJCQkJCWVuZCkKCQkJCQllbmQpCgkJCQllbmQpCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImhlYWwiKSB0aGVuCgkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCA3KQoJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCWlmIGFyZ3NbMV0gdGhlbgkJCQkKCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuCgkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdCgkJCQkJCWxvY2FsIGNociA9IGdhbWUuUGxheWVyc1toZWFsaW5nUGxheWVyXS5DaGFyYWN0ZXIKCgkJCQkJCWlmIGNociB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiIKCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIpCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJCQlpZiBjaHIgPT0gcGxheWVyLkNoYXJhY3RlciB0aGVuCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDIpID09IChwcmVmaXggLi4gImUiKSB0aGVuCgkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgNCkKCgkJCQlpZiB0b251bWJlcihwaGFzZSkgfj0gbmlsIHRoZW4KCQkJCQlwaGFzZSA9IG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKQoKCQkJCQlpZiAocGhhc2UgPT0gMSkgb3IgKHBoYXNlID09IDIpIG9yIChwaGFzZSA9PSAzKSB0aGVuCgkJCQkJCUVjaG9lc1BoYXNlID0gcGhhc2UKCgkJCQkJCWxvY2FsIG1vZGUgPSAiIgoKCQkJCQkJaWYgRWNob2VzUGhhc2UgPT0gMSB0aGVuCgkJCQkJCQltb2RlID0gIihTVEFSKSIKCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDIgdGhlbgoJCQkJCQkJbW9kZSA9ICIoRkxBTUUpIgoJCQkJCQllbHNlaWYgRWNob2VzUGhhc2UgPT0gMyB0aGVuCgkJCQkJCQltb2RlID0gIihTSE9DSykiCgkJCQkJCWVuZAoKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBoYXMgYmVlbiBjaGFuZ2VkISAiIC4uIG1vZGUKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQaGFzZSBpcyBpbnZhbGlkISBNdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgMy4iCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiIKCQkJCWVuZAoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiY2hhbmdlbG9nIikgdGhlbgoJCQkJLS0gVGFnOiBDSE5HTEcKCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb25lISBIaXQgQ3RybCtGOSB0byB2aWV3LiIKCQkJCXdhcm4oIlJvYmxveCBpcyBkdW1iIGFuZCBkb2Vzbid0IGFsbG93IG1lIHRvIGxvYWQgYSBzdHJpbmcgd2l0aCBtdWx0aXBsZSBsaW5lcyBoZXJlLiIpCgkJCQlwcmludCgiQ2hlY2sgaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L2ZGRHBHTUFyIHRvIHNlZSB0aGUgY2hhbmdlbG9nLiIpCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gIm9yaWdpbiIpIHRoZW4KCQkJCXhwY2FsbChmdW5jdGlvbigpCgkJCQkJbG9jYWwgb3JpZ2luID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCQlvcmlnaW4uQW5jaG9yZWQgPSB0cnVlCgkJCQkJb3JpZ2luLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl0KCQkJCQlvcmlnaW4uTmFtZSA9ICJPcmlnaW4iCgkJCQkJb3JpZ2luLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uCgkJCQkJb3JpZ2luLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiUmVhbGx5IHJlZCIpCgkJCQkJb3JpZ2luLlNpemUgPSBWZWN0b3IzLm5ldygwLjUsIDAuNSwgMC41KQoJCQkJCW9yaWdpbi5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApCgkJCQkJd2FybigiTWFkZSBhIGJsb2NrIGF0IHRoZSBvcmlnaW4hIikKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2VzcyEgQ2hlY2sgY29uc29sZSBmb3IgbW9yZSBpbmZvIgoJCQkJZW5kLCBmdW5jdGlvbihlKQoJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkKCQkJCQl3YXJuKCd0cmFjZWJhY2s6JywgZGVidWcudHJhY2ViYWNrKCkpCgkJCQllbmQpCiAgICAgICAgICAgIGVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuCiAgICAgICAgICAgICAgICB3YXJuKCJSb2Jsb3ggaXMgZHVtYiBhbmQgaXNuJ3QgZm9ybWF0dGluZyBtdWx0aWxpbmUgc3RyaW5ncyByaWdodC4iKQogICAgICAgICAgICAgICAgcHJpbnQoIkZvciBub3csIGNoZWNrIGh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9ZNzRHaWhHeSB0byBzZWUgdGhlIGZ1bGwgbGlzdCBvZiBjb21tYW5kcy4iKQogICAgICAgICAgICAgICAgY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvbmUhIEhpdCBDdHJsK0Y5IHRvIHZpZXcuIgoJCQktLVtbZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiZmFybSIpIHRoZW4KCQkJCWxvY2FsIEZhcm1BbmNob3IgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCQkJRmFybUFuY2hvci5BbmNob3JlZCA9IHRydWUKCQkJCUZhcm1BbmNob3IuQ2FuQ29sbGlkZSA9IHRydWUKCQkJCUZhcm1BbmNob3IuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLDE1MDAwMCwwKQoJCQkJRmFybUFuY2hvci5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQoJCQkJRmFybUFuY2hvci5OYW1lID0gIkZhcm1BbmNob3IiCgkJCQlGYXJtQW5jaG9yLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiVG9vdGhwYXN0ZSIpCgkJCQlGYXJtQW5jaG9yLlNpemUgPSBWZWN0b3IzLm5ldyguNSwuNSwuNSkKCQkJCUZhcm1BbmNob3IuTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24KCQkJCUZhcm1BbmNob3IuU2hhcGUgPSBFbnVtLlBhcnRUeXBlLkJhbGwKCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQcmVwYXJpbmcgZm9yIHRlbGVwb3J0Li4uIgoJCQkJd2FpdCgzKQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwxMDAwMDMsMCkpXV0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaW5mbyIpIHRoZW4KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInN0YXR1cyIgdGhlbgoJCQkJCXByaW50KCJUaGUgY3VycmVudCBzdGF0dXMgb2YgRUJHdWkgaXMgIiAuLiBzdGF0dXMpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR3VpIFN0YXR1czogIiAuLiBzdGF0dXMKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJyZXBvIiBvciBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJnaXRodWIiIHRoZW4KCQkJCQlwcmludCgiVGhlIEdpdEh1YiByZXBvc2l0b3J5IGxpbmsgaXMgIiAuLiByZXBvKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBpbmZvISIKCQkJCWVuZAoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1cGRhdGUiKSB0aGVuCgkJCQlpZiB2ZXJOdW0gPT0gY3VycmVudCB0aGVuCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk5vIHVwZGF0ZSByZXF1aXJlZCEiCgkJCQllbHNlaWYgdmVyTnVtID09IGxhc3QgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJWZXJzaW9uIG91dGRhdGVkISBSZWNlbnQ6ICIgLi4gdmVyc2lvbgoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJicm8gdXIgb24gYSBkZXYgYnVpbGQgb3Igc20iCgkJCQllbmQKICAgICAgICAgICAgZW5kCgoJCQl3YWl0KDEuNSkKCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCWVsc2UKCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJZW5kCgkJZWxzZQoJCQlsb2NhbCBtYXRjaGVzID0gZmluZFBsYXllcih0ZXh0KQoKCQkJaWYgI21hdGNoZXMgPT0gMSB0aGVuCgkJCQl0YXJnZXQgPSBtYXRjaGVzWzFdCgkJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIHRoZW4KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCQkJCQkJCgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiBtYXRjaGVzWzFdCgkJCQllbmQKCQkJCXdhaXQoMSkKCQkJZWxzZQoJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCXdhcm4oIlRhcmdldCBub3QgZm91bmQhIERvIG11bHRpcGxlIHBsYXllcnMgaGF2ZSB0aGF0IHNhbWUgc3Vic3RyaW5nIGluIHRoZWlyIG5hbWVzPyIpCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBUYXJnZXQhIFR5cGUgdGhlaXIgbmFtZSBhZ2Fpbi4iCgkJCQl3YWl0KDEuNSkKCQkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJZW5kCgoJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpjb25uZWN0KGZ1bmN0aW9uKHBsYXllcikKCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbgoJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQoJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoVGFyZ2V0IFJRZWQhKSIKCQllbmQKCWVuZCkKCgljb21tYW5kQm94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKGVudGVyUHJlc3NlZCkKCQlpZiBlbnRlclByZXNzZWQgdGhlbgoJCQlpZiBjb21tYW5kQm94LlRleHQgfj0gIiIgdGhlbgoJCQkJaW5wdXRCb3goKQoJCQllbmQKCQllbmQKCWVuZCkKCgljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQoJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIChtYXRoLmNlaWwoI2J1dHRvbnMgKiAzNykgLyAyKSAtIDcpCgllbmQpKQoKCS0tIEJyZWFraW5nIFNjcmlwdCBVc2VycwoKCWJyZWFrYWJsZSA9IHRydWUKCglsb2NhbCBicmVha1VzZXJzID0gewoJCTE4NjQzODA1ODEsCgkJMTgyMTMzMjkzLAoJCTI5NzYxNTIzMSwKCQkxMTI4MTE0OTQ0LAoJCTE5NTY0MTMwNzksCgkJMzExMDI3MjA0LAoJCTE5MDMxNjU0MDUsCgkJMTkzMzczNDk1NiwKCQkxODEyMDUzNjMyLAoJCTE5MDYzMTE5MDIsCgkJMTk5MzIyNDcyNCwKCQkxOTQ0NTMxNjY1LAoJCTEwODA0NTAyMwoJfQoKCWxvY2FsIG9uY2hhdCA9IGZ1bmN0aW9uKHBsciwgbXNnKQoJCWxvY2FsIGFsbG93ZWQgPSBmYWxzZQoJCWZvciBfLCB1c2VyIGluIHBhaXJzKGJyZWFrVXNlcnMpIGRvCgkJCWlmIHBsci5OYW1lID09IHVzZXIgdGhlbgoJCQkJYWxsb3dlZCA9IHRydWUKCQkJZW5kCgkJZW5kCgoJCWxvY2FsIHByZWZpeCA9ICI7IgoKCQlpZiBzdHJpbmcuc3ViKG1zZywgMSwgNykgPT0gKHByZWZpeCAuLiAiYnJlYWsgIikgdGhlbgoJCQlsb2NhbCBtYXRjaGVzID0ge30KCgkJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUKCQkJCW1zZyA9IHN0cmluZy5sb3dlcihzdHJpbmcuc3ViKG1zZywgOCkpCgkJCQluYW1lID0gc3RyaW5nLmxvd2VyKG5hbWUpCgkJCQlsb2NhbCB0ZXJtID0gc3RyaW5nLnN1YihuYW1lLCAxLCBzdHJpbmcubGVuKG5hbWUpKQoKCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQodGVybSwgbXNnKQoKCQkJCWlmIG1hdGNoIHRoZW4KCQkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpCgkJCQllbmQKCQkJZW5kCgoJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIGFuZCBicmVha2FibGUgYW5kIGFsbG93ZWQgdGhlbgoJCQkJd2hpbGUgdHJ1ZSBkbwoKCQkJCWVuZAoJCQllbmQKCQllbmQKCWVuZAoKCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCXYuQ2hhdHRlZDpDb25uZWN0KGZ1bmN0aW9uKG1zZykKCQkJb25jaGF0KHYsIG1zZykKCQllbmQpCgllbmQKCglwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpCgkJCW9uY2hhdCh2LCBtc2cpCgkJZW5kKQoJZW5kKQoKCS0tIEV4cGxvaXRzCgoJbG9jYWwgZnVuY3Rpb24gZmYoKQoJCWlmIHNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQlpZiBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQlyZXR1cm4gZmFsc2UKCQkJZWxzZQoJCQkJcmV0dXJuIHRydWUKCQkJZW5kCgkJZWxzZQoJCQlyZXR1cm4gdHJ1ZQoJCWVuZAoJZW5kCgoJZnVuY3Rpb24gZXhwbG9pdCgpCgkJLS0gRXhwbG9pdCBmdW5jdGlvbi4gV2hlbiBDIGlzIHByZXNzZWQgYW5kIG9uZSBvZiB0aGVzZSBhcmUgInRydWUiLCBpdCB3aWxsIGZpcmUgaXQuCgkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyCgoJCWlmIFJlYXBlclVsdEVuYWJsZWQgdGhlbgoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJSZWFwZXIiLCAiUmVhcGVyJ3MgUmFnZSIpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiUmVhcGVyIiwKCQkJCVsyXSA9ICJSZWFwZXIncyBSYWdlIiwKCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQoJCQl9CgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJZW5kCQkKCgkJaWYgQ3JlYXRpb25Ib2xkRW5hYmxlZCB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyZWF0aW9uIiwgIkNvbnRpbnVvdXMgU3RyaWtlcyIpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiQ3JlYXRpb24iLAoJCQkJWzJdID0gIkNvbnRpbnVvdXMgU3RyaWtlcyIsCgkJCQlbM10gPSB7CgkJCQkJWyJDRiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCVsiQ2hhcmdlIl0gPSAiMiIKCQkJCX0KCQkJfQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCWVuZAoKCQlpZiBIeXBlcmFuZ0VuYWJsZWQgdGhlbgoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCWVuZAoKCQlpZiBEYXJrQW9lRW5hYmxlZCB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIsIHtsYXN0TW91c2VQb3NpdGlvbiA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pfSkKCQllbmQKCgkJaWYgRGlzcGVyc2lvbkVuYWJsZWQgdGhlbgoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iLCB7R3JvdW5kZWQgPSB0cnVlfSkKCQllbmQKCgkJaWYgRG91YmxlUmF5RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJTb2xhciIsCgkJCQlbMl0gPSAiRG91YmxlIFJheSIKCQkJfQkJCQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkKCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJTb2xhciIsCgkJCQlbMl0gPSAiRG91YmxlIFJheSIsCgkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJfQkJCQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCWVuZAoKCQlpZiBTdG9ybUJ1bGxldHNFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbgoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIKCQkJfQkJCQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkKCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiLAoJCQkJWzNdID0gewoJCQkJCVsiRGlyZWN0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCX0KCQkJfQkJCQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCWVuZAoKCQlpZiBPcmJpdGFsSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiLAoJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJfQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCWVuZAoKCQlpZiBWaWdvckhhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbgoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlNwaXJpdCIsCgkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Bpcml0IiwKCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIsCgkJCQlbM10gPSB7CgkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJfQoJCQl9CgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJZW5kCgoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiLAoJCQkJWzNdID0gewoJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCX0KCQkJfQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCWVuZAoKCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJZW5kCgoJCWlmIFZpbmVUcmFwRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJOYXR1cmUiLCAiVmluZSBUcmFwIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJZW5kCgoJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJZW5kCgoJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJZW5kCgoJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50Iiwge0xhc3RQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkKCQllbmQKCgkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkKCQllbmQKCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAxNSwgMCkpCgkJZW5kCgoJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbgoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkKCQllbmQKCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiLCB7T3JpZ2luID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAyNSwgMCksIG9yYlBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTAsIDApfSkKCQllbmQKCgkJaWYgVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIiwge3BvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTUwLCAwKX0pCgkJZW5kCgoJCWlmIFNrZWxldG9uR3JhYkVuYWJsZWQgdGhlbgoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJZW5kCgoJCWlmIEdlbmVzaXNSYXlFbmFibGVkIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5Iiwge2x2ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIGNoYXJnZSA9IEdSQ2hhcmdlfSkKCQllbmQKCgkJaWYgVGhlV29ybGRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbgoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwge3JoaXQgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydCwgbm9ybSA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBycG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCWVuZAoKCQlpZiBQb2xhcmlzRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCWVuZAoKCQlpZiBDb250cm9sbGVkRWNob2VzRW5hYmxlZCBhbmQgRWNob2VzUGhhc2Ugfj0gbmlsIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU291bmQiLCAiRWNob2VzIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIG1vdXNlLkhpdC5wfSkKCQllbmQKCgkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCWVuZAoKCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCWVuZAoKCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCWVuZAoKCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCAxNzV9KQoJCWVuZAoKCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIiwge0RpcmVjdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgRmxvb3IgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWV9KQoJCQl3YWl0KDE3LjUpCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJZW5kCgkJZW5kCgoJCWlmIEFyY2FuZUd1YXJkaWFuRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iLCB7UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDUwLCAwKX0pCgkJZW5kCgoJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpCgkJZW5kCgoJCWlmIFZpcnR1YWxab25lRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLCBWZWN0b3IzLm5ldygwLCAwLCAwKX0pCgkJZW5kCgllbmQKCgktLSBVSVMKCglsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQoJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UKCglVSVMuSW5wdXRCZWdhbjpjb25uZWN0KGZ1bmN0aW9uKGlucHV0LCBncCkKCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4KCQkJaWYgbm90IGdwIHRoZW4KCQkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcgoKCQkJCWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2tTbGFzaCB0aGVuCgkJCQkJY29tbWFuZEJveDpDYXB0dXJlRm9jdXMoKQoJCQkJCXdhaXQoKQoJCQkJCWlmIHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCksIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSkgPT0gIlxcIiB0aGVuCgkJCQkJCWNvbW1hbmRCb3guVGV4dCA9IHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCAxLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkgLSAxKQoJCQkJCWVuZAoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkMgdGhlbgoJCQkJCWV4cGxvaXQoKQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbgoJCQkJCVRQVG9UYXJnZXQoKQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLksgdGhlbgoJCQkJCUFudGlCbGluZEZ1bmMoKQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlQgdGhlbgoJCQkJCWJlZ2luU3BlZWQoKQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbgoJCQkJCWlmIFNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgdGhlbgoJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCWVuZAoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlAgdGhlbgoJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbgoJCQkJCQlpZiBnYW1lLlBsYWNlSWQgPT0gNTY2Mzk5MjQ0IG9yIGdhbWUuUGxhY2VJZCA9PSAyNTY5NjI1ODA5IHRoZW4KCQkJCQkJCWxvY2FsIFNhbnNQb3MgPSBDRnJhbWUubmV3KC0xNjg1LjkxMDUyLCAyMzAuMDM1MTI2LCAtMTgxLjc5ODI2NCkKCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkKCgkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gU2Fuc1BvcyAqIFNhbnNBbmdsZXMKCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykKCQkJCQkJCXdhaXQoKQoJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCQkJd2FpdCgxKQoJCQkJCQkJaWYgbm90IEZyZWV6ZUVuYWJsZWQgdGhlbgoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuCgkJCQkJYmVnaW5OdWxsaWZ5Rm9yY2VzKCkKCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5HIHRoZW4KCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkogdGhlbgoJCQkJCWlmIENsaWNrVFBFbmFibGVkIHRoZW4KCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpCgkJCQkJZW5kCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRiB0aGVuCgkJCQkJRnJlZXplRnVuYygpCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja3F1b3RlIHRoZW4KCQkJCQlpZiBGbGFzaEVuYWJsZWQgdGhlbgoJCQkJCQlsb25nZmxhc2goKQoJCQkJCWVuZAoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlYgdGhlbgoJCQkJCXZpZXcoKQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkIgdGhlbgoJCQkJCXRvZ2dsZUVTUCgpCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTSB0aGVuCgkJCQkJdG9nZ2xlRVNQR29sZCgpCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbgoJCQkJCWlmIG5vdCBjbG9zZWRmb3JldmVyIHRoZW4KCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuCgkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQkJCQlpZiBidXR0b25zb3BlbmVkID09IGZhbHNlIHRoZW4KCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwKCQkJCQkJCQkJIk91dCIsCgkJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkJLjUsCgkJCQkJCQkJCXRydWUKCQkJCQkJCQkpCgkJCQkJCQllbHNlCgkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLAoJCQkJCQkJCQkiSW4iLAoJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCS41LAoJCQkJCQkJCQl0cnVlCgkJCQkJCQkJKQoJCQkJCQkJZW5kCgkJCQkJCQl3YWl0KDEpCgkJCQkJCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5SaWdodEJyYWNrZXQgdGhlbgoJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUKCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJCQkJCSJPdXQiLAoJCQkJCQkJIlNpbmUiLAoJCQkJCQkJLjUsCgkJCQkJCQl0cnVlCgkJCQkJCSkKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCQkJCQkiSW4iLAoJCQkJCQkJIlNpbmUiLAoJCQkJCQkJLjUsCgkJCQkJCQl0cnVlCgkJCQkJCSkKCQkJCQllbmQKCQkJCQl3YWl0KDEpCgkJCQkJY29tbWFuZGRlYm91bmNlID0gZmFsc2UKCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhhbmtzIGZvciB1c2luZyBFQkd1aSEiCgkJCQkJd2FpdCgyKQoJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCQkJdGVybUVCR3VpKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCWVuZCkKCgktLSBTY3JpcHRzIGFuZCBGdW5jdGlvbnMgRU5ECgoJLS0gRW50cmFuY2UgQW5pbWF0aW9uCgoJd2FpdCgwLjUpCgoJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJIk91dCIsCgkJIlNpbmUiLAoJCS41LAoJCXRydWUKCSkKCgljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQlVRGltMi5uZXcoMSwgMCwgMC40NSwgMCksCgkJIk91dCIsCgkJIlNpbmUiLAoJCS41LAoJCXRydWUKCSkKCgktLSBJbmZvCgoJcHJpbnQoW1sKCgldXSkKCXdhcm4oIkdVSSBzdWNjZXNzZnVsbHkgbG9hZGVkISIpCgljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiV2VsY29tZSB0byBFQkd1aSEiCgl3YWl0KDIpCgljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCmVuZA=="