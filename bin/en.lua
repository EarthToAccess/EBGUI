encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CQp9Cgpsb2NhbCBtYXN0ZXJsaXN0ID0gewoJIjYzMzA1NzVlLThiOWMtNGZiNi1hNDJkLWJhYTU1NTZiNmU5OSIKfQoKbG9jYWwgZ29sZGxpc3QgPSB7CgkiR18wNTc5MjZfd09tRkpmTGVmaV8xMTIwMjIiCn0KCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIElEID0gcGxheWVyLlVzZXJJZApsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQpsb2NhbCBpc01hc3RlciA9IGZhbHNlCmxvY2FsIGlzR29sZCA9IGZhbHNlCmxvY2FsIHZlck51bSA9ICJ2My4wIgoKZm9yIGksdiBpbiBwYWlycyhnb2xkbGlzdCkgZG8KCWlmIG5vdCBFQkd1aUdvbGQgdGhlbiBlbHNlaWYgRUJHdWlHb2xkID09IHYgdGhlbgoJCWlzR29sZCA9IHRydWUKCQlicmVhawoJZW5kCmVuZAoKZm9yIGksdiBpbiBwYWlycyhibG9ja2xpc3QpIGRvCiAgICBpZiB2ID09IElEIHRoZW4KICAgICAgICBpc0Jsb2NrZWQgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8KICAgIGlmIHY6bG93ZXIoKSA9PSBjbGllbnRpZCB0aGVuCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmlmIGlzQmxvY2tlZCB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgVGhpcyBhY2NvdW50IGhhcyBiZWVuIGJsb2NrZWQuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCglnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuRGVmYXVsdENoYXRTeXN0ZW1DaGF0RXZlbnRzLlNheU1lc3NhZ2VSZXF1ZXN0OkZpcmVTZXJ2ZXIoIkkganVzdCB0cmllZCB0byB0dXJuIG9uIGV4cGxvaXRzIHdoaWxlIGJlaW5nIGJsb2NrZWQgZnJvbSB1c2luZyB0aGUgc2NyaXB0ISBJJ20gYmlnLCBmYXQsIGFuZCBzdHVwaWQhIiwiQWxsIikKZWxzZWlmIG5vdCAoRUJHdWlLZXkgb3IgaXNCbG9ja2VkIG9yIGlzTWFzdGVyIG9yIGlzR29sZCkgdGhlbgogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91IGRvbid0IGhhdmUgdGhlIHVubG9jayBrZXkgaW4geW91ciBzY3JpcHQuICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQplbHNlaWYgKEVCR3VpS2V5IH49ICI1NjgyNjRfcXo0ZWtCNFB5TF8xMTIwMjIiIGFuZCBub3QgaXNHb2xkKSBhbmQgbm90IChpc0Jsb2NrZWQgb3IgaXNNYXN0ZXIpIHRoZW4KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKZWxzZQoJeHBjYWxsKGZ1bmN0aW9uKCkKCQlsb2NhbCBkdW1iUXVvdGVzID0gewoJCQkiSmVleiwgd2hlbidkIGl0IGdldCBzbyBob3QgaW4gaGVyZT8iLAoJCQkiSXMgaXQganVzdCBtZSBvciBpcyB0aGF0ICp0b28qIGJsdWU/IiwKCQkJIkxpa2UgdGFraW5nIGNhbmR5IGZyb20gYSBiYWJ5LiIsCgkJCSJEZWV6IG51dHMgYXJlIHRvbyBzcXVhcmUhIiwKCQkJIkFsc28gdHJ5IE1pbmVjcmFmdCEiLAoJCQkiQWxzbyB0cnkgVGVycmFyaWEhIiwKCQkJIk1laCwgSSBsaWtlZCBSaXNrIG9mIFJhaW4gMiBiZXR0ZXIuIiwKCQkJIllvdSBuZWVkIGEgZmFpcmx5IGhpZ2ggSVEgdG8gdW5kZXJzdGFuZCBFQkd1aS4iLAoJCQkiSmFrZSwgZnJvbSBTdGF0ZSBGYXJtPyEiLAoJCQkiV2hhdCB3b3VsZCAqeW91KiBkbyBmb3IgYSBLbG9uZGlrZSBiYXI/IiwKCQkJIk5vdyB3aXRoIDEwMCUgbW9yZSBHb2xkISIsCgkJCSJNYWRlIGluIEx1YSEiLAoJCQkiSUYgJUVSUk9STEVWRUwlIEVRVSAxIEdPVE86RU9GIiwKCQkJImJydWggbmVyZiBzb2xhciBhbHJlYWR5IiwKCQkJIkJlY2F1c2UgdGhlIGRldnMgd29uJ3QgZG8gaXQuIiwKCQkJIlBldGl0aW9uIFlPVVIgbG9jYWwgZGV2ZWxvcGVyIGZvciBtb3JlIHVwZGF0ZXMhIiwKCQkJIndoeSBhcmUgeW91IGJ1eWluZyBjbG90aGVzIGF0IHRoZSBzb3VwIHN0b3JlIiwKCQkJIkkganVzdCB3YW5uYSBiZSBhIG5vcm1hbCBHVUkgd2l0aCBub3JtYWwga25lZXMuIiwKCQkJIjooKXs6fDomfTs6IiwKCQkJIkM6XFxET1MuIEM6XFxET1NcXFJVTiBSVU5cXERPU1xcUlVOLiIsCgkJCSJMdWFVOyBCZWNhdXNlIG5vcm1hbCBMdWEgd2FzIGp1c3QgdG9vIGVhc3kuIiwKCQkJImlsa28uLHV5dWtpanksaGdoeXRmcmVlM3ZmZ3czMndxcXdxIiwKCQkJIlNvcnJ5IGZvciB0aGF0IG9uZSBxdW90ZS4gTXkgY2F0IGdvdCBvbiBteSBrZXlib2FyZC4iLAoJCQkiSSBkb24ndCBhY3R1YWxseSBoYXZlIGEgY2F0LiIsCgkJCSJUaGlzIHNlbnRlbmNlIGlzIGZhbHNlLiIsCgkJCSJXZWxsIG5vdywgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiLCBkb24ndCB3ZSBoYXZlIGEgcHJlZGljYW1lbnQhIiwKCQkJIkplZSwgQmlsbCwgaG93IGNvbWUgeW91ciBtb20gbGV0cyB5b3UgaGF2ZSBUV08gd2VpbmVycz8hIiwKCQkJIkknZCBsaWtlIHRvIHRoYW5rIG15IG1vbSBhbmQgbXkgZGFkLCIsCgkJCSJZJ2tub3cgdGhleSByZWFsbHkgZ290dGEgc3RhcnQgcGF0Y2hpbmcgbW9yZS4iLAoJCQkiTmljZSB0byBtZWV0IHlvdSBSb3NlLiBSdW4gZm9yIHlvdXIgbGlmZSEiLAoJCQkiSG93IGhhcmQgd291bGQgaXQgYmUgdG8gZXhwbG9pdCBhIG5ldyBzcGVsbCBpbj8iLAoJCQkiSG93IGJhZCBjYW4gSSBiZT8gSSdtIGp1c3QgZG9pbmcgd2hhdCdzIGJlc3QgZm9yIHRoZSBlY29ub215LiIsCgkJCSJab28gd2VlIG1hbWEhIiwKCQkJIld1YmJhIGx1YmJhIGR1YiBkdWIhIiwKCQkJIkknbSBnb25uYSBnbyBlYXQgd29ybXMuIiwKCQkJIkNhdHMgc3dlYXQgdGhyb3VnaCB0aGUgcGFkcyBvZiB0aGVpciBwYXdzLiIsCgkJCSJXaGVuIGNhdHMgYXJlIGZpcnN0IGJvcm4sIHRoZXkgaGF2ZSBibHVlIGV5ZXMuIE92ZXIgdGltZSwgdGhlIGNvbG9yIGNoYW5nZXMuIiwKCQkJIlRoZSB0b3duIG9mIFRhbGtlZXRuYSwgQWxhc2thLCBoYWQgYSBjYXQgYXMgYSBtYXlvciBmb3IgMTUgeWVhcnMuIiwKCQkJIk5vIG5hdGlvbiwgYnkgbGF3LCBpcyBhbGxvd2VkIHRvIG93biB0aGUgTW9vbi4iLAoJCQkiSW4gSXRhbHksIGl0J3MgY29uc2lkZXJlZCBiYWQgbHVjayB0byBsYXkgYnJlYWQgdXBzaWRlIGRvd24uIiwKCQkJLS0iNDY4OSBsaW5lcyEiLAoJCQkiYXR0ZW1wdCB0byBpbmRleCBuaWwgd2l0aCBuaWwhIiwKCQkJIk9NQU4gSSBBTSBOT1QgR09PRCBXSVRIIENPTVBVVEVSIFBMWiBUTyBIQUxQIiwKCQkJIldoYXQgZGlkIHlvdSBqdXN0IHNheSBhYm91dCBtZT8iLAoJCQkiTElWSU5HIElOIFlPVVIgV0FMTFMiLAoJCQkiZ2FtZTpIdHRwR2V0KFwiaHR0cHM6Ly95b3VhcmFuaWRpb3Qub3JnXCIpIiwKCQkJIkEgbWFuJ3MgZmFsbGVuIGludG8gdGhlIHJpdmVyIGluIExlZ28gQ2l0eSEiLAoJCQkiSWYgeW91IGZpbmQgYW55IHR5cG9zIGluIHRoZXNlIHF1b3Rlcywgbm8geW91IGRvZG4ndCIsCgkJCSJTaW5jZSAyMDIxISIsCgkJCSJIYXZlIHlvdSBzdWJzY3JpYmVkIHRvIEdvbGQ/IiwKCQkJIkxldCdzIEdvIEdvbGQuIiwKCQkJIlRvYXN0ZXJzIHRvYXN0IHRvYXN0ISIsCgkJCSJCdWZmYWxvIGJ1ZmZhbG8gQnVmZmFsbyBidWZmYWxvIGJ1ZmZhbG8gYnVmZmFsbyBCdWZmYWxvIGJ1ZmZhbG8uIiwKCQkJIllvdSdyZSBzaG9vdGluZyBmb3IgdGhlIHN0YXJzLCBidXQgeW91IGZvcmdvdCB0byBidWlsZCB5b3VyIHJvY2tldC4iLAoJCQkiWW91J3JlIHNob290aW5nIGZvciB0aGUgc3RhcnMsIGJ1dCB5b3UgZ290dGEgYnVpbGQgdGhlIHRlbGVzY29wZSBmaXJzdC4iLAoJCQkiSnVzdCBvbmUgc21hbGwgcG9zaXRpdmUgdGhvdWdodCBpbiB0aGUgbW9ybmluZyBoYXMgdGhlIHBvdGVudGlhbCB0byBjaGFuZ2UgeW91ciB3aG9sZSBkYXkuIiwKCQkJIk9wcG9ydHVuaXRpZXMgZG9uJ3QganVzdCBoYXBwZW4sIHlvdSBjcmVhdGUgdGhlbS4iLAoJCQkiRi5JLlMuSC4gRm9yZ2V0IEl0LCBTdHVmZiBIYXBwZW5zLiIsCgkJCSJZb3UgaW5zZWN1cmUgdHVyZCBoYW1tZXIhIiwKCQkJIkdsYWQgdG8gc2VlIHlvdSB3b24gdGhlIERhcndpbiBBd2FyZCEiLAoJCQkiWW91IGRvbnV0LiIsCgkJCSJZb3UgaG91c2VwbGFudC4iLAoJCQkiSGVsbG8sIGV2ZXJ5Ym9keSwgbXkgbmFtZSBpcyBNYXJraXBsaWVyLiIsCgkJCSJWU2F1Y2UsIE1pY2hhZWwgaGVyZS4iLAoJCQkiRnVkbmluZyBmb3IgdGhpcyBwcm9ncmFtIHdhcyBtYWRlIHBvc3NpYmxlIGJ5IGNvbnRyaWJ1dGlvbnMgZnJvbSB2aWV3ZXJzIGxpa2UgeW91LiIsCgkJCSJTcG9uc29yZWQgYnkgT3BlbkFJISBCdXQgbm90IHJlYWxseS4iLAoJCQkiQSBkYW1uIGFydGlmaWNpYWwgaW50ZWxsaWdlbmNlIHRhdWdodCBtZSBob3cgdG8gcHJvZ3JhbSwgSSdtIGFic29sdXRlbHkgbGl2aWQiLAoJCQkiRG9uJ3QgY2FyZSwgZGlkbid0IGFzaywgY3J5IGFib3V0IGl0LCBzdGF5IG1hZCwgZ2V0IHJlYWwsIEwsIG1hbGQsIHNlZXRoZSwgY29wZSIsCgkJCSJUaGlzIGlzIERvdWdEb3VnLCB3aGVyZSB3ZSBzb2x2ZSBwcm9ibGVtcyB0aGF0IG5vYm9keSBoYXMuIiwKCQkJIlBhaWQgZm9yIHRocm91Z2ggdGhlIGVtYmV6emxlbWVudCBvZiBsZW1vbnMuIiwKCQkJIkknbSB3YW50ZWQgaW4gbnVtZXJvdXMgY291bnRyaWVzIGZvciB3YXIgY3JpbWVzISIsCgkJCSJJIGdvdCBhIHJvY2suIgoJCX0KCgkJbG9jYWwgZnJpZW5kbHlEYXRlID0gb3MuZGF0ZSgiJWIgJWQiKQoJCWlmIGZyaWVuZGx5RGF0ZSA9PSAiRGVjIDI1IiB0aGVuCgkJCXByaW50KCJNRVJSWSBDSFJJU1RNQVMhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJBdWcgMjEiIHRoZW4KCQkJcHJpbnQoIkhBUFBZIEJJUlRIREFZISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiT2N0IDAzIiB0aGVuCgkJCXByaW50KCJUZWxsIEVhcnRoIHlvdSBzYWlkIGhhcHB5IGJpcnRoZGF5ISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiT2N0IDMxIiB0aGVuCgkJCXByaW50KCJJUyBTUE9PS1kgTU9OVEghIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJKYW4gMDEiIHRoZW4KCQkJcHJpbnQoIkhBUFBZIE5FVyBZRUFSISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiRmViIDE0IiB0aGVuCgkJCXByaW50KCJHaXZlIHlvdXIgbG92ZSB0aGUgZ2lmdCBvZiBHb2xkLiIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiQXByIDAxIiB0aGVuCgkJCXByaW50KCJZb3UgZmVlbCBhIGNoaWxsIGdvIGRvd24geW91ciBzcGluZS4iKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkp1bCAwNCIgdGhlbgoJCQlwcmludCgiJ01VUklDQSEhISEhISEhISEiKQoJCWVuZAoKCQl3YXJuKFtbLS0tLS0tLS0tLS0tLS0tLQoJCQkJX19fX19fIF9fX19fIF9fX19fICAgICAgIF8gCgkJCQl8ICBfX198IF9fXyBcICBfXyBcICAgICAoXykKCQkJCXwgfF9fIHwgfF8vIC8gfCAgXC9fICAgXyBfIAoJCQkJfCAgX198fCBfX18gXCB8IF9ffCB8IHwgfCB8CgkJCQl8IHxfX198IHxfLyAvIHxfXCBcIHxffCB8IHwKCQkJCVxfX19fL1xfX19fLyBcX19fXy9cX18sX3xffCAgXV0uLnZlck51bSkKCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludChkdW1iUXVvdGVzW21hdGgucmFuZG9tKDEsI2R1bWJRdW90ZXMpXSkKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQl3YXJuKCJXZWxjb21lIHRvIEVCR3VpLCAiIC4uIHBsYXllci5OYW1lIC4uICIhIikKCQl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQoJCXdhcm4oIlF1ZXN0aW9ucyBvciBjb25jZXJucz8gTGV0IHVzIGtub3cgaW4gdGhlIERpc2NvcmQsIikKCQl3YXJuKCJvciBlbWFpbCBFYXJ0aCBoaW1zZWxmIGF0IGVhcnRodG9hY2Nlc3NAZ21haWwuY29tISIpCgkJd2FpdCgwLjUpCgkJCgkJaWYgaXNNYXN0ZXIgdGhlbgoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKSAgIAoJCQl3YXJuKCJMb2FkZWQgaW4gdXNpbmcgdGhlIE1hc3RlciBMaXN0ISBPdmVycmlkaW5nIGFjY2VzcyBnaXZlbi4iKQoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCWVuZAoKCQlpZiBpc0dvbGQgdGhlbgoJCQlwcmludChbWwkJCQlfX19fICAgICAgICAgICAgIF9fXyAgICAgIF9fXyAKCQkJNk1NTU1iLyAgICAgICAgICAgYE1NICAgICAgYE1NIAoJCQk4UCAgICBZTSAgICAgICAgICAgIE1NICAgICAgIE1NIAoJCQk2TSAgICAgIFkgICBfX19fXyAgICBNTSAgIF9fX19NTSAKCQkJTU0gICAgICAgICA2TU1NTU1iICAgTU0gIDZNTU1NTU0gCgkJCU1NICAgICAgICA2TScgICBgTWIgIE1NIDZNJyAgYE1NIAoJCQlNTSAgICAgX19fTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJTU0gICAgIGBNJ01NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCVlNICAgICAgTSBNTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQk4YiAgICBkOSBZTS4gICAsTTkgIE1NIFlNLiAgLE1NIAoJCQlZTU1NTTkgICBZTU1NTU05ICBfTU1fIFlNTU1NTU1fXV0pCgkJCXdhcm4oIlRoYW5rIHlvdSBmb3IgYmVpbmcgYSBHT0xERU4gbWVtYmVyISIpCgkJCXdhcm4oJ0Vuam95IHRoZSB2YXJpb3VzICJvdmVycG93ZXJlZCIgc2NyaXB0cyB3ZSBoYXZlIGluIHN0b3JlIScpCgkJZW5kCgoJCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zCgoJCWxvY2FsIGViZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQoJCWViZ3VpLk5hbWUgPSAiZWJndWkiCgkJZWJndWkuUGFyZW50ID0gZ2FtZTpXYWl0Rm9yQ2hpbGQoIkNvcmVHdWkiKQoKCgkJbG9jYWwgRVNQSW5mbyA9IHsKCQkJWyJTdGFuZGFyZCJdID0gewoJCQkJWyJOYW1lVGFnIl0gPSBuaWwKCQkJfSwKCQkJWyJHb2xkIl0gPSB7CgkJCQlbIk5hbWVUYWciXSA9IG5pbAoJCQl9LAoJCQlbIk1heERpc3QiXSA9IDc1MCwKCQkJWyJPZmZWYWx1ZSJdID0gMCwKCQkJWyJFbmFibGVkIl0gPSB0cnVlCgkJfQoKCQlsb2NhbCBtdnRnID0gewoJCQlbIkFvRXMiXSA9IHsKCQkJCVsiRmlyZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgTGlnaHRuaW5nIERpc3BlcnNpb24gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCQkJCgkJCQlbIk5hdHVyZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlBsYXNtYSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiR3Jhdml0eSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiTGlnaHQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRGFya25lc3MiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiTmlnaHRtYXJlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIFtBSU1FRF0iLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBaW1lZCBJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRpbWUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkNoYW9zIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU3BhY2UtVGltZSBSdXB0dXJlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiSWxsdXNpb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRHJhZ29uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU2xpbWUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJDcmVhdGlvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIkJ1bGxldHMiXSA9IHsKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJCYXJyYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJCYXJyYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNwaXJpdCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJMaWdodCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkxpZ2h0IE9yYnMgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkxpZ2h0IE9yYnMgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3BhY2UiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU29sYXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJCbGFzdHMiXSA9IHsKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJFeHBsb2RlIGF0IE1vdXNlIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRXhwbG9kZSBhdCBNb3VzZSAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3BlY3RydW0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU291bmQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvbGFyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiVGVsZXBvcnRzIl0gPSB7CgkJCQlbIkVhcnRoIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkV4cGxvc2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgTGVhcCBTdHVuIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlRlY2ggRGlzYyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiVWx0cyJdID0gewoJCQkJWyJMaWdodCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVm9pZCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRpbWUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJSZWFwZXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkF1cm9yYSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRXhwbG9zaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJJbGx1c2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkFjaWQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQW5nZWwiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU29sYXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCX0KCQl9CgoJCWdhbWUuQ29yZUd1aS5DaGlsZFJlbW92ZWQ6Y29ubmVjdChmdW5jdGlvbihjaGlsZCkKCQkJaWYgY2hpbGQuTmFtZSA9PSAiZWJndWkiIHRoZW4KCQkJCWNsb3NlZGZvcmV2ZXIgPSB0cnVlCgkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UKCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUKCQkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUKCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCVVJUyA9IG5pbAoJCQkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IG5pbAoJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IG5pbAoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbAoJCQkJQW50aUxhZ0VuYWJsZWQgPSBuaWwKCQkJCVNwZWVkaGFja0VuYWJsZWQgPSBuaWwKCQkJCVNldFNwZWVkID0gbmlsCgkJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IG5pbAoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gbmlsCgkJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBuaWwKCQkJCUNsaWNrVFBFbmFibGVkID0gbmlsCgkJCQlGcmVlemVFbmFibGVkID0gbmlsCgkJCQl2aWV3aW5nID0gbmlsCgkJCQlUUFRhcmdldEVuYWJsZWQgPSBuaWwKCQkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBuaWwKCQkJCUVTUEVuYWJsZWQgPSBuaWwKCQkJCVRQU2hhcmRzRW5hYmxlZCA9IG5pbAoJCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBuaWwKCQkJCUFpbWJvdEVuYWJsZWQgPSBuaWwKCQkJCUVTUEluZm8uTWF4RGlzdCA9IDc1MAoJCQkJRVNQSW5mby5FbmFibGVkID0gdHJ1ZQoJCQkJQWx0RmFybUVuYWJsZWQgPSBuaWwKCQkJCUVjaG9lc0F1dG8gPSBuaWwKCQkJCUFudGlBZmsgPSB0cnVlCgkJCWVuZAoJCWVuZCkKCgkJbG9jYWwgbW91c2UgPSBwbGF5ZXI6R2V0TW91c2UoKQoKCQlsb2NhbCBib3JkZXJzID0ge30KCgkJbG9jYWwgYnV0dG9uc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQlidXR0b25zbWFpbi5OYW1lID0gImJ1dHRvbnNtYWluIgoJCWJ1dHRvbnNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApCgkJYnV0dG9uc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDAuMjI1LCAwKQoJCXRhYmxlLmluc2VydChib3JkZXJzLCBidXR0b25zbWFpbikKCgkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UKCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoKCQlsb2NhbCBjb21tYW5kc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQljb21tYW5kc21haW4uTmFtZSA9ICJjb21tYW5kc21haW4iCgkJY29tbWFuZHNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApCgkJY29tbWFuZHNtYWluLlNpemUgPSBVRGltMi5uZXcoMC4zLCAwLCAwLjE3NSwgMCkKCQl0YWJsZS5pbnNlcnQoYm9yZGVycywgY29tbWFuZHNtYWluKQoKCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQoJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoKCQljbG9zZWRmb3JldmVyID0gZmFsc2UKCgkJbG9jYWwgZnJhbWVzID0ge30KCgkJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgYnV0dG9ucy4KCQlsb2NhbCBidXR0b25zZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQlidXR0b25zZnJhbWUuTmFtZSA9ICJidXR0b25zZnJhbWUiCgkJYnV0dG9uc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNiwgMCwgNjQpCgkJYnV0dG9uc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCQlidXR0b25zZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQlidXR0b25zZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJCXRhYmxlLmluc2VydChmcmFtZXMsIGJ1dHRvbnNmcmFtZSkKCQlidXR0b25zZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgkJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgY29tbWFuZCBib3guCgkJbG9jYWwgY29tbWFuZHNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWNvbW1hbmRzZnJhbWUuTmFtZSA9ICJjb21tYW5kc2ZyYW1lIgoJCWNvbW1hbmRzZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNiwgMCwgNjQpCgkJY29tbWFuZHNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRzZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWNvbW1hbmRzZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJY29tbWFuZHNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkKCQl0YWJsZS5pbnNlcnQoZnJhbWVzLCBjb21tYW5kc2ZyYW1lKQoJCWNvbW1hbmRzZnJhbWUuUGFyZW50ID0gY29tbWFuZHNtYWluCgoJCS0tIENvbW1hbmQgQm94LiBUaGlzIGlzIHdoZXJlIHVzZXJzIHR5cGUgaW4gY29tbWFuZHMgYW5kIHRhcmdldHMuCgkJbG9jYWwgY29tbWFuZEJveCA9IEluc3RhbmNlLm5ldygiVGV4dEJveCIpCgkJY29tbWFuZEJveC5OYW1lID0gImNvbW1hbmRCb3giCgkJY29tbWFuZEJveC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRCb3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1LCA0MCwgNDApCgkJY29tbWFuZEJveC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRCb3guQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWNvbW1hbmRCb3guUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjMsIDApCgkJY29tbWFuZEJveC5TaXplID0gVURpbTIubmV3KDAuODUsIDAsIDAuMjAsIDApCgkJY29tbWFuZEJveC5Gb250ID0gRW51bS5Gb250LkNvZGUKCQljb21tYW5kQm94LlRleHQgPSAiIgoJCWNvbW1hbmRCb3guVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJY29tbWFuZEJveC5UZXh0U2NhbGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3guVGV4dFNpemUgPSAxNC4wMDAKCQljb21tYW5kQm94LlRleHRXcmFwcGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3guQ2xlYXJUZXh0T25Gb2N1cyA9IGZhbHNlCgkJY29tbWFuZEJveC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCWxvY2FsIGxhYmVscyA9IHt9CgoJCS0tIFRoZSBvdXRwdXQgZm9yIHRoZSBDb21tYW5kIEJveC4KCQlsb2NhbCBjb21tYW5kQm94T3V0cHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCWNvbW1hbmRCb3hPdXRwdXQuTmFtZSA9ICJjb21tYW5kQm94T3V0cHV0IgoJCWNvbW1hbmRCb3hPdXRwdXQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCWNvbW1hbmRCb3hPdXRwdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjYsIDApCgkJY29tbWFuZEJveE91dHB1dC5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yLCAwKQoJCWNvbW1hbmRCb3hPdXRwdXQuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJY29tbWFuZEJveE91dHB1dC5UZXh0U2NhbGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNpemUgPSAxNC4wMDAKCQljb21tYW5kQm94T3V0cHV0LlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIGNvbW1hbmRCb3hPdXRwdXQpCgkJY29tbWFuZEJveE91dHB1dC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tIFRoZSBpbmZvcm1hdGlvbiBhYm92ZSB0aGUgTWFpbiBNZW51LCBlLmcuIHVzZXIncyBuYW1lLCBjaGFubmVsCgkJbG9jYWwgRGV0YWlscyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzLk5hbWUgPSAiRGV0YWlscyIKCQlEZXRhaWxzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlscy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wMTUsIC02KQoJCURldGFpbHMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQoJCURldGFpbHMuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJaWYgbm90IGlzR29sZCB0aGVuCgkJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSB8IFN0YWJsZSIKCQllbHNlCgkJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSBHb2xkIHwgU3RhYmxlIgoJCWVuZAoJCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlscy5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMuWkluZGV4ID0gNQoJCURldGFpbHMuVGV4dFNpemUgPSAxMi4wMDAKCQlEZXRhaWxzLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMpCgkJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gIkNsb3NlIHRoaXMgR1VJIiBmb3IgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIERldGFpbHMyID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMyLk5hbWUgPSAiRGV0YWlsczIiCgkJRGV0YWlsczIuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQlEZXRhaWxzMi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlEZXRhaWxzMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzMi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC45LCAtMTApCgkJRGV0YWlsczIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQoJCURldGFpbHMyLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCURldGFpbHMyLlRleHQgPSAiUHJlc3MgXSB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iCgkJRGV0YWlsczIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczIuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzMi5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHMyLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMyKQoJCURldGFpbHMyLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gIkNsb3NlIHRoaXMgR1VJIiBmb3IgdGhlIE1haW4gTWVudS4KCQlsb2NhbCBEZXRhaWxzMyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzMy5OYW1lID0gIkRldGFpbHMzIgoJCURldGFpbHMzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHMzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC44NzUsIDApCgkJRGV0YWlsczMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAtMTApCgkJRGV0YWlsczMuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczMuVGV4dCA9ICJQcmVzcyBbIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiIKCQlEZXRhaWxzMy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzMy5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMzLlRleHRTaXplID0gMTIuMDAwCgkJRGV0YWlsczMuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczMpCgkJRGV0YWlsczMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lCgoJCS0tIFNjcmlwdCB0ZXJtaW5hdGlvbiBpbnN0cnVjdGlvbnMuCgkJbG9jYWwgRGV0YWlsczQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczQuTmFtZSA9ICJEZXRhaWxzNCIKCQlEZXRhaWxzNC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlEZXRhaWxzNC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzNC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHM0LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDEuMSwgMCkKCQlEZXRhaWxzNC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTc1LCAwKQoJCURldGFpbHM0LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCURldGFpbHM0LlRleHQgPSAiSG9sZCB0aGUgTGVmdCBhbmQgUmlnaHQgYXJyb3cga2V5cywgdGhlbiBwcmVzcyBhbnkga2V5IHRvIHF1aXQgRUJHdWkuIgoJCURldGFpbHM0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHM0LlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczQuVGV4dFNpemUgPSAxNC4wMDAKCQlEZXRhaWxzNC5UZXh0V3JhcHBlZCA9IHRydWUKCQlEZXRhaWxzNC5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gVGhlIHZlcnNpb24gbnVtYmVyIGFib3ZlIHRoZSBDb21tYW5kIEJveC4KCQlsb2NhbCBWZXJzaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCVZlcnNpb24uTmFtZSA9ICJWZXJzaW9uIgoJCVZlcnNpb24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJVmVyc2lvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlWZXJzaW9uLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJVmVyc2lvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjA1LCAwKQoJCVZlcnNpb24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjEsIDApCgkJVmVyc2lvbi5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlWZXJzaW9uLlRleHQgPSAiVmVyc2lvbiAiIC4uIHZlck51bQoJCVZlcnNpb24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJVmVyc2lvbi5UZXh0U2NhbGVkID0gdHJ1ZQoJCVZlcnNpb24uVGV4dFNpemUgPSAxNC4wMDAKCQlWZXJzaW9uLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIFZlcnNpb24pCgkJVmVyc2lvbi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tIFRoZSBzY3JvbGxpbmcgYXJlYSBmb3IgdGhlIE1haW4gTWVudS4KCQlsb2NhbCBtYWluZnJhbWUgPSBJbnN0YW5jZS5uZXcoIlNjcm9sbGluZ0ZyYW1lIikKCQltYWluZnJhbWUuTmFtZSA9ICJtYWluZnJhbWUiCgkJbWFpbmZyYW1lLkFjdGl2ZSA9IHRydWUKCQltYWluZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDY0LCA2LCAzMSkKCQltYWluZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQltYWluZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCW1haW5mcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQltYWluZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQltYWluZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjg2Nzc2ODU4NiwgMCwgMC42LCAwKQoJCW1haW5mcmFtZS5TY3JvbGxCYXJUaGlja25lc3MgPSA2CgkJbWFpbmZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluCgoJCS0tIEdyaWQgbGF5b3V0IGZvciB0aGUgYnV0dG9ucy4KCQlsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpCgkJVUlHcmlkTGF5b3V0LkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbAoJCVVJR3JpZExheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcgoJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQoJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCAzMCkKCQlVSUdyaWRMYXlvdXQuU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIKCQlVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lCgoKCQktLSBQbGF5ZXIgYW5jaG9yIGZ1bmN0aW9uCgkJbG9jYWwgZnVuY3Rpb24gYW5jaG9yKGJvb2wpCgkJCXdhaXQoLjc1KQoJCQlpZiBib29sID09IGZhbHNlIHRoZW4KCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgYW5kIHYuQW5jaG9yZWQgdGhlbgoJCQkJCQl2LkFuY2hvcmVkID0gZmFsc2UKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlaWYgYm9vbCA9PSB0cnVlIHRoZW4KCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgYW5kIG5vdCB2LkFuY2hvcmVkIHRoZW4KCQkJCQkJdi5BbmNob3JlZCA9IHRydWUKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlmb3IgaSx2IGluIHBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSBkbwoJCQkJCWlmIHY6SXNBKCJCYXNlUGFydCIpIHRoZW4KCQkJCQkJcHJpbnQodi5BbmNob3JlZCkKCQkJCQkJYnJlYWsKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gY29weSh0YmwpCgkJCXJldHVybiB1bnBhY2sodGJsKQoJCWVuZAoKCQlsb2NhbCBidXR0b25zID0ge30KCgkJLS0tLS0tIEJ1dHRvbnMgZm9yIGhhY2tzLgoKCQlmdW5jdGlvbiBjaGVja01vdmVzKGVsKQoJCQlsb2NhbCBldAoJCQlsb2NhbCBjaCA9IGZhbHNlCgkJCWlmIGVsID09IDEgdGhlbgoJCQkJZXQgPSAiQW9FcyIKCQkJZWxzZWlmIGVsID09IDIgdGhlbgoJCQkJZXQgPSAiQnVsbGV0cyIKCQkJZWxzZWlmIGVsID09IDMgdGhlbgoJCQkJZXQgPSAiQmxhc3RzIgoJCQllbHNlaWYgZWwgPT0gNCB0aGVuCgkJCQlldCA9ICJUZWxlcG9ydHMiCgkJCWVsc2VpZiBlbCA9PSA1IHRoZW4KCQkJCWV0ID0gIlVsdHMiCgkJCWVsc2UgCgkJCQl3YXJuKCJFbGVtZW50IHR5cGUgbm90IGFwcGxpY2FibGUhIEdvdCAiLi50b3N0cmluZyhlKS4uIiwgZXhwZWN0ZWQgbnVtYmVyIDEgdGhyb3VnaCA1IikKCQkJCWV0ID0gbmlsCgkJCWVuZAoJCQkKCQkJaWYgZXQgfj0gbmlsIHRoZW4KCQkJCWZvciBpLHYgaW4gcGFpcnMobXZ0Z1tldF0pIGRvCgkJCQkJaWYgdi5WYWx1ZSB0aGVuCgkJCQkJCWNoID0gdHJ1ZQoJCQkJCQl2LlZhbHVlID0gZmFsc2UKCQkJCQkJcHJpbnQoIkRpc2FibGVkICIgLi4gaSkKCQkJCQkJbXZ0Z1tldF1baV0uQnV0dG9uLlRleHQgPSBtdnRnW2V0XVtpXS5Jbml0VGV4dAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCWVycm9yKCJlbGVtZW50IHR5cGUgb3V0IG9mIHJhbmdlIikKCQkJZW5kCgkJCXJldHVybiBjaAoJCWVuZAoKCQktLS0tIEFvRXMKCQktLSBJbnN0YW50IEJsYXplIENvbHVtbgoKCQlsb2NhbCBCbGF6ZUNvbHVtbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQmxhemVDb2x1bW4uTmFtZSA9ICJCbGF6ZUNvbHVtbiIKCQlCbGF6ZUNvbHVtbi5UZXh0ID0gbXZ0Zy5Bb0VzLkZpcmUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBCbGF6ZUNvbHVtbikKCQltdnRnLkFvRXMuRmlyZS5CdXR0b24gPSBCbGF6ZUNvbHVtbgoKCQltdnRnLkFvRXMuRmlyZS5WYWx1ZSA9IGZhbHNlCgoJCUJsYXplQ29sdW1uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5GaXJlLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkZpcmUuVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuRmlyZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuRmlyZS5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIgoJCQllbmQKCQkJQmxhemVDb2x1bW4uVGV4dCA9IG12dGcuQW9Fcy5GaXJlLlRleHQKCQllbmQpCgoJCS0tIEFtcGxpZmllZCBHZW5lc2lzIFJheQoKCQlsb2NhbCBHZW5lc2lzUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHZW5lc2lzUmF5Lk5hbWUgPSAiR2VuZXNpc1JheSIKCQlHZW5lc2lzUmF5LlRleHQgPSBtdnRnLkFvRXMuVGltZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdlbmVzaXNSYXkpCgkJbXZ0Zy5Bb0VzLlRpbWUuQnV0dG9uID0gR2VuZXNpc1JheQoKCQltdnRnLkFvRXMuVGltZS5WYWx1ZSA9IGZhbHNlCgkJbG9jYWwgR1JDaGFyZ2UgPSAxCgoJCUdlbmVzaXNSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLlRpbWUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLlRpbWUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuVGltZS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuVGltZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuVGltZS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIKCQkJZW5kCgkJCUdlbmVzaXNSYXkuVGV4dCA9IG12dGcuQW9Fcy5UaW1lLlRleHQKCQllbmQpCgoJCS0tIENyZWF0aW9uIEhvbGQgSGFjawoKCQlsb2NhbCBDaGFpbkhvbGQgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJQ2hhaW5Ib2xkLk5hbWUgPSAiQ2hhaW5Ib2xkIgoJCUNoYWluSG9sZC5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENoYWluSG9sZCkKCQltdnRnLkFvRXMuQ3JlYXRpb24uQnV0dG9uID0gQ2hhaW5Ib2xkLkJ1dHRvbgoKCQltdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgPSBmYWxzZQoKCQlDaGFpbkhvbGQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDEpCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQgPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUNoYWluSG9sZC5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0CgkJZW5kKQoKCQktLSBTcGFjZS1UaW1lIFJ1cHR1cmUKCgkJbG9jYWwgU1RSSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU1RSSGFjay5OYW1lID0gIlNUUkhhY2siCgkJU1RSSGFjay5UZXh0ID0gbXZ0Zy5Bb0VzLkNoYW9zLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxTVFJIYWNrKQoJCW12dGcuQW9Fcy5DaGFvcy5CdXR0b24gPSBTVFJIYWNrCgoJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IGZhbHNlCgoJCVNUUkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkNoYW9zLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5DaGFvcy5UZXh0ID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5DaGFvcy5UZXh0ID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJU1RSSGFjay5UZXh0ID0gbXZ0Zy5Bb0VzLkNoYW9zLlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgVmluZSBUcmFwCgoJCWxvY2FsIFZpbmVUcmFwID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaW5lVHJhcC5OYW1lID0gIlZpbmVUcmFwIgoJCVZpbmVUcmFwLlRleHQgPSBtdnRnLkFvRXMuTmF0dXJlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmluZVRyYXApCgkJbXZ0Zy5Bb0VzLk5hdHVyZS5CdXR0b24gPSBWaW5lVHJhcAoKCQltdnRnLkFvRXMuTmF0dXJlLlZhbHVlID0gZmFsc2UKCgkJVmluZVRyYXAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuTmF0dXJlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLk5hdHVyZS5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLk5hdHVyZS5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIgoJCQllbmQKCQkJVmluZVRyYXAuVGV4dCA9IG12dGcuQW9Fcy5OYXR1cmUuVGV4dAoJCWVuZCkKCgkJLS0gSWxsdXNpdmUgQXRha2UgSGFjawoKCQlsb2NhbCBJbGx1c2l2ZUF0YWtlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJbGx1c2l2ZUF0YWtlLk5hbWUgPSAiSWxsdXNpdmVBdGFrZSIKCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSBtdnRnLkFvRXMuSWxsdXNpb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBJbGx1c2l2ZUF0YWtlKQoJCW12dGcuQW9Fcy5JbGx1c2lvbi5CdXR0b24gPSBJbGx1c2l2ZUF0YWtlCgoJCW12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9IGZhbHNlCgoJCUlsbHVzaXZlQXRha2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5JbGx1c2lvbi5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5JbGx1c2lvbi5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSBtdnRnLkFvRXMuSWxsdXNpb24uVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBNdXJreSBNaXNzaWxlcwoKCQlsb2NhbCBEYXJrQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlEYXJrQW9lLk5hbWUgPSAiRGFya0FvZSIKCQlEYXJrQW9lLlRleHQgPSBtdnRnLkFvRXMuRGFya25lc3MuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBEYXJrQW9lKQoJCW12dGcuQW9Fcy5EYXJrbmVzcy5CdXR0b24gPSBEYXJrQW9lCgoJCW12dGcuQW9Fcy5EYXJrbmVzcy5WYWx1ZSA9IGZhbHNlCgoJCURhcmtBb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQW9Fcy5EYXJrbmVzcy5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuRGFya25lc3MuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5EYXJrbmVzcy5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuRGFya25lc3MuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIgoJCQllbmQKCQkJRGFya0FvZS5UZXh0ID0gbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQKCQllbmQpCgkJCgkJLS0gSW5zdGFudCBBaXIgRGlzcGVyc2lvbgoKCQlsb2NhbCBTdG9ybUFvZSA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlTdG9ybUFvZS5CdXR0b24uTmFtZSA9ICJTdG9ybUFvZSIKCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFN0b3JtQW9lKQoJCW12dGcuQW9Fcy5TdG9ybS5CdXR0b24gPSBTdG9ybUFvZS5CdXR0b24KCgkJbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJU3Rvcm1Bb2UuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDEpCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIkluc3RhbnQgTGlnaHRuaW5nIERpc3BlcnNpb24gKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIkluc3RhbnQgTGlnaHRuaW5nIERpc3BlcnNpb24gKE9mZikiCgkJCQllbmQKCQkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlRleHQgPSAiSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiCgkJCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJCWVuZAoJCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJZW5kKQoKCQktLSBTcGxpdHRpbmcgU2xpbWUgSGFjawoKCQlsb2NhbCBTcGxpdHRpbmdTbGltZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BsaXR0aW5nU2xpbWUuTmFtZSA9ICJTcGxpdHRpbmdTbGltZSIKCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gbXZ0Zy5Bb0VzLlNsaW1lLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BsaXR0aW5nU2xpbWUpCgkJbXZ0Zy5Bb0VzLlNsaW1lLkJ1dHRvbiA9IFNwbGl0dGluZ1NsaW1lCgoJCW12dGcuQW9Fcy5TbGltZS5WYWx1ZSA9IGZhbHNlCgoJCVNwbGl0dGluZ1NsaW1lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5TbGltZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuU2xpbWUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuU2xpbWUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gbXZ0Zy5Bb0VzLlNsaW1lLlRleHQKCQllbmQpCgoJCS0tIEFtYXVyb3RpYyBMYW1iZW50IEhhY2sKCgkJbG9jYWwgQW1hdXJvdGljTGFtYmVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW1hdXJvdGljTGFtYmVudC5OYW1lID0gIkFtYXVyb3RpY0xhbWJlbnQiCgkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkKCQltdnRnLkFvRXMuTGlnaHQuQnV0dG9uID0gQW1hdXJvdGljTGFtYmVudAoKCQltdnRnLkFvRXMuTGlnaHQuVmFsdWUgPSBmYWxzZQoKCQlBbWF1cm90aWNMYW1iZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5MaWdodC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuTGlnaHQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuTGlnaHQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5MaWdodC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuTGlnaHQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPZmYpIgoJCQllbmQKCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgUGxhc21hIEltcGxvc2lvbgoKCQlsb2NhbCBQbGFzbWFJbXBsb3Npb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVBsYXNtYUltcGxvc2lvbi5OYW1lID0gIlBsYXNtYUltcGxvc2lvbiIKCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9IG12dGcuQW9Fcy5QbGFzbWEuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBQbGFzbWFJbXBsb3Npb24pCgkJbXZ0Zy5Bb0VzLlBsYXNtYS5CdXR0b24gPSBQbGFzbWFJbXBsb3Npb24KCgkJbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9IGZhbHNlCgoJCVBsYXNtYUltcGxvc2lvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuUGxhc21hLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuUGxhc21hLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIKCQkJZW5kCgkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlBsYXNtYS5UZXh0CgkJZW5kKQoKCQktLSBGb3JtaWRhYmxlIFJvYXIgSGFjawoKCQlsb2NhbCBGb3JtaWRhYmxlUm9hciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRm9ybWlkYWJsZVJvYXIuTmFtZSA9ICJGb3JtaWRhYmxlUm9hciIKCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZvcm1pZGFibGVSb2FyKQoJCW12dGcuQW9Fcy5EcmFnb24uQnV0dG9uID0gRm9ybWlkYWJsZVJvYXIKCgkJbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSA9IGZhbHNlCgoJCUZvcm1pZGFibGVSb2FyLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5EcmFnb24uVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuRHJhZ29uLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5EcmFnb24uVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUZvcm1pZGFibGVSb2FyLlRleHQgPSBtdnRnLkFvRXMuRHJhZ29uLlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgU2tlbGV0b24gR3JhYgoKCQlsb2NhbCBTa2VsZXRvbkdyYWIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNrZWxldG9uR3JhYi5OYW1lID0gIlNrZWxldG9uR3JhYiIKCQlTa2VsZXRvbkdyYWIuVGV4dCA9IG12dGcuQW9Fcy5OaWdodG1hcmUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTa2VsZXRvbkdyYWIpCgkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5CdXR0b24gPSBTa2VsZXRvbkdyYWIKCgkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSA9IGZhbHNlCgoJCVNrZWxldG9uR3JhYi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPbikgW0FJTUVEXSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIFtBSU1FRF0iCgkJCWVuZAoJCQlTa2VsZXRvbkdyYWIuVGV4dCA9IG12dGcuQW9Fcy5OaWdodG1hcmUuVGV4dAoJCWVuZCkKCgkJLS0gR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrCgoJCWxvY2FsIEdyYXZpdGF0aW9uYWxGaWVsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJR3Jhdml0YXRpb25hbEZpZWxkLk5hbWUgPSAiR3Jhdml0YXRpb25hbEZpZWxkIgoJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gbXZ0Zy5Bb0VzLkdyYXZpdHkuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhdGlvbmFsRmllbGQpCgkJbXZ0Zy5Bb0VzLkdyYXZpdHkuQnV0dG9uID0gR3Jhdml0YXRpb25hbEZpZWxkCgoJCW12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlID0gZmFsc2UKCgkJR3Jhdml0YXRpb25hbEZpZWxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkdyYXZpdHkuVGV4dCA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkdyYXZpdHkuVGV4dCA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9IG12dGcuQW9Fcy5HcmF2aXR5LlRleHQKCQllbmQpCgoJCS0tLS0gUGxheWVyIG1vZGlmaWNhdGlvbnMKCQktLSBJbnN0YW50IFJvY2sgQXJtb3IKCgkJbG9jYWwgUm9ja0FybW9yID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSb2NrQXJtb3IuTmFtZSA9ICJSb2NrQXJtb3IiCgkJUm9ja0FybW9yLlRleHQgPSAiSW5zdGFudCBSb2NrIEFybW9yIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSb2NrQXJtb3IpCgoJCVJvY2tBcm1vci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJCb2R5IENvbG9ycyIpIHRoZW4KCQkJCXBsYXllci5DaGFyYWN0ZXJbIkJvZHkgQ29sb3JzIl06RGVzdHJveSgpCgkJCWVuZAoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikKCQllbmQpCgoJCS0tIFNsaW1lIEJ1ZGRpZXMgSGFjawoKCQlsb2NhbCBTbGltZUJ1ZGRpZXMgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJU2xpbWVCdWRkaWVzLk5hbWUgPSAiU2xpbWVCdWRkaWVzIgoJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNsaW1lQnVkZGllcykKCgkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IGZhbHNlCgoJCVNsaW1lQnVkZGllcy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSB0cnVlCgkJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQoJCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5lcnRpYSBHcmF2aXR5CgoJCWxvY2FsIEluZXJ0aWFHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5IgoJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJbmVydGlhR3Jhdml0eSkKCgkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCgkJSW5lcnRpYUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgSW5lcnRpYUdyYXZpdHlFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IHRydWUKCQkJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPbikiCgkJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpCgkJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQlCb2R5Rm9yY2UuTmFtZSA9ICJJbmVydGlhR3Jhdml0eUZvcmNlIgoJCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgMTYzOCwgMCkKCQkJZWxzZQoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCQkJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJJbmVydGlhR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5JbmVydGlhR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJLS0gU3BlY3RyYWwgRW1ib2RpbWVudAoKCQlsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwZWN0cmFsRW1ib2RpbWVudC5OYW1lID0gIlNwZWN0cmFsRW1ib2RpbWVudCIKCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVjdHJhbEVtYm9kaW1lbnQpCgoJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQoKCQlTcGVjdHJhbEVtYm9kaW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gdHJ1ZQoJCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPbikgW1hdIgoJCQllbHNlCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UKCQkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iCgkJCWVuZAoJCWVuZCkKCgkJLS0gQW50aS1CbGluZAoKCQlsb2NhbCBBbnRpQmxpbmQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFudGlCbGluZC5OYW1lID0gIkFudGlCbGluZCIKCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUJsaW5kKQoKCQlBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgbm9ybWFsRm9nQ29sb3IgPSBnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yCgkJbG9jYWwgbm9ybWFsRm9nRW5kID0gZ2FtZS5MaWdodGluZy5Gb2dFbmQKCQlsb2NhbCBub3JtYWxCcmlnaHRuZXNzID0gZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzCgkJbG9jYWwgbm9ybWFsQ2xvY2tUaW1lID0gZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUKCgkJbG9jYWwgZnVuY3Rpb24gQW50aUJsaW5kRnVuYygpCgkJCWlmIEFudGlCbGluZEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IHRydWUKCQkJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9uKSBbS10iCgkJCQl3aGlsZSBBbnRpQmxpbmRFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJZ2FtZS5MaWdodGluZy5Gb2dDb2xvciA9IG5vcm1hbEZvZ0NvbG9yCgkJCQkJZ2FtZS5MaWdodGluZy5Gb2dFbmQgPSBub3JtYWxGb2dFbmQKCQkJCQlnYW1lLkxpZ2h0aW5nLkJyaWdodG5lc3MgPSBub3JtYWxCcmlnaHRuZXNzCgkJCQkJZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUgPSBub3JtYWxDbG9ja1RpbWUKCQkJCWVuZAoJCQllbHNlCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UKCQkJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9mZikgW0tdIgoJCQllbmQKCQllbmQKCgkJQW50aUJsaW5kLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpQmxpbmRGdW5jKQoKCQlwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQoJCQlpZiBBbnRpQmxpbmRFbmFibGVkIHRoZW4KCQkJCWlmIGQuTmFtZSA9PSAiU2NyZWVuR3VpIiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJcGxheWVyLlBsYXllckd1aS5TY3JlZW5HdWk6RGVzdHJveSgpCgkJCQllbHNlaWYgZC5OYW1lID09ICJEaXN0b3J0IiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJcGxheWVyLlBsYXllckd1aS5EaXN0b3J0OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJLS0gU3BlZWQgaGFjawoKCQlsb2NhbCBTcGVlZGhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwZWVkaGFjay5OYW1lID0gIlNwZWVkaGFjayIKCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlZWRoYWNrKQoKCQlTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UKCQlTZXRTcGVlZCA9IDY0CgoJCWZ1bmN0aW9uIG1vZGlmeVNwZWVkKCkKCQkJcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKS5DaGFuZ2VkOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJaWYgU3BlZWRoYWNrRW5hYmxlZCBhbmQgU2V0U3BlZWQgfj0gbmlsIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQllbHNlCgkJCQkJcmV0dXJuCgkJCQllbmQKCQkJZW5kKQoJCWVuZAoKCQlmdW5jdGlvbiBiZWdpblNwZWVkKCkKCQkJaWYgU3BlZWRoYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTcGVlZGhhY2tFbmFibGVkID0gdHJ1ZQoJCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT24pIFtUXSIKCQkJCW1vZGlmeVNwZWVkKCkKCQkJCXdhaXQoKQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJd2hpbGUgU3BlZWRoYWNrRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJbW9kaWZ5U3BlZWQoKQoJCQkJCQl3YWl0KCkKCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQoJCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT2ZmKSBbVF0iCgkJCWVuZAoJCWVuZAoKCQlTcGVlZGhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luU3BlZWQpCgoJCS0tLS0gQnVsbGV0cwoJCS0tIEh5cGVyYW5nIEhhY2sKCgkJbG9jYWwgVGVjaFJhbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRlY2hSYW5nLk5hbWUgPSAiVGVjaFJhbmciCgkJVGVjaFJhbmcuVGV4dCA9IG12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGVjaFJhbmcpCgkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuQnV0dG9uID0gVGVjaFJhbmcKCgkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoKCQlUZWNoUmFuZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIgoJCQllbmQKCQkJVGVjaFJhbmcuVGV4dCA9IG12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlRleHQKCQllbmQpCgoJCS0tIEFzdGVyb2lkIEJlbHQgSGFjawoKCQlsb2NhbCBBc3Rlcm9pZEJlbHRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBc3Rlcm9pZEJlbHRIYWNrLk5hbWUgPSAiQXN0ZXJvaWRCZWx0SGFjayIKCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuU3BhY2UuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBBc3Rlcm9pZEJlbHRIYWNrKQoJCW12dGcuQnVsbGV0cy5TcGFjZS5CdXR0b24gPSBBc3Rlcm9pZEJlbHRIYWNrCgkJCgkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlID0gZmFsc2UKCQkKCQlBc3Rlcm9pZEJlbHRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJ1bGxldHMuU3BhY2UuVGV4dCA9ICJBc3Rlcm9pZCBCZWx0IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5UZXh0ID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGFjZS5UZXh0CgkJZW5kKQoKCQktLSBPcmJzIG9mIEVubGlnaHRlbm1lbnQgSGFjawoKCQlsb2NhbCBMaWdodE9yYnNIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlMaWdodE9yYnNIYWNrLk5hbWUgPSAiTGlnaHRPcmJzSGFjayIKCQlMaWdodE9yYnNIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuTGlnaHQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBMaWdodE9yYnNIYWNrKQoJCW12dGcuQnVsbGV0cy5MaWdodC5CdXR0b24gPSBMaWdodE9yYnNIYWNrCgoJCW12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgoJCUxpZ2h0T3Jic0hhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJ1bGxldHMuTGlnaHQuVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5UZXh0ID0gIkxpZ2h0IE9yYnMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUxpZ2h0T3Jic0hhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5MaWdodC5UZXh0CgkJZW5kKQoKCQktLSBWaWdvciBHeXJhdGlvbiBIYWNrCgoJCWxvY2FsIFZpZ0d5cmF0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmlnR3lyYXRIYWNrLk5hbWUgPSAiVmlnR3lyYXRIYWNrIgoJCVZpZ0d5cmF0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZ0d5cmF0SGFjaykKCQltdnRnLkJ1bGxldHMuU3Bpcml0LkJ1dHRvbiA9IFZpZ0d5cmF0SGFjawoJCQoJCW12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgPSBmYWxzZQoJCQoJCVZpZ0d5cmF0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIgoJCQllbmQKCQkJVmlnR3lyYXRIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuU3Bpcml0LlRleHQKCQllbmQpCgoJCS0tIExpZ2h0bmluZyBCYXJyYWdlIEhhY2sKCgkJbG9jYWwgQmFycmFnZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQmFycmFnZS5OYW1lID0gIkJhcnJhZ2UiCgkJQmFycmFnZS5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmFycmFnZSkKCQltdnRnLkJ1bGxldHMuU3Rvcm0uQnV0dG9uID0gQmFycmFnZQoKCQltdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoKCQlCYXJyYWdlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQgPSAiQmFycmFnZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlCYXJyYWdlLlRleHQgPSBtdnRnLkJ1bGxldHMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gRHlpbmcgU3RhciBIYWNrCgoJCWxvY2FsIER5aW5nU3RhckhhY2sgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJRHlpbmdTdGFySGFjay5OYW1lID0gIkR5aW5nU3RhckhhY2siCgkJRHlpbmdTdGFySGFjay5CdXR0b24uVGV4dCA9IG12dGcuQnVsbGV0cy5Tb2xhci5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIER5aW5nU3RhckhhY2spCgkJbXZ0Zy5CdWxsZXRzLlNvbGFyLkJ1dHRvbiA9IER5aW5nU3RhckhhY2suQnV0dG9uCgoJCW12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCUR5aW5nU3RhckhhY2suQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDIpCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5UZXh0ID0gIkR5aW5nIFN0YXIgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiRHlpbmcgU3RhciBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJRHlpbmdTdGFySGFjay5CdXR0b24uVGV4dCA9IG12dGcuQnVsbGV0cy5Tb2xhci5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLS0tIEJsYXN0cwoKCQktLSBFeHBsb2RlIGF0IE1vdXNlIChCb2x0IEhhY2spCgoJCWxvY2FsIEV4cGxvZGVBdE1vdXNlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFeHBsb2RlQXRNb3VzZS5OYW1lID0gIkV4cGxvZGVBdE1vdXNlIgoJCUV4cGxvZGVBdE1vdXNlLlRleHQgPSBtdnRnLkJsYXN0cy5TdG9ybS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsRXhwbG9kZUF0TW91c2UpCgkJbXZ0Zy5CbGFzdHMuU3Rvcm0uQnV0dG9uID0gRXhwbG9kZUF0TW91c2UKCgkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoKCQlFeHBsb2RlQXRNb3VzZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygzKQoJCQkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5UZXh0ID0gIkV4cGxvZGUgYXQgTW91c2UgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVGV4dCA9ICJFeHBsb2RlIGF0IE1vdXNlIChPZmYpIgoJCQllbmQKCQkJRXhwbG9kZUF0TW91c2UuVGV4dCA9IG12dGcuQmxhc3RzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIE9yYml0YWwgU3RyaWtlIEhhY2sKCgkJbG9jYWwgT3JiaXRhbCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlPcmJpdGFsLk5hbWUgPSAiT3JpYnRhbCIKCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIE9yYml0YWwpCgkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5CdXR0b24gPSBPcmJpdGFsLkJ1dHRvbgoKCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJT3JiaXRhbC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDMpCgkJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJCU9yYml0YWwuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IERvdWJsZSBSYXkKCgkJbG9jYWwgRG91YmxlUmF5ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCURvdWJsZVJheS5OYW1lID0gIkRvdWJsZVJheSIKCQlEb3VibGVSYXkuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5Tb2xhci5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERvdWJsZVJheSkKCQltdnRnLkJsYXN0cy5Tb2xhci5CdXR0b24gPSBEb3VibGVSYXkuQnV0dG9uCgoJCW12dGcuQmxhc3RzLlNvbGFyLlZhbHVlID0gZmFsc2UKCgkJRG91YmxlUmF5LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQmxhc3RzLlNvbGFyLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDMpCgkJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dCA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dCA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiCgkJCQllbmQKCQkJCURvdWJsZVJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlEb3VibGVSYXkuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5Tb2xhci5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkJsYXN0cy5Tb2xhci5UZXh0ID0gIkluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIKCQkJCURvdWJsUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEhvbG9iZWFtIENhbWVyYSBBdHRhY2gKCgkJbG9jYWwgSG9sb2JlYW0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUhvbG9iZWFtLk5hbWUgPSAiSG9sb2JlYW0iCgkJSG9sb2JlYW0uVGV4dCA9IG12dGcuQmxhc3RzLlNwZWN0cnVtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSG9sb2JlYW0pCgkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uQnV0dG9uID0gSG9sb2JlYW0KCgkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPSBmYWxzZQoKCQlmdW5jdGlvbiBhdHRhY2hDYW1lcmEodikKCQkJaWYgKHYgfj0gbmlsKSB0aGVuCgkJCQlpZiBub3Qodmlld2luZykgYW5kICh2Lk5hbWUgPT0gIkhvbG9iZWFtIikgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXVt2Lk5hbWVdCgkJCQllbHNlCgkJCQkJdjpEZXN0cm95KCkKCQkJCQlyZXR1cm4KCQkJCWVuZAoJCQkJCgkJCQl2LlRyYW5zcGFyZW5jeSA9IDAKCgkJCQl3YWl0KDQpCgkJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQllbmQKCQkJCQoJCQkJdjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgkJCgkJZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlpZiBtdnRnLkJsYXN0cy5TcGVjdHJ1bS5WYWx1ZSB0aGVuCgkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kIChwbGF5ZXIuQ2hhcmFjdGVyKSB0aGVuCgkJCQkJbG9jYWwgZGlzdGFuY2UgPSAocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdi5Qb3NpdGlvbikuTWFnbml0dWRlCgkJCQkJCgkJCQkJaWYgKHYuU2l6ZSA9PSBWZWN0b3IzLm5ldyg1LCA1LCA1KSkgYW5kIChkaXN0YW5jZSA8IDEwKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4KCQkJCQkKCQkJCQkJdi5OYW1lID0gIkhvbG9iZWFtIgoJCQkJCQoJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKSAKCQkJCQkJCQlhdHRhY2hDYW1lcmEodikgCgkJCQkJCQllbmQpKQoJCQkJCQllbmQpCgkJCQkJCQoJCQkJCQlsb2NhbCBndWkgPSBwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyCgkJCQkJCQoJCQkJCQl3YWl0KDAuNSkKCQkJCQkJCgkJCQkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJCQkJaWYgbm90KGd1aVsnMSddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWycyJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzMnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNCddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc1J10uQ0QuVGV4dCA9PSAiLi4uIikgdGhlbgoJCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbgoJCQkJCQkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJCQkJCWVuZAoJCQkJCgkJCQkJCQkJCXY6RGVzdHJveSgpCgkJCQkJCQkJZW5kKQoJCQkJCQkJCQoJCQkJCQkJCWJyZWFrCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlIb2xvYmVhbS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkJsYXN0cy5TcGVjdHJ1bS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDMpCgkJCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT24pIgoJCQkJCgkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbiB2OkRlc3Ryb3koKSBlbmQKCQkJCWVuZAoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiCgkJCWVuZAoJCQlIb2xvYmVhbS5UZXh0ID0gbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dAoJCWVuZCkKCgkJLS0gQ29udHJvbGxlZCBFY2hvZXMKCgkJbG9jYWwgRWNob2VzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFY2hvZXMuTmFtZSA9ICJFY2hvZXMiCgkJRWNob2VzLlRleHQgPSBtdnRnLkJsYXN0cy5Tb3VuZC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVjaG9lcykKCQltdnRnLkJsYXN0cy5Tb3VuZC5CdXR0b24gPSBFY2hvZXMKCgkJbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgPSBmYWxzZQoJCUVjaG9lc0F1dG8gPSBmYWxzZQoJCUVjaG9lc1BoYXNlID0gMQoKCQlFY2hvZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygzKQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQmxhc3RzLlNvdW5kLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiCgkJCWVuZAoJCQlFY2hvZXMuVGV4dCA9IG12dGcuQmxhc3RzLlNvdW5kLlRleHQKCQllbmQpCgoJCS0tLS0gU2hpZWxkcwoJCS0tIENyeXN0YWwgQXJtYW1lbnQgYW5kIEdyYXZpdGFsIEdsb2JlIEhhY2tzCgoJCWxvY2FsIENyeXN0YWxBcm1hbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQ3J5c3RhbEFybWFtZW50Lk5hbWUgPSAiQ3J5c3RhbEFybWFtZW50IgoJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ3J5c3RhbEFybWFtZW50KQoKCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgR3Jhdml0YWxHbG9iZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJR3Jhdml0YWxHbG9iZS5OYW1lID0gIkdyYXZpdGFsR2xvYmUiCgkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGFsR2xvYmUpCgoJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UKCgkJR3Jhdml0YWxHbG9iZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIHRoZW4KCQkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UKCQkJCQlwcmludCgiRGlzYWJsZWQgQ3J5c3RhbCIpCgkJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCQkJZW5kCgkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IHRydWUKCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UKCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCQkKCgkJQ3J5c3RhbEFybWFtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgdGhlbgoJCQkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UKCQkJCQlwcmludCgiRGlzYWJsZWQgR3Jhdml0eSIpCgkJCQkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSB0cnVlCgkJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9uKSIJCQkJCgkJCWVsc2UKCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tLS0gVWx0cwoJCS0tIERpc2FibGUgY29vbGRvd25zCgkJbG9jYWwgRW5hYmxlVWx0cyA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlFbmFibGVVbHRzLk5hbWUgPSAiRW5hYmxlVWx0cyIKCQlFbmFibGVVbHRzLkJ1dHRvbi5UZXh0ID0gIlJlbW92ZSBVbHQgQ29vbGRvd24iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsRW5hYmxlVWx0cykKCgkJRW5hYmxlVWx0cy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIiwgQ0ZyYW1lLm5ldyhwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24tVmVjdG9yMy5uZXcoMCwyNTAsMCkpKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiLCBDRnJhbWUubmV3KHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkpCgkJCWVsc2UKCQkJCUVuYWJsZVVsdHMuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJRW5hYmxlVWx0cy5CdXR0b24uVGV4dCA9ICJSZW1vdmUgVWx0IENvb2xkb3duIgoJCQllbmQKCQllbmQpCgoJCS0tIFJlYXBlcidzIFJhZ2UKCQlsb2NhbCBSZWFwZXJVbHQgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJUmVhcGVyVWx0Lk5hbWUgPSAiUmVhcGVyVWx0IgoJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBSZWFwZXJVbHQpCgkJbXZ0Zy5VbHRzLlJlYXBlci5CdXR0b24gPSBSZWFwZXJVbHQuQnV0dG9uCgoJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSBmYWxzZQoKCQlSZWFwZXJVbHQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVGV4dCA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCQkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrCgoJCWxvY2FsIEFibGF6ZUp1ZGdlbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWJsYXplSnVkZ2VtZW50Lk5hbWUgPSAiQWJsYXplSnVkZ2VtZW50IgoJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gbXZ0Zy5VbHRzLkxpZ2h0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWJsYXplSnVkZ2VtZW50KQoJCW12dGcuVWx0cy5MaWdodC5CdXR0b24gPSBBYmxhemVKdWRnZW1lbnQKCgkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJQWJsYXplSnVkZ2VtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5MaWdodC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuTGlnaHQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuTGlnaHQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5MaWdodC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gbXZ0Zy5VbHRzLkxpZ2h0LlRleHQKCQllbmQpCgoJCS0tIFZvaWQgT3BlbmluZyBIYWNrCgoJCWxvY2FsIFZvaWRPcGVuaW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWb2lkT3BlbmluZy5OYW1lID0gIlZvaWRPcGVuaW5nIgoJCVZvaWRPcGVuaW5nLlRleHQgPSBtdnRnLlVsdHMuVm9pZC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZvaWRPcGVuaW5nKQoJCW12dGcuVWx0cy5Wb2lkLkJ1dHRvbiA9IFZvaWRPcGVuaW5nCgoJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gZmFsc2UKCgkJVm9pZE9wZW5pbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVm9pZC5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5Wb2lkLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWb2lkT3BlbmluZy5UZXh0ID0gbXZ0Zy5VbHRzLlZvaWQuVGV4dAoJCWVuZCkKCgkJLS0gVGhlIFdvcmxkIEhhY2sKCgkJbG9jYWwgVGhlV29ybGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRoZVdvcmxkLk5hbWUgPSAiVGhlV29ybGQiCgkJVGhlV29ybGQuVGV4dCA9IG12dGcuVWx0cy5UaW1lLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGhlV29ybGQpCgkJbXZ0Zy5VbHRzLlRpbWUuQnV0dG9uID0gVGhlV29ybGQKCgkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSBmYWxzZQoKCQlUaGVXb3JsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuVGltZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuVGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5UaW1lLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVRoZVdvcmxkLlRleHQgPSBtdnRnLlVsdHMuVGltZS5UZXh0CgkJZW5kKQoKCQktLSBQb2xhcmlzIEhhY2sKCgkJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUG9sYXJpcy5OYW1lID0gIlBvbGFyaXMiCgkJUG9sYXJpcy5UZXh0ID0gbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBvbGFyaXMpCgkJbXZ0Zy5VbHRzLkF1cm9yYS5CdXR0b24gPSBQb2xhcmlzCgoJCW12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPSBmYWxzZQoKCQlQb2xhcmlzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5BdXJvcmEuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuQXVyb3JhLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPZmYpIgoJCQllbmQKCQkJUG9sYXJpcy5UZXh0ID0gbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24KCgkJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iCgkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSBtdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2hhdHRlcmluZ0VydXB0aW9uKQoJCW12dGcuVWx0cy5FeHBsb3Npb24uQnV0dG9uID0gU2hhdHRlcmluZ0VydXB0aW9uCgoJCW12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiCgkJCWVuZAoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9IG12dGcuVWx0cy5FeHBsb3Npb24uVGV4dAoJCWVuZCkKCgkJLS0gRXRoZXJlYWwgQWN1bWVuIEhhY2sKCgkJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV0aGVyZWFsQWN1bWVuLk5hbWUgPSAiRXRoZXJlYWxBY3VtZW4iCgkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9IG12dGcuVWx0cy5JbGx1c2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV0aGVyZWFsQWN1bWVuKQoJCW12dGcuVWx0cy5JbGx1c2lvbi5CdXR0b24gPSBFdGhlcmVhbEFjdW1lbgoKCQltdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoKCQlFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uID0gZmFsc2UKCQkJCW12dGcuVWx0cy5JbGx1c2lvbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIgoJCQllbmQKCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9IG12dGcuVWx0cy5JbGx1c2lvbi5UZXh0CgkJZW5kKQoKCQktLSBUb3hpYyBCYXNpbGlzayBIYWNrCgoJCWxvY2FsIFRveGljQmFzaWxpc2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRveGljQmFzaWxpc2suTmFtZSA9ICJUb3hpY0Jhc2lsaXNrIgoJCVRveGljQmFzaWxpc2suVGV4dCA9IG12dGcuVWx0cy5BY2lkLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVG94aWNCYXNpbGlzaykKCQltdnRnLlVsdHMuQWNpZC5CdXR0b24gPSBUb3hpY0Jhc2lsaXNrCgoJCW12dGcuVWx0cy5BY2lkLlZhbHVlID0gZmFsc2UKCgkJVG94aWNCYXNpbGlzay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuQWNpZC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5BY2lkLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuQWNpZC5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSBtdnRnLlVsdHMuQWNpZC5UZXh0CgkJZW5kKQoKCQktLSBBcmNhbmUgR3VhcmRpYW4gSGFjawoKCQlsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiIKCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gbXZ0Zy5VbHRzLkFuZ2VsLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXJjYW5lR3VhcmRpYW4pCgkJbXZ0Zy5VbHRzLkFuZ2VsLkJ1dHRvbiA9IEFyY2FuZUd1YXJkaWFuCgoJCW12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9IGZhbHNlCgoJCUFyY2FuZUd1YXJkaWFuLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuQW5nZWwuVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gbXZ0Zy5VbHRzLkFuZ2VsLlRleHQKCQllbmQpCgoJCS0tIFZpcnR1YWwgWm9uZSBIYWNrCgoJCWxvY2FsIFZpcnR1YWxab25lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaXJ0dWFsWm9uZS5OYW1lID0gIlZpcnR1YWxab25lIgoJCVZpcnR1YWxab25lLlRleHQgPSBtdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpcnR1YWxab25lKQoJCW12dGcuVWx0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFZpcnR1YWxab25lCgoJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVmlydHVhbFpvbmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dAoJCWVuZCkKCgkJLS0gVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4KCgkJbG9jYWwgU29sYXJTdGljayA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlTb2xhclN0aWNrLk5hbWUgPSAiU29sYXJTdGljayIKCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU29sYXJTdGljaykKCQltdnRnLlVsdHMuU29sYXIuQnV0dG9uID0gU29sYXJTdGljay5CdXR0b24KCgkJbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCgkJU29sYXJTdGljay5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG12dGcuVWx0cy5Tb2xhci5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJCW12dGcuVWx0cy5Tb2xhci5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJTb2xhciBTdGljayBCdWcgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLlVsdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuVWx0cy5Tb2xhci5UZXh0ID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIKCQkJCWVuZAoJCQkJU29sYXJTdGljay5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5Tb2xhci5UZXh0CgkJCWVsc2UKCQkJCW12dGcuVWx0cy5Tb2xhci5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCQkJd2FpdCgzKQoJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiU29sYXIgU3RpY2sgQnVnIChPZmYpIgoJCQkJU29sYXJTdGljay5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5Tb2xhci5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0tLSBNaXNjZWxsYW5lb3VzCgkJLS0gVGVjaCBEaXNjIEhhY2sKCgkJbG9jYWwgVGVjaERpc2MgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJVGVjaERpc2MuTmFtZSA9ICJUZWNoRGlzYyIKCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBUZWNoRGlzYykKCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFRlY2hEaXNjLkJ1dHRvbgoKCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVGVjaERpc2MuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCQljaGVja01vdmVzKDQpCgkJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiVGVjaCBEaXNjIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCQkJd2FpdCgzKQoJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0ID0gIlRlY2ggRGlzYyBIYWNrIChPZmYpIgoJCQkJVGVjaERpc2MuQnV0dG9uLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBBaW1ib3QgfHwgQ3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50CgkJLS1bWwoJCWxvY2FsIEFpbWJvdCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZSwKCQl9CgkJQWltYm90Lk5hbWUgPSAiQWltYm90IgoJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFpbWJvdCkKCgkJZnVuY3Rpb24gdG9nZ2xlQWltYm90KCkKCQkJaWYgKG5vdCBBaW1ib3RFbmFibGVkKSBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IHRydWUKCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9uKSIKCQkJCXdoaWxlIEFpbWJvdEVuYWJsZWQgZG8KCQkJCQlCZWdpblRyYWNraW5nKCkKCQkJCWVuZAoJCQllbHNlaWYgQWltYm90RW5hYmxlZCBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IGZhbHNlCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCQllbHNlaWYgbm90IChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCQllbmQKCQllbmQKCgkJQWltYm90LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlQWltYm90KV1dCgoJCS0tIFNoYXJkIENvbG9ycwoKCQlsb2NhbCBSYW5kb21Db2xvcnMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyIKCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSYW5kb21Db2xvcnMpCgoJCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQoJCWxvY2FsIFNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gc2hhcmRSYW5kb21pemVyKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdi5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCB2OkZpbmRGaXJzdENoaWxkKCJzaGFyZENoYW5nZWQiKSB0aGVuCgkJCQkJdi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkKCQkJCQlsb2NhbCBzaGFyZENoYW5nZWQgPSBJbnN0YW5jZS5uZXcoIkJvb2xWYWx1ZSIpCgkJCQkJc2hhcmRDaGFuZ2VkLk5hbWUgPSAic2hhcmRDaGFuZ2VkIgoJCQkJCXNoYXJkQ2hhbmdlZC5QYXJlbnQgPSB2CgkJCQkJc2hhcmRDaGFuZ2VkLlZhbHVlID0gdHJ1ZQoJCQkJZWxzZWlmIHYuTmFtZSA9PSAiU2hhcmQiIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJzaGFyZENoYW5nZWQiKS5WYWx1ZSB0aGVuIGVuZAoJCQllbmQKCQllbmQKCgkJUmFuZG9tQ29sb3JzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFNoYXJkQ29sb3JFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNoYXJkQ29sb3JFbmFibGVkID0gdHJ1ZQoJCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT24pIgoJCQkJd2hpbGUgU2hhcmRDb2xvckVuYWJsZWQgZG8KCQkJCQlzaGFyZFJhbmRvbWl6ZXIoKQoJCQkJCXdhaXQoLjUpCgkJCQllbmQKCQkJZWxzZQoJCQkJU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQoJCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQkJZW5kCQoJCWVuZCkKCgkJLS0gQW50aS1MYWcKCgkJbG9jYWwgQW50aUxhZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUxhZy5OYW1lID0gIkFudGlMYWciCgkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpTGFnKQoKCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIHJlbW92ZUxhZygpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5Mb2NhbEVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4KCQkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJCYWNrRGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiU3BlY2lhbE1lc2giKSB0aGVuCgkJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4KCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4KCQkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQlmb3IgXywgeCBpbiBwYWlycyh2LkNoYXJhY3RlcjpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCWlmIHguTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbgoJCQkJCQl4OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Y29ubmVjdChmdW5jdGlvbih2KQoJCQlpZiBBbnRpTGFnRW5hYmxlZCB0aGVuCgkJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbgoJCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdi5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgdGhlbgoJCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuCgkJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiAodi5OYW1lID09ICJMaWdodERpc2MiKSB0aGVuCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCUFudGlMYWcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQW50aUxhZ0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQW50aUxhZ0VuYWJsZWQgPSB0cnVlCgkJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9uKSIKCQkJCXJlbW92ZUxhZygpCgkJCWVsc2UKCQkJCUFudGlMYWdFbmFibGVkID0gZmFsc2UKCQkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJZ25vcmUgUGh5c2ljcwoKCQlsb2NhbCBJZ25vcmVQaHlzaWNzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJZ25vcmVQaHlzaWNzLk5hbWUgPSAiZklnbm9yZVBoeXNpY3MiCgkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPZmYpIFtaXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWdub3JlUGh5c2ljcykKCgkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBpbml0aWFsTnVsbGlmeUZvcmNlcygpCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXIuQ2hhcmFjdGVyLkZsaXBzSG9sZGVyOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJcGxheWVyLkNoYXJhY3Rlci5EZXNjZW5kYW50QWRkZWQ6Y29ubmVjdChmdW5jdGlvbih2KQoJCQkJaWYgSWdub3JlUGh5c2ljc0VuYWJsZWQgdGhlbgoJCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kKQoJCWVuZAoKCQlmdW5jdGlvbiBiZWdpbk51bGxpZnlGb3JjZXMoKQoJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IHRydWUKCQkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT24pIFtaXSIKCQkJCWluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJCUFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCQl3aGlsZSBJZ25vcmVQaHlzaWNzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgkJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9mZikgW1pdIgoJCQllbmQKCQllbmQKCgkJSWdub3JlUGh5c2ljcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5OdWxsaWZ5Rm9yY2VzKQoKCQktLSBBbnRpLUdyYXZpdHkKCgkJbG9jYWwgQW50aUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFudGlHcmF2aXR5Lk5hbWUgPSAiQW50aUdyYXZpdHkiCgkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpR3Jhdml0eSkKCgkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gQW50aUdyYXZpdHlGdW5jKCkKCQkJaWYgQW50aUdyYXZpdHlFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IHRydWUKCQkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPbikgW0ddIgoJCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQoJCQkJQm9keUZvcmNlLlBhcmVudCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJQm9keUZvcmNlLk5hbWUgPSAiQW50aUdyYXZpdHlGb3JjZSIKCQkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDUwMDAsIDApCgkJCWVsc2UKCQkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT2ZmKSBbR10iCgkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkFudGlHcmF2aXR5Rm9yY2UiKSB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFudGlHcmF2aXR5Rm9yY2U6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCUFudGlHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpR3Jhdml0eUZ1bmMpCgoJCS0tIENsaWNrLVRQCgoJCWxvY2FsIENsaWNrVFAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUNsaWNrVFAuTmFtZSA9ICJDbGlja1RQIgoJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT2ZmKSBbSiB0byB0cCB0byBtb3VzZV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENsaWNrVFApCgoJCUNsaWNrVFBFbmFibGVkID0gZmFsc2UKCgkJQ2xpY2tUUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBDbGlja1RQRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCUNsaWNrVFBFbmFibGVkID0gZmFsc2UKCQkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT2ZmKSBbSiB0byBDbGljay1UUF0iCgkJCWVsc2UKCQkJCUNsaWNrVFBFbmFibGVkID0gdHJ1ZQoJCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPbikgW0ogdG8gQ2xpY2stVFBdIgoJCQllbmQKCQllbmQpCgoJCWZ1bmN0aW9uIGNsaWNrdHAocG9zaXRpb24pCgkJCWlmIHBsYXllciA9PSBuaWwgb3IgcGxheWVyLkNoYXJhY3RlciA9PSBuaWwgdGhlbiByZXR1cm4gZW5kCgkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgKyAzLCBwb3NpdGlvbi56KSkKCQllbmQKCgkJLS0gRnJlZXplCgoJCWxvY2FsIEZyZWV6ZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRnJlZXplLk5hbWUgPSAiRnJlZXplIgoJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZyZWV6ZSkKCgkJRnJlZXplRW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIEZyZWV6ZUZ1bmMoKQoJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUZyZWV6ZUVuYWJsZWQgPSB0cnVlCgkJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9uKSBbRl0iCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCWVsc2UKCQkJCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQoJCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPZmYpIFtGXSIKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlCgkJCWVuZAoJCWVuZAoKCQlGcmVlemUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEZyZWV6ZUZ1bmMpCgoJCS0tIEluZmluaXRlIFNwcmludAoKCQlsb2NhbCBJbmZTcHJpbnQgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJSW5mU3ByaW50Lk5hbWUgPSAiSW5mU3ByaW50IgoJCUluZlNwcmludC5CdXR0b24uVGV4dCA9ICJJbmZpbml0ZSBTcHJpbnQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZlNwcmludCkKCgkJbG9jYWwgSW5mU3ByaW50RW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIFNwcmludFJlbW90ZSgpCgkJCXdoaWxlIHdhaXQoLjUpIGRvCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCQlbMl0gPSBmYWxzZSwKCQkJCX0KCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoJCWVuZAoKCQlJbmZTcHJpbnQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgSW5mU3ByaW50RW5hYmxlZCB0aGVuCgkJCQkJSW5mU3ByaW50RW5hYmxlZCA9IHRydWUKCQkJCQlJbmZTcHJpbnQuQnV0dG9uLlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPbikiCgkJCQkJU3ByaW50UmVtb3RlKCkKCQkJCWVsc2UKCQkJCQlJbmZTcHJpbnRFbmFibGVkID0gZmFsc2UKCQkJCQlJbmZTcHJpbnQuQnV0dG9uLlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIgoJCQkJZW5kCQkJCQoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgRXhwbG9zaXZlIExlYXAKCgkJbG9jYWwgRXhwbG9zaW9uSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRXhwbG9zaW9uSGFjay5OYW1lID0gIkV4cGxvc2lvbkhhY2siCgkJRXhwbG9zaW9uSGFjay5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXhwbG9zaW9uSGFjaykKCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uQnV0dG9uID0gRXhwbG9zaW9uSGFjawoKCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoKCQlFeHBsb3Npb25IYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDQpCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT24pIgoJCQllbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlRleHQgPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiCgkJCWVuZAoJCQlFeHBsb3Npb25IYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBSb2NrIEZpc3QKCgkJbG9jYWwgUm9ja0Zpc3RIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSb2NrRmlzdEhhY2suTmFtZSA9ICJSb2NrRmlzdEhhY2siCgkJUm9ja0Zpc3RIYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tGaXN0SGFjaykKCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5CdXR0b24gPSBSb2NrRmlzdEhhY2sKCgkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPSBmYWxzZQoKCQlSb2NrRmlzdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg0KQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPSB0cnVlCgkJCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPbikiCgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQgPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiCgkJCWVuZAoJCQlSb2NrRmlzdEhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQKCQllbmQpCgoJCS0tIExvbmcgRmxhc2gKCgkJbG9jYWwgTEZsYXNoID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlMRmxhc2guTmFtZSA9ICJGbGFzaCIKCQlMRmxhc2guVGV4dCA9IG12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTEZsYXNoKQoJCW12dGcuVGVsZXBvcnRzLlN0b3JtLkJ1dHRvbiA9IExGbGFzaAoKCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCWZ1bmN0aW9uIGxvbmdmbGFzaCgpCgkJCWxvY2FsIG1vdXNlcG9zID0gbW91c2UuSGl0LnAKCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIgoJCQl9CgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giLAoJCQkJWzNdID0gewoJCQkJCVsiRW5kIl0gPSBtb3VzZXBvcywKCQkJCQlbIk9yaWdpbiJdID0gcGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUucAoJCQkJfQoJCQl9CgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJZW5kCgoJCUxGbGFzaC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDQpCgkJCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQgPSAiTG9uZyBGbGFzaCAoT24pIFtgIHRvIHVzZV0iCgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQgPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIgoJCQllbmQKCQkJTEZsYXNoLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5TdG9ybS5UZXh0CgkJZW5kKQoKCQktLSBWaWV3IFRhcmdldAoKCQlsb2NhbCBWaWV3VGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaWV3VGFyZ2V0Lk5hbWUgPSAiVmlld1RhcmdldCIKCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWV3VGFyZ2V0KQoKCQl2aWV3aW5nID0gZmFsc2UKCgkJZnVuY3Rpb24gdmlldygpCgkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQlpZiB2aWV3aW5nID09IGZhbHNlIHRoZW4KCQkJCQl2aWV3aW5nID0gdHJ1ZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPbikgW1ZdIgoJCQkJZWxzZQoJCQkJCXZpZXdpbmcgPSBmYWxzZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCQllbmQKCQkJZWxzZWlmIHZpZXdpbmcgPT0gdHJ1ZSB0aGVuIAoJCQkJdmlld2luZyA9IGZhbHNlCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCWVuZAoJCWVuZAoKCQlWaWV3VGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh2aWV3KQoKCQktLSBUZWxlcG9ydCB0byBUYXJnZXQKCgkJbG9jYWwgVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQVGFyZ2V0Lk5hbWUgPSAiVFBUYXJnZXQiCgkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUFRhcmdldCkKCgkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gVFBUb1RhcmdldCgpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCBhbmQgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKQoKCQkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5DRnJhbWUgPSBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKS5DRnJhbWUKCQkJZW5kCgkJZW5kCgoJCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlCgkJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT24pIFtVXSIKCQkJZWxzZQoJCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBMb29wIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBMb29wVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxvb3BUUFRhcmdldC5OYW1lID0gIkxvb3BUUFRhcmdldCIKCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTG9vcFRQVGFyZ2V0KQoKCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIExvb3BUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikiCgkJCQl3aGlsZSBMb29wVFBUYXJnZXRFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJVFBUb1RhcmdldCgpCgkJCQllbmQKCQkJZWxzZQoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgkJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBTdGFuZGFyZCBFU1AKCgkJbG9jYWwgRVNQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFU1AuTmFtZSA9ICJFU1AiCgkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQkJCgoJCUVTUEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkKCQlIb2xkZXIuTmFtZSA9ICJFU1AiCgoJCWxvY2FsIFVwZGF0ZUZ1bmNzID0ge30KCgkJbG9jYWwgQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQoJCUJveC5OYW1lID0gIm5pbEJveCIKCQlCb3guU2l6ZSA9IFZlY3RvcjMubmV3KDQsIDcsIDQpCgkJQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQlCb3guVHJhbnNwYXJlbmN5ID0gMC43CgkJQm94LlpJbmRleCA9IDAKCQlCb3guQWx3YXlzT25Ub3AgPSB0cnVlCgkJQm94LlZpc2libGUgPSB0cnVlCgoJCWxvY2FsIE5hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpCgkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnID0gTmFtZVRhZwoJCU5hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnIgoJCU5hbWVUYWcuRW5hYmxlZCA9IHRydWUKCQlOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQlOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQoJCU5hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApCgkJTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDc1MAoKCQlsb2NhbCBUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE5hbWVUYWcpCgkJVGFnLk5hbWUgPSAiVGFnIgoJCVRhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJCVRhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIDApCgkJVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkKCQlUYWcuVGV4dFNpemUgPSAyMAoJCVRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCVRhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQoJCVRhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40CgkJVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQlUYWcuRm9udCA9IEVudW0uRm9udC5Sb2JvdG9Nb25vCgkJVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJCVRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoKCQlmdW5jdGlvbiBMb2FkQ2hhcmFjdGVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCgkJCQlsb2NhbCBiID0gQm94OkNsb25lKCkKCQkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiQm94IgoJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJYi5QYXJlbnQgPSB2SG9sZGVyCgoJCQkJbG9jYWwgdCA9IE5hbWVUYWc6Q2xvbmUoKQoJCQkJdC5OYW1lID0gdi5OYW1lIC4uICJOYW1lVGFnIgoJCQkJdC5QYXJlbnQgPSB2SG9sZGVyCgkJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQoJCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuCgkJCQkJcmV0dXJuIFVubG9hZENoYXJhY3Rlcih2KQoJCQkJZW5kCgkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lCgkJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCQl3YWl0KCkKCgkJCQlsb2NhbCBmdW5jdGlvbiBVcGRhdGVOYW1lVGFnKCkKCQkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUKCQkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApCgkJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQoJCQkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZSAuLiAiXG4iIC4uICgobWF4aCB+PSAwIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoKGggLyBtYXhoKSAqIDEwMCkpKSBvciAiMCIpIC4uICIlICAiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKQoJCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNwoJCQkJCQkJZWxzZQoJCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQllbmQKCQkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbgoJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQllbHNlCgkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJZW5kCgkJCQkJCWVuZCkgdGhlbgoJCQkJCQlVcGRhdGVGdW5jc1t2XSA9IG5pbAoJCQkJCWVuZAoJCQkJZW5kCgkJCQlVcGRhdGVOYW1lVGFnKCkKCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZwoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIGFuZCAodkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkJveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIExvYWRQbGF5ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJbG9jYWwgdkhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgSG9sZGVyKQoJCQkJdkhvbGRlci5OYW1lID0gdi5OYW1lCgkJCQl2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCWlmIEVTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKExvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJZW5kCgkJCQllbmQpCgkJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCWVuZCkKCQkJCUxvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQoJCQlVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgdGhlbgoJCQkJdkhvbGRlcjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKExvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQkJVW5sb2FkQ2hhcmFjdGVyKGkpCgkJCQkJd2FpdCgpCgkJCQkJTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJVXBkYXRlRnVuY3NbcF0oKQoJCQkJCWVuZCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWZ1bmN0aW9uIHRvZ2dsZUVTUCgpCgkJCWlmIEVTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbgoJCQkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJCQlFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiU3RhbmRhcmQgRVNQIEVuYWJsZWQiCgkJCQkJd2FpdCgxKQoJCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQkJCWVsc2UKCQkJCQlFU1BFbmFibGVkID0gdHJ1ZQoJCQkJZW5kCgkJCQlFU1AuVGV4dCA9ICJFU1AgKE9uKSBbQl0iCgkJCQlmb3IgaSx2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQoJCQkJZW5kCgkJCWVsc2UKCQkJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChVbmxvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJRVNQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1ApCgoJCS0tIEdvbGQgRVNQCgoJCWxvY2FsIEVTUEdvbGQgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJRVNQR29sZC5OYW1lID0gIkVTUEdvbGQiCgkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1BHb2xkKQoKCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEdIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkKCQlHSG9sZGVyLk5hbWUgPSAiRVNQR29sZCIKCgkJbG9jYWwgR1VwZGF0ZUZ1bmNzID0ge30KCgkJbG9jYWwgR0JveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikKCQlHQm94Lk5hbWUgPSAibmlsQm94RyIKCQlHQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCUdCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUdCb3guVHJhbnNwYXJlbmN5ID0gMC43CgkJR0JveC5aSW5kZXggPSAwCgkJR0JveC5BbHdheXNPblRvcCA9IHRydWUKCQlHQm94LlZpc2libGUgPSB0cnVlCgoJCWxvY2FsIEdOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCUVTUEluZm8uR29sZC5OYW1lVGFnID0gR05hbWVUYWcKCQlHTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWdHIgoJCUdOYW1lVGFnLkVuYWJsZWQgPSB0cnVlCgkJR05hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQoJCUdOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQoJCUdOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQoJCUdOYW1lVGFnLk1heERpc3RhbmNlID0gNzUwCgoJCWxvY2FsIEdUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEdOYW1lVGFnKQoJCUdUYWcuTmFtZSA9ICJHVGFnIgoJCUdUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCQlHVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgLTUpCgkJR1RhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApCgkJR1RhZy5UZXh0U2l6ZSA9IDIwCgkJR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUdUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkKCQlHVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCQlHVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQlHVGFnLkZvbnQgPSBFbnVtLkZvbnQuUm9ib3RvTW9ubwoJCUdUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCgkJR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoKCQlmdW5jdGlvbiBHTG9hZENoYXJhY3Rlcih2KQoJCQkKCQkJbG9jYWwgdGJsUGxheWVyRGF0YSA9IHt9CgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCVJTUjpXYWl0Rm9yQ2hpbGQoIlBsYXllckRhdGEiKS5PbkNsaWVudEV2ZW50OkNvbm5lY3QoZnVuY3Rpb24odiwgdGJsRGF0YSkKCQkJCXRibFBsYXllckRhdGFbdl0gPSB0YmxEYXRhCgkJCWVuZCkKCQkJCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJCWxvY2FsIHZIb2xkZXJHID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCQl2SG9sZGVyRzpDbGVhckFsbENoaWxkcmVuKCkKCgkJCQlsb2NhbCBiID0gR0JveDpDbG9uZSgpCgkJCQliLk5hbWUgPSB2Lk5hbWUgLi4gIkdCb3giCgkJCQliLkFkb3JuZWUgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQliLlBhcmVudCA9IHZIb2xkZXJHCgoJCQkJbG9jYWwgdCA9IEdOYW1lVGFnOkNsb25lKCkKCQkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiR05hbWVUYWciCgkJCQl0LlBhcmVudCA9IHZIb2xkZXJHCgkJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQoJCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuCgkJCQkJcmV0dXJuIEdVbmxvYWRDaGFyYWN0ZXIodikKCQkJCWVuZAoJCQkJdC5HVGFnLlRleHQgPSB2Lk5hbWUKCQkJCXQuRW5hYmxlZCA9IHRydWUKCQkJCXdhaXQoKQoKCQkJCWxvY2FsIGZ1bmN0aW9uIEdVcGRhdGVOYW1lVGFnKCkKCQkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUKCQkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApCgkJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQoJCQkJCQkJbG9jYWwgc3RyaCA9ICJIOiAiIC4uIChub3QobWF4aCA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIGggLyBtYXhoKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpIC4uICIpIgoJCQkJCQkJLS0KCQkJCQkJCWxvY2FsIG1heG0gPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYXhNYW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIG0gPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIHN0cm0gPSAiTTogIiAuLiAobm90KG1heG0gPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBtIC8gbWF4bSkpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKG0pIC4uICIvIiAuLiB0b3N0cmluZyhtYXhtKSAuLiAiKSIKCQkJCQkJCS0tCgkJCQkJCQlsb2NhbCBtYXhzID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4U3RhbWluYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBzID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uU3RhbWluYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBzdHJzID0gICJTOiAiIC4uIChub3QobWF4cyA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIHMgLyBtYXhzKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcocykgLi4gIi8iIC4uIHRvc3RyaW5nKG1heHMpIC4uICIpIgoKCQkJCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lIC4uICgiXG4iIC4uIHN0cmgpIC4uICgiXG4iIC4uIHN0cm0pIC4uICgiXG4iIC4uIHN0cnMpCgkJCQkJCQkKCQkJCQkJCWlmIEdFU1BFbmFibGVkIHRoZW4KCQkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNwoJCQkJCQkJZWxzZQoJCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJZW5kCgkJCQkJCQlpZiBoIC8gbWF4aCA+PSAwLjc1IHRoZW4KCQkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDYyLCAyNTUsIDYyKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTUsIDE1MywgNjQpCgkJCQkJCQllbHNlaWYgaCAvIG1heGggPD0gMC43NSBhbmQgaCAvIG1heGggPj0gMC41IHRoZW4KCQkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCA1NSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE3OSwgMTMyLCAxNSkKCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4KCQkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMiwgMikKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEzNCwgMTIsIDY2KQoJCQkJCQkJZWxzZQoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAoMTk2ICogKGggLyBtYXhoKSksICgyICogKGggLyBtYXhoKSkpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNzksICgxMzIgKiAoaCAvIG1heGgpKSwgKDE1ICogKGggLyBtYXhoKSkpCgkJCQkJCQllbmQKCQkJCQkJZW5kKSB0aGVuCgkJCQkJCUdVcGRhdGVGdW5jc1t2XSA9IG5pbAoJCQkJCWVuZAoJCQkJZW5kCgkJCQlHVXBkYXRlTmFtZVRhZygpCgkJCQlHVXBkYXRlRnVuY3Nbdl0gPSBHVXBkYXRlTmFtZVRhZwoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR1VubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyRyBhbmQgKHZIb2xkZXJHOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR0JveCIpIH49IG5pbCBvciB2SG9sZGVyRzpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkdOYW1lVGFnIikgfj0gbmlsKSB0aGVuCgkJCQl2SG9sZGVyRzpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdMb2FkUGxheWVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCWxvY2FsIHZIb2xkZXJHID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBHSG9sZGVyKQoJCQkJdkhvbGRlckcuTmFtZSA9IHYuTmFtZQoJCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlpZiBHRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJcGNhbGwoR0xvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJZW5kCgkJCQllbmQpCgkJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQllbmQpCgkJCQlHTG9hZENoYXJhY3Rlcih2KQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR1VubG9hZFBsYXllcih2KQoJCQlHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXJHID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXJHIHRoZW4KCQkJCXZIb2xkZXJHOkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKEdMb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQkJaWYgaTpJc0EoIlBsYXllciIpIHRoZW4KCQkJCWlmIEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQkJR1VubG9hZENoYXJhY3RlcihpKQoJCQkJCXdhaXQoKQoJCQkJCUdMb2FkQ2hhcmFjdGVyKGkpCgkJCQllbmQKCQkJZWxzZWlmIGk6SXNBKCJIdW1hbm9pZCIpIGFuZCBpLlBhcmVudCB0aGVuCgkJCQlsb2NhbCBwID0gcGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQoJCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJR1VwZGF0ZUZ1bmNzW3BdKCkKCQkJCQllbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiB0b2dnbGVFU1BHb2xkKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIEdFU1BFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4KCQkJCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCQlFU1AuVGV4dCA9ICJEZXRhaWxlZCBFU1AgRW5hYmxlZCIKCQkJCQkJd2FpdCgxKQoJCQkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCQkJCWVsc2UKCQkJCQkJR0VTUEVuYWJsZWQgPSB0cnVlCgkJCQkJZW5kCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9uKSBbTV0iCgkJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHTG9hZFBsYXllciwgdikgZW5kKQoJCQkJCWVuZAoJCQkJZWxzZQoJCQkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHVW5sb2FkUGxheWVyLCB2KSBlbmQpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCWVuZAoJCWVuZAoKCQlFU1BHb2xkLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlRVNQR29sZCkKCgkJLS0gVFAgdG8gRHJvcHMKCQktLS0tIEN1cnJlbnRseSBkaXNhYmxlZCBkdWUgdG8gdGhyZWF0bGV2ZWwKCgkJLS1bW2xvY2FsIFRQU2hhcmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUUFNoYXJkcy5OYW1lID0gIlRQU2hhcmRzIgoJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUFNoYXJkcykKCgkJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UJCgoJCWxvY2FsIFRQRGlhbW9uZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQRGlhbW9uZHMuTmFtZSA9ICJUUERpYW1vbmRzIgoJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBEaWFtb25kcykKCgkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBwbGF0ZSA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJcGxhdGUuUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2UKCQlwbGF0ZS5TaXplID0gVmVjdG9yMy5uZXcoNDAsIDEsIDQwKQoJCXBsYXRlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMTAwMDAwLCAwKQoJCXBsYXRlLkFuY2hvcmVkID0gdHJ1ZQoJCXBsYXRlLlJlZmxlY3RhbmNlID0gMC41CgkJcGxhdGUuVHJhbnNwYXJlbmN5ID0gMC41CgoJCWxvY2FsIHRpbWUgPSAwCgkJbG9jYWwgY2FuSW52aXMgPSBmYWxzZQoKCQlmdW5jdGlvbiB0ZWxlcG9ydFRvRHJvcHMoKQoJCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5TZXJ2ZXJFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIFRQU2hhcmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJTaGFyZCIgdGhlbgoJCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQoJCQkJCXdhaXQoLjIpCgkJCQllbHNlaWYgVFBEaWFtb25kc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiRGlhbW9uZCIgdGhlbgoJCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQoJCQkJCXdhaXQoLjIpCgkJCQllbmQKCgkJCQlpZiBjYW5JbnZpcyB0aGVuCgkJCQkJaWYgdGltZSA9PSA1IHRoZW4gCgkJCQkJCWJyZWFrCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgoJCQlocnAuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldygwLCAxMDAwMDMsIC0xMCkpCgoJCQlyZXR1cm4gCgkJZW5kCgoKCQlmdW5jdGlvbiBzdGFydFRpbWVyKCkKCQkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQl3aGlsZSB3YWl0KCkgZG8KCQkJCWlmIFRQU2hhcmRzRW5hYmxlZCBvciBUUERpYW1vbmRzRW5hYmxlZCB0aGVuCgkJCQkJaWYgdGltZSB+PSAwIHRoZW4gcmV0dXJuCgkJCQkJZWxzZQoJCQkJCQlpZiBjYW5JbnZpcyB0aGVuCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCXdhaXQoMSkKCQkJCQkJCXJlcGVhdAoJCQkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwodGVsZXBvcnRUb0Ryb3BzKSBlbmQpCgkJCQkJCQkJdGltZSA9IHRpbWUgKyAxCgkJCQkJCQkJd2FpdCgxKQoJCQkJCQkJdW50aWwgdGltZSA9PSA2CgkJCQkJCQlocnAuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldygwLCAxMDAwMDMsIC0xMCkpCgkJCQkJCQl3YWl0KDcuNSkKCQkJCQkJCXRpbWUgPSAwCgkJCQkJCWVsc2UKCQkJCQkJCXdoaWxlIHRydWUgZG8KCQkJCQkJCQlpZiBub3QgVFBTaGFyZHNFbmFibGVkIGFuZCBub3QgVFBEaWFtb25kc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQlicmVhawoJCQkJCQkJCWVuZAoJCQkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwodGVsZXBvcnRUb0Ryb3BzKSBlbmQpCgkJCQkJCQkJd2FpdCgxKQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZWxzZQoJCQkJCWJyZWFrCgkJCQllbmQKCQkJZW5kCgoJCQlyZXR1cm4KCQllbmQKCgkJVFBTaGFyZHMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIik6V2FpdEZvckNoaWxkKCJNYWluIikuQ2hhcmFjdGVyLkF2YWlsYWJsZS5TY3JvbGxpbmdGcmFtZS5GcmFtZTpGaW5kRmlyc3RDaGlsZCgiU3BlY3RyYWwgRW1ib2RpbWVudCIpIHRoZW4KCQkJCWNhbkludmlzID0gdHJ1ZQoJCQllbmQKCQkJaWYgVFBTaGFyZHNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQU2hhcmRzRW5hYmxlZCA9IHRydWUKCQkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPbikiCgkJCQlzdGFydFRpbWVyKCkKCQkJCXdoaWxlIFRQU2hhcmRzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJc3RhcnRUaW1lcigpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UKCQkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCVRQRGlhbW9uZHMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIik6V2FpdEZvckNoaWxkKCJNYWluIikuQ2hhcmFjdGVyLkF2YWlsYWJsZS5TY3JvbGxpbmdGcmFtZS5GcmFtZTpGaW5kRmlyc3RDaGlsZCgiU3BlY3RyYWwgRW1ib2RpbWVudCIpIHRoZW4KCQkJCWNhbkludmlzID0gdHJ1ZQoJCQllbmQKCQkJaWYgVFBEaWFtb25kc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVFBEaWFtb25kc0VuYWJsZWQgPSB0cnVlCgkJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9uKSIKCQkJCXN0YXJ0VGltZXIoKQoJCQkJd2hpbGUgVFBEaWFtb25kc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCXN0YXJ0VGltZXIoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UKCQkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT2ZmKSIKCQkJZW5kCgkJZW5kKV1dCgoJCS0tIFJlam9pbiBTZXJ2ZXIgRnVuY3Rpb24KCgkJLS0gVGhpcyB3YXMgb25seSBwcmVzZXJ2ZWQgYXMgSSBjb3VsZG4ndCB0aGluayBvZiBhbnkgb3RoZXIgcGxhY2UgdG8gcHV0IHRoZSBmdW5jdGlvbiBmb3Igbm93LgoJCS0tIE1pZ2h0IGdldCBtb3ZlZCBsYXRlciwgaWR1bm5vLgoJCWZ1bmN0aW9uIHJlam9pbigpCgkJCWxvY2FsIHRzID0gZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKQoJCQlsb2NhbCBwID0gcGxheWVycy5Mb2NhbFBsYXllcgoKCQkJdHM6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBwKQoJCWVuZAoKCQktLSBBbHQgRmFybWluZwoKCQlsb2NhbCBBbHRGYXJtID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUFsdEZhcm0uTmFtZSA9ICJBbHRGYXJtIgoJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLEFsdEZhcm0pCgoJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgbG9jcyA9IHt7NDI0LCAyNTAwMCwgNjF9LHstNjcsIDI1MDAwLCAyNjE5fSx7LTI2MDAsIDI1MDAwLCA0ODN9fQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQlsb2NhbCBodW0gPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCWxvY2FsIGxhc3Rwb3MKCgkJbG9jYWwgZnVuY3Rpb24gZG9GYXJtKCkKCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQlocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCWh1bSA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCWh1bS5IZWFsdGhDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJcGxheWVyLkNoYXJhY3RlcjpCcmVha0pvaW50cygpCgkJCWVuZCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gYWx0dHAobGksbHApCgkJCWxvY2FsIG5ld0xvYyA9IFZlY3RvcjMubmV3KHVucGFjayhsb2NzW2xpXSkpCgkJCWlmIG5ld0xvYyB+PSBscCB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyOk1vdmVUbyhuZXdMb2MpCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBhbHRwbGF0ZShkZSxsaSkKCQkJaWYgbm90IGxpIHRoZW4gbGkgPSBuaWwgZW5kCgkJCWlmIGRlID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIEFsdFBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCUFsdFBsYXRlLlBhcmVudCA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIilbIi5JZ25vcmUiXQoJCQkJQWx0UGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldyhsb2NzW2xpXVsxXSwgKGxvY3NbbGldWzJdIC0gNSksIGxvY3NbbGldWzNdKQoJCQkJQWx0UGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDUsMSw1KQoJCQkJQWx0UGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJCQlBbHRQbGF0ZS5UcmFuc3BhcmVuY3kgPSAxCgkJCWVsc2UKCQkJCWlmIG5vdCBBbHRQbGF0ZSA9PSBuaWwgdGhlbgoJCQkJCUFsdFBsYXRlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbHRGYXJtLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgQWx0RmFybUVuYWJsZWQgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXI6TW92ZVRvKGxhc3Rwb3MpCgkJCQkJQWx0RmFybUVuYWJsZWQgPSBmYWxzZQoJCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCQkJCWFsdHBsYXRlKHRydWUpCgkJCQkJaHVtLkhlYWx0aENoYW5nZWQ6RGlzY29ubmVjdCgpCgkJCQllbHNlCgkJCQkJQWx0RmFybUVuYWJsZWQgPSB0cnVlCgkJCQkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJGYXJtaW5nIE1vZGUgKE9uKSIKCQkJCQlsYXN0cG9zID0gaHJwLnBvc2l0aW9uCgkJCQkJbG9jYWwgVFBMb2NhdGlvbiA9IG1hdGgucmFuZG9tKDEsI2xvY3MpCgkJCQkJYWx0cGxhdGUoZmFsc2UsVFBMb2NhdGlvbikKCQkJCQlyZXBlYXQKCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQkJCQlkb0Zhcm0oKQoJCQkJCQlpZiBocnAuUG9zaXRpb24gfj0gdW5wYWNrKGxvY3NbVFBMb2NhdGlvbl0pIHRoZW4KCQkJCQkJCWFsdHRwKFRQTG9jYXRpb24sbGFzdHBvcykKCQkJCQkJZW5kCgkJCQkJCXdhaXQoLjEpCgkJCQkJdW50aWwgQWx0RmFybUVuYWJsZWQgPT0gZmFsc2UKCQkJCWVuZAoJCQllbHNlCgkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCWxvY2FsIGZ1bGxidXR0b25zID0gY29weShidXR0b25zKQoKCQktLSBHVUkgVHdlYWtpbmcKCgkJZm9yIGksdiBpbiBwYWlycyhib3JkZXJzKSBkbwoJCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQoJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MAoJCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZCgkJCXYuQWN0aXZlID0gdHJ1ZQoJCQl2LlBhcmVudCA9IGViZ3VpCgkJZW5kCgoJCWZvciBpLHYgaW4gcGFpcnMoYnV0dG9ucykgZG8KCQkJaWYgdHlwZW9mKHYpID09ICJ0YWJsZSIgYW5kIHYuSXNHb2xkIHRoZW4KCQkJCXYuQnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDE3NSwgMjApCgkJCQl2LkJ1dHRvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJdi5CdXR0b24uQm9yZGVyU2l6ZVBpeGVsID0gMgoJCQkJdi5CdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCQkJdi5CdXR0b24uRm9udEZhY2UuV2VpZ2h0ID0gRW51bS5Gb250V2VpZ2h0LkhlYXZ5CgkJCQl2LkJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCXYuQnV0dG9uLlRleHRTY2FsZWQgPSB0cnVlCgkJCQl2LkJ1dHRvbi5UZXh0U2l6ZSA9IDE0LjAwMAoJCQkJdi5CdXR0b24uVGV4dFdyYXBwZWQgPSB0cnVlCgkJCQl2LkJ1dHRvbi5MYXlvdXRPcmRlciA9IGkKCQkJCXYuQnV0dG9uLlBhcmVudCA9IG1haW5mcmFtZQoJCQllbHNlCgkJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwgNTQsIDE3OSkKCQkJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCQkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCQkJdi5Gb250RmFjZS5XZWlnaHQgPSBFbnVtLkZvbnRXZWlnaHQuSGVhdnkKCQkJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQl2LlRleHRTY2FsZWQgPSB0cnVlCgkJCQl2LlRleHRTaXplID0gMTQuMDAwCgkJCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQoJCQkJdi5MYXlvdXRPcmRlciA9IGkKCQkJCXYuUGFyZW50ID0gbWFpbmZyYW1lCgkJCWVuZAoJCWVuZAoKCQktLSBjb21tYW5kQm94CgoJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiCgkJbG9vcGluZyA9IGZhbHNlCgkJU21hcnRBdHRhY2sgPSB0cnVlCgkJSGVhbFNldHRpbmcgPSAxCgkJc3R1bkVuYWJsZWQgPSB0cnVlCgkJbG9jYWwgYnV0dG9uSGVpZ2h0ID0gMzAKCQlsb2NhbCBidXR0b25HYXAgPSA3CgoJCVJTUiA9IGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJSZW1vdGVzIikKCgkJbG9jYWwgc3R1bkNvbm5lY3Rpb24gPSBnZXRjb25uZWN0aW9ucyhSU1I6V2FpdEZvckNoaWxkKCJDb21iYXQiKS5PbkNsaWVudEV2ZW50KQoJCWxvY2FsIGxhZ2dlcnMgPSB7CgkJCSIxQjBGOThCRS1FMTBCLTQ2NzQtOUZCNC02RjY1MTcxQTM0N0YiLCAtLSBsb2cKCQkJIjZBMzMxMDRBLTFGRTktNEZBOC05Mzc0LUMxNjREMjhGODM1MSIsIC0tIGJyaWFuCgkJCSI4Mzc3MzZBQS0wMTkyLTQ3RjktOThDNS04REQwREYxOEZFNzQiLCAtLSBqZXQKCQkJIjU1QzIwNDlELUM2QkQtNDUyMy04ODA0LUQ1MzlDMzg3OTJBMyIsIC0tIHBlbnRhcmFjdAoJCQkiOTQ2NEI2OEEtMzYzQy00MUY4LUJCN0QtQjRCRUQ4QUMwOTYzIiwgLS0gdmFzdG9yaW8KCQkJLS0gIjgzMEJENEU5LTVFQkUtNEExMy1CNDdCLTlCRTYwMDgzQjgzNiIsIC0tIGxvbG9rCgkJCS0tICI2M0IzOUUyNy1EQTFCLTQ4MkUtQjI4Qy02QTMzOThDOTVBNEMiLCAtLSBhbGV4CgkJCSI4NDZBNjVFMi1FOTYzLTRBMEEtOTAyNS1FOUI4RTk1ODk2MTMiLCAtLSBicmFtCgkJCSIzRjE2ODQ0MC1BNUMwLTRGNzEtOEU1MS0zRkRGOTAyNUY1MUIiLCAtLSB0b21lawoJCQkiNkE5NzA1MkEtNjM0RS00N0UxLThEOTAtNUVFM0NBNEE5NkZBIiwgLS0gcmF2ZW4KCQkJIkY1OTc1RDdELTJBQzUtNDRBQS04MDFGLTgyNzYyNUQ2RDc2MyIsIC0tIGFsZXhpYQoJCQkiNDgyODcxODItOUU3Ny00Rjk3LUE2NTQtOTcwNjlFRDgxNjZDIiwgLS0gamVzcwoJCQkiNzQ4OUNCQUUtNzk4Ni00NUE5LUJFNDAtQTIxOEVEQ0QwRjAxIiAtLSBjZXBoYXMKCQl9CgoJCWxvY2FsIGFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlCgoJCWZvciBpLCB2IGluIHBhaXJzKGxhZ2dlcnMpIGRvCgkJCXYgPSB2Omxvd2VyKCkKCgkJCWlmICh2ID09IGNsaWVudGlkKSB0aGVuCgkJCQlhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gZ2V0SFJQKGNocikKCQkJbG9jYWwgSFJQID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpCgkJCXJldHVybiBIUlAKCQllbmQKCgkJZnVuY3Rpb24gZ2V0SFVNKGNocikKCQkJbG9jYWwgSFVNID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpCgkJCXJldHVybiBIVU0KCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gcmVzcGF3bihwbHIpCgkJCWxvY2FsIGNociA9IHBsci5DaGFyYWN0ZXIKCgkJCWlmIChjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpKSB0aGVuIGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIik6Q2hhbmdlU3RhdGUoMTUpIGVuZAoJCQljaHI6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQlsb2NhbCBuZXdjaHIgPSBJbnN0YW5jZS5uZXcoIk1vZGVsIikKCQkJbmV3Y2hyLlBhcmVudCA9IHdvcmtzcGFjZQoJCQlwbHIuQ2hhcmFjdGVyID0gbmV3Y2hyCgoJCQl3YWl0KCkKCgkJCXBsci5DaGFyYWN0ZXIgPSBjaHIKCQkJbmV3Y2hyOkRlc3Ryb3koKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiByZWZyZXNoKHBscikKCQkJbG9jYWwgaHVtID0gcGxyLkNoYXJhY3RlciBhbmQgcGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIiwgdHJ1ZSkKCQkJbG9jYWwgcG9zID0gaHVtIGFuZCBodW0uUm9vdFBhcnQgYW5kIGh1bS5Sb290UGFydC5DRnJhbWUKCQkJbG9jYWwgcG9zMSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZQoKCQkJcmVzcGF3bihwbHIpCgoJCQlzcGF3bihmdW5jdGlvbigpCgkJCQlwbHIuQ2hhcmFjdGVyQWRkZWQ6V2FpdCgpOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKS5Sb290UGFydC5DRnJhbWUsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSA9IHBvcywgd2FpdCgpIGFuZCBwb3MxCgkJCWVuZCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gc3BsaXRBcmdzKGNvbW1hbmQpCgkJCWNvbW1hbmQgPSBzdHJpbmcuZ3N1Yihjb21tYW5kLCAiLCIsICIgIikKCQkJY29tbWFuZCA9IHN0cmluZy5zcGxpdChjb21tYW5kLCAiICIpCgoJCQlmb3IgaSwgdiBpbiBpcGFpcnMoY29tbWFuZCkgZG8KCQkJCXYgPSBzdHJpbmcuZ3N1Yih2LCAiJXMrIiwgIiIpCgkJCQlpZiB2ID09ICIiIHRoZW4KCQkJCQl0YWJsZS5yZW1vdmUoY29tbWFuZCwgaSkKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybiBjb21tYW5kCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGZpbmRQbGF5ZXIodGV4dCkKCQkJbG9jYWwgcGxheWVycyA9IGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkKCQkJbG9jYWwgbWF0Y2hlcyA9IHt9CgoJCQlmb3IgaSwgUGxheWVyIGluIGlwYWlycyhwbGF5ZXJzKSBkbwoJCQkJbG9jYWwgbmFtZSA9IFBsYXllci5OYW1lCgkJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpCgkJCQluYW1lID0gc3RyaW5nLmxvd2VyKG5hbWUpCgoJCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZChuYW1lLCB0ZXh0KQoKCQkJCWlmIG1hdGNoIHRoZW4KCQkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpCgkJCQllbmQKCQkJZW5kCgoJCQlyZXR1cm4gbWF0Y2hlcwoJCWVuZAoKCQlsb2NhbCBkcnVnc0VuYWJsZWQgPSBmYWxzZQoJCWxvY2FsIGNvbG9yc0VuYWJsZWQgPSBmYWxzZQoJCWxvY2FsIGJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQoJCWxvY2FsIGNvbG9yRXhjbHVkZSA9IHsiSGVhZCIsIlRvcnNvIiwiTGVmdCBBcm0iLCJMZWZ0IExlZyIsIlJpZ2h0IEFybSIsIlJpZ2h0IExlZyIsIlNoYXJkIiwiRGlhbW9uZCJ9CgoJCS0tW1s5OC8yNTUsIDM3LzI1NSwgMjA5LzI1NV1dCgkJbG9jYWwgY29sb3IxCgkJbG9jYWwgY29sb3IyCgkJbG9jYWwgY29sb3IzCgoJCWxvY2FsIGZ1bmN0aW9uIHRlcm1FQkd1aSgpCgkJCXdhcm4oIkNsb3NpbmcgRUJHdWkgZm9yIGdvb2QuLi4iKQoJCQl3YXJuKCJUd2VlbmluZyBvdXQgVUkgZWxlbWVudHMuLi4iKQoJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLAoJCQkJIkluIiwKCQkJCSJTaW5lIiwKCQkJCS41LAoJCQkJdHJ1ZQoJCQkpCgkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApLAoJCQkJIkluIiwKCQkJCSJTaW5lIiwKCQkJCS41LAoJCQkJdHJ1ZQoJCQkpCgkJCXdhaXQoMSkKCQkJd2FybigiUmVzZXR0aW5nIHRhcmdldC4uLiIpCgkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCXdhcm4oIlVubG9hZGluZyBhbGwgRVNQIGVsZW1lbnRzLi4uIikKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQlwY2FsbChVbmxvYWRQbGF5ZXIsIHYpCgkJCQlwY2FsbChHVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJcGNhbGwoR1VubG9hZFBsYXllciwgdikKCQkJZW5kCgkJCXdhcm4oIkVuc3VyaW5nIEVTUCBlbGVtZW50cyBhcmUgZGlzYWJsZWQuLi4iKQoJCQlFU1BFbmFibGVkID0gZmFsc2UKCQkJR0VTUEVuYWJsZWQgPSBmYWxzZQoJCQl3YXJuKCJSZXNldHRpbmcgaGFjayB2YWx1ZXMuLi4iKQoJCQlmb3IgYSxiIGluIHBhaXJzKG12dGcpIGRvCgkJCQlpZiB0eXBlb2YoYikgPT0gInRhYmxlIiB0aGVuCgkJCQkJZm9yIGMsZCBpbiBwYWlycyhiKSBkbwoJCQkJCQlpZiB0eXBlb2YoZCkgPT0gInRhYmxlIiB0aGVuCgkJCQkJCQlmb3IgZSxmIGluIHBhaXJzKGQpIGRvCgkJCQkJCQkJaWYgZiB0aGVuIGYgPSBmYWxzZSBlbmQJCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJCXdhcm4oIkRlc3Ryb3lpbmcgRUJHdWkgYW5kIGl0cyBjaGlsZHJlbi4uLiIpCgkJCWViZ3VpOkRlc3Ryb3koKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBpbnB1dEJveCgpCgkJCWxvY2FsIHRleHQgPSBjb21tYW5kQm94LlRleHQKCQkJd2FpdCgpCgkJCWNvbW1hbmRCb3guVGV4dCA9ICIiCgoJCQlsb2NhbCBwcmVmaXggPSAiOyIKCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxKSA9PSAocHJlZml4KSB0aGVuCgkJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpCgoJCQkJLS1bW2lmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAicmUiKSB0aGVuCgkJCQkJcmVmcmVzaChwbGF5ZXIpXV0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAidHAiKSB0aGVuCgkJCQkJbG9jYWwgdGVsZXBvcnR0bwoJCQkJCWxvY2FsIHRwbmFtZQoJCQkJCWxvY2FsIHBsYWNlID0gc3RyaW5nLnN1Yih0ZXh0LCA1KQoJCQkJCWxvY2FsIHBsYWNlcyA9IHsKCQkJCQkJNTY2Mzk5MjQ0LAoJCQkJCQkyNTY5NjI1ODA5LAoJCQkJCQk1NzAxNTgwODEsCgkJCQkJCTUzNzYwMDIwNCwKCQkJCQkJNTIwNTY4MjQwLAoJCQkJCQk1NTQ5NTU1NjAsCgkJCQkJCTYwMjA0ODU1MCwKCQkJCQkJNTc1NDU2NjQ2LAoJCQkJCQkxNzEzOTg2MTEyLAoJCQkJCQkxMjQzNjE1NjEyLAoJCQkJCQk2MzgwNjUzMDIsCgkJCQkJCTYzNDI0MDgyNiwKCQkJCQkJNjMzMDQyNzMxCgkJCQkJfQoKCQkJCQlpZiBwbGFjZSA9PSAic3RhbmRhcmRsb3ciIG9yIHBsYWNlID09ICI1NjYzOTkyNDQiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxXQoJCQkJCQl0cG5hbWUgPSAiTG93YmllIFN0YW5kYXJkIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAic3RhbmRhcmQ0MCIgb3IgcGxhY2UgPT0gIjI1Njk2MjU4MDkiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1syXQoJCQkJCQl0cG5hbWUgPSAiU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJsaWdodCIgb3IgcGxhY2UgPT0gIjU3MDE1ODA4MSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzNdCgkJCQkJCXRwbmFtZSA9ICJMaWdodCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImZpcmUiIG9yIHBsYWNlID09ICI1Mzc2MDAyMDQiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s0XQoJCQkJCQl0cG5hbWUgPSAiRmlyZSIKCQkJCQllbHNlaWYgcGxhY2UgPT0gIndhdGVyIiBvciBwbGFjZSA9PSAiNTIwNTY4MjQwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNV0KCQkJCQkJdHBuYW1lID0gIldhdGVyIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiZ3Jhc3MiIG9yIHBsYWNlID09ICI1NTQ5NTU1NjAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s2XQoJCQkJCQl0cG5hbWUgPSAiR3Jhc3MiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJoZWF2ZW4iIG9yIHBsYWNlID09ICI2MDIwNDg1NTAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s3XQoJCQkJCQl0cG5hbWUgPSAiSGVhdmVuIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWluaWxvdmFuaWEiIG9yIHBsYWNlID09ICJzYW5zIiBvciBwbGFjZSA9PSAiNTc1NDU2NjQ2IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOF0KCQkJCQkJdHBuYW1lID0gIk1pbmlsb3ZhbmlhIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiZGVmYXVsdCIgb3IgcGxhY2UgPT0gInRvdXJuYW1lbnQiIG9yIHBsYWNlID09ICIxNzEzOTg2MTEyIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOV0KCQkJCQkJdHBuYW1lID0gIlRvdXJuYW1lbnQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJzdXJ2aXZhbCIgb3IgcGxhY2UgPT0gIjEyNDM2MTU2MTIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMF0KCQkJCQkJdHBuYW1lID0gIlN1cnZpdmFsIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYXN0YW5kYXJkIiBvciBwbGFjZSA9PSAic3RhbmRhcmRtZWdhIiBvciBwbGFjZSA9PSAiNjM4MDY1MzAyIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdCgkJCQkJCXRwbmFtZSA9ICJNZWdhIFN0YW5kYXJkIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWZpcmUiIG9yIHBsYWNlID09ICJmaXJlbWVnYSIgb3IgcGxhY2UgPT0gIjYzNDI0MDgyNiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzExXQoJCQkJCQl0cG5hbWUgPSAiTWVnYSBGaXJlIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWdyYXNzIiBvciBwbGFjZSA9PSAiZ3Jhc3NtZWdhIiBvciBwbGFjZSA9PSAiNjMzMDQyNzMxIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTNdCgkJCQkJCXRwbmFtZSA9ICJNZWdhIEdyYXNzIgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoZSBwbGFjZSB3YXMgaW5jb3JyZWN0bHkgc3BlY2lmaWVkISIKCQkJCQllbmQKCgkJCQkJaWYgdGVsZXBvcnR0byB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUZWxlcG9ydGluZyB0byAiIC4uIHRwbmFtZSAuLiAiISIKCQkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydCh0ZWxlcG9ydHRvKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAiZGVjbHV0dGVyIikgdGhlbgoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQ2hhcmFjdGVyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Cb29rLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5TaG9wLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInJhaW4iKSB0aGVuCgkJCQkJbG9jYWwgY3VycmVudENBTSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhCgkJCQkJbG9jYWwgcmFpblNvdW5kID0gSW5zdGFuY2UubmV3KCJTb3VuZCIpCgkJCQkJcmFpblNvdW5kLkxvb3BlZCA9IHRydWUKCQkJCQlyYWluU291bmQuU291bmRJZCA9ICJyYnhhc3NldGlkOi8vMjgzMTY0NTkzIgoJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxCgkJCQkJcmFpblNvdW5kLlBhcmVudCA9IHdvcmtzcGFjZQoJCQkJCXJhaW5Tb3VuZDpQbGF5KCkKCgkJCQkJbG9jYWwgcmFpblBhcnQgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldygzMDAsIDMwMCwgMzAwKQoJCQkJCXJhaW5QYXJ0LlRyYW5zcGFyZW5jeSA9IDEKCQkJCQlyYWluUGFydC5BbmNob3JlZCA9IHRydWUKCQkJCQlyYWluUGFydC5DYW5Db2xsaWRlID0gZmFsc2UKCgkJCQkJbG9jYWwgcmFpbkVmZmVjdCA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpXYWl0Rm9yQ2hpbGQoIkVmZmVjdHMiKTpXYWl0Rm9yQ2hpbGQoIlJhaW4iKQoJCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlCgkJCQkJcmFpbkVmZmVjdC5QYXJlbnQgPSByYWluUGFydAoKCQkJCQlsb2NhbCBpZ25vcmUgPSB3b3Jrc3BhY2U6V2FpdEZvckNoaWxkKCIuSWdub3JlIikKCQkJCQlyYWluUGFydC5QYXJlbnQgPSBpZ25vcmU6V2FpdEZvckNoaWxkKCIuU2VydmVyRWZmZWN0cyIpCgoJCQkJCWxvY2FsIGZvdiA9IDIgKiBtYXRoLnRhbihtYXRoLnJhZChjdXJyZW50Q0FNLkZpZWxkT2ZWaWV3KSAvIDIpCgkJCQkJbG9jYWwgbmV3UmF5ID0gUmF5Lm5ldwoJCQkJCWxvY2FsIGhlaWdodCA9IFZlY3RvcjMubmV3KDAsIDUwLCAwKQoJCQkJCWxvY2FsIGRlcHRoID0gQ0ZyYW1lLm5ldygwLCBmb3YgKiA1MCwgLTYwKQoKCQkJCQlnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKTpCaW5kVG9SZW5kZXJTdGVwKCJSYWluIiwgRW51bS5SZW5kZXJQcmlvcml0eS5DYW1lcmEuVmFsdWUsIGZ1bmN0aW9uKCkKCQkJCQkJbG9jYWwgcmMgPSB3b3Jrc3BhY2U6RmluZFBhcnRPblJheVdpdGhJZ25vcmVMaXN0KG5ld1JheShjdXJyZW50Q0FNLkNGcmFtZS5wLCBoZWlnaHQpLCB7aWdub3JlfSkKCgkJCQkJCWlmIChyYykgdGhlbgoJCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gZmFsc2UKCQkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAwLjUKCQkJCQkJCXJldHVybgoJCQkJCQllbmQKCgkJCQkJCWxvY2FsIHZpZXdwb3J0ID0gY3VycmVudENBTS5WaWV3cG9ydFNpemUKCQkKCQkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KGZvdiAqIHZpZXdwb3J0LnggLyB2aWV3cG9ydC55ICogNTAsIDAuMiwgMTAwKQoJCQkJCQlyYWluUGFydC5DRnJhbWUgPSBjdXJyZW50Q0FNLkNGcmFtZSAqIGRlcHRoCgkJCgkJCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlCgkJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IHRydWUKCQkKCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDEKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA0KSA9PSAocHJlZml4IC4uICJmaXgiKSB0aGVuCgkJCQkJaWYgcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKSB0aGVuCgkJCQkJCXBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikuVmlzaWJsZSA9IGZhbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGaXhpbmcgdGhlIE1lbnUgR1VJISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEzKSA9PSAocHJlZml4IC4uICJidXR0b25oZWlnaHQiKSB0aGVuCgkJCQkJYnV0dG9uSGVpZ2h0ID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpCgkJCQkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIGJ1dHRvbkhlaWdodCkKCQkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQoKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGhlaWdodCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpIC4uICIhIgoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJ1dHRvbmdhcCIpIHRoZW4KCQkJCQlidXR0b25HYXAgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkKCQkJCQlVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgYnV0dG9uR2FwKQoJCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApCgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gZ2FwIHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkgLi4gIiEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSB0aGVuCgkJCQkJcmVqb2luKCkKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmVqb2luaW5nLi4uIgoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiYXVyYS9vZmYiKSB0aGVuCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikKCgkJCQkJaWYgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKSB0aGVuCgkJCQkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIik6RGVzdHJveSgpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGhhcyBiZWVuIHJlbW92ZWQuIgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgZG9lcyBub3QgZXhpc3QhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTQpID09IChwcmVmaXggLi4gInRhcmdldHNldHRpbmciKSB0aGVuCgkJCQkJdGFyZ2V0U2V0dGluZyA9IHN0cmluZy5zdWIodGV4dCwgMTYpCgoJCQkJCXJlcGVhdAoJCQkJCQlpZiB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIHNlbGVjdCEiCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBjbG9zZXN0ISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gZmFydGhlc3QhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gbG93aHAhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGhpZ2hocCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJjbGljayIgdGhlbgoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xpY2siIGRvCgkJCQkJCQkJbW91c2UuQnV0dG9uMURvd246Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJCQkJCWlmIHRhYmxlLmZpbmQocGxheWVyczpHZXRQbGF5ZXJzKCksbW91c2UuVGFyZ2V0KSB0aGVuCgkJCQkJCQkJCQl0YXJnZXQgPSBtb3VzZS5UYXJnZXQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kKQoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2UKCQkJCQkJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIERpZCB5b3Ugc3BlY2lmeSBzZWxlY3QsIGNsb3Nlc3QsIGZhcnRoZXN0LCBsb3docCwgb3IgaGlnaGhwPyBTZXR0aW5nIGhhcyBiZWVuIHNldCB0byBzZWxlY3QuIgoJCQkJCQllbmQKCQkJCQl1bnRpbCB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiCgoJCQkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJsb29wIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBsb29waW5nID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdGFydGVkIGxvb3BpbmcgYXR0YWNrcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWxvb3BpbmcgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlsb29waW5nID0gbm90IGxvb3BpbmcKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGxvb3BpbmcgYXR0YWNrcyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQl3aGlsZSBsb29waW5nIGRvCgkJCQkJCQlleHBsb2l0KCkKCQkJCQkJCXdhaXQoKQoJCQkJCQllbmQKCQkJCQkJcmV0dXJuCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiZ3JjaGFyZ2UiKSB0aGVuCgkJCQkJR1JDaGFyZ2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDExKSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBHUkNoYXJnZSA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgY2hhcmdlIHRvICIgLi4gR1JDaGFyZ2UgLi4gIiEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJzcGVlZCIpIHRoZW4KCQkJCQlTZXRTcGVlZCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgOCkpCgkJCQkJd2FpdCgpCgkJCQkJaWYgU2V0U3BlZWQgPT0gbmlsIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/IgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIHNwZWVkIHRvICIgLi4gU2V0U3BlZWQgLi4gIiEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMikgPT0gKHByZWZpeCAuLiAic21hcnRhdHRhY2siKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE1KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBTbWFydEF0dGFjayA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJU21hcnRBdHRhY2sgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm93IGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTYpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBTbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCVNtYXJ0QXR0YWNrID0gbm90IFNtYXJ0QXR0YWNrCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZm9yY2VmaWVsZCBkZXRlY3Rpb24gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiZ2FtZWNvbG9yIikgdGhlbgoJCQkJCWlmIG5vdCBnYW1lLkxpZ2h0aW5nOkZpbmRGaXJzdENoaWxkKCJFQkdHdWlDb2xvckNvcnJlY3Rpb24iKSB0aGVuCgkJCQkJCUluc3RhbmNlLm5ldygiQ29sb3JDb3JyZWN0aW9uRWZmZWN0IiwgZ2FtZS5MaWdodGluZykuTmFtZSA9ICJFQkdHdWlDb2xvckNvcnJlY3Rpb24iCgkJCQkJCXdhaXQoKQoJCQkJCWVuZAoKCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNykgPT0gIm5vcm1hbCIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IDAKCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IDAKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJldmVydGluZy4uLiIKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJncmF5c2NhbGUiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0xCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJHcmF5c2NhbGluZy4uLiIKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRodWUiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0yCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgaHVlLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGFsbCIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IC0yCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgYWxsLi4uIgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29sb3IgbW9kZSAob3Igbm9uZSBzcGVjaWZpZWQpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJibGFja2Nhc3QiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gbm90IGJsYWNrY2FzdEVuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGJsYWNrIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJzdHVuIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlzdHVuRW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlzdHVuRW5hYmxlZCA9IG5vdCBzdHVuRW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbwoJCQkJCQkJCWNvbm5lY3Rpb246RGlzYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpFbmFibGUoKQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBzdHVuICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiZHJ1Z3MiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDkpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCWRydWdzRW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgMTApID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWRydWdzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlkcnVnc0VuYWJsZWQgPSBub3QgZHJ1Z3NFbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGRydWcgbW9kZSAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDExKSA9PSAocHJlZml4IC4uICJtYWdpY2NvbG9yIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDEzKQoJCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykKCgkJCQkJaWYgKGFyZ3NbMV0gPT0gInQiKSBvciAoYXJnc1sxXSA9PSAib24iKSB0aGVuCgkJCQkJCWlmIChjb2xvcjEgfj0gbmlsKSBhbmQgKGNvbG9yMiB+PSBuaWwpIGFuZCAoY29sb3IzIH49IG5pbCkgdGhlbgoJCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGVuYWJsZWQhIgoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIllvdSBtdXN0IGhhdmUgY29sb3JzIHNldCB3aXRoIHRoaXMgY29tbWFuZCBiZWZvcmUgdHVybmluZyBpdCBiYWNrIG9uISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIChhcmdzWzFdID09ICJmIikgb3IgKGFyZ3NbMV0gPT0gIm9mZiIpIHRoZW4KCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBkaXNhYmxlZCEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWFyZ3NbMV0gPSB0b251bWJlcihhcmdzWzFdKQoJCQkJCQlhcmdzWzJdID0gdG9udW1iZXIoYXJnc1syXSkKCQkJCQkJYXJnc1szXSA9IHRvbnVtYmVyKGFyZ3NbM10pCgoJCQkJCQlpZiBub3QgYXJnc1szXSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3Ugc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXM/IgoJCQkJCQllbHNlCgkJCQkJCQlpZiAoYXJnc1sxXSB+PSBuaWwpIGFuZCAoYXJnc1syXSB+PSBuaWwpIGFuZCAoYXJnc1szXSB+PSBuaWwpIHRoZW4KCQkJCQkJCQlsb2NhbCBleGVjdXRhYmxlID0gdHJ1ZQoKCQkJCQkJCQlmb3IgaSA9IDEsIDMsIDEgZG8KCQkJCQkJCQkJaWYgKGFyZ3NbaV0gPCAwKSBvciAoYXJnc1tpXSA+IDI1NSkgdGhlbgoJCQkJCQkJCQkJZXhlY3V0YWJsZSA9IGZhbHNlCgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJaWYgZXhlY3V0YWJsZSA9PSB0cnVlIHRoZW4KCQkJCQkJCQkJY29sb3IxID0gYXJnc1sxXQoJCQkJCQkJCQljb2xvcjIgPSBhcmdzWzJdCgkJCQkJCQkJCWNvbG9yMyA9IGFyZ3NbM10KCgkJCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3Igd2FzIHNldCB0byAiIC4uIGNvbG9yMSAuLiAiLCAiIC4uIGNvbG9yMiAuLiAiLCBhbmQgIiAuLiBjb2xvcjMgLi4gIiEiCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFRoZSBudW1iZXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNTUhIgoJCQkJCQkJCWVuZAoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgUGxlYXNlIHVzZSBudW1iZXJzIHRvIHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzLiIKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImNvbG9ycyIpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQoJCQkJCQlzcGF3bihmdW5jdGlvbigpIAoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCXdoaWxlIHRydWUgZG8KCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSkpCgkJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQoJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB0YWJsZS5maW5kKGNvbG9yRXhjbHVkZSwgZC5OYW1lKSB0aGVuIAoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoY29sb3IxLCBjb2xvcjIsIGNvbG9yMykKCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZSBicmVhayBlbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgKGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4KCQkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbgoJCQkJCQkJCQkJCXYuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCWVuZCkKCQkJCQkJZW5kKQoKCQkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCWlmIGQ6SXNBKCJQYXJ0aWNsZUVtaXR0ZXIiKSB0aGVuCQkJCgkJCQkJCQkJCXdoaWxlIHRydWUgZG8KCQkJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuCgkJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKSwKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKQoJCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAiaGVhbCIpIHRoZW4KCQkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCA3KQoJCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykKCgkJCQkJaWYgYXJnc1sxXSB0aGVuCQkJCQoJCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuCgkJCQkJCQlsb2NhbCBoZWFsaW5nUGxheWVyID0gZmluZFBsYXllcihhcmdzWzFdKVsxXQoJCQkJCQkJbG9jYWwgY2hyID0gZ2FtZS5QbGF5ZXJzW2hlYWxpbmdQbGF5ZXJdLkNoYXJhY3RlcgoKCQkJCQkJCWlmIGNociB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkhlYWxpbmcgIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdIC4uICIuLi4iCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIpCgkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCQkJCQlpZiBjaHIgPT0gcGxheWVyLkNoYXJhY3RlciB0aGVuCgkJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBbmdlbCIsIkFuZ2VsaWMgQXVyYSIpCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJlY2hvZXMiKSB0aGVuCQkJCQkKCQkJCQlpZiBzdHJpbmcuZmluZCh0ZXh0LCJwaGFzZSIpIGFuZCBub3Qgc3RyaW5nLmZpbmQodGV4dCwiYXV0byIpIHRoZW4KCQkJCQkJbG9jYWwgcGhhc2UgPSBzdHJpbmcuc3ViKHRleHQsIDE1KQoJCQkJCQlpZiB0b251bWJlcihwaGFzZSkgPT0gbmlsIHRoZW4KCQkJCQkJCWlmIChwaGFzZSA9PSAicG93IikgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBQT1chIgoJCQkJCQkJZWxzZWlmIChwaGFzZSA9PSAiYnJuIikgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBCUk4hIgoJCQkJCQkJZWxzZWlmIChwaGFzZSA9PSAic3RuIikgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMwoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBTVE4hIgoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBTcGVjaWZ5OiBQT1c7IEJSTjsgU1ROLCBvciBudW1iZXIgMS0zLiIKCQkJCQkJCQl3YXJuKCJHb3QgaW52YWxpZCBhcmd1bWVudCBhdCBydW50aW1lISBFeHBlY3RlZCBQT1csIEJSTiwgU1ROLCBvciBudW1iZXIgMS0zLCBnb3QgIi4ucGhhc2UpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbgoJCQkJCQkJaWYgbWF0aC5mbG9vcih0b251bWJlcihwaGFzZSkpID09IDEgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBQT1chIgoJCQkJCQkJZWxzZWlmIG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKSA9PSAyIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDIKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gQlJOISIKCQkJCQkJCWVsc2VpZiBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkgPT0gMyB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAzCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5maW5kKHRleHQsImF1dG8iKSBhbmQgbm90IHN0cmluZy5maW5kKHRleHQsInBoYXNlIikgdGhlbgoJCQkJCQlsb2NhbCBib29sID0gc3RyaW5nLnN1Yih0ZXh0LDE0KQoJCQkJCQlpZiAoYm9vbCA9PSAidCIpIG9yIChib29sID09ICJvbiIpIHRoZW4KCQkJCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgYXV0by10YXJnZXQgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCQllbHNlCgkJCQkJCQkJRWNob2VzQXV0byA9IHRydWUKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVHVybmVkIG9uIEVjaG9lcyBhdXRvLXRhcmdldCEiCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIChib29sID09ICJmIikgb3IgKGJvb2wgPT0gIm9mZiIpIHRoZW4KCQkJCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCQkJCUVjaG9lc0F1dG8gPSBmYWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIEVjaG9lcyBhdXRvLXRhcmdldCEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBhdXRvLXRhcmdldCBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIGJvb2wgPT0gIiIgdGhlbgoJCQkJCQkJbG9jYWwgQXV0bwoJCQkJCQkJRWNob2VzQXV0byA9IG5vdCBFY2hvZXNBdXRvCgkJCQkJCQlpZiBFY2hvZXNBdXRvIHRoZW4KCQkJCQkJCQlBdXRvID0gIm9uIgoJCQkJCQkJZWxzZQoJCQkJCQkJCUF1dG8gPSAib2ZmIgoJCQkJCQkJZW5kCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBFY2hvZXMgYXV0by10YXJnZXQgdG8gIi4uQXV0by4uIiEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBTcGVjaWZ5IHQvZiwgb24vb2ZmLiIKCQkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIHQvZiBvciBvbi9vZmYsIGdvdCAiLi5ib29sKQoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGFyZ3VtZW50ISBTcGVjaWZ5IHBoYXNlIG9yIGF1dG8uIgoJCQkJCQl3YXJuKCJHb3QgaW52YWxpZCBhcmd1bWVudCBhdCBydW50aW1lISBFeHBlY3RlZCBwaGFzZSBvciBhdXRvLCBnb3QgIi4uc3RyaW5nLnN1Yih0ZXh0LDkpKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImNoYW5nZWxvZyIpIHRoZW4KCQkJCQktLSBUYWc6IENITkdMRwoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDb3BpZWQgdGhlIGNoYW5nZWxvZyB0byB5b3VyIGNsaXBib2FyZCEiCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkdVSSNjaGFuZ2Vsb2ciKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAib3JpZ2luIikgdGhlbgoJCQkJCXhwY2FsbChmdW5jdGlvbigpCgkJCQkJCWxvY2FsIG9yaWdpbiA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJCW9yaWdpbi5BbmNob3JlZCA9IHRydWUKCQkJCQkJb3JpZ2luLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl0KCQkJCQkJb3JpZ2luLk5hbWUgPSAiT3JpZ2luIgoJCQkJCQlvcmlnaW4uTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24KCQkJCQkJb3JpZ2luLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiUmVhbGx5IHJlZCIpCgkJCQkJCW9yaWdpbi5TaXplID0gVmVjdG9yMy5uZXcoMC41LCAwLjUsIDAuNSkKCQkJCQkJb3JpZ2luLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKCQkJCQkJd2FybigiTWFkZSBhIGJsb2NrIGF0IHRoZSBvcmlnaW4hIikKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3MhIENoZWNrIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyIKCQkJCQllbmQsIGZ1bmN0aW9uKGUpCgkJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkKCQkJCQkJd2FybigndHJhY2ViYWNrOicsIGRlYnVnLnRyYWNlYmFjaygpKQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9ibG9iL21haW4vRG9jcy5tZCIpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvY3VtZW50YXRpb24gY29waWVkIHRvIGNsaXBib2FyZCEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJpbmZvIikgdGhlbgoJCQkJCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAic3RhdHVzIiB0aGVuCgkJCQkJCXByaW50KCJUaGUgY3VycmVudCBzdGF0dXMgb2YgRUJHdWkgaXMgIiAuLiBzdGF0dXMpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkd1aSBTdGF0dXM6ICIgLi4gc3RhdHVzCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInJlcG8iIG9yIHN0cmluZy5zdWIodGV4dCwgNykgPT0gImdpdGh1YiIgdGhlbgoJCQkJCQlwcmludCgiVGhlIEdpdEh1YiByZXBvc2l0b3J5IGxpbmsgaXMgIiAuLiByZXBvKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1cGRhdGUiKSB0aGVuCgkJCQkJbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL21haW4vYmluL2luZm8ubHVhJykpKCkKCQkJCQlpZiB2ZXJOdW0gPT0gY3VycmVudCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJObyB1cGRhdGUgcmVxdWlyZWQhIgoJCQkJCWVsc2VpZiB2ZXJOdW0gPT0gbGFzdCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJWZXJzaW9uIG91dGRhdGVkISBDdXJyZW50OiAiIC4uIGN1cnJlbnQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJicm8gdXIgb24gYSBkZXYgYnVpbGQgb3Igc20iCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LDEsNSkgPT0gKHByZWZpeC4uImRlc3AiKSB0aGVuCgkJCQkJbG9jYWwgYXJnID0gc3RyaW5nLnN1Yih0ZXh0LDcpCgkJCQkJbG9jYWwgZnVuY3Rpb24gcmVsb2FkRVNQKCkKCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCQkJCQkJCXBjYWxsKExvYWRQbGF5ZXIsIHYpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWlmIEdFU1BFbmFibGVkIHRoZW4KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJCQkJcGNhbGwoR1VubG9hZFBsYXllciwgdikKCQkJCQkJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCQlsb2NhbCBmdW5jdGlvbiBpc251bWJlcihuKQoJCQkJCQlyZXR1cm4gKHR5cGUobikgPT0gIm51bWJlciIpIGFuZCAobWF0aC5mbG9vcihuKSA9PSBuKQoJCQkJCWVuZAoJCQkJCWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCAodG9udW1iZXIoYXJnKSA+PSAxMDAgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAwMDAwKSB0aGVuCgkJCQkJCUVTUEluZm8uTWF4RGlzdCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCw3KSkKCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnLk1heERpc3RhbmNlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCw3KSkKCQkJCQkJcmVsb2FkRVNQKCkKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlNldCBFU1AgTWF4IERpc3RhbmNlIHRvICIgLi4gYXJnCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpIDw9IDEwIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk51bWJlciB0b28gbG93ISBUcnkgc29tZXRoaW5nIGJpZ2dlci4iCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpID49IDEwMDAwMCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJXT0FIIFRIQVQnUyBBIEJJRyBOVU1CRVIuIFVzZSBzb21ldGhpbmcgc21hbGxlciEiCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAidCIgb3IgYXJnID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgRVNQSW5mby5FbmFibGVkIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFU1AgTWF4IERpc3RhbmNlIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlFU1BJbmZvLkVuYWJsZWQgPSB0cnVlCgkJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSBFU1BJbmZvLk1heERpc3QKCQkJCQkJCUVTUEluZm8uR29sZC5OYW1lVGFnLk1heERpc3RhbmNlID0gRVNQSW5mby5NYXhEaXN0CgkJCQkJCQlyZWxvYWRFU1AoKQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvbiBFU1AgTWF4IERpc3RhbmNlISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAiZiIgb3IgYXJnID09ICJvZmYiKSB0aGVuCgkJCQkJCWlmIEVTUEluZm8uRW5hYmxlZCB0aGVuCgkJCQkJCQlFU1BJbmZvLkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnLk1heERpc3RhbmNlID0gMAoJCQkJCQkJRVNQSW5mby5Hb2xkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSAwCgkJCQkJCQlyZWxvYWRFU1AoKQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgRVNQIE1heCBEaXN0YW5jZSEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFU1AgTWF4IERpc3RhbmNlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBhcmd1bWVudCEgRGlkIHlvdSBzcGVjaWZ5IGEgbnVtYmVyPyIKCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZS4gR290ICIgLi4gYXJnIC4uICIsIGV4cGVjdGVkIGJvb2xlYW4gb3IgbnVtYmVyIikKCQkJCQllbmQJCQkJCQkJCQkJCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LDEsOCkgPT0gKHByZWZpeCAuLiAiYW50aWFmayIpIHRoZW4KCQkJCQlpZiBBbnRpQWZrIHRoZW4KCQkJCQkJQW50aUFmayA9IGZhbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIGFudGktYWZrISIKCQkJCQllbHNlCgkJCQkJCUFudGlBZmsgPSB0cnVlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gYW50aS1hZmshIgoJCQkJCQl3YWl0KDEuNSkKCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJZW5kCgkJCQkJCWxvY2FsIHN0b3BwZWRDb3VudCA9IDAKCQkJCQkJcmVwZWF0CgkJCQkJCQlsb2NhbCBpZGxlY29ubmVjdAoJCQkJCQkJaWRsZWNvbm5lY3QgPSBwbGF5ZXIuSWRsZWQ6Y29ubmVjdChmdW5jdGlvbigpCgkJCQkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNsaWNrQnV0dG9uMihWZWN0b3IyLm5ldyhVRGltMi5uZXcoLjUpKSkKCQkJCQkJCQlpZGxlY29ubmVjdDpEaXNjb25uZWN0KCkKCQkJCQkJCWVuZCkKCQkJCQkJCXN0b3BwZWRDb3VudCA9IHN0b3BwZWRDb3VudCArIDEKCQkJCQkJCXByaW50KCJTdG9wcGVkIGlkbGUgZGlzY29ubmVjdCAiLi5zdG9wcGVkQ291bnQuLiIgdGltZShzKS4iKQoJCQkJCQkJd2FpdCgpIAoJCQkJCQl1bnRpbCBBbnRpQWZrID09IGZhbHNlCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29tbWFuZCEgRGlkIHlvdSB0eXBlIGl0IHdyb25nPyIKCQkJCQl3YXJuKCJHb3QgYW4gaW52YWxpZCBjb21tYW5kIGF0IHJ1bnRpbWUuIENvbW1hbmQgcmVjZWl2ZWQgd2FzICIuLnRleHQpCgkJCQllbmQKCgkJCQl3YWl0KDEuNSkKCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQllbmQKCQkJZWxzZQoJCQkJbG9jYWwgbWF0Y2hlcyA9IGZpbmRQbGF5ZXIodGV4dCkKCgkJCQlpZiAjbWF0Y2hlcyA9PSAxIHRoZW4KCQkJCQl0YXJnZXQgPSBtYXRjaGVzWzFdCgkJCQkJaWYgbWF0Y2hlc1sxXSA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIJCQkJCQkKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gbWF0Y2hlc1sxXQoJCQkJCWVuZAoJCQkJCXdhaXQoMSkKCQkJCWVsc2UKCQkJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCQkJCXdhcm4oIlRhcmdldCBub3QgZm91bmQhIERvIG11bHRpcGxlIHBsYXllcnMgaGF2ZSB0aGF0IHNhbWUgc3Vic3RyaW5nIGluIHRoZWlyIG5hbWVzPyIpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgVGFyZ2V0ISBUeXBlIHRoZWlyIG5hbWUgYWdhaW4uIgoJCQkJCXdhaXQoMS41KQoJCQkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpjb25uZWN0KGZ1bmN0aW9uKHBsYXllcikKCQkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4KCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoVGFyZ2V0IGxlZnQhKSIKCQkJZW5kCgkJZW5kKQoKCQljb21tYW5kQm94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKGVudGVyUHJlc3NlZCkKCQkJaWYgZW50ZXJQcmVzc2VkIHRoZW4KCQkJCWlmIGNvbW1hbmRCb3guVGV4dCB+PSAiIiB0aGVuCgkJCQkJaW5wdXRCb3goKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkKCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgKG1hdGguY2VpbCgjYnV0dG9ucyAqIDM3KSAvIDIpIC0gNykKCQllbmQpKQoKCQktLSBFeHBsb2l0cwoKCQlsb2NhbCBmdW5jdGlvbiBmZigpCgkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJaWYgZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCXJldHVybiB0cnVlCgkJCQllbHNlCgkJCQkJcmV0dXJuIGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJcmV0dXJuIGZhbHNlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBleHBsb2l0KCkKCQkJLS0gRXhwbG9pdCBmdW5jdGlvbi4gV2hlbiBDIGlzIHByZXNzZWQgYW5kIG9uZSBvZiB0aGVzZSBhcmUgInRydWUiLCBpdCB3aWxsIGZpcmUgaXQuCgkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcgoJCQlsb2NhbCBEQ00gPSBSU1IuRG9DbGllbnRNYWdpYwoJCQlsb2NhbCBETSA9IFJTUi5Eb01hZ2ljCgoJCQlpZiBtdnRnLkFvRXMuQ2hhb3MuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNoYW9zIiwiU3BhY2UtVGltZSBSdXB0dXJlIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkNoYW9zIiwKCQkJCQlbMl0gPSAiU3BhY2UtVGltZSBSdXB0dXJlIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsNSwwKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlN0b3JtIiwiTGlnaHRuaW5nIEJvbHQiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQm9sdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIk9yaWdpbiJdID0gbW91c2UuSGl0LnAgKyBWZWN0b3IzLm5ldygwLDE1LDApCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuU29sYXIuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvbGFyIiwiVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4iKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJVbm1hdGNoZWQgUG93ZXIgb2YgdGhlIFN1biIsCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsIkxpZ2h0IERpc2MiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIkxpZ2h0IERpc2MiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJQb3NpdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCVJTUi5SZW1vdGVFdmVudDpGaXJlU2VydmVyKCJMaWdodERpc2MyIikKCQkJCXdhaXQoMikKCQkJCVJTUi5SZW1vdGVFdmVudDpGaXJlU2VydmVyKCJMaWdodERpc2NEZWxldGUiKQoJCQllbmQKCgkJCWlmIG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIkV4cGxvc2l2ZSBMZWFwIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkV4cGxvc2lvbiIsCgkJCQkJWzJdID0gIkV4cGxvc2l2ZSBMZWFwIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiTGFzdFBvcyJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24KCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvbGFyIiwgIkR5aW5nIFN0YXIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgRmlzdCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFYXJ0aCIsCgkJCQkJWzJdID0gIlJvY2sgRmlzdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkdyb3VuZGVkIl0gPSB0cnVlCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkxpZ2h0IiwKCQkJCQlbMl0gPSAiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ29vcmRpbmF0ZXMiXSA9IHsKCQkJCQkJCVsxXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs0XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs2XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs3XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs5XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxMF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTFdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzEyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTRdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxNl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTddID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxOV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMjBdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApCgkJCQkJCX0sCgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiUmVhcGVyIiwgIlJlYXBlcidzIFJhZ2UiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiUmVhcGVyIiwKCQkJCQlbMl0gPSAiUmVhcGVyJ3MgUmFnZSIsCgkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQJCQoKCQkJaWYgbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDcmVhdGlvbiIsICJDb250aW51b3VzIFN0cmlrZXMiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiQ3JlYXRpb24iLAoJCQkJCVsyXSA9ICJDb250aW51b3VzIFN0cmlrZXMiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJDRiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQlbIkNoYXJnZSJdID0gIjIiCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiSHlwZXJhbmciLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIiwge2xhc3RNb3VzZVBvc2l0aW9uID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbil9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIsIHtHcm91bmRlZCA9IHRydWV9KQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlNvbGFyLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsIkRvdWJsZSBSYXkiKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwKCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlN0b3JtIiwKCQkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiCgkJCQl9CQkJCgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCQkJCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiRGlyZWN0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCQl9CgkJCQl9CQkJCgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCw1MDAsMCkpCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Bpcml0IiwKCQkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iCgkJCQl9CgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGlyaXQiLAoJCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIsCgkJCQkJWzNdID0gewoJCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuUGxhc21hLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIikKCQkJCURNOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiLCB7TGFzdFBvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikKCQkJCURNOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAxNSwgMCkpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50Iiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikKCQkJCURNOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5Wb2lkLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIiwge3BvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuVGltZS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCURNOkludm9rZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHtsdiA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBjaGFyZ2UgPSBHUkNoYXJnZX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwge3JoaXQgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydCwgbm9ybSA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBycG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5BdXJvcmEuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIikKCQkJCURNOkludm9rZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgYW5kIEVjaG9lc1BoYXNlIH49IG5pbCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU291bmQiLCAiRWNob2VzIikKCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCURNOkludm9rZVNlcnZlcigiU291bmQiLCAiRWNob2VzIiwge0VjaG9lc1BoYXNlLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCQllbHNlCgkJCQkJRE06SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIG1vdXNlLkhpdC5wfSkKCQkJCWVuZAoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIikKCQkJCURNOkludm9rZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5JbGx1c2lvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIikKCQkJCURNOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5EcmFnb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuQWNpZC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQlEQ006RmlyZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siLCB7RGlyZWN0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCBGbG9vciA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZX0pCgkJCQl3YWl0KDE3LjUpCgkJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJZW5kCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iLCB7UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIikKCQkJCURNOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24sIFZlY3RvcjMubmV3KDAsIDAsIDApfSkKCQkJZW5kCgkJZW5kCgoJCS0tW1tsb2NhbCBmdW5jdGlvbiBCZWdpblRyYWNraW5nKCkKCQkJbG9jYWwgYyA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQ3VycmVudENhbWVyYQoJCQlsb2NhbCBoYiA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLkhlYXJ0YmVhdAoJCQlsb2NhbCBtID0gcGxheWVyOkdldE1vdXNlKCkKCQkJbG9jYWwgcCA9IGM6V29ybGRUb1NjcmVlblBvaW50KHBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJaGI6Y29ubmVjdChmdW5jdGlvbihzdGVwKQoJCQkJbW91c2Vtb3ZlYWJzKHAuWCwgKHAuWSArIDI1KSkKCQkJZW5kKQoJCWVuZF1dIC0tIEZvciBBaW1ib3QsIGN1cnJlbnRseSB1bmRlciBkZXZlbG9wbWVudAoKCQktLSBVSVMKCgkJbG9jYWwgVUlTID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikKCQlsb2NhbCB0ZXJtaW5hdGV1aXMgPSBmYWxzZQoJCWxvY2FsIGNvbm5lY3Rpb24KCgkJY29ubmVjdGlvbiA9IFVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQoJCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4KCQkJCWlmIG5vdCBncCB0aGVuCgkJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyCgoJCQkJCWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2tTbGFzaCB0aGVuCgkJCQkJCWNvbW1hbmRCb3g6Q2FwdHVyZUZvY3VzKCkKCQkJCQkJd2FpdCgpCgkJCQkJCWlmIHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCksIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSkgPT0gIlxcIiB0aGVuCgkJCQkJCQljb21tYW5kQm94LlRleHQgPSBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgMSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpIC0gMSkKCQkJCQkJZW5kCgkJCQkJLS1bW2Vsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MIHRoZW4KCQkJCQkJdG9nZ2xlQWltYm90KCldXQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4KCQkJCQkJZXhwbG9pdCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbgoJCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuCgkJCQkJCUFudGlCbGluZEZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4KCQkJCQkJYmVnaW5TcGVlZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbgoJCQkJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkIHRoZW4KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUCB0aGVuCgkJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbgoJCQkJCQkJaWYgZ2FtZS5QbGFjZUlkID09IDU2NjM5OTI0NCBvciBnYW1lLlBsYWNlSWQgPT0gMjU2OTYyNTgwOSB0aGVuCgkJCQkJCQkJbG9jYWwgU2Fuc1BvcyA9IENGcmFtZS5uZXcoLTE2ODUuOTEwNTIsIDIzMC4wMzUxMjYsIC0xODEuNzk4MjY0KQoJCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkKCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IFNhbnNQb3MgKiBTYW5zQW5nbGVzCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZDpDaGFuZ2VTdGF0ZShFbnVtLkh1bWFub2lkU3RhdGVUeXBlLkNsaW1iaW5nKQoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQkJaWYgbm90IEZyZWV6ZUVuYWJsZWQgdGhlbgoJCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5aIHRoZW4KCQkJCQkJYmVnaW5OdWxsaWZ5Rm9yY2VzKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRyB0aGVuCgkJCQkJCUFudGlHcmF2aXR5RnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkogdGhlbgoJCQkJCQlpZiBDbGlja1RQRW5hYmxlZCB0aGVuCgkJCQkJCQljbGlja3RwKG1vdXNlLkhpdCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkYgdGhlbgoJCQkJCQlGcmVlemVGdW5jKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja3F1b3RlIHRoZW4KCQkJCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJCQkJbG9uZ2ZsYXNoKCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlYgdGhlbgoJCQkJCQl2aWV3KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQiB0aGVuCgkJCQkJCXRvZ2dsZUVTUCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLk0gdGhlbgoJCQkJCQl0b2dnbGVFU1BHb2xkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbgoJCQkJCQlpZiBub3QgY2xvc2VkZm9yZXZlciB0aGVuCgkJCQkJCQlpZiBub3QgYnV0dG9uc2RlYm91bmNlIHRoZW4KCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkJCS41LAoJCQkJCQkJCQkJdHJ1ZQoJCQkJCQkJCQkpCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UKCQkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCQkJCQkJCSJJbiIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVuZAoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5SaWdodEJyYWNrZXQgdGhlbgoJCQkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQkJCWlmIGNvbW1hbmRzb3BlbmVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLAoJCQkJCQkJCSJPdXQiLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiSW4iLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KDEpCgkJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJCQkJZWxzZWlmIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLkxlZnQpIGFuZCBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5SaWdodCkgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhhbmtzIGZvciB1c2luZyBFQkd1aSEiCgkJCQkJCXdhaXQoMikKCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSB0cnVlIHRoZW4KCQkJCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCQkJCXRlcm1FQkd1aSgpCgkJCQkJCQljb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCS0tIFNjcmlwdHMgYW5kIEZ1bmN0aW9ucyBFTkQKCgkJLS0gRW50cmFuY2UgQW5pbWF0aW9uCgoJCXdhaXQoMC41KQoKCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJCSJPdXQiLAoJCQkiU2luZSIsCgkJCS41LAoJCQl0cnVlCgkJKQoKCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLAoJCQkiT3V0IiwKCQkJIlNpbmUiLAoJCQkuNSwKCQkJdHJ1ZQoJCSkKCgkJLS0gSW5mbwoKCQlwcmludChbWwoKCQldXSkKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiV2VsY29tZSB0byBFQkd1aSEiCgkJd2FpdCgyKQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCWVuZCwgZnVuY3Rpb24oZSkKCQlsb2NhbCBjcmFzaCA9IHsKCQkJIkknbSBzbywgc28sIHNvIHNvIFNPIHNvcnJ5ISIsCgkJCSJXYXRlciBjb29saW5nPyBJIHByZWZlciBsYXZhIGNvb2xpbmcuIiwKCQkJIllvdXIgRUJHdWkgcmFuIGludG8gYSBwcm9ibGVtIGFuZCBuZWVkcyB0byByZXN0YXJ0LiIsCgkJCSJTVE9QIENvZGU6IDB4REVBREJFRUYiLAoJCQkiSXMgdGhpcyB3aGF0IGRldmVsb3BtZW50IGlzIGxpa2U/IEkgaGF0ZSBpdC4iLAoJCQkiVGhlIFVuc3RvcHBhYmxlIE1hcmNoaW5nIG9GIHRpTWUgdGhhdCBpcyBzbE93bHkgZ3VpZGluZyB1cyBhbGwgdE93YXJkcyBhbiBJbmV2aXRhQmxFIERFQVRILiBUaGF0IHNwZWxscyBcIlR1bSBGTS4gT3dPIE8sIEkgYmUgZGVhdGguXCIiLAoJCQkiSSBndWVzcyB5b3UgY291bGQgY2FsbCBtZSBhbiBcIk9vZXJcIi4iLAoJCQkiRXJyb3IgTWVzc2FnZSEiLAoJCQkiV2hvb3BzLCB3ZSdyZSBsb3cgb24gbWVtb3J5ISBUcnkgcmVtZW1iZXJpbmcgbGF0ZXIuIiwKCQkJIldob29wcywgd2UncmUgbG93IG9uIG1lbWVvcnkuIFRyeSBzZW5kaW5nIFBlcGVzIGxhdGVyLiIsCgkJCSJPa2F5LCB3aG8ga2lsbGVkIHRoZSBjb21wdXRlciBoYW1zdGVycz8iLAoJCQkiQ2FuJ3Qga2VlcCB1cCEgSXMgdGhlIHNjcmlwdCBvdmVybG9hZGVkLCBvciBoYXZlIHlvdSBtZWx0ZWQgeW91ciBDUFU/IiwKCQkJIk9oLCBjb25ncmF0dWxhdGlvbnMsICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgeW91IGJyb2tlIGl0ISIsCgkJCSJJIHN3ZWFyIHRoYXQgd2FzIGludGVudGlvbmFsLiIsCgkJCSJJIHByb21pc2UgaXQgd29uJ3QgaGFwcGVuIGFnYWluLiIsCgkJCSJPa2F5LCBnb25uYSBiZSByZWFsLCBOTyBDTFVFIHdoYXQgd2VudCB3cm9uZyB0aGVyZS4iLAoJCQkiT2gsIG5vLCBuZXZlcm1pbmQsIEkga25vdyBleGFjdGx5IHdoYXQgd2VudCB3cm9uZy4iLAoJCQkiQSBwcmllc3QsIGEgbWluaXN0ZXIsIGFuZCBhIHJhYmJpdCB3YWxrIGludG8gYSBibG9vZCBiYW5rLiIsCgkJCSJUaGUgbnVyc2Ugb24gZHV0eSBhc2tzIHRoZSB0aHJlZSBmb3IgdGhlaXIgYmxvb2QgdHlwZSBncm91cCB0byBnZXQgdGhlbSBzZXQgdXAuIiwKCQkJIlRoZSBwcmllc3QsIGRpZ25pZmllZCwgc2F5cyBcIkknbSBBQiFcIi4iLAoJCQkiVGhlIG1pbmlzdGVyLCBpbmRpZmZlcmVudCwgcmVwbGllcyBcIkkgYmVsaWV2ZSBJJ20gdHlwZSBBLlwiIiwKCQkJIlRoZSByYWJiaXQsIHNoeWx5IGFuZCBuZXJ2b3VzbHksIGxvb2tzIGFyb3VuZCB0aGUgcm9vbSwgYmVmb3JlIGFubm91bmNpbmcsIFwiSSB0aGluayBJIG1pZ2h0IGJlIGEgdHlwZSBPLlwiLiIsCgkJCSJIZXksIHJlbWVtYmVyIHRoYXQgdGltZSB5b3UgKmRpZG4ndCogYnJlYWsgZXZlcnl0aGluZz8gTWUgbmVpdGhlci4iLAoJCQkiT29wcywgbXkgYmFkLiIsCgkJCSJNYXliZSBpZiB5b3UgYm91Z2h0IEdvbGQgdGhpcyB3b3VsZG4ndCBoYXZlIGhhcHBlbmVkLiIsCgkJCSJRdWljaywgdG8gdGhlIERpc2NvcmQhIiwKCQkJIk5vdyB3b3VsZCBiZSBhIGZhbnRhc3RpYyB0aW1lIHRvIGdvIG9wZW4gYSB0aWNrZXQuLi4iLAoJCQkiVGhpcyBpcyB3aGF0IEkgZ2V0PyBJIGRvIGFsbCBvZiB0aGlzIGZvciB5b3UsIGFuZCB5b3Uga2lsbCBtZT8iLAoJCQkiV2hvIHRoZSBoZWxsIHNhaWQgXCJvbWFlIHdhIG1vdSBzaGluZGVydVwiIGF0IG1lPyEiLAoJCQkiWW91J3JlIGx1Y2t5IHRoaXMgaXMgUm9ibG94IG9yIEknZCBoYXZlIHNvbWUgY2hvaWNlIHdvcmRzIGZvciB5b3UuIiwKCQkJIkRpZCB0aGF0IHJlYWxseSBqdXN0IGhhcHBlbj8hIiwKCQkJIkdvZCwgSSdtIHNvIHNvcnJ5LCBJIHByb21pc2UgSSdsbCBkbyBiZXR0ZXIuIiwKCQkJIlRoaXMgaXMgdXN1YWxseSB0aGUgcGFydCB3aGVyZS0gb2gsIHRoZXJlJ3MgdGhhdCBjcmFzaCBkdW1wLiIsCgkJCSJVbmZvcnR1bmF0ZWx5LCBpdCBhcHBlYXJzIEkndmUgZHJvcHBlZCBpdC4iLAoJCQkiV2UncmUgY3VycmVudGx5IGV4cGVyaWVuY2luZyB0ZWNobmljYWwgZGlmZmljdWx0aWVzLiBQbGVhc2Ugc3RhbmQgYnkuIiwKCQkJIlRvbmlnaHQsIHdlIGFyZSB1bmFibGUgdG8gYnJpbmcgeW91IEJpbmdvIE5pZ2h0IExpdmUuIiwKCQkJIllha25vdywgaWYgdGhpcyB3ZXJlIGEgQkJDIHRlbGV2aXNpb24gYnJvYWRjYXN0LCB0aGlzIGlzc3VlIG1pZ2h0IHNlZW0gbm9ybWFsLiIsCgkJCSJJdCdzIGp1c3Qgb25lIG9mIHRob3NlIGRheXMsIGlzbid0IGl0PyIsCgkJCSJKdXN0IHdoYWNrIHRoZSBzaWRlIGEgY291cGxlIHRpbWVzLCB0aGF0IHNob3VsZCBkbyBpdC4iLAoJCQkiT24gdGhlIGZpcnN0IGRheSBvZiBDaHJpc3RtYXMsIG15IHRydWUgbG92ZSBnYXZlIHRvIG1lLi4uIiwKCQl9CgoJCXByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQoJCXByaW50KGNyYXNoW21hdGgucmFuZG9tKDEsI2NyYXNoKV0pCgkJcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCgkJd2FybigiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCBFQkd1aSEiKQoJCXByaW50KGUpCgkJcHJpbnQoIlRoaXMgY3Jhc2ggcmVwb3J0IHdhcyBnZW5lcmF0ZWQgb24gIiAuLiBvcy5kYXRlKCcleCAlWCcsb3MudGltZSgpKSAuLiAiIGFuZCB3aWxsIGJlIHNhdmVkIGluIHlvdXIgZXhlY3V0b3IncyBXb3Jrc3BhY2UgZm9sZGVyLiIpCgoJCWxvY2FsIHVmID0gb3MuZGF0ZSgiJXhfJVgiLG9zLnRpbWUoKSkKCQlsb2NhbCBkZiA9IHN0cmluZy5nc3ViKHVmLCIvIiwiLSIpCgkJbG9jYWwgZHRmID0gc3RyaW5nLmdzdWIoZGYsIjoiLCItIikKCQlsb2NhbCBleGVjID0gaWRlbnRpZnlleGVjdXRvcigpCgoJCWlmIG5vdCBpc2ZvbGRlcigiRUJHdWkiKSB0aGVuIG1ha2Vmb2xkZXIoIkVCR3VpIikgZW5kCgkJd3JpdGVmaWxlKCJFQkd1aVxcQ3Jhc2hEdW1wLSIuLmR0Zi4uIi50eHQiLAoKCQkiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIgLi4gY3Jhc2hbbWF0aC5yYW5kb20oMSwjY3Jhc2gpXSAuLiAiXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4iIC4uCgoJCVtbRUJHdWkgc3RvcHBlZCBleGVjdXRpbmcgYmVjYXVzZSBpdCBlbmNvdW50ZXJlZCBhIHByb2JsZW0gaXQgZGlkbid0IGtub3cgaG93IHRvIGhhbmRsZS4KCQkKUGxlYXNlIHJlcG9ydCB0aGlzIGNyYXNoIGluIHRoZSBEaXNjb3JkIGJ5IGdvaW5nIHRvICNyb2JvdHMtdW5pdGUgYW5kIG9wZW5pbmcgYSB0aWNrZXQuXV0gLi4KCgkJIi0tIEJlZ2luIEVycm9yIFJlcG9ydCAtLVxuKEdlbmVyYXRlZCBvbiAiIC4uIHVmIC4uICIpXG5cbiIgLi4KCgkJIkV4ZWN1dG9yOiAiIC4uIHRvc3RyaW5nKGV4ZWMpIC4uCgkJIlxuQ2xpZW50IElEOiAiIC4uIHRvc3RyaW5nKGNsaWVudGlkKSAuLgoJCSJcblBsYWNlSWQ6ICIgLi4gdG9zdHJpbmcoZ2FtZS5QbGFjZUlkKSAuLgoJCSJcblNtYXJ0QXR0YWNrIEVuYWJsZWQ/OiAiIC4uIHRvc3RyaW5nKFNtYXJ0QXR0YWNrKSAuLgoJCSJcbklzIEdvbGQ/OiAiIC4uIHRvc3RyaW5nKGlzR29sZCkgLi4gCgkJIlxuSXMgTWFzdGVyPzogIiAuLiB0b3N0cmluZyhpc01hc3RlcikgLi4KCgkJIlxuXG5FcnJvcjogIiAuLiBlIC4uCgkJIlxuQXQ6ICIgLi4gZGVidWcudHJhY2ViYWNrKCkgLi4KCgkJIlxuXG4tLSBFbmQgRXJyb3IgUmVwb3J0IC0tIikKCWVuZCkKZW5k"