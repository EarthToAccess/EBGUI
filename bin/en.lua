encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbg0KCWdhbWUuTG9hZGVkOldhaXQoKQ0KZW5kDQoNCmlmIChnYW1lLkNvcmVHdWk6RmluZEZpcnN0Q2hpbGQoImViZ2d1aSIpKSB0aGVuDQoJZ2FtZS5Db3JlR3VpLmViZ2d1aTpEZXN0cm95KCkNCmVuZA0KDQpsb2NhbCBNYXN0ZXJJRExpc3QgPSB7DQoJMzI1NzMzMzQsDQoJMjgyMDc4MzIwNiwNCgkxMzA2MDAzMTAyLA0KCTMzNjIyMDkzMCwNCgkzMDQyNTE4MTUyLA0KCTI2ODU5ODI5NzksDQogICAgMTg3NzI2MzEzMw0KfQ0KDQpsb2NhbCBwbGF5ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXINCmxvY2FsIElEID0gcGxheWVyLlVzZXJJZA0KDQppZiBub3QgRUJHdWlLZXkgdGhlbg0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgWW91IGRvbid0IGhhdmUgdGhlIHVubG9jayBrZXkgaW4geW91ciBzY3JpcHQuICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQ0KZWxzZWlmIEVCR3VpS2V5IH49ICJzY3JpcHRfRWxlbWVudGFsMDgyMDIyXzIyMDUwMyIgdGhlbg0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICBZb3VyIHVubG9jayBrZXkgaXMgaW5jb3JyZWN0LiAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQ0KZWxzZQ0KLS1bW2lmIG5vdCh0YWJsZS5maW5kKE1hc3RlcklETGlzdCwgSUQpKSB0aGVuDQoJaWYgbm90KGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZXJyb3JndWkiKSkgdGhlbg0KCQl3YXJuKCJEaWRuJ3QgZmluZCBFYXJ0aCBpbiB0aGUgc2VydmVyISIpDQoNCgkJbG9jYWwgYmx1ciA9IEluc3RhbmNlLm5ldygiQmx1ckVmZmVjdCIpDQoJCWJsdXIuU2l6ZSA9IDANCgkJYmx1ci5QYXJlbnQgPSBnYW1lOldhaXRGb3JDaGlsZCgiTGlnaHRpbmciKQ0KDQoJCWZvciBpID0gMSwgMjAgZG8NCgkJCWJsdXIuU2l6ZSA9IGkNCgkJCXdhaXQoLjEpDQoJCWVuZA0KDQoJCWxvY2FsIGVycm9yZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQ0KCQllcnJvcmd1aS5OYW1lID0gImVycm9yZ3VpIg0KCQllcnJvcmd1aS5QYXJlbnQgPSBnYW1lOldhaXRGb3JDaGlsZCgiQ29yZUd1aSIpDQoJCWVycm9yZ3VpLlpJbmRleEJlaGF2aW9yID0gRW51bS5aSW5kZXhCZWhhdmlvci5TaWJsaW5nDQoNCgkJbG9jYWwgZXJyb3JsYWJlbCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCgkJZXJyb3JsYWJlbC5OYW1lID0gImVycm9ybGFiZWwiDQoJCWVycm9ybGFiZWwuUGFyZW50ID0gZXJyb3JndWkNCgkJZXJyb3JsYWJlbC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCQllcnJvcmxhYmVsLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQllcnJvcmxhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCQllcnJvcmxhYmVsLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCQllcnJvcmxhYmVsLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC43NSwgMCkNCgkJZXJyb3JsYWJlbC5Gb250ID0gRW51bS5Gb250LlVidW50dQ0KCQllcnJvcmxhYmVsLlRleHQgPSAiIg0KCQllcnJvcmxhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQllcnJvcmxhYmVsLlRleHRTY2FsZWQgPSB0cnVlDQoJCWVycm9ybGFiZWwuVGV4dFNpemUgPSAxNC4wMDANCgkJZXJyb3JsYWJlbC5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC4wMDANCgkJZXJyb3JsYWJlbC5UZXh0V3JhcHBlZCA9IHRydWUNCgkJZXJyb3JsYWJlbC5UZXh0WUFsaWdubWVudCA9IEVudW0uVGV4dFlBbGlnbm1lbnQuVG9wDQoNCgkJbG9jYWwgZXJyb3JmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCQllcnJvcmZyYW1lLk5hbWUgPSAiZXJyb3JmcmFtZSINCgkJZXJyb3JmcmFtZS5QYXJlbnQgPSBlcnJvcmd1aQ0KCQllcnJvcmZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAxKQ0KCQllcnJvcmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQllcnJvcmZyYW1lLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjUwMA0KCQllcnJvcmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMS4yNSwgMCkNCgkJZXJyb3JmcmFtZS5TaXplID0gVURpbTIubmV3KDAuMzAwMDAwMDEyLCAwLCAwLCAxMDcpDQoJCWVycm9yZnJhbWUuWkluZGV4ID0gNQ0KDQoJCWxvY2FsIENsb3NlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCgkJQ2xvc2UuTmFtZSA9ICJDbG9zZSINCgkJQ2xvc2UuUGFyZW50ID0gZXJyb3JmcmFtZQ0KCQlDbG9zZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDEsIDAuNSkNCgkJQ2xvc2UuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDk2LCA5NikNCgkJQ2xvc2UuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJQ2xvc2UuUG9zaXRpb24gPSBVRGltMi5uZXcoMC45NjA0NzY1MTgsIDAsIDAuNDk1NTE4Nzc0LCAwKQ0KCQlDbG9zZS5TaXplID0gVURpbTIubmV3KDAuNDQ5OTk5OTg4LCAwLCAwLjY2Mzk5OTk3NSwgMCkNCgkJQ2xvc2UuRm9udCA9IEVudW0uRm9udC5VYnVudHUNCgkJQ2xvc2UuVGV4dCA9ICJDbG9zZSINCgkJQ2xvc2UuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCUNsb3NlLlRleHRTY2FsZWQgPSB0cnVlDQoJCUNsb3NlLlRleHRTaXplID0gMTQuMDAwDQoJCUNsb3NlLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCQlDbG9zZS5aSW5kZXggPSA2DQoNCgkJQ2xvc2UuTW91c2VCdXR0b24xRG93bjpDb25uZWN0KGZ1bmN0aW9uKCkNCgkJCWVycm9yZnJhbWU6VHdlZW5Qb3NpdGlvbigNCgkJCQlVRGltMi5uZXcoMC41LCAwLCAxLjI1LCAwKSwNCgkJCQkiSW4iLA0KCQkJCSJRdWFkIiwNCgkJCQkxLA0KCQkJCXRydWUNCgkJCSkNCg0KCQkJd2FpdCgxKQ0KDQoJCQlmb3IgaSA9IDIwLCAwLCAtMSBkbw0KCQkJCWVycm9ybGFiZWwuVGV4dFRyYW5zcGFyZW5jeSA9IDEgLSAoaSAvIDIwKQ0KCQkJCWVycm9ybGFiZWwuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDEgLSAoaSAvIDIwKQ0KCQkJCWJsdXIuU2l6ZSA9IGkNCgkJCQl3YWl0KC4xKQ0KCQkJZW5kDQoNCgkJCWJsdXIuU2l6ZSA9IDANCg0KCQkJYmx1cjpEZXN0cm95KCkNCgkJCWVycm9yZ3VpOkRlc3Ryb3koKQ0KCQllbmQpDQoNCgkJZXJyb3JmcmFtZTpUd2VlblBvc2l0aW9uKA0KCQkJVURpbTIubmV3KDAuNSwgMCwgMSwgMCksDQoJCQkiT3V0IiwNCgkJCSJRdWFkIiwNCgkJCTEsDQoJCQl0cnVlDQoJCSkNCg0KCQlsb2NhbCBlcnJvclRleHQgPSAiWW91ciBVc2VyIElEIGlzIG5vdCBpbiB0aGUgd2hpdGVsaXN0LlxuIE9ubHkgRWFydGggYW5kIGZyaWVuZHMgbWF5IHV0aWxpemUgdGhpc1xuIGl0ZXJhdGlvbiBvZiBFQkdHdWkuIFBsZWFzZSByZXN0YXJ0IHlvdXJcbiBSb2Jsb3ggY2xpZW50LCBhbmQgY2hlY2sgeW91ciBsb2dpbi4iDQoNCgkJbG9jYWwgY2xpZW50aWQgPSBnYW1lOkdldFNlcnZpY2UoIlJieEFuYWx5dGljc1NlcnZpY2UiKTpHZXRDbGllbnRJZCgpDQoJCXBjYWxsKGZ1bmN0aW9uKCkgc2V0Y2xpcGJvYXJkKGNsaWVudGlkKSBlbmQpDQoNCgkJZm9yIGkgPSAxLCAjZXJyb3JUZXh0IGRvDQoJCQlsb2NhbCBkaXNwbGF5VGV4dCA9IHN0cmluZy5zdWIoZXJyb3JUZXh0LCAxLCBpKQ0KCQkJZXJyb3JsYWJlbC5UZXh0ID0gZGlzcGxheVRleHQNCgkJCXdhaXQoMC4wNzUpDQoJCWVuZA0KCWVuZA0KZWxzZV1dDQoJLS1nYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuU2VydmVyRWZmZWN0cyddLlJhaW5Qb3NbJzEnXTpEZXN0cm95KCkNCg0KICAgIHdhcm4oW1tfX19fX19fX19fXyBfX19fXyAgICAgICBfIA0KICAgICAgICB8ICBfX198IF9fXyBcICBfXyBcICAgICAoXykNCiAgICAgICAgfCB8X18gfCB8Xy8gLyB8ICBcL18gICBfIF8gDQogICAgICAgIHwgIF9ffHwgX19fIFwgfCBfX3wgfCB8IHwgfA0KICAgICAgICB8IHxfX198IHxfLyAvIHxfXCBcIHxffCB8IHwNCiAgICAgICAgXF9fX18vXF9fX18vIFxfX19fL1xfXyxffF98DQpdXSkNCgl3YXJuKCJXZWxjb21lIHRvIEVCR1VJLCAiIC4uIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIC4uICIhIikNCgl3YXJuKCJFQkdVSSB2MS43IHwgWW91J3JlIG9uIHRoZSBTdGFibGUgYnJhbmNoIG9mIEVCR1VJIikNCgl3YXJuKCJRdWVzdGlvbnMgb3IgY29uY2VybnM/IExldCB1cyBrbm93ISBFbWFpbCBFYXJ0aDsgZWFydGh0b2FjY2Vzc0BnbWFpbC5jb20iKQ0KCXdhaXQoMC41KQ0KCQ0KDQoJLS0gR1VJIEluc3RhbmNlcywgRXZlbnRzIGFuZCBGdW5jdGlvbnMNCg0KCWxvY2FsIGViZ2d1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikNCgllYmdndWkuTmFtZSA9ICJlYmdndWkiDQoJZWJnZ3VpLlBhcmVudCA9IGdhbWU6V2FpdEZvckNoaWxkKCJDb3JlR3VpIikNCg0KCWdhbWUuQ29yZUd1aS5DaGlsZFJlbW92ZWQ6Y29ubmVjdChmdW5jdGlvbihjaGlsZCkNCgkJaWYgY2hpbGQuTmFtZSA9PSAiZWJnZ3VpIiB0aGVuDQoJCQljbG9zZWRmb3JldmVyID0gdHJ1ZQ0KCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlDQoJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlDQoJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlDQoJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlDQoJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlDQoJCQlVSVMgPSBuaWwNCgkJCWJyZWFrYWJsZSA9IHRydWUNCgkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IG5pbA0KCQkJVmluZVRyYXBFbmFibGVkID0gbmlsDQoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gbmlsDQoJCQlMdW1pbm91c0Rpc3BlcnNpb25FbmFibGVkID0gbmlsDQoJCQlMRFJhZGl1cyA9IG5pbA0KCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IG5pbA0KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBuaWwNCgkJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gbmlsDQoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gbmlsDQoJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gbmlsDQoJCQlUaGVXb3JsZEVuYWJsZWQgPSBuaWwNCgkJCVBvbGFyaXNFbmFibGVkID0gbmlsDQoJCQlBbXBsaWZpZWRTT05BUlF1YWtlRW5hYmxlZCA9IG5pbA0KCQkJU1FDaGFyZ2UgPSBuaWwNCgkJCUxhZ1NlcnZlckVuYWJsZWQgPSBuaWwNCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBuaWwNCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gbmlsDQoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBuaWwNCgkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IG5pbA0KCQkJU2V3ZXJCdXJzdEVuYWJsZWQgPSBuaWwNCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gbmlsDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBuaWwNCgkJCVZpcnR1YWxab25lRW5hYmxlZCA9IG5pbA0KCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbA0KCQkJQW50aUxhZ0VuYWJsZWQgPSBuaWwNCgkJCVNwZWVkaGFja0VuYWJsZWQgPSBuaWwNCgkJCUhvbG9iZWFtRW5hYmxlZCA9IG5pbA0KCQkJU2V0U3BlZWQgPSBuaWwNCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gbmlsDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwNCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IG5pbA0KCQkJQ2xpY2tUUEVuYWJsZWQgPSBuaWwNCgkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwNCgkJCVRocnVzdEVuYWJsZWQgPSBuaWwNCgkJCVRocnVzdFBvd2VyID0gbmlsDQoJCQl2aWV3aW5nID0gbmlsDQoJCQlUUFRhcmdldEVuYWJsZWQgPSBuaWwNCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBuaWwNCgkJCUVTUEVuYWJsZWQgPSBuaWwNCgkJCVRQU2hhcmRzRW5hYmxlZCA9IG5pbA0KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBuaWwNCgkJCUZQU0Ryb3BwaW5nID0gbmlsDQoJCQlzYW5zS2lsbGVkID0gIndpcCINCgkJZW5kDQoJZW5kKQ0KDQoJbG9jYWwgbW91c2UgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6R2V0TW91c2UoKQ0KDQoJbG9jYWwgYm9yZGVycyA9IHt9DQoNCglsb2NhbCBidXR0b25zbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWJ1dHRvbnNtYWluLk5hbWUgPSAiYnV0dG9uc21haW4iDQoJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkNCglidXR0b25zbWFpbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC4yMjUsIDApDQoJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGJ1dHRvbnNtYWluKQ0KDQoJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UNCglidXR0b25zb3BlbmVkID0gdHJ1ZQ0KDQoNCgktLWlmIChpbml0aWF0aW9uTW9kZSA9PSAiTW9kZXJuIikgdGhlbg0KCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWNvbW1hbmRzbWFpbi5OYW1lID0gImNvbW1hbmRzbWFpbiINCgljb21tYW5kc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCkNCgljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQ0KCXRhYmxlLmluc2VydChib3JkZXJzLCBjb21tYW5kc21haW4pDQoJLS1lbmQNCg0KCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlDQoJY29tbWFuZHNvcGVuZWQgPSB0cnVlDQoNCgljbG9zZWRmb3JldmVyID0gZmFsc2UNCg0KCWxvY2FsIGZyYW1lcyA9IHt9DQoNCglsb2NhbCBidXR0b25zZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCglidXR0b25zZnJhbWUuTmFtZSA9ICJidXR0b25zZnJhbWUiDQoJYnV0dG9uc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCA5NiwgOTYpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCglidXR0b25zZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCglidXR0b25zZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQ0KCXRhYmxlLmluc2VydChmcmFtZXMsIGJ1dHRvbnNmcmFtZSkNCglidXR0b25zZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCWxvY2FsIGNvbW1hbmRzZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCgljb21tYW5kc2ZyYW1lLk5hbWUgPSAiY29tbWFuZHNmcmFtZSINCgljb21tYW5kc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZHNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgOTYsIDk2KQ0KCWNvbW1hbmRzZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgljb21tYW5kc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCgljb21tYW5kc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCWNvbW1hbmRzZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApDQoJdGFibGUuaW5zZXJ0KGZyYW1lcywgY29tbWFuZHNmcmFtZSkNCgljb21tYW5kc2ZyYW1lLlBhcmVudCA9IGNvbW1hbmRzbWFpbg0KDQoJbG9jYWwgY29tbWFuZEJveCA9IEluc3RhbmNlLm5ldygiVGV4dEJveCIpDQoJY29tbWFuZEJveC5OYW1lID0gImNvbW1hbmRCb3giDQoJY29tbWFuZEJveC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRCb3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1LCA0MCwgNDApDQoJY29tbWFuZEJveC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRCb3guQm9yZGVyU2l6ZVBpeGVsID0gMg0KCWNvbW1hbmRCb3guUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjMsIDApDQoJY29tbWFuZEJveC5TaXplID0gVURpbTIubmV3KDAuODUsIDAsIDAuMjAsIDApDQoJY29tbWFuZEJveC5Gb250ID0gRW51bS5Gb250LlVidW50dQ0KCWNvbW1hbmRCb3guVGV4dCA9ICIiDQoJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgljb21tYW5kQm94LlRleHRTY2FsZWQgPSB0cnVlDQoJY29tbWFuZEJveC5UZXh0U2l6ZSA9IDE0LjAwMA0KCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlDQoJY29tbWFuZEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UNCgljb21tYW5kQm94LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCWxvY2FsIGxhYmVscyA9IHt9DQoNCglsb2NhbCBjb21tYW5kQm94T3V0cHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCWNvbW1hbmRCb3hPdXRwdXQuTmFtZSA9ICJjb21tYW5kQm94T3V0cHV0Ig0KCWNvbW1hbmRCb3hPdXRwdXQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCgljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCWNvbW1hbmRCb3hPdXRwdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjYsIDApDQoJY29tbWFuZEJveE91dHB1dC5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yLCAwKQ0KCWNvbW1hbmRCb3hPdXRwdXQuRm9udCA9IEVudW0uRm9udC5VYnVudHUNCgljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJY29tbWFuZEJveE91dHB1dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgljb21tYW5kQm94T3V0cHV0LlRleHRTY2FsZWQgPSB0cnVlDQoJY29tbWFuZEJveE91dHB1dC5UZXh0U2l6ZSA9IDE0LjAwMA0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgY29tbWFuZEJveE91dHB1dCkNCgljb21tYW5kQm94T3V0cHV0LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCWxvY2FsIERldGFpbHMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlscy5OYW1lID0gIkRldGFpbHMiDQoJRGV0YWlscy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglEZXRhaWxzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDE0MTQxNDE0MywgMCkNCglEZXRhaWxzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkNCglEZXRhaWxzLkZvbnQgPSBFbnVtLkZvbnQuVWJ1bnR1DQoJRGV0YWlscy5UZXh0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgLi4gIiB8IEVCR1VJIHwgU3RhYmxlIg0KCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlscy5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHMuWkluZGV4ID0gNQ0KCURldGFpbHMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMpDQoJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCWxvY2FsIERldGFpbHMyID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMyLk5hbWUgPSAiRGV0YWlsczIiDQoJRGV0YWlsczIuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCglEZXRhaWxzMi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglEZXRhaWxzMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzMi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCURldGFpbHMyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC45LCAwKQ0KCURldGFpbHMyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkNCglEZXRhaWxzMi5Gb250ID0gRW51bS5Gb250LlVidW50dQ0KCURldGFpbHMyLlRleHQgPSAiUHJlc3MgXSB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iDQoJRGV0YWlsczIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczIuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzMi5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHMyLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMyKQ0KCURldGFpbHMyLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMzLk5hbWUgPSAiRGV0YWlsczMiDQoJRGV0YWlsczMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlsczMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzMy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjg3NSwgMCkNCglEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlsczMuRm9udCA9IEVudW0uRm9udC5VYnVudHUNCglEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIg0KCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykNCglEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCWxvY2FsIERldGFpbHM0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHM0Lk5hbWUgPSAiRGV0YWlsczQiDQoJRGV0YWlsczQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlsczQuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzNC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAxLjEsIDApDQoJRGV0YWlsczQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE3NSwgMCkNCglEZXRhaWxzNC5Gb250ID0gRW51bS5Gb250LlVidW50dQ0KCURldGFpbHM0LlRleHQgPSAiSG9sZCBMZWZ0IGFuZCBSaWdodCwgdGhlbiBwcmVzcyBhbnl0aGluZyB0byB0ZXJtaW5hdGUgdGhlIHNjcmlwdCBhbmQgR1VJcy4iDQoJRGV0YWlsczQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJRGV0YWlsczQuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzNC5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHM0LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCURldGFpbHM0LlBhcmVudCA9IGJ1dHRvbnNmcmFtZQ0KDQoJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglWZXJzaW9uLk5hbWUgPSAiVmVyc2lvbiINCglWZXJzaW9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJVmVyc2lvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCVZlcnNpb24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wNSwgMCkNCglWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQ0KCVZlcnNpb24uRm9udCA9IEVudW0uRm9udC5VYnVudHUNCglWZXJzaW9uLlRleHQgPSAiVmVyc2lvbiB2MS43Ig0KCVZlcnNpb24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJVmVyc2lvbi5UZXh0U2NhbGVkID0gdHJ1ZQ0KCVZlcnNpb24uVGV4dFNpemUgPSAxNC4wMDANCglWZXJzaW9uLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIFZlcnNpb24pDQoJVmVyc2lvbi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCglsb2NhbCBtYWluZnJhbWUgPSBJbnN0YW5jZS5uZXcoIlNjcm9sbGluZ0ZyYW1lIikNCgltYWluZnJhbWUuTmFtZSA9ICJtYWluZnJhbWUiDQoJbWFpbmZyYW1lLkFjdGl2ZSA9IHRydWUNCgltYWluZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLCA0MCwgNDApDQoJbWFpbmZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJbWFpbmZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCgltYWluZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJbWFpbmZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJbWFpbmZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC44Njc3Njg1ODYsIDAsIDAuNiwgMCkNCgltYWluZnJhbWUuU2Nyb2xsQmFyVGhpY2tuZXNzID0gNg0KCW1haW5mcmFtZS5QYXJlbnQgPSBidXR0b25zbWFpbg0KDQoJbG9jYWwgVUlHcmlkTGF5b3V0ID0gSW5zdGFuY2UubmV3KCJVSUdyaWRMYXlvdXQiKQ0KCVVJR3JpZExheW91dC5GaWxsRGlyZWN0aW9uID0gRW51bS5GaWxsRGlyZWN0aW9uLkhvcml6b250YWwNCglVSUdyaWRMYXlvdXQuSG9yaXpvbnRhbEFsaWdubWVudCA9IEVudW0uSG9yaXpvbnRhbEFsaWdubWVudC5DZW50ZXINCglVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgNykNCglVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgMzApDQoJVUlHcmlkTGF5b3V0LlNvcnRPcmRlciA9IEVudW0uU29ydE9yZGVyLkxheW91dE9yZGVyDQoJVUlHcmlkTGF5b3V0LlBhcmVudCA9IG1haW5mcmFtZQ0KDQoJbG9jYWwgYnV0dG9ucyA9IHt9DQoNCgktLSBJbnN0YW50IEJsYXplIENvbHVtbg0KDQoJbG9jYWwgQmxhemVDb2x1bW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUJsYXplQ29sdW1uLk5hbWUgPSAiQmxhemVDb2x1bW4iDQoJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmxhemVDb2x1bW4pDQoNCglCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQ0KDQoJQmxhemVDb2x1bW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQmxhemVDb2x1bW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IHRydWUNCgkJCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9OKSINCgkJZWxzZQ0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gZmFsc2UNCgkJCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluZmluaXRlIEZsYW1lIEJvZHkNCg0KCWxvY2FsIEZsYW1lQm9keSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRmxhbWVCb2R5Lk5hbWUgPSAiRmxhbWVCb2R5Ig0KCUZsYW1lQm9keS5UZXh0ID0gIkluZmluaXRlIEZsYW1lIEJvZHkiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZsYW1lQm9keSkNCg0KCUZsYW1lQm9keS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJCb2R5IENvbG9ycyIpIHRoZW4NCgkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXJbIkJvZHkgQ29sb3JzIl06RGVzdHJveSgpDQoJCWVuZA0KCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJGaXJlIiwgIkZsYW1lIEJvZHkiKQ0KCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkZpcmUiLCAiRmxhbWUgQm9keSIpDQoJZW5kKQ0KDQoJLS0gSGlkZSBGbGFtZXMNCg0KCWxvY2FsIEhpZGVGbGFtZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUhpZGVGbGFtZXMuTmFtZSA9ICJIaWRlRmxhbWVzIg0KCUhpZGVGbGFtZXMuVGV4dCA9ICJIaWRlIEZsYW1lcyINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSGlkZUZsYW1lcykNCg0KCUhpZGVGbGFtZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2Lk5hbWUgPT0gIkZpcmUiIHRoZW4NCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEludmlzaWJsZSBJbmZpbml0ZSBGbGFtZSBCb2R5DQoNCglsb2NhbCBJbnZpc2libGVGbGFtZUJvZHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUludmlzaWJsZUZsYW1lQm9keS5OYW1lID0gIkludmlzaWJsZUZsYW1lQm9keSINCglJbnZpc2libGVGbGFtZUJvZHkuVGV4dCA9ICJJbnZpc2libGUgSW5maW5pdGUgRmxhbWUgQm9keSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSW52aXNpYmxlRmxhbWVCb2R5KQ0KDQoJSW52aXNpYmxlRmxhbWVCb2R5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbg0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkNCgkJZW5kDQoJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiRmxhbWUgQm9keSIpDQoJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRmlyZSIsICJGbGFtZSBCb2R5IikNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2Lk5hbWUgPT0gIkZpcmUiIHRoZW4NCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluZmluaXRlIFJvY2sgQXJtb3INCg0KCWxvY2FsIFJvY2tBcm1vciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIg0KCVJvY2tBcm1vci5UZXh0ID0gIkluZmluaXRlIFJvY2sgQXJtb3IiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikNCg0KCVJvY2tBcm1vci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJCb2R5IENvbG9ycyIpIHRoZW4NCgkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXJbIkJvZHkgQ29sb3JzIl06RGVzdHJveSgpDQoJCWVuZA0KCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikNCgkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikNCgllbmQpDQoNCgktLSBJbnN0YW50IFZpbmUgVHJhcA0KDQoJbG9jYWwgVmluZVRyYXAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpbmVUcmFwLk5hbWUgPSAiVmluZVRyYXAiDQoJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmluZVRyYXApDQoNCglWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQ0KDQoJVmluZVRyYXAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVmluZVRyYXBFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpbmVUcmFwRW5hYmxlZCA9IHRydWUNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9OKSINCgkJZWxzZQ0KCQkJVmluZVRyYXBFbmFibGVkID0gZmFsc2UNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgUGxhc21hIEltcGxvc2lvbg0KDQoJbG9jYWwgUGxhc21hSW1wbG9zaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglQbGFzbWFJbXBsb3Npb24uTmFtZSA9ICJQbGFzbWFJbXBsb3Npb24iDQoJUGxhc21hSW1wbG9zaW9uLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBQbGFzbWFJbXBsb3Npb24pDQoNCglQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UNCg0KCVBsYXNtYUltcGxvc2lvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSB0cnVlDQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9OKSINCgkJZWxzZQ0KCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFtcGxpZmllZCBMdW1pbm91cyBEaXNwZXJzaW9uIEhhY2sNCg0KCWxvY2FsIEx1bWlub3VzRGlzcGVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTHVtaW5vdXNEaXNwZXJzaW9uLk5hbWUgPSAiTHVtaW5vdXNEaXNwZXJzaW9uIg0KCUx1bWlub3VzRGlzcGVyc2lvbi5UZXh0ID0gIkFtcGxpZmllZCBMdW1pbm91cyBEaXNwZXJzaW9uIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEx1bWlub3VzRGlzcGVyc2lvbikNCg0KCWxvY2FsIEx1bWlub3VzRGlzcGVyc2lvbkVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIExEUmFkaXVzID0gMzAgLS0gMjUwMDANCg0KCUx1bWlub3VzRGlzcGVyc2lvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBMdW1pbm91c0Rpc3BlcnNpb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUx1bWlub3VzRGlzcGVyc2lvbkVuYWJsZWQgPSB0cnVlDQoJCQlMdW1pbm91c0Rpc3BlcnNpb24uVGV4dCA9ICJBbXBsaWZpZWQgTHVtaW5vdXMgRGlzcGVyc2lvbiBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUx1bWlub3VzRGlzcGVyc2lvbkVuYWJsZWQgPSBmYWxzZQ0KCQkJTHVtaW5vdXNEaXNwZXJzaW9uLlRleHQgPSAiQW1wbGlmaWVkIEx1bWlub3VzIERpc3BlcnNpb24gSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQ3J5c3RhbCBBcm1hbWVudCBIYWNrDQoNCglsb2NhbCBDcnlzdGFsQXJtYW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUNyeXN0YWxBcm1hbWVudC5OYW1lID0gIkNyeXN0YWxBcm1hbWVudCINCglDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJDcnlzdGFsIEFybWFtZW50IEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENyeXN0YWxBcm1hbWVudCkNCg0KCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQ0KDQoJQ3J5c3RhbEFybWFtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IHRydWUNCgkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkNyeXN0YWwgQXJtYW1lbnQgSGFjayAoT04pIg0KCQllbHNlDQoJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UNCgkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkNyeXN0YWwgQXJtYW1lbnQgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU3BlY3RyYWwgRW1ib2RpbWVudA0KDQoJbG9jYWwgU3BlY3RyYWxFbWJvZGltZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTcGVjdHJhbEVtYm9kaW1lbnQuTmFtZSA9ICJTcGVjdHJhbEVtYm9kaW1lbnQiDQoJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPRkYpIFtYXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlY3RyYWxFbWJvZGltZW50KQ0KDQoJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlDQoNCglTcGVjdHJhbEVtYm9kaW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gdHJ1ZQ0KCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPTikgW1hdIg0KCQllbHNlDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UNCgkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT0ZGKSBbWF0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEdyYXZpdGFsIEdsb2JlIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIg0KCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQ0KDQoJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQ0KDQoJR3Jhdml0YWxHbG9iZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IHRydWUNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGF0aW9uYWxGaWVsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJR3Jhdml0YXRpb25hbEZpZWxkLk5hbWUgPSAiR3Jhdml0YXRpb25hbEZpZWxkIg0KCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQ0KDQoJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IGZhbHNlDQoNCglHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gdHJ1ZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBbWF1cm90aWMgTGFtYmVudCBIYWNrDQoNCglsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCINCglBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkNCg0KCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gZmFsc2UNCg0KCUFtYXVyb3RpY0xhbWJlbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSB0cnVlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT04pIg0KCQllbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrDQoNCglsb2NhbCBBYmxhemVKdWRnZW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFibGF6ZUp1ZGdlbWVudC5OYW1lID0gIkFibGF6ZUp1ZGdlbWVudCINCglBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFibGF6ZUp1ZGdlbWVudCkNCg0KCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gZmFsc2UNCg0KCUFibGF6ZUp1ZGdlbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IHRydWUNCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT04pIg0KCQllbHNlDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZvaWQgT3BlbmluZyBIYWNrDQoNCglsb2NhbCBWb2lkT3BlbmluZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVm9pZE9wZW5pbmcuTmFtZSA9ICJWb2lkT3BlbmluZyINCglWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWb2lkT3BlbmluZykNCg0KCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQ0KDQoJVm9pZE9wZW5pbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT04pIg0KCQllbHNlDQoJCQlWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gZmFsc2UNCgkJCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgU2tlbGV0b24gR3JhYg0KDQoJbG9jYWwgU2tlbGV0b25HcmFiID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTa2VsZXRvbkdyYWIuTmFtZSA9ICJTa2VsZXRvbkdyYWIiDQoJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPRkYpIFtBSU1FRF0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNrZWxldG9uR3JhYikNCg0KCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBmYWxzZQ0KDQoJU2tlbGV0b25HcmFiLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNrZWxldG9uR3JhYkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IHRydWUNCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT04pIFtBSU1FRF0iDQoJCWVsc2UNCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBmYWxzZQ0KCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPRkYpIFtBSU1FRF0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEhvbG9iZWFtIENhbWVyYSBBdHRhY2gNCg0KCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIg0KCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSG9sb2JlYW0pDQoNCglIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKHYpDQoJCWlmICh2IH49IG5pbCkgdGhlbg0KCQkJaWYgbm90KHZpZXdpbmcpIGFuZCAodi5OYW1lID09ICJIb2xvYmVhbSIpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ11bdi5OYW1lXQ0KCQkJZWxzZQ0KCQkJCXY6RGVzdHJveSgpDQoJCQkJcmV0dXJuDQoJCQllbmQNCgkJCQ0KCQkJdi5UcmFuc3BhcmVuY3kgPSAwDQoNCgkJCXdhaXQoNCkNCgkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCWVuZA0KCQkJDQoJCQl2OkRlc3Ryb3koKQ0KCQllbmQNCgllbmQNCgkNCglnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCWlmIEhvbG9iZWFtRW5hYmxlZCB0aGVuDQoJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kIChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSB0aGVuDQoJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdi5Qb3NpdGlvbikuTWFnbml0dWRlDQoJCQkJDQoJCQkJaWYgKHYuU2l6ZSA9PSBWZWN0b3IzLm5ldyg1LCA1LCA1KSkgYW5kIChkaXN0YW5jZSA8IDEwKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4NCgkJCQkNCgkJCQkJdi5OYW1lID0gIkhvbG9iZWFtIg0KCQkJCQ0KCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKSANCgkJCQkJCQlhdHRhY2hDYW1lcmEodikgDQoJCQkJCQllbmQpKQ0KCQkJCQllbmQpDQoJCQkJCQ0KCQkJCQlsb2NhbCBndWkgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyDQoJCQkJCQ0KCQkJCQl3YWl0KDAuNSkNCgkJCQkJDQoJCQkJCXdoaWxlIHdhaXQoKSBkbw0KCQkJCQkJaWYgbm90KGd1aVsnMSddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWycyJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzMnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNCddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc1J10uQ0QuVGV4dCA9PSAiLi4uIikgdGhlbg0KCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbg0KCQkJCQkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQkJCQkJCWVuZA0KCQkJDQoJCQkJCQkJCXY6RGVzdHJveSgpDQoJCQkJCQkJZW5kKQ0KCQkJCQkJCQ0KCQkJCQkJCWJyZWFrDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgSG9sb2JlYW1FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUhvbG9iZWFtRW5hYmxlZCA9IHRydWUNCgkJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT04pIg0KCQkJDQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbiB2OkRlc3Ryb3koKSBlbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQ0KCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBbXBsaWZpZWQgR2VuZXNpcyBSYXkNCg0KCWxvY2FsIEdlbmVzaXNSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdlbmVzaXNSYXkuTmFtZSA9ICJHZW5lc2lzUmF5Ig0KCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdlbmVzaXNSYXkpDQoNCglsb2NhbCBHZW5lc2lzUmF5RW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgR1JDaGFyZ2UgPSAxIC0tIDEwMDAwMDANCg0KCUdlbmVzaXNSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR2VuZXNpc1JheUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJR2VuZXNpc1JheUVuYWJsZWQgPSB0cnVlDQoJCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPTikiDQoJCWVsc2UNCgkJCUdlbmVzaXNSYXlFbmFibGVkID0gZmFsc2UNCgkJCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFRoZSBXb3JsZCBIYWNrDQoNCglsb2NhbCBUaGVXb3JsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVGhlV29ybGQuTmFtZSA9ICJUaGVXb3JsZCINCglUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUaGVXb3JsZCkNCg0KCVRoZVdvcmxkRW5hYmxlZCA9IGZhbHNlDQoNCglUaGVXb3JsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBUaGVXb3JsZEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVGhlV29ybGRFbmFibGVkID0gdHJ1ZQ0KCQkJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT04pIg0KCQllbHNlDQoJCQlUaGVXb3JsZEVuYWJsZWQgPSBmYWxzZQ0KCQkJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gUG9sYXJpcyBIYWNrDQoNCglsb2NhbCBQb2xhcmlzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglQb2xhcmlzLk5hbWUgPSAiUG9sYXJpcyINCglQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBQb2xhcmlzKQ0KDQoJUG9sYXJpc0VuYWJsZWQgPSBmYWxzZQ0KDQoJUG9sYXJpcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBQb2xhcmlzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlQb2xhcmlzRW5hYmxlZCA9IHRydWUNCgkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJUG9sYXJpc0VuYWJsZWQgPSBmYWxzZQ0KCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU2hhcmQgQ29sb3JzDQoNCglsb2NhbCBSYW5kb21Db2xvcnMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyINCglSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBSYW5kb21Db2xvcnMpDQoNCglsb2NhbCBDb2xvcnNMaXN0ID0geyJSZWFsbHkgcmVkIiwgIlJlYWxseSBibHVlIiwgIk5ldyBZZWxsZXIiLCAiSG90IHBpbmsiLCAiUm95YWwgcHVycGxlIiwgIkxpbWUgZ3JlZW4iLCAiRGVlcCBvcmFuZ2UiLCAiVG9vdGhwYXN0ZSIsICJJbnN0aXR1dGlvbmFsIHdoaXRlIn0NCglsb2NhbCBTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBmdW5jdGlvbiBzaGFyZFJhbmRvbWl6ZXIoKQ0KCQlmb3IgaSwgY2hpbGQgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgbm90IGNoaWxkLk5hbWUgPT0gIlNoYXJkIiB0aGVuIHByaW50KCJDaGlsZCBub3QgYSBTaGFyZCIpDQoJCQllbHNlaWYgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIGFuZCBub3QgY2hpbGQ6RmluZEZpcnN0Q2hpbGQoIkNDQm9vbCIpIHRoZW4NCgkJCQl4cGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQljaGlsZC5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkNCgkJCQllbmQsIGZ1bmN0aW9uKGUpDQoJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkNCgkJCQkJd2FybigiW3RyYWNlYmFja10gIiwgZGVidWcudHJhY2ViYWNrKCkpDQoJCQkJZW5kKQ0KCQkJCWxvY2FsIENDQm9vbCA9IEluc3RhbmNlLm5ldygiQm9vbFZhbHVlIikNCgkJCQlDQ0Jvb2wuTmFtZSA9ICJDQ0Jvb2wiDQoJCQkJQ0NCb29sLlBhcmVudCA9IGNoaWxkDQoJCQkJQ0NCb29sLlZhbHVlID0gdHJ1ZQ0KCQkJZWxzZWlmIGNoaWxkLk5hbWUgPT0gIlNoYXJkIiBhbmQgY2hpbGQ6RmluZEZpcnN0Q2hpbGQoIkNDQm9vbCIpLlZhbHVlIHRoZW4gZW5kDQoJCWVuZA0KCWVuZA0KDQoJUmFuZG9tQ29sb3JzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNoYXJkQ29sb3JFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNoYXJkQ29sb3JFbmFibGVkID0gdHJ1ZQ0KCQkJcHJpbnQoIlR1cm5lZCBvbiBSYW5kb20gU2hhcmQgQ29sb3JzIikNCgkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9OKSINCgkJCXdoaWxlIFNoYXJkQ29sb3JFbmFibGVkIGRvDQoJCQkJc2hhcmRSYW5kb21pemVyKCkNCgkJCQl3YWl0KDEpDQoJCQllbmQNCgkJZWxzZQ0KCQkJU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQ0KCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT0ZGKSINCgkJZW5kCQ0KCWVuZCkNCg0KCS0tIENvbnRyb2xsZWQgRWNob2VzDQoNCglsb2NhbCBFY2hvZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUVjaG9lcy5OYW1lID0gIkVjaG9lcyINCglFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRWNob2VzKQ0KDQoJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCUVjaG9lc1BoYXNlID0gMQ0KDQoJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gdHJ1ZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9OKSINCgkJZWxzZQ0KCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbg0KDQoJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iDQoJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTaGF0dGVyaW5nRXJ1cHRpb24pDQoNCglTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gZmFsc2UNCg0KCVNoYXR0ZXJpbmdFcnVwdGlvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSB0cnVlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9OKSINCgkJZWxzZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sNCg0KCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIg0KCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbGx1c2l2ZUF0YWtlKQ0KDQoJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBmYWxzZQ0KDQoJSWxsdXNpdmVBdGFrZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IHRydWUNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gZmFsc2UNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBFdGhlcmVhbCBBY3VtZW4gSGFjaw0KDQoJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUV0aGVyZWFsQWN1bWVuLk5hbWUgPSAiRXRoZXJlYWxBY3VtZW4iDQoJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXRoZXJlYWxBY3VtZW4pDQoNCglFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQ0KDQoJRXRoZXJlYWxBY3VtZW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgRXRoZXJlYWxBY3VtZW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IHRydWUNCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gZmFsc2UNCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEZvcm1pZGFibGUgUm9hciBIYWNrDQoNCglsb2NhbCBGb3JtaWRhYmxlUm9hciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRm9ybWlkYWJsZVJvYXIuTmFtZSA9ICJGb3JtaWRhYmxlUm9hciINCglGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikNCg0KCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlDQoNCglGb3JtaWRhYmxlUm9hci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gdHJ1ZQ0KCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT04pIg0KCQllbHNlDQoJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSBmYWxzZQ0KCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVG94aWMgQmFzaWxpc2sgSGFjaw0KDQoJbG9jYWwgVG94aWNCYXNpbGlzayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVG94aWNCYXNpbGlzay5OYW1lID0gIlRveGljQmFzaWxpc2siDQoJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spDQoNCglUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlDQoNCglUb3hpY0Jhc2lsaXNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRveGljQmFzaWxpc2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gdHJ1ZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFyY2FuZSBHdWFyZGlhbiBIYWNrDQoNCglsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiINCglBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBcmNhbmVHdWFyZGlhbikNCg0KCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IGZhbHNlDQoNCglBcmNhbmVHdWFyZGlhbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gdHJ1ZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT04pIg0KCQllbHNlDQoJCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sNCg0KCWxvY2FsIFNwbGl0dGluZ1NsaW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTcGxpdHRpbmdTbGltZS5OYW1lID0gIlNwbGl0dGluZ1NsaW1lIg0KCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwbGl0dGluZ1NsaW1lKQ0KDQoJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UNCg0KCVNwbGl0dGluZ1NsaW1lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSB0cnVlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPTikiDQoJCWVsc2UNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWaXJ0dWFsIFpvbmUgSGFjaw0KDQoJbG9jYWwgVmlydHVhbFpvbmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpcnR1YWxab25lLk5hbWUgPSAiVmlydHVhbFpvbmUiDQoJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlydHVhbFpvbmUpDQoNCglWaXJ0dWFsWm9uZUVuYWJsZWQgPSBmYWxzZQ0KDQoJVmlydHVhbFpvbmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVmlydHVhbFpvbmVFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpcnR1YWxab25lRW5hYmxlZCA9IHRydWUNCgkJCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gZmFsc2UNCgkJCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFudGktQmxpbmQNCg0KCWxvY2FsIEFudGlCbGluZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIg0KCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9GRikgW0tdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpQmxpbmQpDQoNCglBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIG5vcm1hbEZvZ0NvbG9yID0gZ2FtZS5MaWdodGluZy5Gb2dDb2xvcg0KCWxvY2FsIG5vcm1hbEZvZ0VuZCA9IGdhbWUuTGlnaHRpbmcuRm9nRW5kDQoJbG9jYWwgbm9ybWFsQnJpZ2h0bmVzcyA9IGdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcw0KCWxvY2FsIG5vcm1hbENsb2NrVGltZSA9IGdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lDQoNCglsb2NhbCBmdW5jdGlvbiBBbnRpQmxpbmRGdW5jKCkNCgkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpQmxpbmRFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT04pIFtLXSINCgkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yID0gbm9ybWFsRm9nQ29sb3INCgkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZA0KCQkJCWdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcyA9IG5vcm1hbEJyaWdodG5lc3MNCgkJCQlnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZSA9IG5vcm1hbENsb2NrVGltZQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT0ZGKSBbS10iDQoJCWVuZA0KCWVuZA0KDQoJQW50aUJsaW5kLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpQmxpbmRGdW5jKQ0KDQoJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkNCgkJaWYgQW50aUJsaW5kRW5hYmxlZCB0aGVuDQoJCQlpZiBkLk5hbWUgPT0gIlNjcmVlbkd1aSIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuU2NyZWVuR3VpOkRlc3Ryb3koKQ0KCQkJZWxzZWlmIGQuTmFtZSA9PSAiRGlzdG9ydCIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuRGlzdG9ydDpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBBbnRpLUxhZw0KDQoJbG9jYWwgQW50aUxhZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUxhZy5OYW1lID0gIkFudGlMYWciDQoJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpTGFnKQ0KDQoJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gcmVtb3ZlTGFnKCkNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkxvY2FsRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbg0KCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4NCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkJhY2tEZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJTcGVjaWFsTWVzaCIpIHRoZW4NCgkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbg0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbg0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4NCgkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJZm9yIF8sIHggaW4gcGFpcnModi5DaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCQlpZiB4Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4NCgkJCQkJeDpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpDQoJCWlmIEFudGlMYWdFbmFibGVkIHRoZW4NCgkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuDQoJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiB2Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSB0aGVuDQoJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4NCgkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCUFudGlMYWcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQW50aUxhZ0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW50aUxhZ0VuYWJsZWQgPSB0cnVlDQoJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9OKSINCgkJCXJlbW92ZUxhZygpDQoJCWVsc2UNCgkJCUFudGlMYWdFbmFibGVkID0gZmFsc2UNCgkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5maW5pdGUgU3ByaW50DQoNCglsb2NhbCBTcGVlZGhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNwZWVkaGFjay5OYW1lID0gIlNwZWVkaGFjayINCglTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPRkYpIFtUXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlZWRoYWNrKQ0KDQoJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlDQoJU2V0U3BlZWQgPSA2NA0KDQoJZnVuY3Rpb24gbW9kaWZ5U3BlZWQoKQ0KCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkNoYW5nZWQ6Y29ubmVjdChmdW5jdGlvbigpDQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQNCgkJCWVsc2UNCgkJCQlyZXR1cm4NCgkJCWVuZA0KCQllbmQpDQoJZW5kDQoNCglmdW5jdGlvbiBiZWdpblNwZWVkKCkNCgkJaWYgU3BlZWRoYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGVlZGhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT04pIFtUXSINCgkJCW1vZGlmeVNwZWVkKCkNCgkJCXdhaXQoKQ0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJd2hpbGUgU3BlZWRoYWNrRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJbW9kaWZ5U3BlZWQoKQ0KCQkJCQl3YWl0KCkNCgkJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT0ZGKSBbVF0iDQoJCWVuZA0KCWVuZA0KDQoJU3BlZWRoYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpblNwZWVkKQ0KDQoJLS0gU2FucyBJbW11bml0eQ0KDQoJbG9jYWwgU2Fuc0ltbXVuaXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTYW5zSW1tdW5pdHkuTmFtZSA9ICJTYW5zSW1tdW5pdHkiDQoJU2Fuc0ltbXVuaXR5LlRleHQgPSAiRW5hYmxlIFNhbnMgSW1tdW5pdHkiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNhbnNJbW11bml0eSkNCg0KCVNhbnNJbW11bml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBzYW5zS2lsbGVkID09IG5pbCB0aGVuDQogICAgCQlsb2NhbCBzYW5zSGVhZCA9IGdhbWUuV29ya3NwYWNlLk1hcC5Vcldobw0KCQkJcHJpbnQoIkdvdCB0aGUgaGVhZCBtb2RlbCIpDQoJCQlsb2NhbCB5b3Vyc1RydWx5ID0gc2Fuc0hlYWRbIm1lPyJdDQoJCQlwcmludCgiR290IHRoZSBoZWFkIHBhcnQiKQ0KCQkJbG9jYWwgc0luZGljID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCgkJCXNJbmRpYy5QYXJlbnQgPSBnYW1lLndvcmtzcGFjZS5NYXANCgkJCXByaW50KCJDcmVhdGVkIGluZGljYXRvciBwYXJ0IikNCiAgICAgICAgICAgIC0tIFZhcmlhYmxlcyBhc3NpZ25lZA0KCQkJaWYgc0luZGljIHRoZW4NCiAgICAJCQlzSW5kaWMuQW5jaG9yZWQgPSB0cnVlDQogICAJCQkJc0luZGljLk5hbWUgPSAiU2Fuc0luZGljYXRvciINCiAgICAJCQlzSW5kaWMuTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24NCiAgICAJCQlzSW5kaWMuU2hhcGUgPSBFbnVtLlBhcnRUeXBlLkJhbGwNCiAgICAJCQlzSW5kaWMuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJUb290aHBhc3RlIikNCiAgICAJCQlzSW5kaWMuU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpDQogICAgCQkJc0luZGljLlBvc2l0aW9uID0geW91cnNUcnVseS5Qb3NpdGlvbg0KCQkJCXdhcm4oIkZpbmlzaGVkIGluZGljYXRvciIpDQoJCQkJLS0gSW5kaWNhdG9yIGNyZWF0ZWQNCiAgICAgICAgICAgIAl5b3Vyc1RydWx5LlRvdWNoSW50ZXJlc3Q6RGVzdHJveSgpDQogICAgCQkJeW91cnNUcnVseTpEZXN0cm95KCkNCiAgICAJCQl5b3Vyc1RydWx5ID0gbmlsDQogICAgCQkJc2Fuc0hlYWQ6RGVzdHJveSgpDQogICAgCQkJc2Fuc0hlYWQgPSBuaWwNCgkJCQlTYW5zSW1tdW5pdHkuVGV4dCA9ICJTYW5zIEltbXVuaXR5IEVuYWJsZWQiDQoJCQkJLS0gU2FucyBoZWFkIGRlc3Ryb3llZCwgdmFyaWFibGVzIG5pbCdkIHRvIHByZXZlbnQgbWVtb3J5IGxlYWsNCgkJCWVsc2UNCgkJCQl3YXJuKCJTb21ldGhpbmcgd2VudCB3cm9uZyBjcmVhdGluZyB0aGUgaW5kaWNhdG9yIHBhcnQuIikNCgkJCQlTYW5zSW1tdW5pdHkuVGV4dCA9ICJFcnJvcjsgQ2hlY2sgQ29uc29sZSINCgkJCWVuZA0KCQllbHNlDQoJCQllcnJvcigiVW5leHBlY3RlZCB2YWx1ZSBmb3Igc2Fuc0tpbGxlZC4gRXhwZWN0ZWQgbmlsLCBnb3QgJyIgLi4gc2Fuc0tpbGxlZCkgDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFRlbGVwb3J0IHRvIFNhbnMgSGVhZA0KDQoJbG9jYWwgU2Fuc1RlbGVwb3J0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTYW5zVGVsZXBvcnQuTmFtZSA9ICJTYW5zVGVsZXBvcnQiDQoJU2Fuc1RlbGVwb3J0LlRleHQgPSAiVGVsZXBvcnQgdG8gU2FucyBIZWFkIChPRkYpIFtQXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2Fuc1RlbGVwb3J0KQ0KDQoJU2Fuc1RlbGVwb3J0RW5hYmxlZCA9IGZhbHNlDQoNCglTYW5zVGVsZXBvcnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2Fuc1RlbGVwb3J0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTYW5zVGVsZXBvcnRFbmFibGVkID0gdHJ1ZQ0KCQkJU2Fuc1RlbGVwb3J0LlRleHQgPSAiVGVsZXBvcnQgdG8gU2FucyBIZWFkIChPTikgW1BdIg0KCQllbHNlDQoJCQlTYW5zVGVsZXBvcnRFbmFibGVkID0gZmFsc2UNCgkJCVNhbnNUZWxlcG9ydC5UZXh0ID0gIlRlbGVwb3J0IHRvIFNhbnMgSGVhZCAoT0ZGKSBbUF0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElnbm9yZSBQaHlzaWNzDQoNCglsb2NhbCBJZ25vcmVQaHlzaWNzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJZ25vcmVQaHlzaWNzLk5hbWUgPSAiZklnbm9yZVBoeXNpY3MiDQoJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPRkYpIFtaXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWdub3JlUGh5c2ljcykNCg0KCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkZsaXBzSG9sZGVyOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIEFmdGVyTnVsbGlmeUZvcmNlcygpDQoJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikNCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkIHRoZW4NCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQ0KCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPTikgW1pdIg0KCQkJaW5pdGlhbE51bGxpZnlGb3JjZXMoKQ0KCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkNCgkJCXdoaWxlIElnbm9yZVBoeXNpY3NFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCgkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT0ZGKSBbWl0iDQoJCWVuZA0KCWVuZA0KDQoJSWdub3JlUGh5c2ljcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5OdWxsaWZ5Rm9yY2VzKQ0KDQoJLS0gQW50aS1HcmF2aXR5DQoNCglsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSINCglBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT0ZGKSBbR10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQ0KDQoJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpDQoJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT04pIFtHXSINCgkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikNCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiDQoJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQ0KCQllbHNlDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9GRikgW0ddIg0KCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykNCg0KCS0tIEluZXJ0aWEgR3Jhdml0eQ0KDQoJbG9jYWwgSW5lcnRpYUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUluZXJ0aWFHcmF2aXR5Lk5hbWUgPSAiSW5lcnRpYUdyYXZpdHkiDQoJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQ0KDQoJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCUluZXJ0aWFHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT04pIg0KCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQ0KCQkJQm9keUZvcmNlLlBhcmVudCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydA0KCQkJQm9keUZvcmNlLk5hbWUgPSAiSW5lcnRpYUdyYXZpdHlGb3JjZSINCgkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApDQoJCWVsc2UNCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT0ZGKSINCgkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSW5lcnRpYUdyYXZpdHlGb3JjZSIpIHRoZW4NCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuSW5lcnRpYUdyYXZpdHlGb3JjZTpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBDbGljay1UUA0KDQoJbG9jYWwgQ2xpY2tUUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiDQoJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPRkYpIFtKIHRvIHRwIHRvIG1vdXNlXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2xpY2tUUCkNCg0KCUNsaWNrVFBFbmFibGVkID0gZmFsc2UNCg0KCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQ2xpY2tUUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlDQoJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9GRikgW0ogdG8gQ2xpY2stVFBdIg0KCQllbHNlDQoJCQlDbGlja1RQRW5hYmxlZCA9IHRydWUNCgkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT04pIFtKIHRvIENsaWNrLVRQXSINCgkJZW5kDQoJZW5kKQ0KDQoJZnVuY3Rpb24gY2xpY2t0cChwb3NpdGlvbikNCgkJbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyDQoJCWlmIHBsYXllciA9PSBuaWwgb3IgcGxheWVyLkNoYXJhY3RlciA9PSBuaWwgdGhlbiByZXR1cm4gZW5kDQoJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgKyAzLCBwb3NpdGlvbi56KSkNCgllbmQNCg0KCS0tIEZyZWV6ZQ0KDQoJbG9jYWwgRnJlZXplID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglGcmVlemUuTmFtZSA9ICJGcmVlemUiDQoJRnJlZXplLlRleHQgPSAiRnJlZXplIChPRkYpIFtGXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRnJlZXplKQ0KDQoJRnJlZXplRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBGcmVlemVGdW5jKCkNCgkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGcmVlemVFbmFibGVkID0gdHJ1ZQ0KCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPTikgW0ZdIg0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQllbHNlDQoJCQlGcmVlemVFbmFibGVkID0gZmFsc2UNCgkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT0ZGKSBbRl0iDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQ0KCQllbmQNCgllbmQNCg0KCUZyZWV6ZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoRnJlZXplRnVuYykNCg0KCS0tIExvbmcgRmxhc2gNCg0KCWxvY2FsIExGbGFzaCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTEZsYXNoLk5hbWUgPSAiRmxhc2giDQoJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT0ZGKSBbYCB0byB1c2VdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBMRmxhc2gpDQoNCglGbGFzaEVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkNCgkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucA0KCQlsb2NhbCBhcmdzID0gew0KCQkJWzFdID0gIlN0b3JtIiwNCgkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giDQoJCX0NCgkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJbG9jYWwgYXJncyA9IHsNCgkJCVsxXSA9ICJTdG9ybSIsDQoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIiwNCgkJCVszXSA9IHsNCgkJCQlbIkVuZCJdID0gbW91c2Vwb3MsDQoJCQkJWyJPcmlnaW4iXSA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wDQoJCQl9DQoJCX0NCgkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCWVuZA0KDQoJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEZsYXNoRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGbGFzaEVuYWJsZWQgPSB0cnVlDQoJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPTikgW2AgdG8gdXNlXSINCgkJZWxzZQ0KCQkJRmxhc2hFbmFibGVkID0gZmFsc2UNCgkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9GRikgW2AgdG8gdXNlXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVmlldyBUYXJnZXQNCg0KCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpZXdUYXJnZXQuTmFtZSA9ICJWaWV3VGFyZ2V0Ig0KCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT0ZGKSBbVl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpDQoNCgl2aWV3aW5nID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHZpZXcoKQ0KCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJaWYgdmlld2luZyA9PSBmYWxzZSB0aGVuDQoJCQkJdmlld2luZyA9IHRydWUNCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT04pIFtWXSINCgkJCWVsc2UNCgkJCQl2aWV3aW5nID0gZmFsc2UNCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9GRikgW1ZdIg0KCQkJZW5kDQoJCWVsc2VpZiB2aWV3aW5nID09IHRydWUgdGhlbiANCgkJCXZpZXdpbmcgPSBmYWxzZQ0KCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9GRikgW1ZdIg0KCQllbmQNCgllbmQNCg0KCVZpZXdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHZpZXcpDQoNCglsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCINCglUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT0ZGKSBbVV0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQ0KDQoJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIFRQVG9UYXJnZXQoKQ0KCQlpZiBUUFRhcmdldEVuYWJsZWQgYW5kIHRhcmdldCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikNCg0KCQkJZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQ0KCQllbmQNCgllbmQNCg0KCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlDQoJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT04pIFtVXSINCgkJZWxzZQ0KCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCgkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPRkYpIFtVXSINCgkJZW5kDQoJZW5kKQ0KDQoJbG9jYWwgTG9vcFRQVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglMb29wVFBUYXJnZXQuTmFtZSA9ICJMb29wVFBUYXJnZXQiDQoJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExvb3BUUFRhcmdldCkNCg0KCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KDQoJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIExvb3BUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IHRydWUNCgkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPTikiDQoJCQl3aGlsZSBMb29wVFBUYXJnZXRFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJVFBUb1RhcmdldCgpDQoJCQllbmQNCgkJZWxzZQ0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlDQoJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJbG9jYWwgQ0JyaW5nVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglDQnJpbmdUYXJnZXQuTmFtZSA9ICJDQnJpbmdUYXJnZXQiDQoJQ0JyaW5nVGFyZ2V0LlRleHQgPSAiQ0JyaW5nIFRhcmdldCAoT0ZGKSBbTV0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENCcmluZ1RhcmdldCkNCgkNCglsb2NhbCBDQnJpbmdUYXJnZXRFbmFibGVkID0gZmFsc2UNCgkNCglsb2NhbCBicmluZ2luZ1RhcmdldHMgPSB7fQ0KCQ0KCWxvY2FsIGZ1bmN0aW9uIGJyaW5nUGxheWVyKHBsck5hbWUpDQoJCWxvY2FsIHBsciA9IGdhbWUuUGxheWVyc1twbHJOYW1lXQ0KCQ0KCQlpZiAocGxyKSB0aGVuDQoJCQlpZiAoYnJpbmdpbmdUYXJnZXRzW3Bsck5hbWVdKSB0aGVuDQoJCQkJYnJpbmdpbmdUYXJnZXRzW3Bsck5hbWVdID0gbmlsDQoJCQllbHNlaWYgKHBsci5DaGFyYWN0ZXIpIGFuZCAocGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpKSB0aGVuDQoJCQkJYnJpbmdpbmdUYXJnZXRzW3Bsck5hbWVdID0gdHJ1ZQ0KCQkJDQoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikNCgkJCQkNCgkJCQlsb2NhbCBjZnJhbWUgPSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuQ0ZyYW1lIG9yIENGcmFtZS5uZXcoMCwgMCwgMCkNCgkJCQkJCQ0KCQkJCXdoaWxlIChwbHIpIGFuZCAoYnJpbmdpbmdUYXJnZXRzW3Bsck5hbWVdID09IHRydWUpIGRvDQoJCQkJCWlmIChwbHIuQ2hhcmFjdGVyKSBhbmQgKHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikpIGFuZCAocGxyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMCkgdGhlbg0KCQkJCQkJcGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLkFuY2hvcmVkID0gdHJ1ZQ0KCQkJCQkJcGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpLkNGcmFtZSA9IGNmcmFtZSAqIENGcmFtZS5uZXcoMCwgMCwgLTE2KQ0KCQkJCQllbmQNCgkJCQllbmQNCgkJCQkNCgkJCQlicmluZ2luZ1RhcmdldHNbcGxyTmFtZV0gPSBuaWwNCgkJCWVuZA0KCQllbmQNCgllbmQNCgkNCglDQnJpbmdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQ0JyaW5nVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlDQnJpbmdUYXJnZXRFbmFibGVkID0gdHJ1ZQ0KCQkJQ0JyaW5nVGFyZ2V0LlRleHQgPSAiQ0JyaW5nIFRhcmdldCAoT04pIFtNXSINCgkJZWxzZQ0KCQkJQ0JyaW5nVGFyZ2V0RW5hYmxlZCA9IGZhbHNlDQoJCQlDQnJpbmdUYXJnZXQuVGV4dCA9ICJDQnJpbmcgVGFyZ2V0IChPRkYpIFtNXSINCgkJZW5kDQoJZW5kKQ0KDQoJbG9jYWwgTG9vcENCcmluZ1RhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTG9vcENCcmluZ1RhcmdldC5OYW1lID0gIkxvb3BDQnJpbmdUYXJnZXQiDQoJTG9vcENCcmluZ1RhcmdldC5UZXh0ID0gIkxvb3AgQ0JyaW5nIFRhcmdldCAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTG9vcENCcmluZ1RhcmdldCkNCg0KCWxvY2FsIENCcmluZ1NlcnZlciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ0JyaW5nU2VydmVyLk5hbWUgPSAiQ0JyaW5nU2VydmVyIg0KCUNCcmluZ1NlcnZlci5UZXh0ID0gIkNCcmluZyBTZXJ2ZXIgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENCcmluZ1NlcnZlcikNCg0KCWxvY2FsIExvb3BDQnJpbmdTZXJ2ZXIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUxvb3BDQnJpbmdTZXJ2ZXIuTmFtZSA9ICJMb29wQ0JyaW5nU2VydmVyIg0KCUxvb3BDQnJpbmdTZXJ2ZXIuVGV4dCA9ICJMb29wIENCcmluZyBTZXJ2ZXIgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExvb3BDQnJpbmdTZXJ2ZXIpDQoNCgktLSBFU1ANCg0KCWxvY2FsIEVTUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRVNQLk5hbWUgPSAiRVNQIg0KCUVTUC5UZXh0ID0gIkVTUCAoT0ZGKSBbQl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVTUCkNCg0KCUVTUEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpDQoJSG9sZGVyLk5hbWUgPSAiRVNQIg0KDQoJbG9jYWwgVXBkYXRlRnVuY3MgPSB7fQ0KDQoJbG9jYWwgQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQ0KCUJveC5OYW1lID0gIm5pbEJveCINCglCb3guU2l6ZSA9IFZlY3RvcjMubmV3KDQsIDcsIDQpDQoJQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkNCglCb3guVHJhbnNwYXJlbmN5ID0gMC43DQoJQm94LlpJbmRleCA9IDANCglCb3guQWx3YXlzT25Ub3AgPSB0cnVlDQoJQm94LlZpc2libGUgPSB0cnVlDQoNCglsb2NhbCBOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQ0KCU5hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnIg0KCU5hbWVUYWcuRW5hYmxlZCA9IHRydWUNCglOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkNCglOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQ0KCU5hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApDQoNCglsb2NhbCBUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE5hbWVUYWcpDQoJVGFnLk5hbWUgPSAiVGFnIg0KCVRhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQ0KCVRhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIDApDQoJVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkNCglUYWcuVGV4dFNpemUgPSAyMA0KCVRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQ0KCVRhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQ0KCVRhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40DQoJVGFnLlRleHQgPSAibmlsIg0KCVRhZy5Gb250ID0gRW51bS5Gb250LlNvdXJjZVNhbnNCb2xkDQoJVGFnLlRleHRTY2FsZWQgPSBmYWxzZQ0KCVRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMA0KDQoJZnVuY3Rpb24gTG9hZENoYXJhY3Rlcih2KQ0KCQlpZiB2IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuDQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbA0KCQkJdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpDQoJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpDQoNCgkJCWxvY2FsIGIgPSBCb3g6Q2xvbmUoKQ0KCQkJYi5OYW1lID0gdi5OYW1lIC4uICJCb3giDQoJCQliLkFkb3JuZWUgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0DQoJCQliLlBhcmVudCA9IHZIb2xkZXINCg0KCQkJbG9jYWwgdCA9IE5hbWVUYWc6Q2xvbmUoKQ0KCQkJdC5OYW1lID0gdi5OYW1lIC4uICJOYW1lVGFnIg0KCQkJdC5QYXJlbnQgPSB2SG9sZGVyDQoJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQ0KCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuDQoJCQkJcmV0dXJuIFVubG9hZENoYXJhY3Rlcih2KQ0KCQkJZW5kDQoJCQl0LlRhZy5UZXh0ID0gdi5OYW1lDQoJCQl0LkVuYWJsZWQgPSB0cnVlDQoJCQl3YWl0KCkNCg0KCQkJbG9jYWwgZnVuY3Rpb24gVXBkYXRlTmFtZVRhZygpDQoJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lDQoJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQ0KCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkNCgkJCQkJCXQuVGFnLlRleHQgPSB2Lk5hbWUgLi4gIlxuIiAuLiAoKG1heGggfj0gMCBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKChoIC8gbWF4aCkgKiAxMDApKSkgb3IgIjAiKSAuLiAiJSAgIiAuLiB0b3N0cmluZyhoKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4aCkNCgkJCQkJCWlmIEVTUEVuYWJsZWQgdGhlbg0KCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwDQoJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcNCgkJCQkJCWVsc2UNCgkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQ0KCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCQkJZW5kDQoJCQkJCQlpZiBoIC8gbWF4aCA9PSAxIHRoZW4NCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuDQoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQkJCQkJZWxzZQ0KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkNCgkJCQkJCWVuZA0KCQkJCQllbmQpIHRoZW4NCgkJCQkJVXBkYXRlRnVuY3Nbdl0gPSBuaWwNCgkJCQllbmQNCgkJCWVuZA0KCQkJVXBkYXRlTmFtZVRhZygpDQoJCQlVcGRhdGVGdW5jc1t2XSA9IFVwZGF0ZU5hbWVUYWcNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBVbmxvYWRDaGFyYWN0ZXIodikNCgkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCWlmIHZIb2xkZXIgYW5kICh2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJOYW1lVGFnIikgfj0gbmlsKSB0aGVuDQoJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIExvYWRQbGF5ZXIodikNCgkJaWYgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJbG9jYWwgdkhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgSG9sZGVyKQ0KCQkJdkhvbGRlci5OYW1lID0gdi5OYW1lDQoJCQl2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQ0KCQkJCWlmIEVTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCXBjYWxsKExvYWRDaGFyYWN0ZXIsIHYpDQoJCQkJZW5kDQoJCQllbmQpDQoJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQ0KCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikNCgkJCWVuZCkNCgkJCUxvYWRDaGFyYWN0ZXIodikNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBVbmxvYWRQbGF5ZXIodikNCgkJVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQlpZiB2SG9sZGVyIHRoZW4NCgkJCXZIb2xkZXI6RGVzdHJveSgpDQoJCWVuZA0KCWVuZA0KDQoJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0UGxheWVycygpKSBkbw0KCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkNCgllbmQNCg0KCWdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJcGNhbGwoTG9hZFBsYXllciwgdikNCgllbmQpDQoNCglnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXBjYWxsKFVubG9hZFBsYXllciwgdikNCgllbmQpDQoNCglnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkNCgkJaWYgaTpJc0EoIlBsYXllciIpIHRoZW4NCgkJCWlmIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChpLk5hbWUpIHRoZW4NCgkJCQlVbmxvYWRDaGFyYWN0ZXIoaSkNCgkJCQl3YWl0KCkNCgkJCQlMb2FkQ2hhcmFjdGVyKGkpDQoJCQllbmQNCgkJZWxzZWlmIGk6SXNBKCJIdW1hbm9pZCIpIGFuZCBpLlBhcmVudCB0aGVuDQoJCQlsb2NhbCBwID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkNCgkJCWlmIHAgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIGFuZCBwIH49IG5pbCBhbmQgSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbg0KCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJVXBkYXRlRnVuY3NbcF0oKQ0KCQkJCWVuZCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCglmdW5jdGlvbiB0b2dnbGVFU1AoKQ0KCQlpZiBFU1BFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUVTUEVuYWJsZWQgPSB0cnVlDQoJCQlFU1AuVGV4dCA9ICJFU1AgKE9OKSBbQl0iDQoJCQlmb3IgaSx2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldFBsYXllcnMoKSkgZG8NCgkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkNCgkJCWVuZA0KCQllbHNlDQoJCQlFU1BFbmFibGVkID0gZmFsc2UNCgkJCUVTUC5UZXh0ID0gIkVTUCAoT0ZGKSBbQl0iDQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoVW5sb2FkUGxheWVyLCB2KSBlbmQpDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglFU1AuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUCkNCg0KCS0tIFRQIHRvIERyb3BzDQoNCglsb2NhbCBUUFNoYXJkcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBTaGFyZHMuTmFtZSA9ICJUUFNoYXJkcyINCglUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBTaGFyZHMpDQoNCglUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQkNCg0KCWxvY2FsIFRQRGlhbW9uZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRQRGlhbW9uZHMuTmFtZSA9ICJUUERpYW1vbmRzIg0KCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBEaWFtb25kcykNCg0KCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIHBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCglwbGF0ZS5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQ0KCXBsYXRlLlNpemUgPSBWZWN0b3IzLm5ldyg0MCwgMSwgNDApDQoJcGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAxMDAwMDAsIDApDQoJcGxhdGUuQW5jaG9yZWQgPSB0cnVlDQoJcGxhdGUuUmVmbGVjdGFuY2UgPSAwLjUNCglwbGF0ZS5UcmFuc3BhcmVuY3kgPSAwLjUNCg0KCWxvY2FsIHRpbWUgPSAwDQoJbG9jYWwgY2FuSW52aXMgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gdGVsZXBvcnRUb0Ryb3BzKCkNCgkJbG9jYWwgaHJwID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQ0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuU2VydmVyRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiU2hhcmQiIHRoZW4NCgkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUNCgkJCQl3YWl0KC4yKQ0KCQkJZWxzZWlmIFRQRGlhbW9uZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIkRpYW1vbmQiIHRoZW4NCgkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUNCgkJCQl3YWl0KC4yKQ0KCQkJZW5kDQoNCgkJCWlmIGNhbkludmlzIHRoZW4NCgkJCQlpZiB0aW1lID09IDUgdGhlbiANCgkJCQkJYnJlYWsNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCg0KCQlocnAuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldygwLCAxMDAwMDMsIC0xMCkpDQoNCgkJcmV0dXJuIA0KCWVuZA0KDQoNCglmdW5jdGlvbiBzdGFydFRpbWVyKCkNCgkJbG9jYWwgaHJwID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQ0KCQl3aGlsZSB3YWl0KCkgZG8NCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCBvciBUUERpYW1vbmRzRW5hYmxlZCB0aGVuDQoJCQkJaWYgdGltZSB+PSAwIHRoZW4gcmV0dXJuDQoJCQkJZWxzZQ0KCQkJCQlpZiBjYW5JbnZpcyB0aGVuDQoJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpDQoJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCXdhaXQoMSkNCgkJCQkJCXJlcGVhdA0KCQkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwodGVsZXBvcnRUb0Ryb3BzKSBlbmQpDQoJCQkJCQkJdGltZSA9IHRpbWUgKyAxDQoJCQkJCQkJd2FpdCgxKQ0KCQkJCQkJdW50aWwgdGltZSA9PSA2DQoJCQkJCQlocnAuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldygwLCAxMDAwMDMsIC0xMCkpDQoJCQkJCQl3YWl0KDcuNSkNCgkJCQkJCXRpbWUgPSAwDQoJCQkJCWVsc2UNCgkJCQkJCXdoaWxlIHRydWUgZG8NCgkJCQkJCQlpZiBub3QgVFBTaGFyZHNFbmFibGVkIGFuZCBub3QgVFBEaWFtb25kc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQlicmVhaw0KCQkJCQkJCWVuZA0KCQkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwodGVsZXBvcnRUb0Ryb3BzKSBlbmQpDQoJCQkJCQkJd2FpdCgxKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZQ0KCQkJCWJyZWFrDQoJCQllbmQNCgkJZW5kDQoNCgkJcmV0dXJuDQoJZW5kDQoNCglUUFNoYXJkcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbg0KCQkJY2FuSW52aXMgPSB0cnVlDQoJCWVuZA0KCQlpZiBUUFNoYXJkc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVFBTaGFyZHNFbmFibGVkID0gdHJ1ZQ0KCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9OKSINCgkJCXN0YXJ0VGltZXIoKQ0KCQkJd2hpbGUgVFBTaGFyZHNFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlzdGFydFRpbWVyKCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQ0KCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCVRQRGlhbW9uZHMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIik6V2FpdEZvckNoaWxkKCJNYWluIikuQ2hhcmFjdGVyLkF2YWlsYWJsZS5TY3JvbGxpbmdGcmFtZS5GcmFtZTpGaW5kRmlyc3RDaGlsZCgiU3BlY3RyYWwgRW1ib2RpbWVudCIpIHRoZW4NCgkJCWNhbkludmlzID0gdHJ1ZQ0KCQllbmQNCgkJaWYgVFBEaWFtb25kc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSB0cnVlDQoJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9OKSINCgkJCXN0YXJ0VGltZXIoKQ0KCQkJd2hpbGUgVFBEaWFtb25kc0VuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4NCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwDQoJCQkJCXN0YXJ0VGltZXIoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UNCgkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gUmVqb2luIFNlcnZlcg0KDQoJbG9jYWwgUmVqb2luU2VydmVyID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglSZWpvaW5TZXJ2ZXIuTmFtZSA9ICJSZWpvaW5TZXJ2ZXIiDQoJUmVqb2luU2VydmVyLlRleHQgPSAiUmVqb2luIFNlcnZlciINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmVqb2luU2VydmVyKQ0KDQoJZnVuY3Rpb24gcmVqb2luKCkNCgkJbG9jYWwgdHMgPSBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpDQoJCWxvY2FsIHAgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcg0KDQoJCXRzOlRlbGVwb3J0KGdhbWUuUGxhY2VJZCwgcCkNCgllbmQNCg0KCVJlam9pblNlcnZlci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QocmVqb2luKQ0KDQoJLS0gR1VJIFR3ZWFraW5nDQoNCglmb3IgaSwgdiBpbiBwYWlycyhib3JkZXJzKSBkbw0KCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQ0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MA0KCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZDQoJCXYuQWN0aXZlID0gdHJ1ZQ0KCQl2LlBhcmVudCA9IGViZ2d1aQ0KCWVuZA0KDQoJZm9yIGksIHYgaW4gcGFpcnMoYnV0dG9ucykgZG8NCgkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgOTYsIDk2KQ0KCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMg0KCQl2LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQ0KCQl2LkZvbnQgPSBFbnVtLkZvbnQuVWJ1bnR1DQoJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCXYuVGV4dFNjYWxlZCA9IHRydWUNCgkJdi5UZXh0U2l6ZSA9IDE0LjAwMA0KCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCQl2LkxheW91dE9yZGVyID0gaQ0KCQl2LlBhcmVudCA9IG1haW5mcmFtZQ0KCWVuZA0KCQ0KCS0tW1tQaW5nIFRyYWNrZXINCgkNCglsb2NhbCBwaW5nVHJhY2tlcg0KCQ0KCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpDQoJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCXBpbmdUcmFja2VyID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCQkJcGluZ1RyYWNrZXIuVmlzaWJsZSA9IHRydWUNCgkJCXBpbmdUcmFja2VyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAxKQ0KCQkJcGluZ1RyYWNrZXIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDENCgkJCXBpbmdUcmFja2VyLkZvbnQgPSBFbnVtLkZvbnQuU291cmNlU2Fuc0JvbGQNCgkJCXBpbmdUcmFja2VyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMCwgMCkNCgkJCXBpbmdUcmFja2VyLlNpemUgPSBVRGltMi5uZXcoMC43NSwgMCwgMC4xLCAwKQ0KCQkJcGluZ1RyYWNrZXIuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwgMSwgMSkNCgkJCXBpbmdUcmFja2VyLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjMNCgkJCXBpbmdUcmFja2VyLlRleHRTY2FsZWQgPSB0cnVlDQoJCQlwaW5nVHJhY2tlci5UZXh0ID0gIlBpbmcgfCBQbGVhc2Ugb3BlbiBwZXJmb3JtYW5jZSBzdGF0cyB0byBiZWdpbiB0cmFja2luZyBwaW5nLiINCgkJCXBpbmdUcmFja2VyLlBhcmVudCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpOldhaXRGb3JDaGlsZCgiU2tpbGxzQmFyIikNCgkJCQ0KCQkJZ2FtZS5Db3JlR3VpLlJvYmxveEd1aTpXYWl0Rm9yQ2hpbGQoIlBlcmZvcm1hbmNlU3RhdHMiKS5WaXNpYmxlID0gZmFsc2UNCgkJCQ0KCQkJbG9jYWwgcGluZw0KCQkJDQoJCQlmb3IgaSwgdiBpbiBuZXh0LCBnYW1lLkNvcmVHdWkuUm9ibG94R3VpLlBlcmZvcm1hbmNlU3RhdHM6R2V0Q2hpbGRyZW4oKSBkbw0KCQkJCWlmICh2OkZpbmRGaXJzdENoaWxkKCJTdGF0c01pbmlUZXh0UGFuZWxDbGFzcyIpKSB0aGVuIA0KCQkJCQlpZiAodi5TdGF0c01pbmlUZXh0UGFuZWxDbGFzcy5UaXRsZUxhYmVsLlRleHQgPT0gIlBpbmciKSB0aGVuDQoJCQkJCQlwaW5nID0gdi5TdGF0c01pbmlUZXh0UGFuZWxDbGFzcy5WYWx1ZUxhYmVsDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZW5kDQoJCQ0KCQkJaWYgKHBpbmcpIHRoZW4NCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQ0KCQkJCQlnYW1lLkNvcmVHdWkuUm9ibG94R3VpLlBlcmZvcm1hbmNlU3RhdHMuVmlzaWJsZSA9IGZhbHNlDQoJCQkJDQoJCQkJCWxvY2FsIHBpbmdTdHJpbmcgPSBwaW5nLlRleHQNCgkJCQkJDQoJCQkJCWxvY2FsIHBpbmdWYWx1ZSA9IHRvbnVtYmVyKHN0cmluZy5zcGxpdChwaW5nU3RyaW5nLCAiICIpWzFdKQ0KCQkJCQkNCgkJCQkJbG9jYWwgcmF0aW5nDQoJCQkJCQ0KCQkJCQlpZiAocGluZ1ZhbHVlIDw9IDUwKSB0aGVuDQoJCQkJCQlyYXRpbmcgPSAiUGVyZmVjdCINCgkJCQkJZWxzZWlmIChwaW5nVmFsdWUgPD0gNzApIHRoZW4NCgkJCQkJCXJhdGluZyA9ICJHb29kIg0KCQkJCQllbHNlaWYgKHBpbmdWYWx1ZSA8PSAxMDApIHRoZW4NCgkJCQkJCXJhdGluZyA9ICJEZWNlbnQiDQoJCQkJCWVsc2VpZiAocGluZ1ZhbHVlIDw9IDEzMCkgdGhlbg0KCQkJCQkJcmF0aW5nID0gIk9rYXkiDQoJCQkJCWVsc2VpZiAocGluZ1ZhbHVlIDw9IDE1MCkgdGhlbg0KCQkJCQkJcmF0aW5nID0gIkJhZCINCgkJCQkJZWxzZQ0KCQkJCQkJcmF0aW5nID0gIkhvcnJpYmxlIg0KCQkJCQllbmQNCgkJCQ0KCQkJCQlwaW5nVHJhY2tlci5UZXh0ID0gIlBpbmcgfCAiIC4uIHBpbmdTdHJpbmcgLi4gIiAoIiAuLiByYXRpbmcgLi4gIikiDQoJCQkJZW5kKQ0KCQkJZW5kDQoJCWVuZCkNCgllbmQpKV1dDQoNCgktLSBjb21tYW5kQm94DQoNCgl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCXRhcmdldFNldHRpbmcgPSAic2VsZWN0Ig0KCWxvb3BpbmcgPSBmYWxzZQ0KCXNtYXJ0QXR0YWNrID0gdHJ1ZQ0KCUhlYWxTZXR0aW5nID0gMQ0KCXN0dW5FbmFibGVkID0gdHJ1ZQ0KCUZQU0Ryb3BwaW5nID0gZmFsc2UNCglsb2NhbCBidXR0b25IZWlnaHQgPSAzMA0KCWxvY2FsIGJ1dHRvbkdhcCA9IDcNCiAgICBsb2NhbCBoZWxwMSA9IFtbfHwgQmVsb3cgaXMgYSBmdWxsLCBjb21wcmVoZW5zaXZlIGxpc3Qgb2YgZWFjaCBjb21tYW5kIEVCR1VJIGhhcyB0byBvZmZlci4gfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgKFByZWZpeCBpcyA7KQ0KDQogICAgICAgICAgICAgICAgImhlbHAgW251bV0iIC0gU2hvd3MgdGhpcyBjb21tYW5kcyBsaXN0ISBDaG9vc2UgYmV0d2VlbiBwYWdlcyAxIG9yIDIuDQogICAgICAgICAgICAgICAgImNoYW5nZWxvZyIgLSBTaG93cyBhIGxpbmsgdG8gdGhlIGNoYW5nZWxvZyBmb3IgRUJHVUkgYW5kIGl0cyBDYW5hcnkgYnJhbmNoLg0KICAgICAgICAgICAgICAgICJyZSIgLSBSZWZyZXNoZXMgeW91ciBjaGFyYWN0ZXIuIFRoaXMgd2lsbCB0ZW1wb3JhcmlseSB2YW5pc2ggeW91LCBhbmQgYnJpbmcgeW91IGJhY2sgd2l0aCBmdWxsIHN0YXRzLg0KICAgICAgICAgICAgICAgICJ0cCA8bWFwPiIgLSBUZWxlcG9ydHMgeW91IHRvIHRoZSBtYXAgb2YgeW91ciBjaG9pY2UuIEhlYXZlbiBkb2Vzbid0IHdvcmsgd2l0aG91dCB0aGUgZ2FtZXBhc3MuDQogICAgICAgICAgICAgICAgImRlY2x1dHRlciIgLSBDbGVhcnMgdGhlIGJhY2tncm91bmRzIG9mIHRoZSBtYWluIEdVSXMsIGFuZCBzaHJpbmtzIHRoZSBtb3Zlcy9zdGF0cy4NCiAgICAgICAgICAgICAgICAicmFpbiIgLSBFbmFibGVzIHRoZSByYWluIGZyb20gV2F0ZXIgbWFwLiBDYXJlZnVsLCB5b3UgaGF2ZSB0byByZWpvaW4gdG8gdHVybiBpdCBvZmYhDQogICAgICAgICAgICAgICAgImZpeCIgLSBSZW1vdmVzIHRoZSAiTE9BRElORyIgc2NyZWVuIHdoZW4gdGVsZXBvcnRpbmcgdG8gY2VydGFpbiBtYXBzLg0KICAgICAgICAgICAgICAgICJidXR0b25oZWlnaHQgPG51bT4iIC0gQ2hhbmdlcyB0aGUgaGVpZ2h0LCBpbiBwaXhlbHMsIG9mIEVCR1VJJ3MgYnV0dG9ucy4NCiAgICAgICAgICAgICAgICAiYnV0dG9uZ2FwIDxudW0+IiAtIENoYW5nZXMgdGhlIGdhcCwgaW4gcGl4ZWxzLCBiZXR3ZWVuIEVCR1VJJ3MgYnV0dG9ucy4NCiAgICAgICAgICAgICAgICAicmVqb2luIiAtIFJlam9pbnMgdGhlIHNlcnZlci4NCiAgICAgICAgICAgICAgICAiYXVyYS9vZmYiIC0gQW4gYWx0ZXJuYXRlIG1ldGhvZCBvZiBzaWxlbnRseSB0dXJuaW5nIG9mZiBhdXJhLg0KICAgICAgICAgICAgICAgICJ0YXJnZXRzZXR0aW5nIDxtb2RlPiIgLSBNb2RpZmllcyBob3cgRUJHVUkgc2VsZWN0cyB0YXJnZXRzLiBXb24ndCB0YXJnZXQgdGhvc2UgaW4gc2FmZXpvbmUsIGV4Y2VwdCBpbiAic2VsZWN0IiBtb2RlLg0KICAgICAgICAgICAgICAgICAgICAtLSAic2VsZWN0IiBhbGxvd3MgeW91IHRvIGNob29zZSBieSB0eXBpbmcgaW50byB0aGUgY29tbWFuZCBib3guIFNldCB0byB0aGlzIGJ5IGRlZmF1bHQuDQogICAgICAgICAgICAgICAgICAgIC0tICJjbG9zZXN0IiBzZWxlY3RzIHRoZSBwZXJzb24gY2xvc2VzdCB0byB5b3UuDQogICAgICAgICAgICAgICAgICAgIC0tICJmYXJ0aGVzdCIgc2VsZWN0cyB0aGUgcGVyc29uIGZhcnRoZXN0IGZyb20geW91Lg0KICAgICAgICAgICAgICAgICAgICAtLSAibG93aHAiIHNlbGVjdHMgdGhlIHBlcnNvbiB3aXRoIHRoZSBsb3dlc3QgSFAuDQogICAgICAgICAgICAgICAgICAgIC0tICJoaWdoaHAiIHNlbGVjdHMgdGhlIGNsb3Nlc3QgcGVyc29uIHdpdGggdGhlIGhpZ2hlc3QgSFAuXV0NCg0KICAgIGxvY2FsIGhlbHAyID0gW1sibG9vcCIgLSBMb29wcyB0aGUgdXNhZ2Ugb2YgZW5hYmxlZCBhdHRhY2sgZXhwbG9pdHMuDQogICAgICAgICAgICAgICAgImdyY2hhcmdlIDxudW0+IiAtIE11bHRpcGxpZXMgdGhlIHRpbWUgQW1wbGlmaWVkIEdlbmVzaXMgUmF5IGF0dGFjayBleHBsb2l0IHN0YXlzIGFsaXZlIGZvci4gRGVmYXVsdCwgMSwgbGFzdHMgNiBzZWNvbmRzLg0KICAgICAgICAgICAgICAgICJzcGVlZCA8bnVtPiIgLSBDaGFuZ2VzIHlvdXIgZGVmYXVsdCB3YWxrc3BlZWQuIERlZmF1bHQsIDY0LCBlcXVhbHMgbWF4LXNwZWVkIHNwcmludGluZy4NCiAgICAgICAgICAgICAgICAic21hcnRhdHRhY2siIC0gVG9nZ2xlcyBpZiBhdHRhY2sgZXhwbG9pdHMgd2lsbCBmaXJlIG9uIHBlb3BsZSB3aG8gYXJlIGluIHNhZmV6b25lLiBEZWZhdWx0IG9uLg0KICAgICAgICAgICAgICAgICJnYW1lY29sb3IgPG1vZGU+IiAtIENoYW5nZXMgdGhlIGNvbnRyYXN0IGFuZCBzYXR1cmF0aW9uIG9mIHRoZSBnYW1lLg0KICAgICAgICAgICAgICAgICAgICAtLSAibm9ybWFsIiB3aWxsIHJlc2V0IGV2ZXJ5dGhpbmcgdG8gbm9ybWFsLg0KICAgICAgICAgICAgICAgICAgICAtLSAiZ3JheXNjYWxlIiB0dXJucyBvZmYgdGhlIHNhdHVyYXRpb24gYW5kIG1ha2VzIGV2ZXJ5dGhpbmcgZ3JheS4NCiAgICAgICAgICAgICAgICAgICAgLS0gImludmVydGh1ZSIgaW52ZXJ0cyB0aGUgaHVlIG9mIGV2ZXJ5dGhpbmcuIEdyZWVuIGJlY29tZXMgcHVycGxlLCBibHVlIGJlY29tZXMgcmVkLg0KICAgICAgICAgICAgICAgICAgICAtLSAiaW52ZXJ0YWxsIiBpbnZlcnRzIHRoZSBodWUsIHNhdHVyYXRpb24sIGFuZCBjb250cmFzdCBvZiBldmVyeXRoaW5nLiBOZWdhdGl2ZSENCiAgICAgICAgICAgICAgICAiYmxhY2tjYXN0IiAtIENoYW5nZXMgYWxsIHRoZSBtZWRhbHMgdG8gYmxhY2sgd2hlbiBjYXN0aW5nIHNwZWxscy4NCiAgICAgICAgICAgICAgICAic3R1biIgLSBUb2dnbGVzIHdoZXRoZXIgeW91IHdhbnQgdG8gYmUgc3R1bm5lZCBvciBub3QuIE5vdCB2ZXJ5IGRpc2NyZWV0Lg0KICAgICAgICAgICAgICAgICJkcnVncyIgLSBSYW5kb21pemVzIHRoZSBjb2xvcnMgb2YgYWxsIG1hZ2ljIHNwZWxscy4gUmVxdWlyZXMgeW91IHRvIHJ1biAiY29sb3JzIiBmaXJzdC4NCiAgICAgICAgICAgICAgICAibWFnaWNjb2xvciA8cj4gPGc+IDxiPiIgLSBDaGFuZ2VzIHRoZSBjb2xvciBvZiBhbGwgbWFnaWMgc3BlbGxzIHRvIGFuIFJHQiB2YWx1ZS4gUmVxdWlyZXMgeW91IHRvIHJ1biAiY29sb3JzIiBmaXJzdC4NCiAgICAgICAgICAgICAgICAiY29sb3JzIiAtIEFsbG93cyB5b3UgdG8gcnVuICJkcnVncyIgYW5kICJtYWdpY2NvbG9yIi4NCiAgICAgICAgICAgICAgICAiaGVhbCA8cGxheWVyPiIgLSBQbGFjZXMgQmx1ZSBBcnNvbiBhbmQgR2xlYW1pbmcgSGFybW9ueSBhdCB0aGUgZmVldCBvZiBhIHBsYXllciBvZiB5b3VyIGNob2ljZS4NCiAgICAgICAgICAgICAgICAiZSA8bnVtIDEtMz4iIC0gQ2hhbmdlcyB0aGUgcGhhc2Ugb2YgdGhlIENvbnRyb2xsZWQgRWNob2VzIGF0dGFjayBleHBsb2l0Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiMSIgd2lsbCBjaGFuZ2UgaXQgdG8gUE9XLCBhbmQgaXMgdGhlIGRlZmF1bHQuDQogICAgICAgICAgICAgICAgICAgIC0tICIyIiB3aWxsIGNoYW5nZSBpdCB0byBCVVJOLg0KICAgICAgICAgICAgICAgICAgICAtLSAiMyIgd2lsbCBjaGFuZ2UgaXQgdG8gU1RVTi4NCiAgICAgICAgICAgICAgICAib3JpZ2luIiAtIENyZWF0ZXMgYSBzbWFsbCwgcmVkIGJsb2NrIGF0IDAsIDAsIDAgd2l0aGluIHRoZSB3b3JsZC5dXQ0KDQoJUlNSID0gZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlJlbW90ZXMiKQ0KDQoJbG9jYWwgc3R1bkNvbm5lY3Rpb24gPSBnZXRjb25uZWN0aW9ucyhSU1I6V2FpdEZvckNoaWxkKCJDb21iYXQiKS5PbkNsaWVudEV2ZW50KQ0KCWxvY2FsIGxhZ2dlcnMgPSB7DQoJCSIxQjBGOThCRS1FMTBCLTQ2NzQtOUZCNC02RjY1MTcxQTM0N0YiLCAtLSBsb2cNCgkJIjZBMzMxMDRBLTFGRTktNEZBOC05Mzc0LUMxNjREMjhGODM1MSIsIC0tIGJyaWFuDQoJCSI4Mzc3MzZBQS0wMTkyLTQ3RjktOThDNS04REQwREYxOEZFNzQiLCAtLSBqZXQNCgkJIjU1QzIwNDlELUM2QkQtNDUyMy04ODA0LUQ1MzlDMzg3OTJBMyIsIC0tIHBlbnRhcmFjdA0KCQkiOTQ2NEI2OEEtMzYzQy00MUY4LUJCN0QtQjRCRUQ4QUMwOTYzIiwgLS0gdmFzdG9yaW8NCgkJLS0gIjgzMEJENEU5LTVFQkUtNEExMy1CNDdCLTlCRTYwMDgzQjgzNiIsIC0tIGxvbG9rDQoJCS0tICI2M0IzOUUyNy1EQTFCLTQ4MkUtQjI4Qy02QTMzOThDOTVBNEMiLCAtLSBhbGV4DQoJCSI4NDZBNjVFMi1FOTYzLTRBMEEtOTAyNS1FOUI4RTk1ODk2MTMiLCAtLSBicmFtDQoJCSIzRjE2ODQ0MC1BNUMwLTRGNzEtOEU1MS0zRkRGOTAyNUY1MUIiLCAtLSB0b21law0KCQkiNkE5NzA1MkEtNjM0RS00N0UxLThEOTAtNUVFM0NBNEE5NkZBIiwgLS0gcmF2ZW4NCgkJIkY1OTc1RDdELTJBQzUtNDRBQS04MDFGLTgyNzYyNUQ2RDc2MyIsIC0tIGFsZXhpYQ0KCQkiNDgyODcxODItOUU3Ny00Rjk3LUE2NTQtOTcwNjlFRDgxNjZDIiwgLS0gamVzcw0KCQkiNzQ4OUNCQUUtNzk4Ni00NUE5LUJFNDAtQTIxOEVEQ0QwRjAxIiAtLSBjZXBoYXMNCgl9DQoNCglsb2NhbCBjbGllbnRpZCA9IGdhbWU6R2V0U2VydmljZSgiUmJ4QW5hbHl0aWNzU2VydmljZSIpOkdldENsaWVudElkKCk6bG93ZXIoKQ0KCWxvY2FsIGFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlDQoNCglmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbw0KCQl2ID0gdjpsb3dlcigpDQoNCgkJaWYgKHYgPT0gY2xpZW50aWQpIHRoZW4NCgkJCWFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gZ2V0SFJQKGNocikNCgkJbG9jYWwgSFJQID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpDQoJCXJldHVybiBIUlANCgllbmQNCg0KCWZ1bmN0aW9uIGdldEhVTShjaHIpDQoJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQ0KCQlyZXR1cm4gSFVNDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiByZXNwYXduKHBscikNCgkJbG9jYWwgY2hyID0gcGxyLkNoYXJhY3Rlcg0KDQoJCWlmIChjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpKSB0aGVuIGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIik6Q2hhbmdlU3RhdGUoMTUpIGVuZA0KCQljaHI6Q2xlYXJBbGxDaGlsZHJlbigpDQoNCgkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpDQoJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UNCgkJcGxyLkNoYXJhY3RlciA9IG5ld2Nocg0KDQoJCXdhaXQoKQ0KDQoJCXBsci5DaGFyYWN0ZXIgPSBjaHINCgkJbmV3Y2hyOkRlc3Ryb3koKQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpDQoJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpDQoJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lDQoJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUNCg0KCQlyZXNwYXduKHBscikNCg0KCQlzcGF3bihmdW5jdGlvbigpDQoJCQlwbHIuQ2hhcmFjdGVyQWRkZWQ6V2FpdCgpOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKS5Sb290UGFydC5DRnJhbWUsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSA9IHBvcywgd2FpdCgpIGFuZCBwb3MxDQoJCWVuZCkNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQ0KCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpDQoJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQ0KDQoJCWZvciBpLCB2IGluIGlwYWlycyhjb21tYW5kKSBkbw0KCQkJdiA9IHN0cmluZy5nc3ViKHYsICIlcysiLCAiIikNCgkJCWlmIHYgPT0gIiIgdGhlbg0KCQkJCXRhYmxlLnJlbW92ZShjb21tYW5kLCBpKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybiBjb21tYW5kDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpDQoJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpDQoJCWxvY2FsIG1hdGNoZXMgPSB7fQ0KDQoJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKHBsYXllcnMpIGRvDQoJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUNCgkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkNCgkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkNCg0KCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZChuYW1lLCB0ZXh0KQ0KDQoJCQlpZiBtYXRjaCB0aGVuDQoJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybiBtYXRjaGVzDQoJZW5kDQoNCglsb2NhbCBkcnVnc0VuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGNvbG9yc0VuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGViZ3VpY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGNvbG9yRXhjbHVkZSA9IHsiSGVhZCIsIlRvcnNvIiwiTGVmdCBBcm0iLCJMZWZ0IExlZyIsIlJpZ2h0IEFybSIsIlJpZ2h0IExlZyIsIlNoYXJkIiwiRGlhbW9uZCJ9DQoNCgktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQ0KCWxvY2FsIGNvbG9yMQ0KCWxvY2FsIGNvbG9yMg0KCWxvY2FsIGNvbG9yMw0KDQoJbG9jYWwgZnVuY3Rpb24gaW5wdXRCb3goKQ0KCQlsb2NhbCB0ZXh0ID0gY29tbWFuZEJveC5UZXh0DQoJCXdhaXQoKQ0KCQljb21tYW5kQm94LlRleHQgPSAiIg0KDQoJCWxvY2FsIHByZWZpeCA9ICI7Ig0KCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEpID09IChwcmVmaXgpIHRoZW4NCgkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkNCg0KCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpIHRoZW4NCgkJCQlyZWZyZXNoKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcikNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInRwIikgdGhlbg0KCQkJCWxvY2FsIHRlbGVwb3J0dG8NCiAgICAgICAgICAgICAgICBsb2NhbCB0cG5hbWUNCgkJCQlsb2NhbCBwbGFjZSA9IHN0cmluZy5zdWIodGV4dCwgNSkNCgkJCQlsb2NhbCBwbGFjZXMgPSB7DQoJCQkJCTU2NjM5OTI0NCwNCgkJCQkJMjU2OTYyNTgwOSwNCgkJCQkJNTcwMTU4MDgxLA0KCQkJCQk1Mzc2MDAyMDQsDQoJCQkJCTUyMDU2ODI0MCwNCgkJCQkJNTU0OTU1NTYwLA0KCQkJCQk2MDIwNDg1NTAsDQoJCQkJCTU3NTQ1NjY0NiwNCgkJCQkJMTcxMzk4NjExMiwNCgkJCQkJMTI0MzYxNTYxMiwNCgkJCQkJNjM4MDY1MzAyLA0KCQkJCQk2MzQyNDA4MjYsDQoJCQkJCTYzMzA0MjczMQ0KCQkJCX0NCg0KCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJzdGFuZGFyZDQwIiBvciBwbGFjZSA9PSAiMjU2OTYyNTgwOSIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzJdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJTdGFuZGFyZCINCgkJCQllbHNlaWYgcGxhY2UgPT0gImxpZ2h0IiBvciBwbGFjZSA9PSAiNTcwMTU4MDgxIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbM10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkxpZ2h0Ig0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiZmlyZSIgb3IgcGxhY2UgPT0gIjUzNzYwMDIwNCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzRdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJGaXJlIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAid2F0ZXIiIG9yIHBsYWNlID09ICI1MjA1NjgyNDAiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s1XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiV2F0ZXIiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJncmFzcyIgb3IgcGxhY2UgPT0gIjU1NDk1NTU2MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzZdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJHcmFzcyINCgkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzddDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJIZWF2ZW4iDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s4XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWluaWxvdmFuaWEiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJkZWZhdWx0IiBvciBwbGFjZSA9PSAidG91cm5hbWVudCIgb3IgcGxhY2UgPT0gIjE3MTM5ODYxMTIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s5XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiVG91cm5hbWVudCINCgkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEwXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiU3Vydml2YWwiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhc3RhbmRhcmQiIG9yIHBsYWNlID09ICJzdGFuZGFyZG1lZ2EiIG9yIHBsYWNlID09ICI2MzgwNjUzMDIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZmlyZSIgb3IgcGxhY2UgPT0gImZpcmVtZWdhIiBvciBwbGFjZSA9PSAiNjM0MjQwODI2IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNZWdhIEZpcmUiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZ3Jhc3MiIG9yIHBsYWNlID09ICJncmFzc21lZ2EiIG9yIHBsYWNlID09ICI2MzMwNDI3MzEiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxM10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgR3Jhc3MiDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIg0KCQkJCWVuZA0KDQoJCQkJaWYgdGVsZXBvcnR0byB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUZWxlcG9ydGluZyB0byBQbGFjZSAiIC4uIHRwbmFtZSAuLiAiISINCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydCh0ZWxlcG9ydHRvKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAiZGVjbHV0dGVyIikgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uQ2hhcmFjdGVyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5Cb29rLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5TaG9wLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInJhaW4iKSB0aGVuDQoJCQkJbG9jYWwgY3VycmVudENBTSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhDQoJCQkJbG9jYWwgcmFpblNvdW5kID0gSW5zdGFuY2UubmV3KCJTb3VuZCIpDQoJCQkJcmFpblNvdW5kLkxvb3BlZCA9IHRydWUNCgkJCQlyYWluU291bmQuU291bmRJZCA9ICJyYnhhc3NldGlkOi8vMjgzMTY0NTkzIg0KCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxDQoJCQkJcmFpblNvdW5kLlBhcmVudCA9IHdvcmtzcGFjZQ0KCQkJCXJhaW5Tb3VuZDpQbGF5KCkNCg0KCQkJCWxvY2FsIHJhaW5QYXJ0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCgkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoMzAwLCAzMDAsIDMwMCkNCgkJCQlyYWluUGFydC5UcmFuc3BhcmVuY3kgPSAxDQoJCQkJcmFpblBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQkJcmFpblBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlDQoNCgkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpDQoJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUNCgkJCQlyYWluRWZmZWN0LlBhcmVudCA9IHJhaW5QYXJ0DQoNCgkJCQlsb2NhbCBpZ25vcmUgPSB3b3Jrc3BhY2U6V2FpdEZvckNoaWxkKCIuSWdub3JlIikNCgkJCQlyYWluUGFydC5QYXJlbnQgPSBpZ25vcmU6V2FpdEZvckNoaWxkKCIuU2VydmVyRWZmZWN0cyIpDQoNCgkJCQlsb2NhbCBmb3YgPSAyICogbWF0aC50YW4obWF0aC5yYWQoY3VycmVudENBTS5GaWVsZE9mVmlldykgLyAyKQ0KCQkJCWxvY2FsIG5ld1JheSA9IFJheS5uZXcNCgkJCQlsb2NhbCBoZWlnaHQgPSBWZWN0b3IzLm5ldygwLCA1MCwgMCkNCgkJCQlsb2NhbCBkZXB0aCA9IENGcmFtZS5uZXcoMCwgZm92ICogNTAsIC02MCkNCg0KCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQ0KCQkJCQlsb2NhbCByYyA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QobmV3UmF5KGN1cnJlbnRDQU0uQ0ZyYW1lLnAsIGhlaWdodCksIHtpZ25vcmV9KQ0KDQoJCQkJCWlmIChyYykgdGhlbg0KCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gZmFsc2UNCgkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAwLjUNCgkJCQkJCXJldHVybg0KCQkJCQllbmQNCg0KCQkJCQlsb2NhbCB2aWV3cG9ydCA9IGN1cnJlbnRDQU0uVmlld3BvcnRTaXplDQoJDQoJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyhmb3YgKiB2aWV3cG9ydC54IC8gdmlld3BvcnQueSAqIDUwLCAwLjIsIDEwMCkNCgkJCQkJcmFpblBhcnQuQ0ZyYW1lID0gY3VycmVudENBTS5DRnJhbWUgKiBkZXB0aA0KCQ0KCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQ0KCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSB0cnVlDQoJDQoJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxDQoJCQkJZW5kKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNCkgPT0gKHByZWZpeCAuLiAiZml4IikgdGhlbg0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikgdGhlbg0KCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpLlZpc2libGUgPSBmYWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRml4aW5nIHRoZSBNZW51IEdVSSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMykgPT0gKHByZWZpeCAuLiAiYnV0dG9uaGVpZ2h0IikgdGhlbg0KCQkJCWJ1dHRvbkhlaWdodCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKQ0KCQkJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCBidXR0b25IZWlnaHQpDQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkNCg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gaGVpZ2h0IHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkgLi4gIiEiDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbg0KCQkJCWJ1dHRvbkdhcCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKQ0KCQkJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCBidXR0b25HYXApDQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkNCg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gZ2FwIHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkgLi4gIiEiDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSB0aGVuDQoJCQkJcmVqb2luKCkNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmVqb2luaW5nLi4uIg0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiYXVyYS9vZmYiKSB0aGVuDQoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikNCg0KCQkJCWlmIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIikgdGhlbg0KCQkJCQlnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpOkRlc3Ryb3koKQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBoYXMgYmVlbiByZW1vdmVkLiINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGRvZXMgbm90IGV4aXN0ISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDE0KSA9PSAocHJlZml4IC4uICJ0YXJnZXRzZXR0aW5nIikgdGhlbg0KCQkJCXRhcmdldFNldHRpbmcgPSBzdHJpbmcuc3ViKHRleHQsIDE2KQ0KDQoJCQkJcmVwZWF0DQoJCQkJCWlmIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gc2VsZWN0ISINCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGNsb3Nlc3QhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gZmFydGhlc3QhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGxvd2hwISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gaGlnaGhwISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0oZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0Ig0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIERpZCB5b3Ugc3BlY2lmeSBzZWxlY3QsIGNsb3Nlc3QsIGZhcnRoZXN0LCBsb3docCwgb3IgaGlnaGhwPyBTZXR0aW5nIGhhcyBiZWVuIHNldCB0byBzZWxlY3QuIg0KCQkJCQllbmQNCgkJCQl1bnRpbCB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiDQoNCgkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAibG9vcCIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgbG9vcGluZyA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWxvb3BpbmcgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RhcnRlZCBsb29waW5nIGF0dGFja3MhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlsb29waW5nID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGxvb3BpbmcgYXR0YWNrcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJbG9vcGluZyA9IG5vdCBsb29waW5nDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT04iDQoJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPRkYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBsb29waW5nIGF0dGFja3MgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoNCgkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCXdoaWxlIGxvb3BpbmcgZG8NCgkJCQkJCWV4cGxvaXQoKQ0KCQkJCQkJd2FpdCgpDQoJCQkJCWVuZA0KCQkJCQlyZXR1cm4NCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1bmJyZWFrIikgdGhlbg0KCQkJCWJyZWFrYWJsZSA9IGZhbHNlDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4NCgkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQ0KCQkJCXdhaXQoKQ0KCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbg0KCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkNCgkJCQl3YWl0KCkNCgkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlzbWFydEF0dGFjayA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCXNtYXJ0QXR0YWNrID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJc21hcnRBdHRhY2sgPSBub3Qgc21hcnRBdHRhY2sNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPRkYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuDQoJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4NCgkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiINCgkJCQkJd2FpdCgpDQoJCQkJZW5kDQoNCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNykgPT0gIm5vcm1hbCIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IDANCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IDANCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJldmVydGluZy4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJncmF5c2NhbGUiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0xDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJHcmF5c2NhbGluZy4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRodWUiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0yDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgaHVlLi4uIg0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGFsbCIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IC0yDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgYWxsLi4uIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29sb3IgbW9kZSAob3Igbm9uZSBzcGVjaWZpZWQpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJibGFja2Nhc3QiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlibGFja2Nhc3RFbmFibGVkID0gbm90IGJsYWNrY2FzdEVuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGJsYWNrIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJzdHVuIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlzdHVuRW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCXN0dW5FbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlzdHVuRW5hYmxlZCA9IG5vdCBzdHVuRW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9OIg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbw0KCQkJCQkJCWNvbm5lY3Rpb246RGlzYWJsZSgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvDQoJCQkJCQkJY29ubmVjdGlvbjpFbmFibGUoKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBzdHVuICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiZHJ1Z3MiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDkpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWRydWdzRW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZW5hYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgMTApID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWRydWdzRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlkcnVnc0VuYWJsZWQgPSBub3QgZHJ1Z3NFbmFibGVkDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT04iDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGRydWcgbW9kZSAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDExKSA9PSAocHJlZml4IC4uICJtYWdpY2NvbG9yIikgdGhlbg0KCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDEzKQ0KCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykNCg0KCQkJCWlmIChhcmdzWzFdID09ICJ0Iikgb3IgKGFyZ3NbMV0gPT0gIm9uIikgdGhlbg0KCQkJCQlpZiAoY29sb3IxIH49IG5pbCkgYW5kIChjb2xvcjIgfj0gbmlsKSBhbmQgKGNvbG9yMyB+PSBuaWwpIHRoZW4NCgkJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBlbmFibGVkISINCgkJCQkJCWVsc2UNCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb24hIg0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UgbXVzdCBoYXZlIGNvbG9ycyBzZXQgd2l0aCB0aGlzIGNvbW1hbmQgYmVmb3JlIHR1cm5pbmcgaXQgYmFjayBvbiEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiAoYXJnc1sxXSA9PSAiZiIpIG9yIChhcmdzWzFdID09ICJvZmYiKSB0aGVuDQoJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb2xvcnNFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZGlzYWJsZWQhIg0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlhcmdzWzFdID0gdG9udW1iZXIoYXJnc1sxXSkNCgkJCQkJYXJnc1syXSA9IHRvbnVtYmVyKGFyZ3NbMl0pDQoJCQkJCWFyZ3NbM10gPSB0b251bWJlcihhcmdzWzNdKQ0KDQoJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iDQoJCQkJCWVsc2UNCgkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbg0KCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlDQoNCgkJCQkJCQlmb3IgaSA9IDEsIDMsIDEgZG8NCgkJCQkJCQkJaWYgKGFyZ3NbaV0gPCAwKSBvciAoYXJnc1tpXSA+IDI1NSkgdGhlbg0KCQkJCQkJCQkJZXhlY3V0YWJsZSA9IGZhbHNlDQoJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCWlmIGV4ZWN1dGFibGUgPT0gdHJ1ZSB0aGVuDQoJCQkJCQkJCWNvbG9yMSA9IGFyZ3NbMV0NCgkJCQkJCQkJY29sb3IyID0gYXJnc1syXQ0KCQkJCQkJCQljb2xvcjMgPSBhcmdzWzNdDQoNCgkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISINCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiDQoJCQkJCQkJZW5kDQoJCQkJCQllbHNlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIg0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpDQoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbg0KCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkNCgkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApDQoJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQ0KCQkJCQkJCQkJCQl3YWl0KCkNCgkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCg0KCQkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJaWYgKGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4NCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbg0KCQkJCQkJCQkJCXYuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbHNlaWYgKGViZ3VpY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4NCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbg0KCQkJCQkJCQkJCXYuVGV4dHVyZSA9ICJodHRwczovL3d3dy5yb2Jsb3guY29tL2Fzc2V0Lz9pZD04NjAzNzY1OTA0Ig0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kKQ0KCQkJCQllbmQpDQoNCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCWlmIGQ6SXNBKCJQYXJ0aWNsZUVtaXR0ZXIiKSB0aGVuCQkJDQoJCQkJCQkJCXdoaWxlIHRydWUgZG8NCgkJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuDQoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ew0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKSwNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSkNCgkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApDQoJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7DQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpLA0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKQ0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCXdhaXQoKQ0KCQkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kKQ0KCQkJCQllbmQpDQoJCQkJZW5kKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAiaGVhbCIpIHRoZW4NCgkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCA3KQ0KCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykNCg0KCQkJCWlmIGFyZ3NbMV0gdGhlbgkJCQkNCgkJCQkJaWYgKCMoZmluZFBsYXllcihhcmdzWzFdKSkgPT0gMSkgdGhlbg0KCQkJCQkJd2FybigiYXR0ZW1wdGluZyBoZWFsIG9uICIgLi4gZmluZFBsYXllcihhcmdzWzFdKVsxXSkNCgkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdDQoJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyDQoNCgkJCQkJCWlmIGNociB0aGVuDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkhlYWxpbmcgIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdIC4uICIuLi4iDQoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IikNCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIpDQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDIpID09IChwcmVmaXggLi4gImUiKSB0aGVuDQoJCQkJbG9jYWwgcGhhc2UgPSBzdHJpbmcuc3ViKHRleHQsIDQpDQoNCgkJCQlpZiB0b251bWJlcihwaGFzZSkgfj0gbmlsIHRoZW4NCgkJCQkJcGhhc2UgPSBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkNCg0KCQkJCQlpZiAocGhhc2UgPT0gMSkgb3IgKHBoYXNlID09IDIpIG9yIChwaGFzZSA9PSAzKSB0aGVuDQoJCQkJCQlFY2hvZXNQaGFzZSA9IHBoYXNlDQoNCgkJCQkJCWxvY2FsIG1vZGUgPSAiIg0KDQoJCQkJCQlpZiBFY2hvZXNQaGFzZSA9PSAxIHRoZW4NCgkJCQkJCQltb2RlID0gIihTVEFSKSINCgkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAyIHRoZW4NCgkJCQkJCQltb2RlID0gIihGTEFNRSkiDQoJCQkJCQllbHNlaWYgRWNob2VzUGhhc2UgPT0gMyB0aGVuDQoJCQkJCQkJbW9kZSA9ICIoU0hPQ0spIg0KCQkJCQkJZW5kDQoNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgaGFzIGJlZW4gY2hhbmdlZCEgIiAuLiBtb2RlDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQaGFzZSBpcyBpbnZhbGlkISBNdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgMy4iDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJjaGFuZ2Vsb2ciKSB0aGVuDQoJCQkJLS0gVGFnOiBDSE5HTEcNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRG9uZSEgSGl0IEN0cmwrRjkgdG8gdmlldy4iDQoJCQkJd2FybigiUm9ibG94IGlzIGR1bWIgYW5kIGRvZXNuJ3QgYWxsb3cgbWUgdG8gbG9hZCBhIHN0cmluZyB3aXRoIG11bHRpcGxlIGxpbmVzIGhlcmUuIikNCgkJCQlwcmludCgiQ2hlY2sgaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L2ZGRHBHTUFyIHRvIHNlZSB0aGUgY2hhbmdlbG9nLiIpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJvcmlnaW4iKSB0aGVuDQoJCQkJeHBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJbG9jYWwgb3JpZ2luID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCgkJCQkJb3JpZ2luLkFuY2hvcmVkID0gdHJ1ZQ0KCQkJCQlvcmlnaW4uUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXQ0KCQkJCQlvcmlnaW4uTmFtZSA9ICJPcmlnaW4iDQoJCQkJCW9yaWdpbi5NYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuTmVvbg0KCQkJCQlvcmlnaW4uQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJSZWFsbHkgcmVkIikNCgkJCQkJb3JpZ2luLlNpemUgPSBWZWN0b3IzLm5ldygwLjUsIDAuNSwgMC41KQ0KCQkJCQlvcmlnaW4uUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAwLCAwKQ0KCQkJCQl3YXJuKCJNYWRlIGEgYmxvY2sgYXQgdGhlIG9yaWdpbiEiKQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2VzcyEgQ2hlY2sgY29uc29sZSBmb3IgbW9yZSBpbmZvIg0KCQkJCWVuZCwgZnVuY3Rpb24oZSkNCgkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQ0KCQkJCQl3YXJuKCd0cmFjZWJhY2s6JywgZGVidWcudHJhY2ViYWNrKCkpDQoJCQkJZW5kKQ0KCQkJLS1bW2Vsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJlYmd1aWNhc3QiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBlYmd1aWNhc3RFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR1VJIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWViZ3VpY2FzdEVuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHVUkgY2FzdGluZyBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGViZ3VpY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR1VJIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQllYmd1aWNhc3RFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkdVSSBjYXN0aW5nIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQllYmd1aWNhc3RFbmFibGVkID0gbm90IGViZ3VpY2FzdEVuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgZWJndWljYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIEVCR1VJIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kXV0NCiAgICAgICAgICAgIGVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuDQogICAgICAgICAgICAgICAgd2FybigiUm9ibG94IGlzIGR1bWIgYW5kIGlzbid0IGZvcm1hdHRpbmcgbXVsdGlsaW5lIHN0cmluZ3MgcmlnaHQuIikNCiAgICAgICAgICAgICAgICBwcmludCgiRm9yIG5vdywgY2hlY2sgaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L1k3NEdpaEd5IHRvIHNlZSB0aGUgZnVsbCBsaXN0IG9mIGNvbW1hbmRzLiIpDQogICAgICAgICAgICAgICAgY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvbmUhIEhpdCBDdHJsK0Y5IHRvIHZpZXcuIg0KICAgICAgICAgICAgZW5kDQoNCgkJCXdhaXQoMS41KQ0KCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJZWxzZQ0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCWVuZA0KCQllbHNlDQoJCQlsb2NhbCBtYXRjaGVzID0gZmluZFBsYXllcih0ZXh0KQ0KDQoJCQlpZiAjbWF0Y2hlcyA9PSAxIHRoZW4NCgkJCQl0YXJnZXQgPSBtYXRjaGVzWzFdDQoJCQkJaWYgbWF0Y2hlc1sxXSA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIJCQkJCQkNCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gbWF0Y2hlc1sxXQ0KCQkJCWVuZA0KCQkJCXdhaXQoMSkNCgkJCWVsc2UNCgkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJCXdhcm4oIlRhcmdldCBub3QgZm91bmQhIERvIG11bHRpcGxlIHBsYXllcnMgaGF2ZSB0aGF0IHNhbWUgc3Vic3RyaW5nIGluIHRoZWlyIG5hbWVzPyIpDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgVGFyZ2V0ISBUeXBlIHRoZWlyIG5hbWUgYWdhaW4uIg0KCQkJCXdhaXQoMS41KQ0KCQkJCWlmIHRhcmdldCA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLlBsYXllclJlbW92aW5nOmNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQ0KCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbg0KCQkJdGFyZ2V0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUNCgkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChUYXJnZXQgUlFlZCEpIg0KCQllbmQNCgllbmQpDQoNCgljb21tYW5kQm94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKGVudGVyUHJlc3NlZCkNCgkJaWYgZW50ZXJQcmVzc2VkIHRoZW4NCgkJCWlmIGNvbW1hbmRCb3guVGV4dCB+PSAiIiB0aGVuDQoJCQkJaW5wdXRCb3goKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpDQoJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIChtYXRoLmNlaWwoI2J1dHRvbnMgKiAzNykgLyAyKSAtIDcpDQoJZW5kKSkNCg0KCS0tIEJyZWFraW5nIFNjcmlwdCBVc2Vycw0KDQoJYnJlYWthYmxlID0gdHJ1ZQ0KDQoJbG9jYWwgYnJlYWtVc2VycyA9IHsNCgkJMTg2NDM4MDU4MSwNCgkJMTgyMTMzMjkzLA0KCQkyOTc2MTUyMzEsDQoJCTExMjgxMTQ5NDQsDQoJCTE5NTY0MTMwNzksDQoJCTMxMTAyNzIwNCwNCgkJMTkwMzE2NTQwNSwNCgkJMTkzMzczNDk1NiwNCgkJMTgxMjA1MzYzMiwNCgkJMTkwNjMxMTkwMiwNCgkJMTk5MzIyNDcyNCwNCgkJMTk0NDUzMTY2NSwNCgkJMTA4MDQ1MDIzDQoJfQ0KDQoJbG9jYWwgb25jaGF0ID0gZnVuY3Rpb24ocGxyLCBtc2cpDQoJCWxvY2FsIGFsbG93ZWQgPSBmYWxzZQ0KCQlmb3IgXywgdXNlciBpbiBwYWlycyhicmVha1VzZXJzKSBkbw0KCQkJaWYgcGxyLk5hbWUgPT0gdXNlciB0aGVuDQoJCQkJYWxsb3dlZCA9IHRydWUNCgkJCWVuZA0KCQllbmQNCg0KCQlsb2NhbCBwcmVmaXggPSAiOyINCg0KCQlpZiBzdHJpbmcuc3ViKG1zZywgMSwgNykgPT0gKHByZWZpeCAuLiAiYnJlYWsgIikgdGhlbg0KCQkJbG9jYWwgbWF0Y2hlcyA9IHt9DQoNCgkJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJbG9jYWwgbmFtZSA9IFBsYXllci5OYW1lDQoJCQkJbXNnID0gc3RyaW5nLmxvd2VyKHN0cmluZy5zdWIobXNnLCA4KSkNCgkJCQluYW1lID0gc3RyaW5nLmxvd2VyKG5hbWUpDQoJCQkJbG9jYWwgdGVybSA9IHN0cmluZy5zdWIobmFtZSwgMSwgc3RyaW5nLmxlbihuYW1lKSkNCg0KCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQodGVybSwgbXNnKQ0KDQoJCQkJaWYgbWF0Y2ggdGhlbg0KCQkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpDQoJCQkJZW5kDQoJCQllbmQNCg0KCQkJaWYgbWF0Y2hlc1sxXSA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSBhbmQgYnJlYWthYmxlIGFuZCBhbGxvd2VkIHRoZW4NCgkJCQl3aGlsZSB0cnVlIGRvDQoNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWZvciBpLCB2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldFBsYXllcnMoKSkgZG8NCgkJdi5DaGF0dGVkOkNvbm5lY3QoZnVuY3Rpb24obXNnKQ0KCQkJb25jaGF0KHYsIG1zZykNCgkJZW5kKQ0KCWVuZA0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpDQoJCQlvbmNoYXQodiwgbXNnKQ0KCQllbmQpDQoJZW5kKQ0KDQoJLS0gRXhwbG9pdHMNCg0KCWxvY2FsIGZ1bmN0aW9uIGZmKCkNCgkJaWYgc21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuDQoJCQlpZiBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJcmV0dXJuIGZhbHNlDQoJCQllbHNlDQoJCQkJcmV0dXJuIHRydWUNCgkJCWVuZA0KCQllbHNlDQoJCQlyZXR1cm4gdHJ1ZQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIGV4cGxvaXQoKQ0KCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXINCg0KCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJZW5kDQoNCgkJaWYgVmluZVRyYXBFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQllbmQNCg0KCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCWVuZA0KDQoJCWlmIEx1bWlub3VzRGlzcGVyc2lvbkVuYWJsZWQgYW5kIExEUmFkaXVzIH49IG5pbCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiTHVtaW5vdXMgRGlzcGVyc2lvbiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiTHVtaW5vdXMgRGlzcGVyc2lvbiIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiwgUmFkaXVzID0gTERSYWRpdXN9KQ0KCQllbmQNCg0KCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50Iiwge0xhc3RQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkNCgkJZW5kDQoNCgkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQ0KCQllbmQNCg0KCQlpZiBHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMTUsIDApKQ0KCQllbmQNCg0KCQlpZiBBbWF1cm90aWNMYW1iZW50RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIsIHtwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDE1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEdlbmVzaXNSYXlFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCB7bHYgPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgY2hhcmdlID0gR1JDaGFyZ2V9KQ0KCQllbmQNCg0KCQlpZiBUaGVXb3JsZEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHtyaGl0ID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQsIG5vcm0gPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgcnBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgUG9sYXJpc0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBDb250cm9sbGVkRWNob2VzRW5hYmxlZCBhbmQgRWNob2VzUGhhc2Ugfj0gbmlsIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgbW91c2UuSGl0LnB9KQ0KCQllbmQNCg0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkNCgkJZW5kDQoNCgkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIsIHtEaXJlY3Rpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIEZsb29yID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lfSkNCgkJCXdhaXQoMTcuNSkNCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlDQoJCQllbmQNCgkJZW5kDQoNCgkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIiwge1Bvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCA1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTcGxpdHRpbmdTbGltZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpDQoJCWVuZA0KDQoJCWlmIFZpcnR1YWxab25lRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24sIFZlY3RvcjMubmV3KDAsIDAsIDApfSkNCgkJZW5kDQoJZW5kDQoNCgktLSBVSVMNCg0KCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpDQoJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UNCg0KCVVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQ0KCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4NCgkJCWlmIG5vdCBncCB0aGVuDQoJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyDQoNCgkJCQlpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrU2xhc2ggdGhlbg0KCQkJCQljb21tYW5kQm94OkNhcHR1cmVGb2N1cygpDQoJCQkJCXdhaXQoKQ0KCQkJCQlpZiBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkpID09ICJcXCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveC5UZXh0ID0gc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIDEsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSAtIDEpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4NCgkJCQkJZXhwbG9pdCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbg0KCQkJCQlUUFRvVGFyZ2V0KCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTSB0aGVuDQoJCQkJCWlmIENCcmluZ1RhcmdldEVuYWJsZWQgdGhlbg0KCQkJCQkJYnJpbmdQbGF5ZXIodGFyZ2V0KQ0KCQkJCQllbmQNCgkJCQktLWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5FcXVhbHMgdGhlbg0KCQkJCS0tCXBpbmdUcmFja2VyLlZpc2libGUgPSBub3QocGluZ1RyYWNrZXIuVmlzaWJsZSkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuDQoJCQkJCUFudGlCbGluZEZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4NCgkJCQkJYmVnaW5TcGVlZCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbg0KCQkJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkIHRoZW4NCgkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUCB0aGVuDQoJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbg0KCQkJCQkJaWYgZ2FtZS5QbGFjZUlkID09IDU2NjM5OTI0NCBvciBnYW1lLlBsYWNlSWQgPT0gMjU2OTYyNTgwOSB0aGVuDQoJCQkJCQkJbG9jYWwgU2Fuc1BvcyA9IENGcmFtZS5uZXcoLTE2ODUuOTEwNTIsIDIzMC4wMzUxMjYsIC0xODEuNzk4MjY0KQ0KCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkNCg0KCQkJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBTYW5zUG9zICogU2Fuc0FuZ2xlcw0KCQkJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQkJCQkJd2FpdCgxKQ0KCQkJCQkJCWlmIG5vdCBGcmVlemVFbmFibGVkIHRoZW4NCgkJCQkJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJCQkJCQllbmQNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuDQoJCQkJCWJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkcgdGhlbg0KCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5KIHRoZW4NCgkJCQkJaWYgQ2xpY2tUUEVuYWJsZWQgdGhlbg0KCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5GIHRoZW4NCgkJCQkJRnJlZXplRnVuYygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2txdW90ZSB0aGVuDQoJCQkJCWlmIEZsYXNoRW5hYmxlZCB0aGVuDQoJCQkJCQlsb25nZmxhc2goKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuViB0aGVuDQoJCQkJCXZpZXcoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CIHRoZW4NCgkJCQkJdG9nZ2xlRVNQKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbg0KCQkJCQlpZiBub3QgY2xvc2VkZm9yZXZlciB0aGVuDQoJCQkJCQlpZiBub3QgYnV0dG9uc2RlYm91bmNlIHRoZW4NCgkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlDQoJCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlDQoJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksDQoJCQkJCQkJCQkiT3V0IiwNCgkJCQkJCQkJCSJRdWFkIiwNCgkJCQkJCQkJCTEsDQoJCQkJCQkJCQl0cnVlDQoJCQkJCQkJCSkNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSBmYWxzZQ0KCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLA0KCQkJCQkJCQkJIkluIiwNCgkJCQkJCQkJCSJRdWFkIiwNCgkJCQkJCQkJCTEsDQoJCQkJCQkJCQl0cnVlDQoJCQkJCQkJCSkNCgkJCQkJCQllbmQNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4NCgkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQ0KCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiT3V0IiwNCgkJCQkJCQkiUXVhZCIsDQoJCQkJCQkJMSwNCgkJCQkJCQl0cnVlDQoJCQkJCQkpDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiSW4iLA0KCQkJCQkJCSJRdWFkIiwNCgkJCQkJCQkxLA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJZW5kDQoJCQkJCXdhaXQoMSkNCgkJCQkJY29tbWFuZGRlYm91bmNlID0gZmFsc2UNCgkJCQllbHNlaWYgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuTGVmdCkgYW5kIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLlJpZ2h0KSB0aGVuDQoJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwNCgkJCQkJCQkiSW4iLA0KCQkJCQkJCSJRdWFkIiwNCgkJCQkJCQkxLA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiSW4iLA0KCQkJCQkJCSJRdWFkIiwNCgkJCQkJCQkxLA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJCXdhaXQoMSkNCgkJCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlDQoJCQkJCQllYmdndWk6RGVzdHJveSgpDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNjcmlwdHMgYW5kIEZ1bmN0aW9ucyBFTkQNCg0KCS0tIEVudHJhbmNlIEFuaW1hdGlvbg0KDQoJd2FpdCgwLjUpDQoNCglidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksDQoJCSJPdXQiLA0KCQkiUXVhZCIsDQoJCTEsDQoJCXRydWUNCgkpDQoNCgljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLA0KCQkiT3V0IiwNCgkJIlF1YWQiLA0KCQkxLA0KCQl0cnVlDQoJKQ0KDQoJLS0gSW5mbw0KDQoJd2FybigiR1VJIHN1Y2Nlc3NmdWxseSBsb2FkZWQhIikNCmVuZA=="