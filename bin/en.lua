encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CQp9Cgpsb2NhbCBtYXN0ZXJsaXN0ID0gewoJIjYzMzA1NzVlLThiOWMtNGZiNi1hNDJkLWJhYTU1NTZiNmU5OSIKfQoKbG9jYWwgZ29sZGxpc3QgPSB7CgkiZ29sZF8xMDIwMjJfU2lsbHlUZWFjdXBfMTY4NTQ5Igp9Cgpsb2NhbCBwbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKbG9jYWwgcGxheWVyID0gcGxheWVycy5Mb2NhbFBsYXllcgpsb2NhbCBJRCA9IHBsYXllci5Vc2VySWQKbG9jYWwgaXNCbG9ja2VkID0gZmFsc2UKbG9jYWwgaXNNYXN0ZXIgPSBmYWxzZQpsb2NhbCBpc0dvbGQgPSBmYWxzZQpsb2NhbCB2ZXJOdW0gPSAidjIuMTIiCgpmb3IgaSx2IGluIHBhaXJzKGdvbGRsaXN0KSBkbwoJaWYgbm90IEVCR3VpR29sZCB0aGVuIGVsc2VpZiBFQkd1aUdvbGQgPT0gdiB0aGVuCgkJaXNHb2xkID0gdHJ1ZQoJCWJyZWFrCgllbmQKZW5kCgpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8KICAgIGlmIHYgPT0gSUQgdGhlbgogICAgICAgIGlzQmxvY2tlZCA9IHRydWUKICAgICAgICBicmVhawogICAgZW5kCmVuZAoKZm9yIGksdiBpbiBwYWlycyhtYXN0ZXJsaXN0KSBkbwogICAgaWYgdjpsb3dlcigpID09IGNsaWVudGlkIHRoZW4KICAgICAgICBpc01hc3RlciA9IHRydWUKICAgICAgICBicmVhawogICAgZW5kCmVuZAoKaWYgaXNCbG9ja2VkIHRoZW4KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICBUaGlzIGFjY291bnQgaGFzIGJlZW4gYmxvY2tlZC4gICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgUGxlYXNlIHZpc2l0IHRoZSBFQkd1aSBEaXNjb3JkIGZvciBtb3JlIGluZm9ybWF0aW9uLiAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5EZWZhdWx0Q2hhdFN5c3RlbUNoYXRFdmVudHMuU2F5TWVzc2FnZVJlcXVlc3Q6RmlyZVNlcnZlcigiSSBqdXN0IHRyaWVkIHRvIHR1cm4gb24gZXhwbG9pdHMgd2hpbGUgYmVpbmcgYmxvY2tlZCBmcm9tIHVzaW5nIHRoZSBzY3JpcHQhIEknbSBiaWcsIGZhdCwgYW5kIHN0dXBpZCEiLCJBbGwiKQplbHNlaWYgbm90IChFQkd1aUtleSBvciBpc0Jsb2NrZWQgb3IgaXNNYXN0ZXIgb3IgaXNHb2xkKSB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2VpZiAoRUJHdWlLZXkgfj0gIjEwMjAyMl9Tb3VySGFpcmJhbmRfMDI0OTQ3IiBhbmQgbm90IGlzR29sZCkgYW5kIG5vdCAoaXNCbG9ja2VkIG9yIGlzTWFzdGVyKSB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgIFlvdXIgdW5sb2NrIGtleSBpcyBpbmNvcnJlY3QuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2UKCXhwY2FsbChmdW5jdGlvbigpCgkJbG9jYWwgZHVtYlF1b3RlcyA9IHsKCQkJIkplZXosIHdoZW4nZCBpdCBnZXQgc28gaG90IGluIGhlcmU/IiwKCQkJIklzIGl0IGp1c3QgbWUgb3IgaXMgdGhhdCAqdG9vKiBibHVlPyIsCgkJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLAoJCQkiRGVleiBudXRzIGFyZSB0b28gc3F1YXJlISIsCgkJCSJBbHNvIHRyeSBNaW5lY3JhZnQhIiwKCQkJIkFsc28gdHJ5IFRlcnJhcmlhISIsCgkJCSJNZWgsIEkgbGlrZWQgUmlzayBvZiBSYWluIDIgYmV0dGVyLiIsCgkJCSJZb3UgbmVlZCBhIGZhaXJseSBoaWdoIElRIHRvIHVuZGVyc3RhbmQgRUJHdWkuIiwKCQkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwKCQkJIldoYXQgd291bGQgKnlvdSogZG8gZm9yIGEgS2xvbmRpa2UgYmFyPyIsCgkJCSJOb3cgd2l0aCAxMDAlIG1vcmUgR29sZCEiLAoJCQkiTWFkZSBpbiBMdWEhIiwKCQkJIklGICVFUlJPUkxFVkVMJSBFUVUgMSBHT1RPOkVPRiIsCgkJCSJicnVoIG5lcmYgc29sYXIgYWxyZWFkeSIsCgkJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsCgkJCSJQZXRpdGlvbiBZT1VSIGxvY2FsIGRldmVsb3BlciBmb3IgbW9yZSB1cGRhdGVzISIsCgkJCSJ3aHkgYXJlIHlvdSBidXlpbmcgY2xvdGhlcyBhdCB0aGUgc291cCBzdG9yZSIsCgkJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiIsCgkJCSI6KCl7Onw6Jn07OiIsCgkJCSJDOlxcRE9TLiBDOlxcRE9TXFxSVU4gUlVOXFxET1NcXFJVTi4iLAoJCQkiTHVhVTsgQmVjYXVzZSBub3JtYWwgTHVhIHdhcyBqdXN0IHRvbyBlYXN5LiIsCgkJCSJpbGtvLix1eXVraWp5LGhnaHl0ZnJlZTN2Zmd3MzJ3cXF3cSIsCgkJCSJTb3JyeSBmb3IgdGhhdCBvbmUgcXVvdGUuIE15IGNhdCBnb3Qgb24gbXkga2V5Ym9hcmQuIiwKCQkJIkkgZG9uJ3QgYWN0dWFsbHkgaGF2ZSBhIGNhdC4iLAoJCQkiVGhpcyBzZW50ZW5jZSBpcyBmYWxzZS4iLAoJCQkiV2VsbCBub3csICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgZG9uJ3Qgd2UgaGF2ZSBhIHByZWRpY2FtZW50ISIsCgkJCSJKZWUsIEJpbGwsIGhvdyBjb21lIHlvdXIgbW9tIGxldHMgeW91IGhhdmUgVFdPIHdlaW5lcnM/ISIsCgkJCSJJJ2QgbGlrZSB0byB0aGFuayBteSBtb20gYW5kIG15IGRhZCwiLAoJCQkiWSdrbm93IHRoZXkgcmVhbGx5IGdvdHRhIHN0YXJ0IHBhdGNoaW5nIG1vcmUuIiwKCQkJIk5pY2UgdG8gbWVldCB5b3UgUm9zZS4gUnVuIGZvciB5b3VyIGxpZmUhIiwKCQkJIkhvdyBoYXJkIHdvdWxkIGl0IGJlIHRvIGV4cGxvaXQgYSBuZXcgc3BlbGwgaW4/IiwKCQkJIkhvdyBiYWQgY2FuIEkgYmU/IEknbSBqdXN0IGRvaW5nIHdoYXQncyBiZXN0IGZvciB0aGUgZWNvbm9teS4iLAoJCQkiWm9vIHdlZSBtYW1hISIsCgkJCSJXdWJiYSBsdWJiYSBkdWIgZHViISIsCgkJCSJJJ20gZ29ubmEgZ28gZWF0IHdvcm1zLiIsCgkJCSJDYXRzIHN3ZWF0IHRocm91Z2ggdGhlIHBhZHMgb2YgdGhlaXIgcGF3cy4iLAoJCQkiV2hlbiBjYXRzIGFyZSBmaXJzdCBib3JuLCB0aGV5IGhhdmUgYmx1ZSBleWVzLiBPdmVyIHRpbWUsIHRoZSBjb2xvciBjaGFuZ2VzLiIsCgkJCSJUaGUgdG93biBvZiBUYWxrZWV0bmEsIEFsYXNrYSwgaGFkIGEgY2F0IGFzIGEgbWF5b3IgZm9yIDE1IHllYXJzLiIKCQl9CgoJCXdhcm4oW1stLS0tLS0tLS0tLS0tLS0tCgkJCQlfX19fX18gX19fX18gX19fX18gICAgICAgXyAKCQkJCXwgIF9fX3wgX19fIFwgIF9fIFwgICAgIChfKQoJCQkJfCB8X18gfCB8Xy8gLyB8ICBcL18gICBfIF8gCgkJCQl8ICBfX3x8IF9fXyBcIHwgX198IHwgfCB8IHwKCQkJCXwgfF9fX3wgfF8vIC8gfF9cIFwgfF98IHwgfAoJCQkJXF9fX18vXF9fX18vIFxfX19fL1xfXyxffF98IAoJCQkJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLV1dIC4uIHZlck51bSkKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludChkdW1iUXVvdGVzW21hdGgucmFuZG9tKDEsI2R1bWJRdW90ZXMpXSkKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQl3YXJuKCJXZWxjb21lIHRvIEVCR3VpLCAiIC4uIHBsYXllci5OYW1lIC4uICIhIikKCQl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQoJCXdhcm4oIlF1ZXN0aW9ucyBvciBjb25jZXJucz8gTGV0IHVzIGtub3cgaW4gdGhlIERpc2NvcmQsIikKCQl3YXJuKCJvciBlbWFpbCBFYXJ0aCBoaW1zZWxmIGF0IGVhcnRodG9hY2Nlc3NAZ21haWwuY29tISIpCgkJd2FpdCgwLjUpCgkJCgkJaWYgaXNNYXN0ZXIgdGhlbgoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKSAgIAoJCQl3YXJuKCJMb2FkZWQgaW4gdXNpbmcgdGhlIE1hc3RlciBMaXN0ISBPdmVycmlkaW5nIGFjY2VzcyBnaXZlbi4iKQoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCWVuZAoKCQlpZiBpc0dvbGQgdGhlbgoJCQlwcmludChbWwkJCQlfX19fICAgICAgICAgICAgIF9fXyAgICAgIF9fXyAKCQkJNk1NTU1iLyAgICAgICAgICAgYE1NICAgICAgYE1NIAoJCQk4UCAgICBZTSAgICAgICAgICAgIE1NICAgICAgIE1NIAoJCQk2TSAgICAgIFkgICBfX19fXyAgICBNTSAgIF9fX19NTSAKCQkJTU0gICAgICAgICA2TU1NTU1iICAgTU0gIDZNTU1NTU0gCgkJCU1NICAgICAgICA2TScgICBgTWIgIE1NIDZNJyAgYE1NIAoJCQlNTSAgICAgX19fTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJTU0gICAgIGBNJ01NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCVlNICAgICAgTSBNTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQk4YiAgICBkOSBZTS4gICAsTTkgIE1NIFlNLiAgLE1NIAoJCQlZTU1NTTkgICBZTU1NTU05ICBfTU1fIFlNTU1NTU1fXV0pCgkJCXdhcm4oIlRoYW5rIHlvdSBmb3IgYmVpbmcgYSBHT0xERU4gbWVtYmVyISIpCgkJCXdhcm4oJ0Vuam95IHRoZSB2YXJpb3VzICJvdmVycG93ZXJlZCIgc2NyaXB0cyB3ZSBoYXZlIGluIHN0b3JlIScpCgkJZW5kCgoJCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zCgoJCWxvY2FsIGViZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQoJCWViZ3VpLk5hbWUgPSAiZWJndWkiCgkJZWJndWkuUGFyZW50ID0gZ2FtZTpXYWl0Rm9yQ2hpbGQoIkNvcmVHdWkiKQoKCQlnYW1lLkNvcmVHdWkuQ2hpbGRSZW1vdmVkOmNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCgkJCWlmIGNoaWxkLk5hbWUgPT0gImViZ3VpIiB0aGVuCgkJCQljbG9zZWRmb3JldmVyID0gdHJ1ZQoJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQlVSVMgPSBuaWwKCQkJCWJyZWFrYWJsZSA9IHRydWUKCQkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IG5pbAoJCQkJVmluZVRyYXBFbmFibGVkID0gbmlsCgkJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gbmlsCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gbmlsCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gbmlsCgkJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IG5pbAoJCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBuaWwKCQkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBuaWwKCQkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBuaWwKCQkJCVRoZVdvcmxkRW5hYmxlZCA9IG5pbAoJCQkJUG9sYXJpc0VuYWJsZWQgPSBuaWwKCQkJCUxhZ1NlcnZlckVuYWJsZWQgPSBuaWwKCQkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBuaWwKCQkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gbmlsCgkJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBuaWwKCQkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IG5pbAoJCQkJU2V3ZXJCdXJzdEVuYWJsZWQgPSBuaWwKCQkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gbmlsCgkJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBuaWwKCQkJCVZpcnR1YWxab25lRW5hYmxlZCA9IG5pbAoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbAoJCQkJQW50aUxhZ0VuYWJsZWQgPSBuaWwKCQkJCVNwZWVkaGFja0VuYWJsZWQgPSBuaWwKCQkJCUhvbG9iZWFtRW5hYmxlZCA9IG5pbAoJCQkJU2V0U3BlZWQgPSBuaWwKCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gbmlsCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwKCQkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IG5pbAoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBuaWwKCQkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwKCQkJCXZpZXdpbmcgPSBuaWwKCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJRVNQRW5hYmxlZCA9IG5pbAoJCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbAoJCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IG5pbAoJCQkJVmlnb3JIYWNrRW5hYmxlZCA9IG5pbAoJCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gbmlsCgkJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gbmlsCgkJCQlEb3VibGVSYXlFbmFibGVkID0gbmlsCgkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IG5pbAoJCQkJRGFya0FvZUVuYWJsZWQgPSBuaWwKCQkJCUh5cGVyYW5nRW5hYmxlZCA9IG5pbAoJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IG5pbAoJCQkJUmVhcGVyVWx0RW5hYmxlZCA9IG5pbAoJCQkJQWltYm90RW5hYmxlZCA9IG5pbAoJCQkJVGVjaERpc2NFbmFibGVkID0gbmlsCgkJCQktLUVTUE1heERpc3QgPSBuaWwKCQkJCS0tRVNQTURFbmFibGVkID0gbmlsCgkJCQlBbHRGYXJtRW5hYmxlZCA9IG5pbAoJCQkJU29sYXJCdWdFbmFibGVkID0gbmlsCgkJCWVuZAoJCWVuZCkKCgkJbG9jYWwgbW91c2UgPSBwbGF5ZXI6R2V0TW91c2UoKQoKCQlsb2NhbCBib3JkZXJzID0ge30KCgkJbG9jYWwgYnV0dG9uc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQlidXR0b25zbWFpbi5OYW1lID0gImJ1dHRvbnNtYWluIgoJCWJ1dHRvbnNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApCgkJYnV0dG9uc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDAuMjI1LCAwKQoJCXRhYmxlLmluc2VydChib3JkZXJzLCBidXR0b25zbWFpbikKCgkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UKCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoKCgkJLS1pZiAoaW5pdGlhdGlvbk1vZGUgPT0gIk1vZGVybiIpIHRoZW4KCQlsb2NhbCBjb21tYW5kc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQljb21tYW5kc21haW4uTmFtZSA9ICJjb21tYW5kc21haW4iCgkJY29tbWFuZHNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApCgkJY29tbWFuZHNtYWluLlNpemUgPSBVRGltMi5uZXcoMC4zLCAwLCAwLjE3NSwgMCkKCQl0YWJsZS5pbnNlcnQoYm9yZGVycywgY29tbWFuZHNtYWluKQoJCS0tZW5kCgoJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJY29tbWFuZHNvcGVuZWQgPSB0cnVlCgoJCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQoKCQlsb2NhbCBmcmFtZXMgPSB7fQoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBidXR0b25zLgoJCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNmcmFtZS5OYW1lID0gImJ1dHRvbnNmcmFtZSIKCQlidXR0b25zZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQoJCWJ1dHRvbnNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWJ1dHRvbnNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJYnV0dG9uc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJYnV0dG9uc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCWJ1dHRvbnNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkKCQl0YWJsZS5pbnNlcnQoZnJhbWVzLCBidXR0b25zZnJhbWUpCgkJYnV0dG9uc2ZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluCgoJCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGNvbW1hbmQgYm94LgoJCWxvY2FsIGNvbW1hbmRzZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQljb21tYW5kc2ZyYW1lLk5hbWUgPSAiY29tbWFuZHNmcmFtZSIKCQljb21tYW5kc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZHNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpCgkJY29tbWFuZHNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRzZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWNvbW1hbmRzZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJY29tbWFuZHNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkKCQl0YWJsZS5pbnNlcnQoZnJhbWVzLCBjb21tYW5kc2ZyYW1lKQoJCWNvbW1hbmRzZnJhbWUuUGFyZW50ID0gY29tbWFuZHNtYWluCgoJCS0tIENvbW1hbmQgYm94LiBUaGlzIGlzIHdoZXJlIHVzZXJzIHR5cGUgaW4gY29tbWFuZHMgYW5kIHRhcmdldHMuCgkJbG9jYWwgY29tbWFuZEJveCA9IEluc3RhbmNlLm5ldygiVGV4dEJveCIpCgkJY29tbWFuZEJveC5OYW1lID0gImNvbW1hbmRCb3giCgkJY29tbWFuZEJveC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRCb3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1LCA0MCwgNDApCgkJY29tbWFuZEJveC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRCb3guQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWNvbW1hbmRCb3guUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjMsIDApCgkJY29tbWFuZEJveC5TaXplID0gVURpbTIubmV3KDAuODUsIDAsIDAuMjAsIDApCgkJY29tbWFuZEJveC5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCWNvbW1hbmRCb3guVGV4dCA9ICIiCgkJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQljb21tYW5kQm94LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlCgkJY29tbWFuZEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKCQljb21tYW5kQm94LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJbG9jYWwgbGFiZWxzID0ge30KCgkJLS0gVGhlIG91dHB1dCBmb3IgdGhlIGNvbW1hbmQgYm94LCBBS0EgdGhlIHdoaXRlIHRleHQgYmVsb3cgdGhhdCBsaXN0cyB5b3VyIHRhcmdldC4KCQlsb2NhbCBjb21tYW5kQm94T3V0cHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCWNvbW1hbmRCb3hPdXRwdXQuTmFtZSA9ICJjb21tYW5kQm94T3V0cHV0IgoJCWNvbW1hbmRCb3hPdXRwdXQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCWNvbW1hbmRCb3hPdXRwdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjYsIDApCgkJY29tbWFuZEJveE91dHB1dC5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yLCAwKQoJCWNvbW1hbmRCb3hPdXRwdXQuRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJY29tbWFuZEJveE91dHB1dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQljb21tYW5kQm94T3V0cHV0LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveE91dHB1dC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgY29tbWFuZEJveE91dHB1dCkKCQljb21tYW5kQm94T3V0cHV0LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIGluZm9ybWF0aW9uIGFib3ZlIHRoZSBidXR0b25zLCBlLmcuIHVzZXIncyBuYW1lLCBjaGFubmVsCgkJbG9jYWwgRGV0YWlscyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzLk5hbWUgPSAiRGV0YWlscyIKCQlEZXRhaWxzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlscy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wMTUsIC02KQoJCURldGFpbHMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQoJCURldGFpbHMuRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQlpZiBub3QgaXNHb2xkIHRoZW4KCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIHwgU3RhYmxlIgoJCWVsc2UKCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIEdvbGQgfCBTdGFibGUiCgkJZW5kCgkJRGV0YWlscy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQlEZXRhaWxzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlscy5aSW5kZXggPSA1CgkJRGV0YWlscy5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHMuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlscykKCQlEZXRhaWxzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgY29tbWFuZCBib3guCgkJbG9jYWwgRGV0YWlsczIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczIuTmFtZSA9ICJEZXRhaWxzMiIKCQlEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCURldGFpbHMyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjksIC0xMCkKCQlEZXRhaWxzMi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlsczIuRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQlEZXRhaWxzMi5UZXh0ID0gIlByZXNzIF0gdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIgoJCURldGFpbHMyLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCURldGFpbHMyLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczIuVGV4dFNpemUgPSAxNC4wMDAKCQlEZXRhaWxzMi5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMikKCQlEZXRhaWxzMi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBidXR0b25zLgoJCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMzLk5hbWUgPSAiRGV0YWlsczMiCgkJRGV0YWlsczMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzMy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjg3NSwgMCkKCQlEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIC0xMCkKCQlEZXRhaWxzMy5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCURldGFpbHMzLlRleHQgPSAiUHJlc3MgWyB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iCgkJRGV0YWlsczMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJRGV0YWlsczMuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzMy5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHMzLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMzKQoJCURldGFpbHMzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSBTY3JpcHQgdGVybWluYXRpb24gaW5zdHJ1Y3Rpb25zLgoJCWxvY2FsIERldGFpbHM0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHM0Lk5hbWUgPSAiRGV0YWlsczQiCgkJRGV0YWlsczQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczQuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzNC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAxLjEsIDApCgkJRGV0YWlsczQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE3NSwgMCkKCQlEZXRhaWxzNC5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCURldGFpbHM0LlRleHQgPSAiSG9sZCB0aGUgTGVmdCBhbmQgUmlnaHQgYXJyb3cga2V5cywgdGhlbiBwcmVzcyBhbnkga2V5IHRvIHF1aXQgRUJHdWkuIgoJCURldGFpbHM0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCURldGFpbHM0LlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczQuVGV4dFNpemUgPSAxNC4wMDAKCQlEZXRhaWxzNC5UZXh0V3JhcHBlZCA9IHRydWUKCQlEZXRhaWxzNC5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gVGhlIHZlcnNpb24gbnVtYmVyIGFib3ZlIHRoZSBjb21tYW5kIGJveC4KCQlsb2NhbCBWZXJzaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCVZlcnNpb24uTmFtZSA9ICJWZXJzaW9uIgoJCVZlcnNpb24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJVmVyc2lvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlWZXJzaW9uLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJVmVyc2lvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjA1LCAwKQoJCVZlcnNpb24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjEsIDApCgkJVmVyc2lvbi5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uICIgLi4gdmVyTnVtCgkJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQlWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlCgkJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMAoJCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikKCQlWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIGJhY2tncm91bmQgZm9yIHRoZSBVSS4KCQlsb2NhbCBtYWluZnJhbWUgPSBJbnN0YW5jZS5uZXcoIlNjcm9sbGluZ0ZyYW1lIikKCQltYWluZnJhbWUuTmFtZSA9ICJtYWluZnJhbWUiCgkJbWFpbmZyYW1lLkFjdGl2ZSA9IHRydWUKCQltYWluZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQ5LCA4MywgODkpCgkJbWFpbmZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJbWFpbmZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCQltYWluZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJbWFpbmZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJbWFpbmZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC44Njc3Njg1ODYsIDAsIDAuNiwgMCkKCQltYWluZnJhbWUuU2Nyb2xsQmFyVGhpY2tuZXNzID0gNgoJCW1haW5mcmFtZS5QYXJlbnQgPSBidXR0b25zbWFpbgoKCQktLSBHcmlkIGxheW91dCBmb3IgdGhlIGJ1dHRvbnMuCgkJbG9jYWwgVUlHcmlkTGF5b3V0ID0gSW5zdGFuY2UubmV3KCJVSUdyaWRMYXlvdXQiKQoJCVVJR3JpZExheW91dC5GaWxsRGlyZWN0aW9uID0gRW51bS5GaWxsRGlyZWN0aW9uLkhvcml6b250YWwKCQlVSUdyaWRMYXlvdXQuSG9yaXpvbnRhbEFsaWdubWVudCA9IEVudW0uSG9yaXpvbnRhbEFsaWdubWVudC5DZW50ZXIKCQlVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgNykKCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgMzApCgkJVUlHcmlkTGF5b3V0LlNvcnRPcmRlciA9IEVudW0uU29ydE9yZGVyLkxheW91dE9yZGVyCgkJVUlHcmlkTGF5b3V0LlBhcmVudCA9IG1haW5mcmFtZQoKCgkJLS0gQW5jaG9yaW5nIGZ1bmN0aW9uIGJlY2F1c2UgaSBoYXRlIHR5cGluZwoJCWxvY2FsIGZ1bmN0aW9uIGFuY2hvcihib29sKQoJCQl3YWl0KC43NSkKCQkJaWYgYm9vbCA9PSBmYWxzZSB0aGVuCgkJCQlmb3IgaSx2IGluIHBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSBkbwoJCQkJCWlmIHY6SXNBKCJCYXNlUGFydCIpIGFuZCB2LkFuY2hvcmVkIHRoZW4KCQkJCQkJdi5BbmNob3JlZCA9IGZhbHNlCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZWlmIGJvb2wgPT0gdHJ1ZSB0aGVuCgkJCQlmb3IgaSx2IGluIHBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSBkbwoJCQkJCWlmIHY6SXNBKCJCYXNlUGFydCIpIGFuZCBub3Qgdi5BbmNob3JlZCB0aGVuCgkJCQkJCXYuQW5jaG9yZWQgPSB0cnVlCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSB0aGVuCgkJCQkJCXByaW50KHYuQW5jaG9yZWQpCgkJCQkJCWJyZWFrCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWxvY2FsIGJ1dHRvbnMgPSB7fQoKCQktLS0tLS0gQnV0dG9ucyBmb3IgaGFja3MuCgoJCS0tLS0gQW9FcwoJCS0tIEluc3RhbnQgQmxhemUgQ29sdW1uCgoJCWxvY2FsIEJsYXplQ29sdW1uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCbGF6ZUNvbHVtbi5OYW1lID0gIkJsYXplQ29sdW1uIgoJCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJsYXplQ29sdW1uKQoKCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQoKCQlCbGF6ZUNvbHVtbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQmxhemVDb2x1bW5FbmFibGVkID0gdHJ1ZQoJCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT24pIgoJCQllbHNlCgkJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQoJCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBbXBsaWZpZWQgR2VuZXNpcyBSYXkKCgkJbG9jYWwgR2VuZXNpc1JheSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJR2VuZXNpc1JheS5OYW1lID0gIkdlbmVzaXNSYXkiCgkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR2VuZXNpc1JheSkKCgkJbG9jYWwgR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQoJCWxvY2FsIEdSQ2hhcmdlID0gMSAtLSAxMDAwMDAwCgoJCUdlbmVzaXNSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgR2VuZXNpc1JheUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJR2VuZXNpc1JheUVuYWJsZWQgPSB0cnVlCgkJCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPbikiCgkJCWVsc2UKCQkJCUdlbmVzaXNSYXlFbmFibGVkID0gZmFsc2UKCQkJCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gQ3JlYXRpb24gSG9sZCBIYWNrCgoJCWxvY2FsIENoYWluSG9sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQ2hhaW5Ib2xkLk5hbWUgPSAiQ2hhaW5Ib2xkIgoJCUNoYWluSG9sZC5UZXh0ID0gIihHKSBJbnN0YW50IENoYWluIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENoYWluSG9sZCkKCgkJbG9jYWwgQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IGZhbHNlCgoJCUNoYWluSG9sZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IENyZWF0aW9uSG9sZEVuYWJsZWQgdGhlbgoJCQkJCUNyZWF0aW9uSG9sZEVuYWJsZWQgPSB0cnVlCgkJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCUNyZWF0aW9uSG9sZEVuYWJsZWQgPSBmYWxzZQoJCQkJCUNoYWluSG9sZC5UZXh0ID0gIihHKSBJbnN0YW50IENoYWluIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IFZpbmUgVHJhcAoKCQlsb2NhbCBWaW5lVHJhcCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmluZVRyYXAuTmFtZSA9ICJWaW5lVHJhcCIKCQlWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaW5lVHJhcCkKCgkJVmluZVRyYXBFbmFibGVkID0gZmFsc2UKCgkJVmluZVRyYXAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVmluZVRyYXBFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVZpbmVUcmFwRW5hYmxlZCA9IHRydWUKCQkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9uKSIKCQkJZWxzZQoJCQkJVmluZVRyYXBFbmFibGVkID0gZmFsc2UKCQkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSWxsdXNpdmUgQXRha2UgSGFjawoKCQlsb2NhbCBJbGx1c2l2ZUF0YWtlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJbGx1c2l2ZUF0YWtlLk5hbWUgPSAiSWxsdXNpdmVBdGFrZSIKCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWxsdXNpdmVBdGFrZSkKCgkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBmYWxzZQoKCQlJbGx1c2l2ZUF0YWtlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIElsbHVzaXZlQXRha2VFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gdHJ1ZQoJCQkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBmYWxzZQoJCQkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBNdXJreSBNaXNzaWxlcwoKCQlsb2NhbCBEYXJrQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlEYXJrQW9lLk5hbWUgPSAiRGFya0FvZSIKCQlEYXJrQW9lLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkKCgkJbG9jYWwgRGFya0FvZUVuYWJsZWQgPSBmYWxzZQoKCQlEYXJrQW9lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBEYXJrQW9lRW5hYmxlZCB0aGVuCgkJCQlEYXJrQW9lRW5hYmxlZCA9IHRydWUKCQkJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPbikiCgkJCWVsc2UKCQkJCURhcmtBb2VFbmFibGVkID0gZmFsc2UKCQkJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIgoJCQllbmQKCQllbmQpCgkJCgkJLS0gSW5zdGFudCBBaXIgRGlzcGVyc2lvbgoKCQlsb2NhbCBTdG9ybUFvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3Rvcm1Bb2UuTmFtZSA9ICJTdG9ybUFvZSIKCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3Rvcm1Bb2UpCgoJCWxvY2FsIERpc3BlcnNpb25FbmFibGVkID0gZmFsc2UKCgkJU3Rvcm1Bb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBEaXNwZXJzaW9uRW5hYmxlZCB0aGVuCgkJCQkJRGlzcGVyc2lvbkVuYWJsZWQgPSB0cnVlCgkJCQkJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9uKSIKCQkJCWVsc2UKCQkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlCgkJCQkJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiCgkJCQllbmQJCgkJCWVsc2UKCQkJCVN0b3JtQW9lLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sKCgkJbG9jYWwgU3BsaXR0aW5nU2xpbWUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwbGl0dGluZ1NsaW1lLk5hbWUgPSAiU3BsaXR0aW5nU2xpbWUiCgkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BsaXR0aW5nU2xpbWUpCgoJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlCgoJCVNwbGl0dGluZ1NsaW1lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSB0cnVlCgkJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlCgkJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEFtYXVyb3RpYyBMYW1iZW50IEhhY2sKCgkJbG9jYWwgQW1hdXJvdGljTGFtYmVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW1hdXJvdGljTGFtYmVudC5OYW1lID0gIkFtYXVyb3RpY0xhbWJlbnQiCgkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFtYXVyb3RpY0xhbWJlbnQpCgoJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gZmFsc2UKCgkJQW1hdXJvdGljTGFtYmVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IHRydWUKCQkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gZmFsc2UKCQkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgUGxhc21hIEltcGxvc2lvbgoKCQlsb2NhbCBQbGFzbWFJbXBsb3Npb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVBsYXNtYUltcGxvc2lvbi5OYW1lID0gIlBsYXNtYUltcGxvc2lvbiIKCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBsYXNtYUltcGxvc2lvbikKCgkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IGZhbHNlCgoJCVBsYXNtYUltcGxvc2lvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSB0cnVlCgkJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9uKSIKCQkJZWxzZQoJCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IGZhbHNlCgkJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sKCgkJbG9jYWwgRm9ybWlkYWJsZVJvYXIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZvcm1pZGFibGVSb2FyLk5hbWUgPSAiRm9ybWlkYWJsZVJvYXIiCgkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRm9ybWlkYWJsZVJvYXIpCgoJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlCgoJCUZvcm1pZGFibGVSb2FyLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSB0cnVlCgkJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlCgkJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgU2tlbGV0b24gR3JhYgoKCQlsb2NhbCBTa2VsZXRvbkdyYWIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNrZWxldG9uR3JhYi5OYW1lID0gIlNrZWxldG9uR3JhYiIKCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2tlbGV0b25HcmFiKQoKCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UKCgkJU2tlbGV0b25HcmFiLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFNrZWxldG9uR3JhYkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IHRydWUKCQkJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT24pIFtBSU1FRF0iCgkJCWVsc2UKCQkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBmYWxzZQoJCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIFtBSU1FRF0iCgkJCWVuZAoJCWVuZCkKCgkJLS0gR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrCgoJCWxvY2FsIEdyYXZpdGF0aW9uYWxGaWVsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJR3Jhdml0YXRpb25hbEZpZWxkLk5hbWUgPSAiR3Jhdml0YXRpb25hbEZpZWxkIgoJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQoKCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gZmFsc2UKCgkJR3Jhdml0YXRpb25hbEZpZWxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IHRydWUKCQkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT24pIgoJCQllbHNlCgkJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gZmFsc2UKCQkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IFJvY2sgQXJtb3IKCgkJbG9jYWwgUm9ja0FybW9yID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSb2NrQXJtb3IuTmFtZSA9ICJSb2NrQXJtb3IiCgkJUm9ja0FybW9yLlRleHQgPSAiSW5zdGFudCBSb2NrIEFybW9yIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSb2NrQXJtb3IpCgoJCVJvY2tBcm1vci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJCb2R5IENvbG9ycyIpIHRoZW4KCQkJCXBsYXllci5DaGFyYWN0ZXJbIkJvZHkgQ29sb3JzIl06RGVzdHJveSgpCgkJCWVuZAoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikKCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikKCQllbmQpCgoJCS0tLS0gUGxheWVyIG1vZGlmaWNhdGlvbnMKCQktLSBTbGltZSBCdWRkaWVzIEhhY2sKCgkJbG9jYWwgU2xpbWVCdWRkaWVzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTbGltZUJ1ZGRpZXMuTmFtZSA9ICJTbGltZUJ1ZGRpZXMiCgkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2xpbWVCdWRkaWVzKQoKCQlsb2NhbCBTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UKCgkJU2xpbWVCdWRkaWVzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gdHJ1ZQoJCQkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UKCQkJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5lcnRpYSBHcmF2aXR5CgoJCWxvY2FsIEluZXJ0aWFHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5IgoJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJbmVydGlhR3Jhdml0eSkKCgkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCgkJSW5lcnRpYUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgSW5lcnRpYUdyYXZpdHlFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IHRydWUKCQkJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPbikiCgkJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpCgkJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQlCb2R5Rm9yY2UuTmFtZSA9ICJJbmVydGlhR3Jhdml0eUZvcmNlIgoJCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgMTYzOCwgMCkKCQkJZWxzZQoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCQkJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJJbmVydGlhR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5JbmVydGlhR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJLS0gU3BlY3RyYWwgRW1ib2RpbWVudAoKCQlsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwZWN0cmFsRW1ib2RpbWVudC5OYW1lID0gIlNwZWN0cmFsRW1ib2RpbWVudCIKCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVjdHJhbEVtYm9kaW1lbnQpCgoJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQoKCQlTcGVjdHJhbEVtYm9kaW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gdHJ1ZQoJCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPbikgW1hdIgoJCQllbHNlCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UKCQkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iCgkJCWVuZAoJCWVuZCkKCgkJLS0gQW50aS1CbGluZAoKCQlsb2NhbCBBbnRpQmxpbmQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFudGlCbGluZC5OYW1lID0gIkFudGlCbGluZCIKCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUJsaW5kKQoKCQlBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgbm9ybWFsRm9nQ29sb3IgPSBnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yCgkJbG9jYWwgbm9ybWFsRm9nRW5kID0gZ2FtZS5MaWdodGluZy5Gb2dFbmQKCQlsb2NhbCBub3JtYWxCcmlnaHRuZXNzID0gZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzCgkJbG9jYWwgbm9ybWFsQ2xvY2tUaW1lID0gZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUKCgkJbG9jYWwgZnVuY3Rpb24gQW50aUJsaW5kRnVuYygpCgkJCWlmIEFudGlCbGluZEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IHRydWUKCQkJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9uKSBbS10iCgkJCQl3aGlsZSBBbnRpQmxpbmRFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJZ2FtZS5MaWdodGluZy5Gb2dDb2xvciA9IG5vcm1hbEZvZ0NvbG9yCgkJCQkJZ2FtZS5MaWdodGluZy5Gb2dFbmQgPSBub3JtYWxGb2dFbmQKCQkJCQlnYW1lLkxpZ2h0aW5nLkJyaWdodG5lc3MgPSBub3JtYWxCcmlnaHRuZXNzCgkJCQkJZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUgPSBub3JtYWxDbG9ja1RpbWUKCQkJCWVuZAoJCQllbHNlCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UKCQkJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9mZikgW0tdIgoJCQllbmQKCQllbmQKCgkJQW50aUJsaW5kLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpQmxpbmRGdW5jKQoKCQlwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQoJCQlpZiBBbnRpQmxpbmRFbmFibGVkIHRoZW4KCQkJCWlmIGQuTmFtZSA9PSAiU2NyZWVuR3VpIiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJcGxheWVyLlBsYXllckd1aS5TY3JlZW5HdWk6RGVzdHJveSgpCgkJCQllbHNlaWYgZC5OYW1lID09ICJEaXN0b3J0IiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJcGxheWVyLlBsYXllckd1aS5EaXN0b3J0OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJLS0gU3BlZWQgaGFjawoKCQlsb2NhbCBTcGVlZGhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwZWVkaGFjay5OYW1lID0gIlNwZWVkaGFjayIKCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlZWRoYWNrKQoKCQlTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UKCQlTZXRTcGVlZCA9IDY0CgoJCWZ1bmN0aW9uIG1vZGlmeVNwZWVkKCkKCQkJcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKS5DaGFuZ2VkOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJaWYgU3BlZWRoYWNrRW5hYmxlZCBhbmQgU2V0U3BlZWQgfj0gbmlsIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQllbHNlCgkJCQkJcmV0dXJuCgkJCQllbmQKCQkJZW5kKQoJCWVuZAoKCQlmdW5jdGlvbiBiZWdpblNwZWVkKCkKCQkJaWYgU3BlZWRoYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTcGVlZGhhY2tFbmFibGVkID0gdHJ1ZQoJCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT24pIFtUXSIKCQkJCW1vZGlmeVNwZWVkKCkKCQkJCXdhaXQoKQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJd2hpbGUgU3BlZWRoYWNrRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJbW9kaWZ5U3BlZWQoKQoJCQkJCQl3YWl0KCkKCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQoJCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT2ZmKSBbVF0iCgkJCWVuZAoJCWVuZAoKCQlTcGVlZGhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luU3BlZWQpCgoJCS0tLS0gQnVsbGV0cwoJCS0tIEh5cGVyYW5nIEhhY2sKCgkJbG9jYWwgVGVjaFJhbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRlY2hSYW5nLk5hbWUgPSAiVGVjaFJhbmciCgkJVGVjaFJhbmcuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUZWNoUmFuZykKCgkJbG9jYWwgSHlwZXJhbmdFbmFibGVkID0gZmFsc2UKCgkJVGVjaFJhbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IEh5cGVyYW5nRW5hYmxlZCB0aGVuCgkJCQlIeXBlcmFuZ0VuYWJsZWQgPSB0cnVlCgkJCQlUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJSHlwZXJhbmdFbmFibGVkID0gZmFsc2UKCQkJCVRlY2hSYW5nLnRleHQgPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBc3Rlcm9pZCBCZWx0IEhhY2sKCgkJbG9jYWwgQXN0ZXJvaWRCZWx0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siCgkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXN0ZXJvaWRCZWx0SGFjaykKCQkKCQlsb2NhbCBBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UKCQkKCQlBc3Rlcm9pZEJlbHRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IHRydWUKCQkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBc3Rlcm9pZCBCZWx0IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IGZhbHNlCgkJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIE9yYnMgb2YgRW5saWdodGVubWVudCBIYWNrCgoJCWxvY2FsIExpZ2h0T3Jic0hhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxpZ2h0T3Jic0hhY2suTmFtZSA9ICJMaWdodE9yYnNIYWNrIgoJCUxpZ2h0T3Jic0hhY2suVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExpZ2h0T3Jic0hhY2spCgoJCWxvY2FsIGxPcmJzRW5hYmxlZCA9IGZhbHNlCgoJCUxpZ2h0T3Jic0hhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbE9yYnNFbmFibGVkIHRoZW4KCQkJCWxPcmJzRW5hYmxlZCA9IGZhbHNlCgkJCQlMaWdodE9yYnNIYWNrLlRleHQgPSAiTGlnaHQgT3JicyBIYWNrIChPZmYpIgoJCQllbHNlCgkJCQlsT3Jic0VuYWJsZWQgPSB0cnVlCgkJCQlMaWdodE9yYnNIYWNrLlRleHQgPSAiTGlnaHQgT3JicyBIYWNrIChPbikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gVmlnb3IgR3lyYXRpb24gSGFjawoKCQlsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZ0d5cmF0SGFjay5OYW1lID0gIlZpZ0d5cmF0SGFjayIKCQlWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spCgkJCgkJbG9jYWwgVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlCgkJCgkJVmlnR3lyYXRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFZpZ29ySGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVmlnb3JIYWNrRW5hYmxlZCA9IHRydWUKCQkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIExpZ2h0bmluZyBCYXJyYWdlIEhhY2sKCgkJbG9jYWwgQmFycmFnZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQmFycmFnZS5OYW1lID0gIkJhcnJhZ2UiCgkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmFycmFnZSkKCgkJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgU3Rvcm1CdWxsZXRzRW5hYmxlZCB0aGVuCgkJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gdHJ1ZQoJCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gZmFsc2UKCQkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gRHlpbmcgU3RhciBIYWNrCgoJCWxvY2FsIER5aW5nU3RhckhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUR5aW5nU3RhckhhY2suTmFtZSA9ICJEeWluZ1N0YXJIYWNrIgoJCUR5aW5nU3RhckhhY2suVGV4dCA9ICIoRykgRHlpbmcgU3RhciBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBEeWluZ1N0YXJIYWNrKQoKCQlsb2NhbCBEeWluZ1N0YXJFbmFibGVkID0gZmFsc2UKCgkJRHlpbmdTdGFySGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgRHlpbmdTdGFyRW5hYmxlZCB0aGVuCgkJCQkJRHlpbmdTdGFyRW5hYmxlZCA9IGZhbHNlCgkJCQkJRHlpbmdTdGFySGFjay5UZXh0ID0gIihHKSBEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJCQllbHNlCgkJCQkJRHlpbmdTdGFyRW5hYmxlZCA9IHRydWUKCQkJCQlEeWluZ1N0YXJIYWNrLlRleHQgPSAiKEcpIER5aW5nIFN0YXIgSGFjayAoT24pIgoJCQkJZW5kCgkJCWVsc2UKCQkJCUR5aW5nU3RhckhhY2suVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQlEeWluZ1N0YXJIYWNrLlRleHQgPSAiKEcpIER5aW5nIFN0YXIgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLS0tIEJsYXN0cwoJCS0tIE9yYml0YWwgU3RyaWtlIEhhY2sKCgkJbG9jYWwgT3JiaXRhbCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJT3JiaXRhbC5OYW1lID0gIk9yaWJ0YWwiCgkJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBPcmJpdGFsKQoKCQlsb2NhbCBPcmJpdGFsSGFja0VuYWJsZWQgPSBmYWxzZQoKCQlPcmJpdGFsLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgT3JiaXRhbEhhY2tFbmFibGVkIHRoZW4KCQkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSB0cnVlCgkJCQkJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UKCQkJCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJT3JiaXRhbC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IERvdWJsZSBSYXkKCgkJbG9jYWwgRG91YmxlUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlEb3VibGVSYXkuTmFtZSA9ICJEb3VibGVSYXkiCgkJRG91YmxlUmF5LlRleHQgPSAiKEcpIEluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRG91YmxlUmF5KQoKCQlEb3VibGVSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBEb3VibGVSYXlFbmFibGVkIHRoZW4KCQkJCQlEb3VibGVSYXlFbmFibGVkID0gdHJ1ZQoJCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBJbnN0YW50IERvdWJsZSBSYXkgKE9uKSIKCQkJCWVsc2UKCQkJCQlEb3VibGVSYXlFbmFibGVkID0gZmFsc2UKCQkJCQlEb3VibGVSYXkuVGV4dCA9ICIoRykgSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCURvdWJsZVJheS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaAoKCQlsb2NhbCBIb2xvYmVhbSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSG9sb2JlYW0uTmFtZSA9ICJIb2xvYmVhbSIKCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEhvbG9iZWFtKQoKCQlIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBhdHRhY2hDYW1lcmEodikKCQkJaWYgKHYgfj0gbmlsKSB0aGVuCgkJCQlpZiBub3Qodmlld2luZykgYW5kICh2Lk5hbWUgPT0gIkhvbG9iZWFtIikgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXVt2Lk5hbWVdCgkJCQllbHNlCgkJCQkJdjpEZXN0cm95KCkKCQkJCQlyZXR1cm4KCQkJCWVuZAoJCQkJCgkJCQl2LlRyYW5zcGFyZW5jeSA9IDAKCgkJCQl3YWl0KDQpCgkJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQllbmQKCQkJCQoJCQkJdjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgkJCgkJZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlpZiBIb2xvYmVhbUVuYWJsZWQgdGhlbgoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAocGxheWVyLkNoYXJhY3RlcikgdGhlbgoJCQkJCWxvY2FsIGRpc3RhbmNlID0gKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHYuUG9zaXRpb24pLk1hZ25pdHVkZQoJCQkJCQoJCQkJCWlmICh2LlNpemUgPT0gVmVjdG9yMy5uZXcoNSwgNSwgNSkpIGFuZCAoZGlzdGFuY2UgPCAxMCkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuCgkJCQkJCgkJCQkJCXYuTmFtZSA9ICJIb2xvYmVhbSIKCQkJCQkKCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkgCgkJCQkJCQkJYXR0YWNoQ2FtZXJhKHYpIAoJCQkJCQkJZW5kKSkKCQkJCQkJZW5kKQoJCQkJCQkKCQkJCQkJbG9jYWwgZ3VpID0gcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0JhcgoJCQkJCQkKCQkJCQkJd2FpdCgwLjUpCgkJCQkJCQoJCQkJCQl3aGlsZSB3YWl0KCkgZG8KCQkJCQkJCWlmIG5vdChndWlbJzEnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMiddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyczJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzQnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNSddLkNELlRleHQgPT0gIi4uLiIpIHRoZW4KCQkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQkJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCQkJCQllbmQKCQkJCQoJCQkJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCQkJCWVuZCkKCQkJCQkJCQkKCQkJCQkJCQlicmVhawoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgSG9sb2JlYW1FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUhvbG9iZWFtRW5hYmxlZCA9IHRydWUKCQkJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT24pIgoJCQkJCgkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbiB2OkRlc3Ryb3koKSBlbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQoJCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIENvbnRyb2xsZWQgRWNob2VzCgoJCWxvY2FsIEVjaG9lcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRWNob2VzLk5hbWUgPSAiRWNob2VzIgoJCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFY2hvZXMpCgoJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gZmFsc2UKCQlFY2hvZXNQaGFzZSA9IDEKCgkJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gdHJ1ZQoJCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9uKSIKCQkJZWxzZQoJCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQoJCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0tLSBTaGllbGRzCgkJLS0gQ3J5c3RhbCBBcm1hbWVudCBIYWNrCgoJCWxvY2FsIENyeXN0YWxBcm1hbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQ3J5c3RhbEFybWFtZW50Lk5hbWUgPSAiQ3J5c3RhbEFybWFtZW50IgoJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ3J5c3RhbEFybWFtZW50KQoKCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UKCgkJQ3J5c3RhbEFybWFtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IHRydWUKCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT24pIgoJCQllbHNlCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UKCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBHcmF2aXRhbCBHbG9iZSBIYWNrCgoJCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIgoJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQoKCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgoJCUdyYXZpdGFsR2xvYmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSB0cnVlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLS0tIFVsdHMKCQktLSBEaXNhYmxlIGNvb2xkb3ducwoJCWxvY2FsIEVuYWJsZVVsdHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUVuYWJsZVVsdHMuTmFtZSA9ICJFbmFibGVVbHRzIgoJCUVuYWJsZVVsdHMuVGV4dCA9ICIoRykgUmVtb3ZlIFVsdCBDb29sZG93biIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxFbmFibGVVbHRzKQoKCQlFbmFibGVVbHRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIikKCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIsIENGcmFtZS5uZXcocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKSkKCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIiwgQ0ZyYW1lLm5ldyhwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24tVmVjdG9yMy5uZXcoMCwyNTAsMCkpKQoJCQllbHNlCgkJCQlFbmFibGVVbHRzLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJRW5hYmxlVWx0cy5UZXh0ID0gIihHKSBSZW1vdmUgVWx0IENvb2xkb3duIgoJCQllbmQKCQllbmQpCgoJCS0tIFJlYXBlcidzIFJhZ2UKCQlsb2NhbCBSZWFwZXJVbHQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJlYXBlclVsdC5OYW1lID0gIlJlYXBlclVsdCIKCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSZWFwZXJVbHQpCgoJCWxvY2FsIFJlYXBlclVsdEVuYWJsZWQgPSBmYWxzZQoKCQlSZWFwZXJVbHQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBSZWFwZXJVbHRFbmFibGVkIHRoZW4KCQkJCQlSZWFwZXJVbHRFbmFibGVkID0gdHJ1ZQoJCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQlSZWFwZXJVbHRFbmFibGVkID0gZmFsc2UKCQkJCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCVJlYXBlclVsdC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrCgoJCWxvY2FsIEFibGF6ZUp1ZGdlbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWJsYXplSnVkZ2VtZW50Lk5hbWUgPSAiQWJsYXplSnVkZ2VtZW50IgoJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWJsYXplSnVkZ2VtZW50KQoKCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlCgoJCUFibGF6ZUp1ZGdlbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IHRydWUKCQkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT24pIgoJCQllbHNlCgkJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gVm9pZCBPcGVuaW5nIEhhY2sKCgkJbG9jYWwgVm9pZE9wZW5pbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZvaWRPcGVuaW5nLk5hbWUgPSAiVm9pZE9wZW5pbmciCgkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVm9pZE9wZW5pbmcpCgoJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQoKCQlWb2lkT3BlbmluZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSB0cnVlCgkJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQoJCQkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBUaGUgV29ybGQgSGFjawoKCQlsb2NhbCBUaGVXb3JsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGhlV29ybGQuTmFtZSA9ICJUaGVXb3JsZCIKCQlUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUaGVXb3JsZCkKCgkJVGhlV29ybGRFbmFibGVkID0gZmFsc2UKCgkJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVGhlV29ybGRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRoZVdvcmxkRW5hYmxlZCA9IHRydWUKCQkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJVGhlV29ybGRFbmFibGVkID0gZmFsc2UKCQkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gUG9sYXJpcyBIYWNrCgoJCWxvY2FsIFBvbGFyaXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVBvbGFyaXMuTmFtZSA9ICJQb2xhcmlzIgoJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBvbGFyaXMpCgoJCVBvbGFyaXNFbmFibGVkID0gZmFsc2UKCgkJUG9sYXJpcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBQb2xhcmlzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlQb2xhcmlzRW5hYmxlZCA9IHRydWUKCQkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJUG9sYXJpc0VuYWJsZWQgPSBmYWxzZQoJCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24KCgkJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iCgkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTaGF0dGVyaW5nRXJ1cHRpb24pCgoJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBmYWxzZQoKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gdHJ1ZQoJCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPbikiCgkJCWVsc2UKCQkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBmYWxzZQoJCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrCgoJCWxvY2FsIEV0aGVyZWFsQWN1bWVuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFdGhlcmVhbEFjdW1lbi5OYW1lID0gIkV0aGVyZWFsQWN1bWVuIgoJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV0aGVyZWFsQWN1bWVuKQoKCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQoKCQlFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gdHJ1ZQoJCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQoJCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBUb3hpYyBCYXNpbGlzayBIYWNrCgoJCWxvY2FsIFRveGljQmFzaWxpc2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRveGljQmFzaWxpc2suTmFtZSA9ICJUb3hpY0Jhc2lsaXNrIgoJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUb3hpY0Jhc2lsaXNrKQoKCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlCgoJCVRveGljQmFzaWxpc2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSB0cnVlCgkJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT24pIgoJCQllbHNlCgkJCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlCgkJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBcmNhbmUgR3VhcmRpYW4gSGFjawoKCQlsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiIKCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBcmNhbmVHdWFyZGlhbikKCgkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gZmFsc2UKCgkJQXJjYW5lR3VhcmRpYW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IHRydWUKCQkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gZmFsc2UKCQkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gVmlydHVhbCBab25lIEhhY2sKCgkJbG9jYWwgVmlydHVhbFpvbmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpcnR1YWxab25lLk5hbWUgPSAiVmlydHVhbFpvbmUiCgkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlydHVhbFpvbmUpCgoJCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlCgoJCVZpcnR1YWxab25lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFZpcnR1YWxab25lRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSB0cnVlCgkJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlCgkJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIFVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuCgoJCWxvY2FsIFNvbGFyU3RpY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNvbGFyU3RpY2suTmFtZSA9ICJTb2xhclN0aWNrIgoJCVNvbGFyU3RpY2suVGV4dCA9ICIoRykgU29sYXIgU3RpY2sgQnVnIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTb2xhclN0aWNrKQoKCQlTb2xhckJ1Z0VuYWJsZWQgPSBmYWxzZQoKCQlTb2xhclN0aWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBTb2xhckJ1Z0VuYWJsZWQgdGhlbgoJCQkJCVNvbGFyQnVnRW5hYmxlZCA9IGZhbHNlCgkJCQkJU29sYXJTdGljay5UZXh0ID0gIihHKSBTb2xhciBGcmVlemUgKE9mZikiCgkJCQllbHNlCgkJCQkJU29sYXJCdWdFbmFibGVkID0gdHJ1ZQoJCQkJCVNvbGFyU3RpY2suVGV4dCA9ICIoRykgU29sYXIgRnJlZXplIChPbikiCgkJCQllbmQKCQkJZWxzZQoJCQkJU29sYXJTdGljay5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCVNvbGFyU3RpY2suVGV4dCA9ICIoRykgU29sYXIgRnJlZXplIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tLS0gTWlzY2VsbGFuZW91cwoKCQktLSBUZWNoIERpc2MgSGFjawoKCQlsb2NhbCBUZWNoRGlzYyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGVjaERpc2MuTmFtZSA9ICJUZWNoRGlzYyIKCQlUZWNoRGlzYy5UZXh0ID0gIihHKSBUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGVjaERpc2MpCgoJCVRlY2hEaXNjRW5hYmxlZCA9IGZhbHNlCgoJCVRlY2hEaXNjLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBUZWNoRGlzY0VuYWJsZWQgdGhlbgoJCQkJCVRlY2hEaXNjRW5hYmxlZCA9IGZhbHNlCgkJCQkJVGVjaERpc2MuVGV4dCA9ICIoRykgVGVjaCBEaXNjIEhhY2sgKE9mZikiCgkJCQllbHNlCgkJCQkJVGVjaERpc2NFbmFibGVkID0gdHJ1ZQoJCQkJCVRlY2hEaXNjLlRleHQgPSAiKEcpIFRlY2ggRGlzYyBIYWNrIChPbikiCgkJCQllbmQKCQkJZWxzZQoJCQkJVGVjaERpc2MuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlUZWNoRGlzYy5UZXh0ID0gIihHKSBUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBaW1ib3QgfHwgQ3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50CgkJLS1bWwoJCWxvY2FsIEFpbWJvdCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWltYm90Lk5hbWUgPSAiQWltYm90IgoJCUFpbWJvdC5UZXh0ID0gIihHKSBBaW1ib3QgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFpbWJvdCkKCgkJZnVuY3Rpb24gdG9nZ2xlQWltYm90KCkKCQkJaWYgKG5vdCBBaW1ib3RFbmFibGVkKSBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IHRydWUKCQkJCUFpbWJvdC5UZXh0ID0gIihHKSBBaW1ib3QgKE9uKSIKCQkJCXdoaWxlIEFpbWJvdEVuYWJsZWQgZG8KCQkJCQlCZWdpblRyYWNraW5nKCkKCQkJCWVuZAoJCQllbHNlaWYgQWltYm90RW5hYmxlZCBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IGZhbHNlCgkJCQlBaW1ib3QuVGV4dCA9ICIoRykgQWltYm90IChPZmYpIgoJCQllbHNlaWYgbm90IChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFpbWJvdC5UZXh0ID0gIihHKSBBaW1ib3QgKE9mZikiCgkJCWVuZAoJCWVuZAoKCQlBaW1ib3QuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUFpbWJvdCldXQoKCQktLSBTaGFyZCBDb2xvcnMKCgkJbG9jYWwgUmFuZG9tQ29sb3JzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSYW5kb21Db2xvcnMuTmFtZSA9ICJSYW5kb21Db2xvcnMiCgkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmFuZG9tQ29sb3JzKQoKCQlsb2NhbCBDb2xvcnNMaXN0ID0geyJSZWFsbHkgcmVkIiwgIlJlYWxseSBibHVlIiwgIk5ldyBZZWxsZXIiLCAiSG90IHBpbmsiLCAiUm95YWwgcHVycGxlIiwgIkxpbWUgZ3JlZW4iLCAiRGVlcCBvcmFuZ2UiLCAiVG9vdGhwYXN0ZSIsICJJbnN0aXR1dGlvbmFsIHdoaXRlIn0KCQlsb2NhbCBTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl06R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuTmFtZSA9PSAiU2hhcmQiIGFuZCBub3QgdjpGaW5kRmlyc3RDaGlsZCgic2hhcmRDaGFuZ2VkIikgdGhlbgoJCQkJCXYuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KENvbG9yc0xpc3RbbWF0aC5yYW5kb20oMSw5KV0pCgkJCQkJbG9jYWwgc2hhcmRDaGFuZ2VkID0gSW5zdGFuY2UubmV3KCJCb29sVmFsdWUiKQoJCQkJCXNoYXJkQ2hhbmdlZC5OYW1lID0gInNoYXJkQ2hhbmdlZCIKCQkJCQlzaGFyZENoYW5nZWQuUGFyZW50ID0gY2hpbGQKCQkJCQlzaGFyZENoYW5nZWQuVmFsdWUgPSB0cnVlCgkJCQllbHNlaWYgdi5OYW1lID09ICJTaGFyZCIgYW5kIHY6RmluZEZpcnN0Q2hpbGQoInNoYXJkQ2hhbmdlZCIpLlZhbHVlIHRoZW4gZW5kCgkJCWVuZAoJCWVuZAoKCQlSYW5kb21Db2xvcnMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU2hhcmRDb2xvckVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU2hhcmRDb2xvckVuYWJsZWQgPSB0cnVlCgkJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPbikiCgkJCQl3aGlsZSBTaGFyZENvbG9yRW5hYmxlZCBkbwoJCQkJCXNoYXJkUmFuZG9taXplcigpCgkJCQkJd2FpdCguNSkKCQkJCWVuZAoJCQllbHNlCgkJCQlTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlCgkJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIgoJCQllbmQJCgkJZW5kKQoKCQktLSBBbnRpLUxhZwoKCQlsb2NhbCBBbnRpTGFnID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpTGFnLk5hbWUgPSAiQW50aUxhZyIKCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlMYWcpCgoJCUFudGlMYWdFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gcmVtb3ZlTGFnKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkxvY2FsRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbgoJCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4KCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkJhY2tEZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJTcGVjaWFsTWVzaCIpIHRoZW4KCQkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbgoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbgoJCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCWZvciBfLCB4IGluIHBhaXJzKHYuQ2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJaWYgeC5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuCgkJCQkJCXg6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCWlmIEFudGlMYWdFbmFibGVkIHRoZW4KCQkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSB0aGVuCgkJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4KCQkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIkxpZ2h0RGlzYyIpIHRoZW4KCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBbnRpTGFnRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpTGFnRW5hYmxlZCA9IHRydWUKCQkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT24pIgoJCQkJcmVtb3ZlTGFnKCkKCQkJZWxzZQoJCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIElnbm9yZSBQaHlzaWNzCgoJCWxvY2FsIElnbm9yZVBoeXNpY3MgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlnbm9yZVBoeXNpY3MuTmFtZSA9ICJmSWdub3JlUGh5c2ljcyIKCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9mZikgW1pdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJZ25vcmVQaHlzaWNzKQoKCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuRmxpcHNIb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuCgkJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPbikgW1pdIgoJCQkJaW5pdGlhbE51bGxpZnlGb3JjZXMoKQoJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJCXdoaWxlIElnbm9yZVBoeXNpY3NFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UKCQkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iCgkJCWVuZAoJCWVuZAoKCQlJZ25vcmVQaHlzaWNzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpbk51bGxpZnlGb3JjZXMpCgoJCS0tIEFudGktR3Jhdml0eQoKCQlsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSIKCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT2ZmKSBbR10iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQoKCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBBbnRpR3Jhdml0eUZ1bmMoKQoJCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9uKSBbR10iCgkJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpCgkJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQlCb2R5Rm9yY2UuTmFtZSA9ICJBbnRpR3Jhdml0eUZvcmNlIgoJCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkKCQkJZWxzZQoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCQkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQW50aUdyYXZpdHlGb3JjZSIpIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW50aUdyYXZpdHlGb3JjZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykKCgkJLS0gQ2xpY2stVFAKCgkJbG9jYWwgQ2xpY2tUUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiCgkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIHRwIHRvIG1vdXNlXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2xpY2tUUCkKCgkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoKCQlDbGlja1RQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIENsaWNrVFBFbmFibGVkID09IHRydWUgdGhlbgoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoJCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIENsaWNrLVRQXSIKCQkJZWxzZQoJCQkJQ2xpY2tUUEVuYWJsZWQgPSB0cnVlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9uKSBbSiB0byBDbGljay1UUF0iCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gY2xpY2t0cChwb3NpdGlvbikKCQkJaWYgcGxheWVyID09IG5pbCBvciBwbGF5ZXIuQ2hhcmFjdGVyID09IG5pbCB0aGVuIHJldHVybiBlbmQKCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDMsIHBvc2l0aW9uLnopKQoJCWVuZAoKCQktLSBGcmVlemUKCgkJbG9jYWwgRnJlZXplID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlGcmVlemUuTmFtZSA9ICJGcmVlemUiCgkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPZmYpIFtGXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRnJlZXplKQoKCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gRnJlZXplRnVuYygpCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJRnJlZXplRW5hYmxlZCA9IHRydWUKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT24pIFtGXSIKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJZWxzZQoJCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlCgkJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJZW5kCgkJZW5kCgoJCUZyZWV6ZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoRnJlZXplRnVuYykKCgkJLS0gSW5maW5pdGUgU3ByaW50CgoJCWxvY2FsIEluZlNwcmludCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSW5mU3ByaW50Lk5hbWUgPSAiSW5mU3ByaW50IgoJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZlNwcmludCkKCgkJbG9jYWwgSW5mU3ByaW50RW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIFNwcmludFJlbW90ZSgpCgkJCXdoaWxlIHdhaXQoLjUpIGRvCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCQlbMl0gPSBmYWxzZSwKCQkJCX0KCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoJCWVuZAoKCQlJbmZTcHJpbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBJbmZTcHJpbnRFbmFibGVkIHRoZW4KCQkJCQlJbmZTcHJpbnRFbmFibGVkID0gdHJ1ZQoJCQkJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9uKSIKCQkJCQlTcHJpbnRSZW1vdGUoKQoJCQkJZWxzZQoJCQkJCUluZlNwcmludEVuYWJsZWQgPSBmYWxzZQoJCQkJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9mZikiCgkJCQllbmQJCQkJCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBFeHBsb3NpdmUgTGVhcAoKCQlsb2NhbCBFeHBsb3Npb25IYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFeHBsb3Npb25IYWNrLk5hbWUgPSAiRXhwbG9zaW9uSGFjayIKCQlFeHBsb3Npb25IYWNrLlRleHQgPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV4cGxvc2lvbkhhY2spCgoJCWxvY2FsIExlYXBTdHVuRW5hYmxlZCA9IGZhbHNlCgoJCUV4cGxvc2lvbkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgTGVhcFN0dW5FbmFibGVkIHRoZW4KCQkJCUxlYXBTdHVuRW5hYmxlZCA9IGZhbHNlCgkJCQlFeHBsb3Npb25IYWNrLlRleHQgPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiCgkJCWVsc2UKCQkJCUxlYXBTdHVuRW5hYmxlZCA9IHRydWUKCQkJCUV4cGxvc2lvbkhhY2suVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT24pIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgUm9jayBGaXN0CgoJCWxvY2FsIFJvY2tGaXN0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUm9ja0Zpc3RIYWNrLk5hbWUgPSAiUm9ja0Zpc3RIYWNrIgoJCVJvY2tGaXN0SGFjay5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSb2NrRmlzdEhhY2spCgoJCWxvY2FsIEluc3RhbnRGaXN0RW5hYmxlZCA9IGZhbHNlCgoJCVJvY2tGaXN0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBJbnN0YW50RmlzdEVuYWJsZWQgdGhlbgoJCQkJSW5zdGFudEZpc3RFbmFibGVkID0gZmFsc2UKCQkJCVJvY2tGaXN0SGFjay5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIgoJCQllbHNlCgkJCQlJbnN0YW50RmlzdEVuYWJsZWQgPSB0cnVlCgkJCQlSb2NrRmlzdEhhY2suVGV4dCA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT24pIgoJCQllbmQKCQllbmQpCgoJCS0tIExvbmcgRmxhc2gKCgkJbG9jYWwgTEZsYXNoID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlMRmxhc2guTmFtZSA9ICJGbGFzaCIKCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExGbGFzaCkKCgkJRmxhc2hFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkKCQkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucAoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsCgkJCQlbM10gPSB7CgkJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLAoJCQkJCVsiT3JpZ2luIl0gPSBwbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wCgkJCQl9CgkJCX0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQllbmQKCgkJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEZsYXNoRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlGbGFzaEVuYWJsZWQgPSB0cnVlCgkJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPbikgW2AgdG8gdXNlXSIKCQkJZWxzZQoJCQkJRmxhc2hFbmFibGVkID0gZmFsc2UKCQkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBWaWV3IFRhcmdldAoKCQlsb2NhbCBWaWV3VGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaWV3VGFyZ2V0Lk5hbWUgPSAiVmlld1RhcmdldCIKCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWV3VGFyZ2V0KQoKCQl2aWV3aW5nID0gZmFsc2UKCgkJZnVuY3Rpb24gdmlldygpCgkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQlpZiB2aWV3aW5nID09IGZhbHNlIHRoZW4KCQkJCQl2aWV3aW5nID0gdHJ1ZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPbikgW1ZdIgoJCQkJZWxzZQoJCQkJCXZpZXdpbmcgPSBmYWxzZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCQllbmQKCQkJZWxzZWlmIHZpZXdpbmcgPT0gdHJ1ZSB0aGVuIAoJCQkJdmlld2luZyA9IGZhbHNlCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCWVuZAoJCWVuZAoKCQlWaWV3VGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh2aWV3KQoKCQktLSBUZWxlcG9ydCB0byBUYXJnZXQKCgkJbG9jYWwgVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQVGFyZ2V0Lk5hbWUgPSAiVFBUYXJnZXQiCgkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUFRhcmdldCkKCgkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gVFBUb1RhcmdldCgpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCBhbmQgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKQoKCQkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5DRnJhbWUgPSBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKS5DRnJhbWUKCQkJZW5kCgkJZW5kCgoJCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlCgkJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT24pIFtVXSIKCQkJZWxzZQoJCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBMb29wIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBMb29wVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxvb3BUUFRhcmdldC5OYW1lID0gIkxvb3BUUFRhcmdldCIKCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTG9vcFRQVGFyZ2V0KQoKCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIExvb3BUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikiCgkJCQl3aGlsZSBMb29wVFBUYXJnZXRFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJVFBUb1RhcmdldCgpCgkJCQllbmQKCQkJZWxzZQoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgkJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBTdGFuZGFyZCBFU1AKCgkJbG9jYWwgRVNQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFU1AuTmFtZSA9ICJFU1AiCgkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQoKCQlFU1BFbmFibGVkID0gZmFsc2UKCQktLUVTUE1heERpc3QgPSA3NTAKCQktLUVTUE1ERW5hYmxlZCA9IHRydWUgLS0gVGhlc2UgdHdvIHZhbHVlcyB3aWxsIGJlIGZvciB0aGUgO2Rlc3AgY29tbWFuZCwgY3VycmVudGx5IHVuZGVyIGNvbnN0cnVjdGlvbi4KCgkJbG9jYWwgSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpCgkJSG9sZGVyLk5hbWUgPSAiRVNQIgoKCQlsb2NhbCBVcGRhdGVGdW5jcyA9IHt9CgoJCWxvY2FsIEJveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikKCQlCb3guTmFtZSA9ICJuaWxCb3giCgkJQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCUJveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJQm94LlRyYW5zcGFyZW5jeSA9IDAuNwoJCUJveC5aSW5kZXggPSAwCgkJQm94LkFsd2F5c09uVG9wID0gdHJ1ZQoJCUJveC5WaXNpYmxlID0gdHJ1ZQoKCQlsb2NhbCBOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCU5hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnIgoJCU5hbWVUYWcuRW5hYmxlZCA9IHRydWUKCQlOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQlOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQoJCU5hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApCgkJLS1pZiBFU1BNREVuYWJsZWQgdGhlbgoJCQlOYW1lVGFnLk1heERpc3RhbmNlID0gNzUwCgkJLS1lbHNlCgkJLS0JTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDAKCQktLWVuZAoKCQlsb2NhbCBUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE5hbWVUYWcpCgkJVGFnLk5hbWUgPSAiVGFnIgoJCVRhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJCVRhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIDApCgkJVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkKCQlUYWcuVGV4dFNpemUgPSAyMAoJCVRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCVRhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQoJCVRhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40CgkJVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQlUYWcuRm9udCA9IEVudW0uRm9udC5Sb2JvdG9Nb25vCgkJVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJCVRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoKCQlmdW5jdGlvbiBMb2FkQ2hhcmFjdGVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCgkJCQlsb2NhbCBiID0gQm94OkNsb25lKCkKCQkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiQm94IgoJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJYi5QYXJlbnQgPSB2SG9sZGVyCgoJCQkJbG9jYWwgdCA9IE5hbWVUYWc6Q2xvbmUoKQoJCQkJdC5OYW1lID0gdi5OYW1lIC4uICJOYW1lVGFnIgoJCQkJdC5QYXJlbnQgPSB2SG9sZGVyCgkJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQoJCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuCgkJCQkJcmV0dXJuIFVubG9hZENoYXJhY3Rlcih2KQoJCQkJZW5kCgkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lCgkJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCQl3YWl0KCkKCgkJCQlsb2NhbCBmdW5jdGlvbiBVcGRhdGVOYW1lVGFnKCkKCQkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUKCQkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApCgkJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQoJCQkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZSAuLiAiXG4iIC4uICgobWF4aCB+PSAwIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoKGggLyBtYXhoKSAqIDEwMCkpKSBvciAiMCIpIC4uICIlICAiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKQoJCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNwoJCQkJCQkJZWxzZQoJCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQllbmQKCQkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbgoJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQllbHNlCgkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJZW5kCgkJCQkJCWVuZCkgdGhlbgoJCQkJCQlVcGRhdGVGdW5jc1t2XSA9IG5pbAoJCQkJCWVuZAoJCQkJZW5kCgkJCQlVcGRhdGVOYW1lVGFnKCkKCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZwoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIGFuZCAodkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkJveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIExvYWRQbGF5ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJbG9jYWwgdkhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgSG9sZGVyKQoJCQkJdkhvbGRlci5OYW1lID0gdi5OYW1lCgkJCQl2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCWlmIEVTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKExvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJZW5kCgkJCQllbmQpCgkJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCWVuZCkKCQkJCUxvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQoJCQlVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgdGhlbgoJCQkJdkhvbGRlcjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKExvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQkJVW5sb2FkQ2hhcmFjdGVyKGkpCgkJCQkJd2FpdCgpCgkJCQkJTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJVXBkYXRlRnVuY3NbcF0oKQoJCQkJCWVuZCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWZ1bmN0aW9uIHRvZ2dsZUVTUCgpCgkJCWlmIEVTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbgoJCQkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJCQlFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCUVTUEdvbGQuVGV4dCA9ICJTdGFuZGFyZCBFU1AgRW5hYmxlZCIKCQkJCQl3YWl0KDEpCgkJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJZWxzZQoJCQkJCUVTUEVuYWJsZWQgPSB0cnVlCgkJCQllbmQKCQkJCUVTUC5UZXh0ID0gIkVTUCAoT24pIFtCXSIKCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgkJCQllbmQKCQkJZWxzZQoJCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlFU1AuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUCkKCgkJLS0gR29sZCBFU1AKCgkJbG9jYWwgRVNQR29sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRVNQR29sZC5OYW1lID0gIkVTUEdvbGQiCgkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1BHb2xkKQoKCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEdIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkKCQlHSG9sZGVyLk5hbWUgPSAiRVNQR29sZCIKCgkJbG9jYWwgR1VwZGF0ZUZ1bmNzID0ge30KCgkJbG9jYWwgR0JveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikKCQlHQm94Lk5hbWUgPSAibmlsQm94RyIKCQlHQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQoJCUdCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUdCb3guVHJhbnNwYXJlbmN5ID0gMC43CgkJR0JveC5aSW5kZXggPSAwCgkJR0JveC5BbHdheXNPblRvcCA9IHRydWUKCQlHQm94LlZpc2libGUgPSB0cnVlCgoJCWxvY2FsIEdOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQoJCUdOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZ0ciCgkJR05hbWVUYWcuRW5hYmxlZCA9IHRydWUKCQlHTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCgkJR05hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlCgkJR05hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApCgkJLS1pZiBFU1BNREVuYWJsZWQgdGhlbgoJCQlHTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDc1MAoJCS0tZWxzZQoJCS0tCUdOYW1lVGFnLk1heERpc3RhbmNlID0gMAoJCS0tZW5kCgoJCWxvY2FsIEdUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEdOYW1lVGFnKQoJCUdUYWcuTmFtZSA9ICJHVGFnIgoJCUdUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCQlHVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgLTUpCgkJR1RhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApCgkJR1RhZy5UZXh0U2l6ZSA9IDIwCgkJR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUdUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkKCQlHVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCQlHVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQlHVGFnLkZvbnQgPSBFbnVtLkZvbnQuUm9ib3RvTW9ubwoJCUdUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCgkJR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoKCQlmdW5jdGlvbiBHTG9hZENoYXJhY3Rlcih2KQoJCQkKCQkJbG9jYWwgdGJsUGxheWVyRGF0YSA9IHt9CgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCVJTUjpXYWl0Rm9yQ2hpbGQoIlBsYXllckRhdGEiKS5PbkNsaWVudEV2ZW50OkNvbm5lY3QoZnVuY3Rpb24odiwgdGJsRGF0YSkKCQkJCXRibFBsYXllckRhdGFbdl0gPSB0YmxEYXRhCgkJCWVuZCkKCQkJCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsCgkJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQkJbG9jYWwgYiA9IEdCb3g6Q2xvbmUoKQoJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJHQm94IgoJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJYi5QYXJlbnQgPSB2SG9sZGVyCgoJCQkJbG9jYWwgdCA9IEdOYW1lVGFnOkNsb25lKCkKCQkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiR05hbWVUYWciCgkJCQl0LlBhcmVudCA9IHZIb2xkZXIKCQkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCQlyZXR1cm4gR1VubG9hZENoYXJhY3Rlcih2KQoJCQkJZW5kCgkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZQoJCQkJdC5FbmFibGVkID0gdHJ1ZQoJCQkJd2FpdCgpCgoJCQkJbG9jYWwgZnVuY3Rpb24gR1VwZGF0ZU5hbWVUYWcoKQoJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQlsb2NhbCBzdHJoID0gIkg6ICIgLi4gKG5vdChtYXhoID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogaCAvIG1heGgpKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhoKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4aCkgLi4gIikiCgkJCQkJCQktLQoJCQkJCQkJbG9jYWwgbWF4bSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heE1hbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgbSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1hbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgc3RybSA9ICJNOiAiIC4uIChub3QobWF4bSA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIG0gLyBtYXhtKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcobSkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heG0pIC4uICIpIgoJCQkJCQkJLS0KCQkJCQkJCWxvY2FsIG1heHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYXhTdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5TdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJCWxvY2FsIHN0cnMgPSAgIlM6ICIgLi4gKG5vdChtYXhzID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogcyAvIG1heHMpKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhzKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4cykgLi4gIikiCgoJCQkJCQkJdC5HVGFnLlRleHQgPSB2Lk5hbWUgLi4gKCJcbiIgLi4gc3RyaCkgLi4gKCJcbiIgLi4gc3RybSkgLi4gKCJcbiIgLi4gc3RycykKCQkJCQkJCQoJCQkJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQllbHNlCgkJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQllbmQKCQkJCQkJCWlmIGggLyBtYXhoID49IDAuNzUgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjIsIDI1NSwgNjIpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNSwgMTUzLCA2NCkKCQkJCQkJCWVsc2VpZiBoIC8gbWF4aCA8PSAwLjc1IGFuZCBoIC8gbWF4aCA+PSAwLjUgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDU1KQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTc5LCAxMzIsIDE1KQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbgoJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyLCAyKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTM0LCAxMiwgNjYpCgkJCQkJCQllbHNlCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsICgxOTYgKiAoaCAvIG1heGgpKSwgKDIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE3OSwgKDEzMiAqIChoIC8gbWF4aCkpLCAoMTUgKiAoaCAvIG1heGgpKSkKCQkJCQkJCWVuZAoJCQkJCQllbmQpIHRoZW4KCQkJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gbmlsCgkJCQkJZW5kCgkJCQllbmQKCQkJCUdVcGRhdGVOYW1lVGFnKCkKCQkJCUdVcGRhdGVGdW5jc1t2XSA9IEdVcGRhdGVOYW1lVGFnCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdMb2FkUGxheWVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEdIb2xkZXIpCgkJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgR0VTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKEdMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChHVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kKQoJCQkJR0xvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRQbGF5ZXIodikKCQkJR1VubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgdGhlbgoJCQkJdkhvbGRlcjpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQllbmQpCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCUdVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCQl3YWl0KCkKCQkJCQlHTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCUdVcGRhdGVGdW5jc1twXSgpCgkJCQkJZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gdG9nZ2xlRVNQR29sZCgpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBHRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCQlHRVNQRW5hYmxlZCA9IHRydWUKCQkJCQkJRVNQLlRleHQgPSAiRGV0YWlsZWQgRVNQIEVuYWJsZWQiCgkJCQkJCXdhaXQoMSkKCQkJCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQkJCQllbHNlCgkJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPbikgW01dIgoJCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR1VubG9hZFBsYXllciwgdikgZW5kKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUVTUEdvbGQuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCWVuZAoJCWVuZAoKCQlFU1BHb2xkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1BHb2xkKQoKCQktLSBUUCB0byBEcm9wcwoJCS0tLS0gQ3VycmVudGx5IGRpc2FibGVkIGR1ZSB0byB0aHJlYXRsZXZlbAoKCQktLVtbbG9jYWwgVFBTaGFyZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQU2hhcmRzLk5hbWUgPSAiVFBTaGFyZHMiCgkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQU2hhcmRzKQoKCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQkKCgkJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBEaWFtb25kcy5OYW1lID0gIlRQRGlhbW9uZHMiCgkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQoKCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIHBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQlwbGF0ZS5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQoJCXBsYXRlLlNpemUgPSBWZWN0b3IzLm5ldyg0MCwgMSwgNDApCgkJcGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAxMDAwMDAsIDApCgkJcGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJcGxhdGUuUmVmbGVjdGFuY2UgPSAwLjUKCQlwbGF0ZS5UcmFuc3BhcmVuY3kgPSAwLjUKCgkJbG9jYWwgdGltZSA9IDAKCQlsb2NhbCBjYW5JbnZpcyA9IGZhbHNlCgoJCWZ1bmN0aW9uIHRlbGVwb3J0VG9Ecm9wcygpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLlNlcnZlckVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIlNoYXJkIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVsc2VpZiBUUERpYW1vbmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJEaWFtb25kIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVuZAoKCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQlpZiB0aW1lID09IDUgdGhlbiAKCQkJCQkJYnJlYWsKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCgkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCgkJCXJldHVybiAKCQllbmQKCgoJCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQoJCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQlpZiB0aW1lIH49IDAgdGhlbiByZXR1cm4KCQkJCQllbHNlCgkJCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJd2FpdCgxKQoJCQkJCQkJcmVwZWF0CgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl0aW1lID0gdGltZSArIDEKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQl1bnRpbCB0aW1lID09IDYKCQkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCQkJCQkJCXdhaXQoNy41KQoJCQkJCQkJdGltZSA9IDAKCQkJCQkJZWxzZQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCWlmIG5vdCBUUFNoYXJkc0VuYWJsZWQgYW5kIG5vdCBUUERpYW1vbmRzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJZW5kCgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJYnJlYWsKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybgoJCWVuZAoKCQlUUFNoYXJkcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVFBTaGFyZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9uKSIKCQkJCXN0YXJ0VGltZXIoKQoJCQkJd2hpbGUgVFBTaGFyZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUERpYW1vbmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IHRydWUKCQkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUERpYW1vbmRzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJc3RhcnRUaW1lcigpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCQllbmQKCQllbmQpXV0KCgkJLS0gUmVqb2luIFNlcnZlciBGdW5jdGlvbgoKCQktLSBUaGlzIHdhcyBvbmx5IHByZXNlcnZlZCBhcyBJIGNvdWxkbid0IHRoaW5rIG9mIGFueSBvdGhlciBwbGFjZSB0byBwdXQgdGhlIGZ1bmN0aW9uIGZvciBub3cuCgkJLS0gTWlnaHQgZ2V0IG1vdmVkIGxhdGVyLCBpZHVubm8uCgkJZnVuY3Rpb24gcmVqb2luKCkKCQkJbG9jYWwgdHMgPSBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpCgkJCWxvY2FsIHAgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCgoJCQl0czpUZWxlcG9ydChnYW1lLlBsYWNlSWQsIHApCgkJZW5kCgoJCS0tIEFsdCBGYXJtaW5nCgoJCWxvY2FsIEFsdEZhcm0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFsdEZhcm0uTmFtZSA9ICJBbHRGYXJtIgoJCUFsdEZhcm0uVGV4dCA9ICIoRykgRmFybWluZyBNb2RlIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLEFsdEZhcm0pCgoJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgbG9jcyA9IHt7NDI0LCAyNTAwMCwgNjF9LHstNjcsIDI1MDAwLCAyNjE5fSx7LTI2MDAsIDI1MDAwLCA0ODN9fQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQlsb2NhbCBodW0gPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCWxvY2FsIGxhc3Rwb3MKCgkJbG9jYWwgZnVuY3Rpb24gZG9GYXJtKCkKCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQlocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCWh1bSA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCWh1bS5IZWFsdGhDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJcGxheWVyLkNoYXJhY3RlcjpCcmVha0pvaW50cygpCgkJCWVuZCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gYWx0dHAobGksbHApCgkJCWxvY2FsIG5ld0xvYyA9IFZlY3RvcjMubmV3KHVucGFjayhsb2NzW2xpXSkpCgkJCWlmIG5ld0xvYyB+PSBscCB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyOk1vdmVUbyhuZXdMb2MpCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBhbHRwbGF0ZShkZSxsaSkKCQkJaWYgbm90IGxpIHRoZW4gbGkgPSBuaWwgZW5kCgkJCWlmIGRlID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIEFsdFBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCUFsdFBsYXRlLlBhcmVudCA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIilbIi5JZ25vcmUiXQoJCQkJQWx0UGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldyhsb2NzW2xpXVsxXSwgKGxvY3NbbGldWzJdIC0gNSksIGxvY3NbbGldWzNdKQoJCQkJQWx0UGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDUsMSw1KQoJCQkJQWx0UGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJCQlBbHRQbGF0ZS5UcmFuc3BhcmVuY3kgPSAxCgkJCWVsc2UKCQkJCWlmIG5vdCBBbHRQbGF0ZSA9PSBuaWwgdGhlbgoJCQkJCUFsdFBsYXRlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbHRGYXJtLk1vdXNlQnV0dG9uMURvd246Q29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBBbHRGYXJtRW5hYmxlZCB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3RlcjpNb3ZlVG8obGFzdHBvcykKCQkJCQlBbHRGYXJtRW5hYmxlZCA9IGZhbHNlCgkJCQkJQWx0RmFybS5UZXh0ID0gIihHKSBGYXJtaW5nIE1vZGUgKE9mZikiCgkJCQkJYWx0cGxhdGUodHJ1ZSkKCQkJCQlodW0uSGVhbHRoQ2hhbmdlZDpEaXNjb25uZWN0KCkKCQkJCWVsc2UKCQkJCQlBbHRGYXJtRW5hYmxlZCA9IHRydWUKCQkJCQlBbHRGYXJtLlRleHQgPSAiKEcpIEZhcm1pbmcgTW9kZSAoT24pIgoJCQkJCWxhc3Rwb3MgPSBocnAucG9zaXRpb24KCQkJCQlsb2NhbCBUUExvY2F0aW9uID0gbWF0aC5yYW5kb20oMSwjbG9jcykKCQkJCQlhbHRwbGF0ZShmYWxzZSxUUExvY2F0aW9uKQoJCQkJCXJlcGVhdAoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCQkJCWRvRmFybSgpCgkJCQkJCWlmIGhycC5Qb3NpdGlvbiB+PSB1bnBhY2sobG9jc1tUUExvY2F0aW9uXSkgdGhlbgoJCQkJCQkJYWx0dHAoVFBMb2NhdGlvbixsYXN0cG9zKQoJCQkJCQllbmQKCQkJCQkJd2FpdCguMSkKCQkJCQl1bnRpbCBBbHRGYXJtRW5hYmxlZCA9PSBmYWxzZQoJCQkJZW5kCgkJCWVsc2UKCQkJCUFsdEZhcm0uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlBbHRGYXJtLlRleHQgPSAiKEcpIEZhcm1pbmcgTW9kZSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBHVUkgVHdlYWtpbmcKCgkJZm9yIGksIHYgaW4gcGFpcnMoYm9yZGVycykgZG8KCQkJdi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDEsIDAuNSkKCQkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJdi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC43NTAKCQkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJvcmRlclNpemVQaXhlbCA9IDAKCQkJdi5TaXplQ29uc3RyYWludCA9IEVudW0uU2l6ZUNvbnN0cmFpbnQuUmVsYXRpdmVZWQoJCQl2LkFjdGl2ZSA9IHRydWUKCQkJdi5QYXJlbnQgPSBlYmd1aQoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbwoJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDIwLCAxMTUpCgkJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCXYuRm9udCA9IEVudW0uRm9udC5UaXRpbGxpdW1XZWIKCQkJdi5Gb250RmFjZS5XZWlnaHQgPSBFbnVtLkZvbnRXZWlnaHQuSGVhdnkKCQkJdi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQkJdi5UZXh0U2NhbGVkID0gdHJ1ZQoJCQl2LlRleHRTaXplID0gMTQuMDAwCgkJCXYuVGV4dFdyYXBwZWQgPSB0cnVlCgkJCXYuTGF5b3V0T3JkZXIgPSBpCgkJCXYuUGFyZW50ID0gbWFpbmZyYW1lCgkJZW5kCgoJCS0tIGNvbW1hbmRCb3gKCgkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCIKCQlsb29waW5nID0gZmFsc2UKCQlTbWFydEF0dGFjayA9IHRydWUKCQlIZWFsU2V0dGluZyA9IDEKCQlzdHVuRW5hYmxlZCA9IHRydWUKCQlsb2NhbCBidXR0b25IZWlnaHQgPSAzMAoJCWxvY2FsIGJ1dHRvbkdhcCA9IDcKCgkJUlNSID0gZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlJlbW90ZXMiKQoKCQlsb2NhbCBzdHVuQ29ubmVjdGlvbiA9IGdldGNvbm5lY3Rpb25zKFJTUjpXYWl0Rm9yQ2hpbGQoIkNvbWJhdCIpLk9uQ2xpZW50RXZlbnQpCgkJbG9jYWwgbGFnZ2VycyA9IHsKCQkJIjFCMEY5OEJFLUUxMEItNDY3NC05RkI0LTZGNjUxNzFBMzQ3RiIsIC0tIGxvZwoJCQkiNkEzMzEwNEEtMUZFOS00RkE4LTkzNzQtQzE2NEQyOEY4MzUxIiwgLS0gYnJpYW4KCQkJIjgzNzczNkFBLTAxOTItNDdGOS05OEM1LThERDBERjE4RkU3NCIsIC0tIGpldAoJCQkiNTVDMjA0OUQtQzZCRC00NTIzLTg4MDQtRDUzOUMzODc5MkEzIiwgLS0gcGVudGFyYWN0CgkJCSI5NDY0QjY4QS0zNjNDLTQxRjgtQkI3RC1CNEJFRDhBQzA5NjMiLCAtLSB2YXN0b3JpbwoJCQktLSAiODMwQkQ0RTktNUVCRS00QTEzLUI0N0ItOUJFNjAwODNCODM2IiwgLS0gbG9sb2sKCQkJLS0gIjYzQjM5RTI3LURBMUItNDgyRS1CMjhDLTZBMzM5OEM5NUE0QyIsIC0tIGFsZXgKCQkJIjg0NkE2NUUyLUU5NjMtNEEwQS05MDI1LUU5QjhFOTU4OTYxMyIsIC0tIGJyYW0KCQkJIjNGMTY4NDQwLUE1QzAtNEY3MS04RTUxLTNGREY5MDI1RjUxQiIsIC0tIHRvbWVrCgkJCSI2QTk3MDUyQS02MzRFLTQ3RTEtOEQ5MC01RUUzQ0E0QTk2RkEiLCAtLSByYXZlbgoJCQkiRjU5NzVEN0QtMkFDNS00NEFBLTgwMUYtODI3NjI1RDZENzYzIiwgLS0gYWxleGlhCgkJCSI0ODI4NzE4Mi05RTc3LTRGOTctQTY1NC05NzA2OUVEODE2NkMiLCAtLSBqZXNzCgkJCSI3NDg5Q0JBRS03OTg2LTQ1QTktQkU0MC1BMjE4RURDRDBGMDEiIC0tIGNlcGhhcwoJCX0KCgkJbG9jYWwgYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCgkJZm9yIGksIHYgaW4gcGFpcnMobGFnZ2VycykgZG8KCQkJdiA9IHY6bG93ZXIoKQoKCQkJaWYgKHYgPT0gY2xpZW50aWQpIHRoZW4KCQkJCWFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBnZXRIUlAoY2hyKQoJCQlsb2NhbCBIUlAgPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikKCQkJcmV0dXJuIEhSUAoJCWVuZAoKCQlmdW5jdGlvbiBnZXRIVU0oY2hyKQoJCQlsb2NhbCBIVU0gPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikKCQkJcmV0dXJuIEhVTQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiByZXNwYXduKHBscikKCQkJbG9jYWwgY2hyID0gcGxyLkNoYXJhY3RlcgoKCQkJaWYgKGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikpIHRoZW4gY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKTpDaGFuZ2VTdGF0ZSgxNSkgZW5kCgkJCWNocjpDbGVhckFsbENoaWxkcmVuKCkKCgkJCWxvY2FsIG5ld2NociA9IEluc3RhbmNlLm5ldygiTW9kZWwiKQoJCQluZXdjaHIuUGFyZW50ID0gd29ya3NwYWNlCgkJCXBsci5DaGFyYWN0ZXIgPSBuZXdjaHIKCgkJCXdhaXQoKQoKCQkJcGxyLkNoYXJhY3RlciA9IGNocgoJCQluZXdjaHI6RGVzdHJveSgpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlZnJlc2gocGxyKQoJCQlsb2NhbCBodW0gPSBwbHIuQ2hhcmFjdGVyIGFuZCBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiLCB0cnVlKQoJCQlsb2NhbCBwb3MgPSBodW0gYW5kIGh1bS5Sb290UGFydCBhbmQgaHVtLlJvb3RQYXJ0LkNGcmFtZQoJCQlsb2NhbCBwb3MxID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lCgoJCQlyZXNwYXduKHBscikKCgkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCXBsci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCk6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpLlJvb3RQYXJ0LkNGcmFtZSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lID0gcG9zLCB3YWl0KCkgYW5kIHBvczEKCQkJZW5kKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBzcGxpdEFyZ3MoY29tbWFuZCkKCQkJY29tbWFuZCA9IHN0cmluZy5nc3ViKGNvbW1hbmQsICIsIiwgIiAiKQoJCQljb21tYW5kID0gc3RyaW5nLnNwbGl0KGNvbW1hbmQsICIgIikKCgkJCWZvciBpLCB2IGluIGlwYWlycyhjb21tYW5kKSBkbwoJCQkJdiA9IHN0cmluZy5nc3ViKHYsICIlcysiLCAiIikKCQkJCWlmIHYgPT0gIiIgdGhlbgoJCQkJCXRhYmxlLnJlbW92ZShjb21tYW5kLCBpKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIGNvbW1hbmQKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gZmluZFBsYXllcih0ZXh0KQoJCQlsb2NhbCBwbGF5ZXJzID0gZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKQoJCQlsb2NhbCBtYXRjaGVzID0ge30KCgkJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKHBsYXllcnMpIGRvCgkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUKCQkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkKCgkJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKG5hbWUsIHRleHQpCgoJCQkJaWYgbWF0Y2ggdGhlbgoJCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybiBtYXRjaGVzCgkJZW5kCgoJCWxvY2FsIGRydWdzRW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgY29sb3JFeGNsdWRlID0geyJIZWFkIiwiVG9yc28iLCJMZWZ0IEFybSIsIkxlZnQgTGVnIiwiUmlnaHQgQXJtIiwiUmlnaHQgTGVnIiwiU2hhcmQiLCJEaWFtb25kIn0KCgkJLS1bWzk4LzI1NSwgMzcvMjU1LCAyMDkvMjU1XV0KCQlsb2NhbCBjb2xvcjEKCQlsb2NhbCBjb2xvcjIKCQlsb2NhbCBjb2xvcjMKCgkJbG9jYWwgZnVuY3Rpb24gdGVybUVCR3VpKCkKCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQl3YWl0KDEpCgkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCWViZ3VpOkRlc3Ryb3koKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBpbnB1dEJveCgpCgkJCWxvY2FsIHRleHQgPSBjb21tYW5kQm94LlRleHQKCQkJd2FpdCgpCgkJCWNvbW1hbmRCb3guVGV4dCA9ICIiCgoJCQlsb2NhbCBwcmVmaXggPSAiOyIKCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxKSA9PSAocHJlZml4KSB0aGVuCgkJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpCgoJCQkJLS1bW2lmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAicmUiKSB0aGVuCgkJCQkJcmVmcmVzaChwbGF5ZXIpXV0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAidHAiKSB0aGVuCgkJCQkJbG9jYWwgdGVsZXBvcnR0bwoJCQkJCWxvY2FsIHRwbmFtZQoJCQkJCWxvY2FsIHBsYWNlID0gc3RyaW5nLnN1Yih0ZXh0LCA1KQoJCQkJCWxvY2FsIHBsYWNlcyA9IHsKCQkJCQkJNTY2Mzk5MjQ0LAoJCQkJCQkyNTY5NjI1ODA5LAoJCQkJCQk1NzAxNTgwODEsCgkJCQkJCTUzNzYwMDIwNCwKCQkJCQkJNTIwNTY4MjQwLAoJCQkJCQk1NTQ5NTU1NjAsCgkJCQkJCTYwMjA0ODU1MCwKCQkJCQkJNTc1NDU2NjQ2LAoJCQkJCQkxNzEzOTg2MTEyLAoJCQkJCQkxMjQzNjE1NjEyLAoJCQkJCQk2MzgwNjUzMDIsCgkJCQkJCTYzNDI0MDgyNiwKCQkJCQkJNjMzMDQyNzMxCgkJCQkJfQoKCQkJCQlpZiBwbGFjZSA9PSAic3RhbmRhcmRsb3ciIG9yIHBsYWNlID09ICI1NjYzOTkyNDQiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxXQoJCQkJCQl0cG5hbWUgPSAiTG93YmllIFN0YW5kYXJkIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAic3RhbmRhcmQ0MCIgb3IgcGxhY2UgPT0gIjI1Njk2MjU4MDkiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1syXQoJCQkJCQl0cG5hbWUgPSAiU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJsaWdodCIgb3IgcGxhY2UgPT0gIjU3MDE1ODA4MSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzNdCgkJCQkJCXRwbmFtZSA9ICJMaWdodCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImZpcmUiIG9yIHBsYWNlID09ICI1Mzc2MDAyMDQiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s0XQoJCQkJCQl0cG5hbWUgPSAiRmlyZSIKCQkJCQllbHNlaWYgcGxhY2UgPT0gIndhdGVyIiBvciBwbGFjZSA9PSAiNTIwNTY4MjQwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNV0KCQkJCQkJdHBuYW1lID0gIldhdGVyIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiZ3Jhc3MiIG9yIHBsYWNlID09ICI1NTQ5NTU1NjAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s2XQoJCQkJCQl0cG5hbWUgPSAiR3Jhc3MiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJoZWF2ZW4iIG9yIHBsYWNlID09ICI2MDIwNDg1NTAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s3XQoJCQkJCQl0cG5hbWUgPSAiSGVhdmVuIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWluaWxvdmFuaWEiIG9yIHBsYWNlID09ICJzYW5zIiBvciBwbGFjZSA9PSAiNTc1NDU2NjQ2IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOF0KCQkJCQkJdHBuYW1lID0gIk1pbmlsb3ZhbmlhIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiZGVmYXVsdCIgb3IgcGxhY2UgPT0gInRvdXJuYW1lbnQiIG9yIHBsYWNlID09ICIxNzEzOTg2MTEyIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOV0KCQkJCQkJdHBuYW1lID0gIlRvdXJuYW1lbnQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJzdXJ2aXZhbCIgb3IgcGxhY2UgPT0gIjEyNDM2MTU2MTIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMF0KCQkJCQkJdHBuYW1lID0gIlN1cnZpdmFsIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYXN0YW5kYXJkIiBvciBwbGFjZSA9PSAic3RhbmRhcmRtZWdhIiBvciBwbGFjZSA9PSAiNjM4MDY1MzAyIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdCgkJCQkJCXRwbmFtZSA9ICJNZWdhIFN0YW5kYXJkIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWZpcmUiIG9yIHBsYWNlID09ICJmaXJlbWVnYSIgb3IgcGxhY2UgPT0gIjYzNDI0MDgyNiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzExXQoJCQkJCQl0cG5hbWUgPSAiTWVnYSBGaXJlIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWdyYXNzIiBvciBwbGFjZSA9PSAiZ3Jhc3NtZWdhIiBvciBwbGFjZSA9PSAiNjMzMDQyNzMxIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTNdCgkJCQkJCXRwbmFtZSA9ICJNZWdhIEdyYXNzIgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoZSBwbGFjZSB3YXMgaW5jb3JyZWN0bHkgc3BlY2lmaWVkISIKCQkJCQllbmQKCgkJCQkJaWYgdGVsZXBvcnR0byB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUZWxlcG9ydGluZyB0byAiIC4uIHRwbmFtZSAuLiAiISIKCQkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydCh0ZWxlcG9ydHRvKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAiZGVjbHV0dGVyIikgdGhlbgoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQ2hhcmFjdGVyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Cb29rLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5TaG9wLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInJhaW4iKSB0aGVuCgkJCQkJbG9jYWwgY3VycmVudENBTSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhCgkJCQkJbG9jYWwgcmFpblNvdW5kID0gSW5zdGFuY2UubmV3KCJTb3VuZCIpCgkJCQkJcmFpblNvdW5kLkxvb3BlZCA9IHRydWUKCQkJCQlyYWluU291bmQuU291bmRJZCA9ICJyYnhhc3NldGlkOi8vMjgzMTY0NTkzIgoJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxCgkJCQkJcmFpblNvdW5kLlBhcmVudCA9IHdvcmtzcGFjZQoJCQkJCXJhaW5Tb3VuZDpQbGF5KCkKCgkJCQkJbG9jYWwgcmFpblBhcnQgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldygzMDAsIDMwMCwgMzAwKQoJCQkJCXJhaW5QYXJ0LlRyYW5zcGFyZW5jeSA9IDEKCQkJCQlyYWluUGFydC5BbmNob3JlZCA9IHRydWUKCQkJCQlyYWluUGFydC5DYW5Db2xsaWRlID0gZmFsc2UKCgkJCQkJbG9jYWwgcmFpbkVmZmVjdCA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpXYWl0Rm9yQ2hpbGQoIkVmZmVjdHMiKTpXYWl0Rm9yQ2hpbGQoIlJhaW4iKQoJCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlCgkJCQkJcmFpbkVmZmVjdC5QYXJlbnQgPSByYWluUGFydAoKCQkJCQlsb2NhbCBpZ25vcmUgPSB3b3Jrc3BhY2U6V2FpdEZvckNoaWxkKCIuSWdub3JlIikKCQkJCQlyYWluUGFydC5QYXJlbnQgPSBpZ25vcmU6V2FpdEZvckNoaWxkKCIuU2VydmVyRWZmZWN0cyIpCgoJCQkJCWxvY2FsIGZvdiA9IDIgKiBtYXRoLnRhbihtYXRoLnJhZChjdXJyZW50Q0FNLkZpZWxkT2ZWaWV3KSAvIDIpCgkJCQkJbG9jYWwgbmV3UmF5ID0gUmF5Lm5ldwoJCQkJCWxvY2FsIGhlaWdodCA9IFZlY3RvcjMubmV3KDAsIDUwLCAwKQoJCQkJCWxvY2FsIGRlcHRoID0gQ0ZyYW1lLm5ldygwLCBmb3YgKiA1MCwgLTYwKQoKCQkJCQlnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKTpCaW5kVG9SZW5kZXJTdGVwKCJSYWluIiwgRW51bS5SZW5kZXJQcmlvcml0eS5DYW1lcmEuVmFsdWUsIGZ1bmN0aW9uKCkKCQkJCQkJbG9jYWwgcmMgPSB3b3Jrc3BhY2U6RmluZFBhcnRPblJheVdpdGhJZ25vcmVMaXN0KG5ld1JheShjdXJyZW50Q0FNLkNGcmFtZS5wLCBoZWlnaHQpLCB7aWdub3JlfSkKCgkJCQkJCWlmIChyYykgdGhlbgoJCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gZmFsc2UKCQkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAwLjUKCQkJCQkJCXJldHVybgoJCQkJCQllbmQKCgkJCQkJCWxvY2FsIHZpZXdwb3J0ID0gY3VycmVudENBTS5WaWV3cG9ydFNpemUKCQkKCQkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KGZvdiAqIHZpZXdwb3J0LnggLyB2aWV3cG9ydC55ICogNTAsIDAuMiwgMTAwKQoJCQkJCQlyYWluUGFydC5DRnJhbWUgPSBjdXJyZW50Q0FNLkNGcmFtZSAqIGRlcHRoCgkJCgkJCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlCgkJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IHRydWUKCQkKCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDEKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA0KSA9PSAocHJlZml4IC4uICJmaXgiKSB0aGVuCgkJCQkJaWYgcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKSB0aGVuCgkJCQkJCXBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikuVmlzaWJsZSA9IGZhbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGaXhpbmcgdGhlIE1lbnUgR1VJISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEzKSA9PSAocHJlZml4IC4uICJidXR0b25oZWlnaHQiKSB0aGVuCgkJCQkJYnV0dG9uSGVpZ2h0ID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpCgkJCQkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIGJ1dHRvbkhlaWdodCkKCQkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQoKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGhlaWdodCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpIC4uICIhIgoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJ1dHRvbmdhcCIpIHRoZW4KCQkJCQlidXR0b25HYXAgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkKCQkJCQlVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgYnV0dG9uR2FwKQoJCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApCgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gZ2FwIHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkgLi4gIiEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSB0aGVuCgkJCQkJcmVqb2luKCkKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmVqb2luaW5nLi4uIgoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiYXVyYS9vZmYiKSB0aGVuCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikKCgkJCQkJaWYgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKSB0aGVuCgkJCQkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIik6RGVzdHJveSgpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGhhcyBiZWVuIHJlbW92ZWQuIgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgZG9lcyBub3QgZXhpc3QhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTQpID09IChwcmVmaXggLi4gInRhcmdldHNldHRpbmciKSB0aGVuCgkJCQkJdGFyZ2V0U2V0dGluZyA9IHN0cmluZy5zdWIodGV4dCwgMTYpCgoJCQkJCXJlcGVhdAoJCQkJCQlpZiB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIHNlbGVjdCEiCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBjbG9zZXN0ISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gZmFydGhlc3QhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gbG93aHAhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGhpZ2hocCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIGRvCgkJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQoKCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4KCQkJCQkJCQkJCWlmIFNtYXJ0QXR0YWNrIHRoZW4KCQkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCQllbHNlCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCAKCQkJCQkJCQkJZnVuY3Rpb24oYSwgYikKCQkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQoJCQkJCQkJCQllbmQKCQkJCQkJCQkpCgoJCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lCgoJCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJZW5kCgkJCQkJCWVsc2UKCQkJCQkJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIERpZCB5b3Ugc3BlY2lmeSBzZWxlY3QsIGNsb3Nlc3QsIGZhcnRoZXN0LCBsb3docCwgb3IgaGlnaGhwPyBTZXR0aW5nIGhhcyBiZWVuIHNldCB0byBzZWxlY3QuIgoJCQkJCQllbmQKCQkJCQl1bnRpbCB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiCgoJCQkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJsb29wIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBsb29waW5nID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdGFydGVkIGxvb3BpbmcgYXR0YWNrcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWxvb3BpbmcgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlsb29waW5nID0gbm90IGxvb3BpbmcKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGxvb3BpbmcgYXR0YWNrcyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQl3aGlsZSBsb29waW5nIGRvCgkJCQkJCQlleHBsb2l0KCkKCQkJCQkJCXdhaXQoKQoJCQkJCQllbmQKCQkJCQkJcmV0dXJuCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAidW5icmVhayIpIHRoZW4KCQkJCQlicmVha2FibGUgPSBmYWxzZQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiZ3JjaGFyZ2UiKSB0aGVuCgkJCQkJR1JDaGFyZ2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDExKSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBHUkNoYXJnZSA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgY2hhcmdlIHRvICIgLi4gR1JDaGFyZ2UgLi4gIiEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJzcGVlZCIpIHRoZW4KCQkJCQlTZXRTcGVlZCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgOCkpCgkJCQkJd2FpdCgpCgkJCQkJaWYgU2V0U3BlZWQgPT0gbmlsIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/IgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIHNwZWVkIHRvICIgLi4gU2V0U3BlZWQgLi4gIiEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMikgPT0gKHByZWZpeCAuLiAic21hcnRhdHRhY2siKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE1KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBTbWFydEF0dGFjayA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJU21hcnRBdHRhY2sgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm93IGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTYpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBTbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCVNtYXJ0QXR0YWNrID0gbm90IFNtYXJ0QXR0YWNrCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZm9yY2VmaWVsZCBkZXRlY3Rpb24gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiZ2FtZWNvbG9yIikgdGhlbgoJCQkJCWlmIG5vdCBnYW1lLkxpZ2h0aW5nOkZpbmRGaXJzdENoaWxkKCJFQkdHdWlDb2xvckNvcnJlY3Rpb24iKSB0aGVuCgkJCQkJCUluc3RhbmNlLm5ldygiQ29sb3JDb3JyZWN0aW9uRWZmZWN0IiwgZ2FtZS5MaWdodGluZykuTmFtZSA9ICJFQkdHdWlDb2xvckNvcnJlY3Rpb24iCgkJCQkJCXdhaXQoKQoJCQkJCWVuZAoKCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNykgPT0gIm5vcm1hbCIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IDAKCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IDAKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJldmVydGluZy4uLiIKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJncmF5c2NhbGUiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0xCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJHcmF5c2NhbGluZy4uLiIKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRodWUiIHRoZW4KCQkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0yCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgaHVlLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGFsbCIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IC0yCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgYWxsLi4uIgoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29sb3IgbW9kZSAob3Igbm9uZSBzcGVjaWZpZWQpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJibGFja2Nhc3QiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSB0cnVlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbHNlCgkJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gbm90IGJsYWNrY2FzdEVuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGJsYWNrIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJzdHVuIikgdGhlbgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlzdHVuRW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlzdHVuRW5hYmxlZCA9IG5vdCBzdHVuRW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbwoJCQkJCQkJCWNvbm5lY3Rpb246RGlzYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpFbmFibGUoKQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBzdHVuICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiZHJ1Z3MiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDkpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCWRydWdzRW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgMTApID09ICgib2ZmIikgdGhlbgoJCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWRydWdzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGRpc2FibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQlkcnVnc0VuYWJsZWQgPSBub3QgZHJ1Z3NFbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQlPbk9yT2ZmID0gIk9mZiIKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGRydWcgbW9kZSAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDExKSA9PSAocHJlZml4IC4uICJtYWdpY2NvbG9yIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDEzKQoJCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykKCgkJCQkJaWYgKGFyZ3NbMV0gPT0gInQiKSBvciAoYXJnc1sxXSA9PSAib24iKSB0aGVuCgkJCQkJCWlmIChjb2xvcjEgfj0gbmlsKSBhbmQgKGNvbG9yMiB+PSBuaWwpIGFuZCAoY29sb3IzIH49IG5pbCkgdGhlbgoJCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGVuYWJsZWQhIgoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIllvdSBtdXN0IGhhdmUgY29sb3JzIHNldCB3aXRoIHRoaXMgY29tbWFuZCBiZWZvcmUgdHVybmluZyBpdCBiYWNrIG9uISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIChhcmdzWzFdID09ICJmIikgb3IgKGFyZ3NbMV0gPT0gIm9mZiIpIHRoZW4KCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBkaXNhYmxlZCEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvZmYhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWFyZ3NbMV0gPSB0b251bWJlcihhcmdzWzFdKQoJCQkJCQlhcmdzWzJdID0gdG9udW1iZXIoYXJnc1syXSkKCQkJCQkJYXJnc1szXSA9IHRvbnVtYmVyKGFyZ3NbM10pCgoJCQkJCQlpZiBub3QgYXJnc1szXSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3Ugc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXM/IgoJCQkJCQllbHNlCgkJCQkJCQlpZiAoYXJnc1sxXSB+PSBuaWwpIGFuZCAoYXJnc1syXSB+PSBuaWwpIGFuZCAoYXJnc1szXSB+PSBuaWwpIHRoZW4KCQkJCQkJCQlsb2NhbCBleGVjdXRhYmxlID0gdHJ1ZQoKCQkJCQkJCQlmb3IgaSA9IDEsIDMsIDEgZG8KCQkJCQkJCQkJaWYgKGFyZ3NbaV0gPCAwKSBvciAoYXJnc1tpXSA+IDI1NSkgdGhlbgoJCQkJCQkJCQkJZXhlY3V0YWJsZSA9IGZhbHNlCgkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJaWYgZXhlY3V0YWJsZSA9PSB0cnVlIHRoZW4KCQkJCQkJCQkJY29sb3IxID0gYXJnc1sxXQoJCQkJCQkJCQljb2xvcjIgPSBhcmdzWzJdCgkJCQkJCQkJCWNvbG9yMyA9IGFyZ3NbM10KCgkJCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3Igd2FzIHNldCB0byAiIC4uIGNvbG9yMSAuLiAiLCAiIC4uIGNvbG9yMiAuLiAiLCBhbmQgIiAuLiBjb2xvcjMgLi4gIiEiCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFRoZSBudW1iZXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNTUhIgoJCQkJCQkJCWVuZAoJCQkJCQkJZWxzZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgUGxlYXNlIHVzZSBudW1iZXJzIHRvIHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzLiIKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImNvbG9ycyIpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQoJCQkJCQlzcGF3bihmdW5jdGlvbigpIAoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCXdoaWxlIHRydWUgZG8KCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSkpCgkJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQoJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB0YWJsZS5maW5kKGNvbG9yRXhjbHVkZSwgZC5OYW1lKSB0aGVuIAoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoY29sb3IxLCBjb2xvcjIsIGNvbG9yMykKCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZSBicmVhayBlbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgKGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4KCQkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbgoJCQkJCQkJCQkJCXYuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCWVuZCkKCQkJCQkJZW5kKQoKCQkJCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCWlmIGQ6SXNBKCJQYXJ0aWNsZUVtaXR0ZXIiKSB0aGVuCQkJCgkJCQkJCQkJCXdoaWxlIHRydWUgZG8KCQkJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuCgkJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ewoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKSwKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKQoJCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAiaGVhbCIpIHRoZW4KCQkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCA3KQoJCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykKCgkJCQkJaWYgYXJnc1sxXSB0aGVuCQkJCQoJCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuCgkJCQkJCQlsb2NhbCBoZWFsaW5nUGxheWVyID0gZmluZFBsYXllcihhcmdzWzFdKVsxXQoJCQkJCQkJbG9jYWwgY2hyID0gZ2FtZS5QbGF5ZXJzW2hlYWxpbmdQbGF5ZXJdLkNoYXJhY3RlcgoKCQkJCQkJCWlmIGNociB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkhlYWxpbmcgIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdIC4uICIuLi4iCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIpCgkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCQkJCQlpZiBjaHIgPT0gcGxheWVyLkNoYXJhY3RlciB0aGVuCgkJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBbmdlbCIsIkFuZ2VsaWMgQXVyYSIpCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAyKSA9PSAocHJlZml4IC4uICJlIikgdGhlbgoJCQkJCWxvY2FsIHBoYXNlID0gc3RyaW5nLnN1Yih0ZXh0LCA0KQoKCQkJCQlpZiB0b251bWJlcihwaGFzZSkgfj0gbmlsIHRoZW4KCQkJCQkJcGhhc2UgPSBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkKCgkJCQkJCWlmIChwaGFzZSA9PSAxKSBvciAocGhhc2UgPT0gMikgb3IgKHBoYXNlID09IDMpIHRoZW4KCQkJCQkJCUVjaG9lc1BoYXNlID0gcGhhc2UKCgkJCQkJCQlsb2NhbCBtb2RlID0gIiIKCgkJCQkJCQlpZiBFY2hvZXNQaGFzZSA9PSAxIHRoZW4KCQkJCQkJCQltb2RlID0gIihTVEFSKSIKCQkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAyIHRoZW4KCQkJCQkJCQltb2RlID0gIihGTEFNRSkiCgkJCQkJCQllbHNlaWYgRWNob2VzUGhhc2UgPT0gMyB0aGVuCgkJCQkJCQkJbW9kZSA9ICIoU0hPQ0spIgoJCQkJCQkJZW5kCgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBoYXMgYmVlbiBjaGFuZ2VkISAiIC4uIG1vZGUKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImNoYW5nZWxvZyIpIHRoZW4KCQkJCQktLSBUYWc6IENITkdMRwoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDb3BpZWQgdGhlIGNoYW5nZWxvZyB0byB5b3VyIGNsaXBib2FyZCEiCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkdVSSNjaGFuZ2Vsb2ciKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAib3JpZ2luIikgdGhlbgoJCQkJCXhwY2FsbChmdW5jdGlvbigpCgkJCQkJCWxvY2FsIG9yaWdpbiA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJCW9yaWdpbi5BbmNob3JlZCA9IHRydWUKCQkJCQkJb3JpZ2luLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl0KCQkJCQkJb3JpZ2luLk5hbWUgPSAiT3JpZ2luIgoJCQkJCQlvcmlnaW4uTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24KCQkJCQkJb3JpZ2luLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiUmVhbGx5IHJlZCIpCgkJCQkJCW9yaWdpbi5TaXplID0gVmVjdG9yMy5uZXcoMC41LCAwLjUsIDAuNSkKCQkJCQkJb3JpZ2luLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKCQkJCQkJd2FybigiTWFkZSBhIGJsb2NrIGF0IHRoZSBvcmlnaW4hIikKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3MhIENoZWNrIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyIKCQkJCQllbmQsIGZ1bmN0aW9uKGUpCgkJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkKCQkJCQkJd2FybigndHJhY2ViYWNrOicsIGRlYnVnLnRyYWNlYmFjaygpKQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9ibG9iL21haW4vRG9jcy5tZCIpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvY3VtZW50YXRpb24gY29waWVkIHRvIGNsaXBib2FyZCEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJpbmZvIikgdGhlbgoJCQkJCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAic3RhdHVzIiB0aGVuCgkJCQkJCXByaW50KCJUaGUgY3VycmVudCBzdGF0dXMgb2YgRUJHdWkgaXMgIiAuLiBzdGF0dXMpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkd1aSBTdGF0dXM6ICIgLi4gc3RhdHVzCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInJlcG8iIG9yIHN0cmluZy5zdWIodGV4dCwgNykgPT0gImdpdGh1YiIgdGhlbgoJCQkJCQlwcmludCgiVGhlIEdpdEh1YiByZXBvc2l0b3J5IGxpbmsgaXMgIiAuLiByZXBvKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1cGRhdGUiKSB0aGVuCgkJCQkJbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL21haW4vYmluL2luZm8ubHVhJykpKCkKCQkJCQlpZiB2ZXJOdW0gPT0gY3VycmVudCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJObyB1cGRhdGUgcmVxdWlyZWQhIgoJCQkJCWVsc2VpZiB2ZXJOdW0gPT0gbGFzdCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJWZXJzaW9uIG91dGRhdGVkISBDdXJyZW50OiAiIC4uIGN1cnJlbnQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJicm8gdXIgb24gYSBkZXYgYnVpbGQgb3Igc20iCgkJCQkJZW5kCgkJCQktLVtbZWxzZWlmIHN0cmluZy5zdWIodGV4dCwxLDUpID09IChwcmVmaXguLiJkZXNwIikgdGhlbgoJCQkJCWxvY2FsIGFyZyA9IHN0cmluZy5zdWIodGV4dCw3KQoJCQkJCWxvY2FsIGZ1bmN0aW9uIGlzbnVtYmVyKG4pCgkJCQkJCXJldHVybiAodHlwZShuKSA9PSAibnVtYmVyIikgYW5kIChtYXRoLmZsb29yKG4pID09IG4pCgkJCQkJZW5kCgkJCQkJaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kICh0b251bWJlcihhcmcpID49IDEwIGFuZCB0b251bWJlcihhcmcpIDw9IDEwMDAwMCkgdGhlbgoJCQkJCQlFU1BNYXhEaXN0ID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU2V0IEVTUCBNYXggRGlzdGFuY2UgdG8gIiAuLiBhcmcKCQkJCQllbHNlaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAgdGhlbgoJCQkJCQlFU1BNYXhEaXN0ID0gbmlsCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOdW1iZXIgdG9vIGxvdyEgUmVzZXQgdGhlIEVTUCBNYXggRGlzdGFuY2UuIgoJCQkJCWVsc2VpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgdG9udW1iZXIoYXJnKSA+PSAxMDAwMDAgdGhlbgoJCQkJCQlFU1BNYXhEaXN0ID0gbmlsCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJXT0FIIFRIQVQnUyBBIEJJRyBOVU1CRVIuIFJlc2V0IHRoZSBFU1AgTWF4IERpc3RhbmNlLiIKCQkJCQllbHNlaWYgbm90IGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCAoYXJnID09ICJ0IiBvciBhcmcgPT0gIm9uIikgdGhlbgoJCQkJCQlpZiBFU1BNREVuYWJsZWQgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVTUCBNYXggRGlzdGFuY2UgaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCUVTUE1ERW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gRVNQIE1heCBEaXN0YW5jZSEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBub3QgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIChhcmcgPT0gImYiIG9yIGFyZyA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBFU1BNREVuYWJsZWQgdGhlbgoJCQkJCQkJRVNQTURFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIEVTUCBNYXggRGlzdGFuY2UhIgoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRVNQIE1heCBEaXN0YW5jZSBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIERpZCB5b3Ugc3BlY2lmeSBhIG51bWJlcj8iCgkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUuIEdvdCAiIC4uIGFyZyAuLiAiLCBleHBlY3RlZCBib29sZWFuIG9yIG51bWJlciIpCgkJCQkJZW5kXV0KCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb21tYW5kISBEaWQgeW91IHR5cGUgaXQgd3Jvbmc/IgoJCQkJCXdhcm4oIkdvdCBhbiBpbnZhbGlkIGNvbW1hbmQgYXQgcnVudGltZS4gQ29tbWFuZCByZWNlaXZlZCB3YXMgIi4udGV4dCkKCQkJCWVuZAoKCQkJCXdhaXQoMS41KQoJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlsb2NhbCBtYXRjaGVzID0gZmluZFBsYXllcih0ZXh0KQoKCQkJCWlmICNtYXRjaGVzID09IDEgdGhlbgoJCQkJCXRhcmdldCA9IG1hdGNoZXNbMV0KCQkJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgkJCQkJCQoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiBtYXRjaGVzWzFdCgkJCQkJZW5kCgkJCQkJd2FpdCgxKQoJCQkJZWxzZQoJCQkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCQkJd2FybigiVGFyZ2V0IG5vdCBmb3VuZCEgRG8gbXVsdGlwbGUgcGxheWVycyBoYXZlIHRoYXQgc2FtZSBzdWJzdHJpbmcgaW4gdGhlaXIgbmFtZXM/IikKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBUYXJnZXQhIFR5cGUgdGhlaXIgbmFtZSBhZ2Fpbi4iCgkJCQkJd2FpdCgxLjUpCgkJCQkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOmNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQoJCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJdGFyZ2V0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUKCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChUYXJnZXQgbGVmdCEpIgoJCQllbmQKCQllbmQpCgoJCWNvbW1hbmRCb3guRm9jdXNMb3N0OkNvbm5lY3QoZnVuY3Rpb24oZW50ZXJQcmVzc2VkKQoJCQlpZiBlbnRlclByZXNzZWQgdGhlbgoJCQkJaWYgY29tbWFuZEJveC5UZXh0IH49ICIiIHRoZW4KCQkJCQlpbnB1dEJveCgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQoJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAobWF0aC5jZWlsKCNidXR0b25zICogMzcpIC8gMikgLSA3KQoJCWVuZCkpCgoJCS0tIEJyZWFraW5nIFNjcmlwdCBVc2VycwoKCQlicmVha2FibGUgPSB0cnVlCgoJCWxvY2FsIGJyZWFrVXNlcnMgPSB7CgkJCTE4NjQzODA1ODEsCgkJCTE4MjEzMzI5MywKCQkJMjk3NjE1MjMxLAoJCQkxMTI4MTE0OTQ0LAoJCQkxOTU2NDEzMDc5LAoJCQkzMTEwMjcyMDQsCgkJCTE5MDMxNjU0MDUsCgkJCTE5MzM3MzQ5NTYsCgkJCTE4MTIwNTM2MzIsCgkJCTE5MDYzMTE5MDIsCgkJCTE5OTMyMjQ3MjQsCgkJCTE5NDQ1MzE2NjUsCgkJCTEwODA0NTAyMwoJCX0KCgkJbG9jYWwgb25jaGF0ID0gZnVuY3Rpb24ocGxyLCBtc2cpCgkJCWxvY2FsIGFsbG93ZWQgPSBmYWxzZQoJCQlmb3IgXywgdXNlciBpbiBwYWlycyhicmVha1VzZXJzKSBkbwoJCQkJaWYgcGxyLk5hbWUgPT0gdXNlciB0aGVuCgkJCQkJYWxsb3dlZCA9IHRydWUKCQkJCWVuZAoJCQllbmQKCgkJCWxvY2FsIHByZWZpeCA9ICI7IgoKCQkJaWYgc3RyaW5nLnN1Yihtc2csIDEsIDcpID09IChwcmVmaXggLi4gImJyZWFrICIpIHRoZW4KCQkJCWxvY2FsIG1hdGNoZXMgPSB7fQoKCQkJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJbG9jYWwgbmFtZSA9IFBsYXllci5OYW1lCgkJCQkJbXNnID0gc3RyaW5nLmxvd2VyKHN0cmluZy5zdWIobXNnLCA4KSkKCQkJCQluYW1lID0gc3RyaW5nLmxvd2VyKG5hbWUpCgkJCQkJbG9jYWwgdGVybSA9IHN0cmluZy5zdWIobmFtZSwgMSwgc3RyaW5nLmxlbihuYW1lKSkKCgkJCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZCh0ZXJtLCBtc2cpCgoJCQkJCWlmIG1hdGNoIHRoZW4KCQkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQoJCQkJCWVuZAoJCQkJZW5kCgoJCQkJaWYgbWF0Y2hlc1sxXSA9PSBwbGF5ZXIuTmFtZSBhbmQgYnJlYWthYmxlIGFuZCBhbGxvd2VkIHRoZW4KCQkJCQl3aGlsZSB0cnVlIGRvCgoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJdi5DaGF0dGVkOkNvbm5lY3QoZnVuY3Rpb24obXNnKQoJCQkJb25jaGF0KHYsIG1zZykKCQkJZW5kKQoJCWVuZAoKCQlwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJdi5DaGF0dGVkOkNvbm5lY3QoZnVuY3Rpb24obXNnKQoJCQkJb25jaGF0KHYsIG1zZykKCQkJZW5kKQoJCWVuZCkKCgkJLS0gRXhwbG9pdHMKCgkJbG9jYWwgZnVuY3Rpb24gZmYoKQoJCQlpZiBTbWFydEF0dGFjayA9PSB0cnVlIHRoZW4KCQkJCWlmIGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQlyZXR1cm4gdHJ1ZQoJCQkJZWxzZQoJCQkJCXJldHVybiBmYWxzZQoJCQkJZW5kCgkJCWVsc2UKCQkJCXJldHVybiBmYWxzZQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gZXhwbG9pdCgpCgkJCS0tIEV4cGxvaXQgZnVuY3Rpb24uIFdoZW4gQyBpcyBwcmVzc2VkIGFuZCBvbmUgb2YgdGhlc2UgYXJlICJ0cnVlIiwgaXQgd2lsbCBmaXJlIGl0LgoJCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIKCQkJbG9jYWwgRENNID0gUlNSLkRvQ2xpZW50TWFnaWMKCQkJbG9jYWwgRE0gPSBSU1IuRG9NYWdpYwoKCQkJaWYgU29sYXJCdWdFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsIlVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuIikKCQkJCWxvY2FsIGFyZ3MgPXsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJVbm1hdGNoZWQgUG93ZXIgb2YgdGhlIFN1biIsCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgVGVjaERpc2NFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwiTGlnaHQgRGlzYyIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwKCQkJCQlbMl0gPSAiTGlnaHQgRGlzYyIsCgkJCQkJWzNdID0gewoJCQkJCQlbIlBvc2l0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJUlNSLlJlbW90ZUV2ZW50OkZpcmVTZXJ2ZXIoIkxpZ2h0RGlzYzIiKQoJCQkJd2FpdCgyKQoJCQkJUlNSLlJlbW90ZUV2ZW50OkZpcmVTZXJ2ZXIoIkxpZ2h0RGlzY0RlbGV0ZSIpCgkJCWVuZAoKCQkJaWYgTGVhcFN0dW5FbmFibGVkIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJFeHBsb3Npb24iLCAiRXhwbG9zaXZlIExlYXAiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiRXhwbG9zaW9uIiwKCQkJCQlbMl0gPSAiRXhwbG9zaXZlIExlYXAiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJMYXN0UG9zIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgRHlpbmdTdGFyRW5hYmxlZCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvbGFyIiwgIkR5aW5nIFN0YXIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgSW5zdGFudEZpc3RFbmFibGVkIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEZpc3QiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiRWFydGgiLAoJCQkJCVsyXSA9ICJSb2NrIEZpc3QiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJHcm91bmRlZCJdID0gdHJ1ZQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbE9yYnNFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsIk9yYnMgb2YgRW5saWdodGVubWVudCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJMaWdodCIsCgkJCQkJWzJdID0gIk9yYnMgb2YgRW5saWdodGVubWVudCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkNvb3JkaW5hdGVzIl0gPSB7CgkJCQkJCQlbMV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbNF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbNV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbNl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbN10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbOF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbOV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTBdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzExXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxMl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzE0XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxNV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTZdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzE3XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxOF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTldID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzIwXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQoJCQkJCQl9LAoJCQkJCQlbIk9yaWdpbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24KCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIFJlYXBlclVsdEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlJlYXBlciIsICJSZWFwZXIncyBSYWdlIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlJlYXBlciIsCgkJCQkJWzJdID0gIlJlYXBlcidzIFJhZ2UiLAoJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCQkKCgkJCWlmIENyZWF0aW9uSG9sZEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNyZWF0aW9uIiwgIkNvbnRpbnVvdXMgU3RyaWtlcyIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJDcmVhdGlvbiIsCgkJCQkJWzJdID0gIkNvbnRpbnVvdXMgU3RyaWtlcyIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkNGIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCVsiQ2hhcmdlIl0gPSAiMiIKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIEh5cGVyYW5nRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiSHlwZXJhbmciLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgRGFya0FvZUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIikKCQkJCURNOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiLCB7bGFzdE1vdXNlUG9zaXRpb24gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKX0pCgkJCWVuZAoKCQkJaWYgRGlzcGVyc2lvbkVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlN0b3JtIiwgIkxpZ2h0bmluZyBEaXNwZXJzaW9uIikKCQkJCURNOkludm9rZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iLCB7R3JvdW5kZWQgPSB0cnVlfSkKCQkJZW5kCgoJCQlpZiBEb3VibGVSYXlFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNvbGFyIiwKCQkJCQlbMl0gPSAiRG91YmxlIFJheSIKCQkJCX0JCQkKCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNvbGFyIiwKCQkJCQlbMl0gPSAiRG91YmxlIFJheSIsCgkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApCgkJCQl9CQkJCgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIFN0b3JtQnVsbGV0c0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIKCQkJCX0JCQkKCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlN0b3JtIiwKCQkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJEaXJlY3Rpb24iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQoJCQkJCX0KCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgT3JiaXRhbEhhY2tFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlRlY2hub2xvZ3kiLAoJCQkJCVsyXSA9ICJPcmJpdGFsIFN0cmlrZSIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlRlY2hub2xvZ3kiLAoJCQkJCVsyXSA9ICJPcmJpdGFsIFN0cmlrZSIsCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgVmlnb3JIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGlyaXQiLAoJCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwaXJpdCIsCgkJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBBc3Rlcm9pZEJlbHRFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgQmxhemVDb2x1bW5FbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBWaW5lVHJhcEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIikKCQkJCURNOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiLCB7TGFzdFBvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikKCQkJCURNOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIEdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDE1LCAwKSkKCQkJZW5kCgoJCQlpZiBBbWF1cm90aWNMYW1iZW50RW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCQllbmQKCgkJCWlmIEFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikKCQkJCURNOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQoJCQllbmQKCgkJCWlmIFZvaWRPcGVuaW5nSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIikKCQkJCURNOkludm9rZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciLCB7cG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxNTAsIDApfSkKCQkJZW5kCgoJCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIEdlbmVzaXNSYXlFbmFibGVkIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5IiwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJRE06SW52b2tlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5Iiwge2x2ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIGNoYXJnZSA9IEdSQ2hhcmdlfSkKCQkJZW5kCgoJCQlpZiBUaGVXb3JsZEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwge3JoaXQgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydCwgbm9ybSA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBycG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCQllbmQKCgkJCWlmIFBvbGFyaXNFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkIGFuZCBFY2hvZXNQaGFzZSB+PSBuaWwgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgbW91c2UuSGl0LnB9KQoJCQllbmQKCgkJCWlmIFNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIikKCQkJCURNOkludm9rZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIikKCQkJCURNOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgRXRoZXJlYWxBY3VtZW5FbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgRm9ybWlkYWJsZVJvYXJFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIikKCQkJCURNOkludm9rZVNlcnZlcigiRHJhZ29uIiwgIkZvcm1pZGFibGUgUm9hciIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIDE3NX0pCgkJCWVuZAoKCQkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJRENNOkZpcmVTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siKQoJCQkJRE06SW52b2tlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIiwge0RpcmVjdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgRmxvb3IgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWV9KQoJCQkJd2FpdCgxNy41KQoJCQkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJCWVuZAoJCQllbmQKCgkJCWlmIEFyY2FuZUd1YXJkaWFuRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIikKCQkJCURNOkludm9rZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIiwge1Bvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCA1MCwgMCl9KQoJCQllbmQKCgkJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIikKCQkJCURNOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMjAsIDApKQoJCQllbmQKCgkJCWlmIFZpcnR1YWxab25lRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiwgVmVjdG9yMy5uZXcoMCwgMCwgMCl9KQoJCQllbmQKCQllbmQKCgkJLS1bW2xvY2FsIGZ1bmN0aW9uIEJlZ2luVHJhY2tpbmcoKQoJCQlsb2NhbCBjID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5DdXJyZW50Q2FtZXJhCgkJCWxvY2FsIGhiID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0CgkJCWxvY2FsIG0gPSBwbGF5ZXI6R2V0TW91c2UoKQoJCQlsb2NhbCBwID0gYzpXb3JsZFRvU2NyZWVuUG9pbnQocGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQloYjpjb25uZWN0KGZ1bmN0aW9uKHN0ZXApCgkJCQltb3VzZW1vdmVhYnMocC5YLCAocC5ZICsgMjUpKQoJCQllbmQpCgkJZW5kXV0gLS0gRm9yIEFpbWJvdCwgY3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50CgoJCS0tIFVJUwoKCQlsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQoJCWxvY2FsIHRlcm1pbmF0ZXVpcyA9IGZhbHNlCgoJCVVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQoJCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4KCQkJCWlmIG5vdCBncCB0aGVuCgkJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyCgoJCQkJCWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2tTbGFzaCB0aGVuCgkJCQkJCWNvbW1hbmRCb3g6Q2FwdHVyZUZvY3VzKCkKCQkJCQkJd2FpdCgpCgkJCQkJCWlmIHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCksIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSkgPT0gIlxcIiB0aGVuCgkJCQkJCQljb21tYW5kQm94LlRleHQgPSBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgMSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpIC0gMSkKCQkJCQkJZW5kCgkJCQkJLS1bW2Vsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MIHRoZW4KCQkJCQkJdG9nZ2xlQWltYm90KCldXQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4KCQkJCQkJZXhwbG9pdCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbgoJCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuCgkJCQkJCUFudGlCbGluZEZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4KCQkJCQkJYmVnaW5TcGVlZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbgoJCQkJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkIHRoZW4KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUCB0aGVuCgkJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbgoJCQkJCQkJaWYgZ2FtZS5QbGFjZUlkID09IDU2NjM5OTI0NCBvciBnYW1lLlBsYWNlSWQgPT0gMjU2OTYyNTgwOSB0aGVuCgkJCQkJCQkJbG9jYWwgU2Fuc1BvcyA9IENGcmFtZS5uZXcoLTE2ODUuOTEwNTIsIDIzMC4wMzUxMjYsIC0xODEuNzk4MjY0KQoJCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkKCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IFNhbnNQb3MgKiBTYW5zQW5nbGVzCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZDpDaGFuZ2VTdGF0ZShFbnVtLkh1bWFub2lkU3RhdGVUeXBlLkNsaW1iaW5nKQoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQkJaWYgbm90IEZyZWV6ZUVuYWJsZWQgdGhlbgoJCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5aIHRoZW4KCQkJCQkJYmVnaW5OdWxsaWZ5Rm9yY2VzKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRyB0aGVuCgkJCQkJCUFudGlHcmF2aXR5RnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkogdGhlbgoJCQkJCQlpZiBDbGlja1RQRW5hYmxlZCB0aGVuCgkJCQkJCQljbGlja3RwKG1vdXNlLkhpdCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkYgdGhlbgoJCQkJCQlGcmVlemVGdW5jKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja3F1b3RlIHRoZW4KCQkJCQkJaWYgRmxhc2hFbmFibGVkIHRoZW4KCQkJCQkJCWxvbmdmbGFzaCgpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5WIHRoZW4KCQkJCQkJdmlldygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkIgdGhlbgoJCQkJCQl0b2dnbGVFU1AoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5NIHRoZW4KCQkJCQkJdG9nZ2xlRVNQR29sZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRCcmFja2V0IHRoZW4KCQkJCQkJaWYgbm90IGNsb3NlZGZvcmV2ZXIgdGhlbgoJCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQoJCQkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoJCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLAoJCQkJCQkJCQkJIk91dCIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiSW4iLAoJCQkJCQkJCQkJIlNpbmUiLAoJCQkJCQkJCQkJLjUsCgkJCQkJCQkJCQl0cnVlCgkJCQkJCQkJCSkKCQkJCQkJCQllbmQKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4KCQkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQoJCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCQkJCQkJIkluIiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbmQKCQkJCQkJd2FpdCgxKQoJCQkJCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQoJCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoYW5rcyBmb3IgdXNpbmcgRUJHdWkhIgoJCQkJCQl3YWl0KDIpCgkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQkJCQl0ZXJtRUJHdWkoKQoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCS0tIFNjcmlwdHMgYW5kIEZ1bmN0aW9ucyBFTkQKCgkJLS0gRW50cmFuY2UgQW5pbWF0aW9uCgoJCXdhaXQoMC41KQoKCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJCSJPdXQiLAoJCQkiU2luZSIsCgkJCS41LAoJCQl0cnVlCgkJKQoKCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLAoJCQkiT3V0IiwKCQkJIlNpbmUiLAoJCQkuNSwKCQkJdHJ1ZQoJCSkKCgkJLS0gSW5mbwoKCQlwcmludChbWwoKCQldXSkKCQl3YXJuKCJHVUkgc3VjY2Vzc2Z1bGx5IGxvYWRlZCEiKQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJXZWxjb21lIHRvIEVCR3VpISIKCQl3YWl0KDIpCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJZW5kLCBmdW5jdGlvbihlKQoJCWxvY2FsIGNyYXNoID0gewoJCQkiSSdtIHNvLCBzbywgc28gc28gU08gc29ycnkhIiwKCQkJIldhdGVyIGNvb2xpbmc/IEkgcHJlZmVyIGxhdmEgY29vbGluZy4iLAoJCQkiWW91ciBFQkd1aSByYW4gaW50byBhIHByb2JsZW0gYW5kIG5lZWRzIHRvIHJlc3RhcnQuIiwKCQkJIlNUT1AgQ29kZTogMHhERUFEQkVFRiIsCgkJCSJJcyB0aGlzIHdoYXQgZGV2ZWxvcG1lbnQgaXMgbGlrZT8gSSBoYXRlIGl0LiIsCgkJCSJUaGUgVW5zdG9wcGFibGUgTWFyY2hpbmcgb0YgdGlNZSB0aGF0IGlzIHNsT3dseSBndWlkaW5nIHVzIGFsbCB0T3dhcmRzIGFuIEluZXZpdGFCbEUgREVBVEguIFRoYXQgc3BlbGxzIFwiVHVtIEZNLiBPd08gTywgSSBiZSBkZWF0aC5cIiIsCgkJCSJJIGd1ZXNzIHlvdSBjb3VsZCBjYWxsIG1lIGFuIFwiT29lclwiLiIsCgkJCSJFcnJvciBNZXNzYWdlISIsCgkJCSJXaG9vcHMsIHdlJ3JlIGxvdyBvbiBtZW1vcnkhIFRyeSByZW1lbWJlcmluZyBsYXRlci4iLAoJCQkiV2hvb3BzLCB3ZSdyZSBsb3cgb24gbWVtZW9yeS4gVHJ5IHNlbmRpbmcgUGVwZXMgbGF0ZXIuIiwKCQkJIk9rYXksIHdobyBraWxsZWQgdGhlIGNvbXB1dGVyIGhhbXN0ZXJzPyIsCgkJCSJDYW4ndCBrZWVwIHVwISBJcyB0aGUgc2NyaXB0IG92ZXJsb2FkZWQsIG9yIGhhdmUgeW91IG1lbHRlZCB5b3VyIENQVT8iLAoJCQkiT2gsIGNvbmdyYXR1bGF0aW9ucywgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiLCB5b3UgYnJva2UgaXQhIiwKCQkJIkkgc3dlYXIgdGhhdCB3YXMgaW50ZW50aW9uYWwuIiwKCQkJIkkgcHJvbWlzZSBpdCB3b24ndCBoYXBwZW4gYWdhaW4uIiwKCQkJIk9rYXksIGdvbm5hIGJlIHJlYWwsIE5PIENMVUUgd2hhdCB3ZW50IHdyb25nIHRoZXJlLiIsCgkJCSJPaCwgbm8sIG5ldmVybWluZCwgSSBrbm93IGV4YWN0bHkgd2hhdCB3ZW50IHdyb25nLiIsCgkJCSJBIHByaWVzdCwgYSBtaW5pc3RlciwgYW5kIGEgcmFiYml0IHdhbGsgaW50byBhIGJsb29kIGJhbmsuIiwKCQkJIlRoZSBudXJzZSBvbiBkdXR5IGFza3MgdGhlIHRocmVlIGZvciB0aGVpciBibG9vZCB0eXBlIGdyb3VwIHRvIGdldCB0aGVtIHNldCB1cC4iLAoJCQkiVGhlIHByaWVzdCwgZGlnbmlmaWVkLCBzYXlzIFwiSSdtIEFCIVwiLiIsCgkJCSJUaGUgbWluaXN0ZXIsIGluZGlmZmVyZW50LCByZXBsaWVzIFwiSSBiZWxpZXZlIEknbSB0eXBlIEEuXCIiLAoJCQkiVGhlIHJhYmJpdCwgc2h5bHkgYW5kIG5lcnZvdXNseSwgbG9va3MgYXJvdW5kIHRoZSByb29tLCBiZWZvcmUgYW5ub3VuY2luZywgXCJJIHRoaW5rIEkgbWlnaHQgYmUgYSB0eXBlIE8uXCIuIgoJCX0KCgkJcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCgkJcHJpbnQoY3Jhc2hbbWF0aC5yYW5kb20oMSwjY3Jhc2gpXSkKCQlwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKCQl3YXJuKCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIEVCR3VpISIpCgkJcHJpbnQoZSkKCQlwcmludCgiVGhpcyBjcmFzaCByZXBvcnQgd2FzIGdlbmVyYXRlZCBvbiAiIC4uIG9zLmRhdGUoJyV4ICVYJyxvcy50aW1lKCkpIC4uICIgYW5kIHdpbGwgYmUgc2F2ZWQgaW4geW91ciBleGVjdXRvcidzIFdvcmtzcGFjZSBmb2xkZXIuIikKCgkJbG9jYWwgdWYgPSBvcy5kYXRlKCIleF8lWCIsb3MudGltZSgpKQoJCWxvY2FsIGRmID0gc3RyaW5nLmdzdWIodWYsIi8iLCItIikKCQlsb2NhbCBkdGYgPSBzdHJpbmcuZ3N1YihkZiwiOiIsIi0iKQoKCQlpZiBub3QgaXNmb2xkZXIoIkVCR3VpIikgdGhlbiBtYWtlZm9sZGVyKCJFQkd1aSIpIGVuZAoJCXdyaXRlZmlsZSgiRUJHdWlcXENyYXNoRHVtcC0iLi5kdGYuLiIudHh0IiwKCgkJIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iIC4uIGNyYXNoW21hdGgucmFuZG9tKDEsI2NyYXNoKV0gLi4gIlxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuIiAuLgoKCQlbW0VCR3VpIHN0b3BwZWQgZXhlY3V0aW5nIGJlY2F1c2UgaXQgZW5jb3VudGVyZWQgYSBwcm9ibGVtIGl0IGRpZG4ndCBrbm93IGhvdyB0byBoYW5kbGUuCgkJClBsZWFzZSByZXBvcnQgdGhpcyBjcmFzaCBpbiB0aGUgRGlzY29yZCBieSBnb2luZyB0byAjcm9ib3RzLXVuaXRlIGFuZCBvcGVuaW5nIGEgdGlja2V0Ll1dIC4uCgoJCSItLSBCZWdpbiBFcnJvciBSZXBvcnQgLS1cbihHZW5lcmF0ZWQgb24gIiAuLiB1ZiAuLiAiKVxuXG4iIC4uCgoJCSJFeGVjdXRvcjogIiAuLiB0b3N0cmluZyhleGVjKSAuLgoJCSJcbkNsaWVudCBJRDogIiAuLiB0b3N0cmluZyhjbGllbnRpZCkgLi4KCQkiXG5QbGFjZUlkOiAiIC4uIHRvc3RyaW5nKGdhbWUuUGxhY2VJZCkgLi4KCQkiXG5TbWFydEF0dGFjayBFbmFibGVkPzogIiAuLiB0b3N0cmluZyhTbWFydEF0dGFjaykgLi4KCQkiXG5JcyBHb2xkPzogIiAuLiB0b3N0cmluZyhpc0dvbGQpIC4uIAoJCSJcbklzIE1hc3Rlcj86ICIgLi4gdG9zdHJpbmcoaXNNYXN0ZXIpIC4uCgoJCSJcblxuRXJyb3I6ICIgLi4gZSAuLgoJCSJcbkF0OiAiIC4uIGRlYnVnLnRyYWNlYmFjaygpIC4uCgoJCSJcblxuLS0gRW5kIEVycm9yIFJlcG9ydCAtLSIpCgllbmQpCmVuZA=="