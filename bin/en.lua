encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbg0KCWdhbWUuTG9hZGVkOldhaXQoKQ0KZW5kDQoNCmlmIChnYW1lLkNvcmVHdWk6RmluZEZpcnN0Q2hpbGQoImViZ3VpIikpIHRoZW4NCglnYW1lLkNvcmVHdWkuZWJndWk6RGVzdHJveSgpDQplbmQNCg0KbG9jYWwgYmxvY2tsaXN0ID0gew0KfQ0KDQpsb2NhbCBtYXN0ZXJsaXN0ID0gew0KCTMyNTczMzM0DQp9DQoNCmxvY2FsIGdvbGRsaXN0ID0gew0KCSJnb2xkXzA5MjAyMl9NYXR1cmVQbGF0Zm9ybV85NzEzMTAiDQp9DQoNCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQ0KbG9jYWwgcGxheWVyID0gcGxheWVycy5Mb2NhbFBsYXllcg0KbG9jYWwgSUQgPSBwbGF5ZXIuVXNlcklkDQpsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQ0KbG9jYWwgaXNNYXN0ZXIgPSBmYWxzZQ0KbG9jYWwgaXNHb2xkID0gZmFsc2UNCg0KZm9yIGksdiBpbiBwYWlycyhibG9ja2xpc3QpIGRvDQogICAgaWYgdiA9PSBJRCB0aGVuDQogICAgICAgIGlzQmxvY2tlZCA9IHRydWUNCiAgICAgICAgYnJlYWsNCiAgICBlbmQNCmVuZA0KDQpmb3IgaSx2IGluIHBhaXJzKG1hc3Rlcmxpc3QpIGRvDQogICAgaWYgdiA9PSBJRCB0aGVuDQogICAgICAgIGlzTWFzdGVyID0gdHJ1ZQ0KICAgICAgICBicmVhaw0KICAgIGVuZA0KZW5kDQoNCmlmIGlzQmxvY2tlZCB0aGVuDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigifCAgICAgICAgICAgICAgVGhpcyBhY2NvdW50IGhhcyBiZWVuIGJsb2NrZWQuICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigifCAgICBQbGVhc2UgdmlzaXQgdGhlIEVCR3VpIERpc2NvcmQgZm9yIG1vcmUgaW5mb3JtYXRpb24uICAgfCIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpDQplbHNlaWYgbm90IEVCR3VpS2V5IGFuZCBub3QgaXNCbG9ja2VkIGFuZCBub3QgaXNNYXN0ZXIgdGhlbg0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgWW91IGRvbid0IGhhdmUgdGhlIHVubG9jayBrZXkgaW4geW91ciBzY3JpcHQuICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQ0KZWxzZWlmIEVCR3VpS2V5IH49ICIwOTIwMjJfTWVhc2x5U2NpZW5jZV80ODM2ODgiIGFuZCBub3QgaXNCbG9ja2VkIGFuZCBub3QgaXNNYXN0ZXIgdGhlbg0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICBZb3VyIHVubG9jayBrZXkgaXMgaW5jb3JyZWN0LiAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQ0KICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQ0KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQ0KZWxzZQ0KCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpDQoJbG9jYWwgdmVyTnVtID0gInYyLjcuMmIiDQoJbG9jYWwgZHVtYlF1b3RlcyA9IHsNCgkJIkplZXosIHdoZW4nZCBpdCBnZXQgc28gaG90IGluIGhlcmU/IiwNCgkJIklzIGl0IGp1c3QgbWUgb3IgaXMgdGhhdCAqdG9vKiBibHVlPyIsDQoJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLA0KCQkiRGVleiBudXRzIGFyZSB0b28gc3F1YXJlISIsDQoJCSJBbHNvIHRyeSBNaW5lY3JhZnQhIiwNCgkJIkFsc28gdHJ5IFRlcnJhcmlhISIsDQoJCSJNZWgsIEkgbGlrZWQgUmlzayBvZiBSYWluIDIgYmV0dGVyLiIsDQoJCSJZb3UgbmVlZCBhIGZhaXJseSBoaWdoIElRIHRvIHVuZGVyc3RhbmQgRUJHdWkuIiwNCgkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwNCgkJIldoYXQgd291bGQgKnlvdSogZG8gZm9yIGEgS2xvbmRpa2UgYmFyPyIsDQoJCSJOb3cgd2l0aCAxMDAlIG1vcmUgR29sZCEiLA0KCQkiTWFkZSBpbiBMdWEhIiwNCgkJIklGICVFUlJPUkxFVkVMJSBFUVUgMSBHT1RPOkVPRiIsDQoJCSJicnVoIG5lcmYgc29sYXIgYWxyZWFkeSIsDQoJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsDQoJCSJQZXRpdGlvbiBZT1VSIGxvY2FsIGRldmVsb3BlciBmb3IgbW9yZSB1cGRhdGVzISIsDQoJCSJ3aHkgYXJlIHlvdSBidXlpbmcgY2xvdGhlcyBhdCB0aGUgc291cCBzdG9yZSIsDQoJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiINCgl9DQoNCiAgICB3YXJuKFtbX19fX19fIF9fX19fIF9fX19fICAgICAgIF8gDQogICAgICAgICAgICB8ICBfX198IF9fXyBcICBfXyBcICAgICAoXykNCiAgICAgICAgICAgIHwgfF9fIHwgfF8vIC8gfCAgXC9fICAgXyBfIA0KICAgICAgICAgICAgfCAgX198fCBfX18gXCB8IF9ffCB8IHwgfCB8DQogICAgICAgICAgICB8IHxfX198IHxfLyAvIHxfXCBcIHxffCB8IHwNCiAgICAgICAgICAgIFxfX19fL1xfX19fLyBcX19fXy9cX18sX3xffCBdXSAuLiB2ZXJOdW0pDQoJcHJpbnQoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQoJcHJpbnQoZHVtYlF1b3Rlc1ttYXRoLnJhbmRvbSgxLDE4KV0pDQoJcHJpbnQoIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpDQoJd2FybigiV2VsY29tZSB0byBFQkd1aSwgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiISIpDQoJd2FybigiWW91J3JlIG9uIHRoZSBTdGFibGUgYnJhbmNoIG9mIEVCR3VpIikNCgl3YXJuKCJRdWVzdGlvbnMgb3IgY29uY2VybnM/IExldCB1cyBrbm93IGluIHRoZSBEaXNjb3JkLCIpDQoJd2Fybigib3IgZW1haWwgRWFydGggaGltc2VsZiBhdCBlYXJ0aHRvYWNjZXNzQGdtYWlsLmNvbSEiKQ0KCXdhaXQoMC41KQ0KCQ0KCWlmIGlzTWFzdGVyIHRoZW4NCgkJd2FybigiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikgICANCgkJd2FybigiTG9hZGVkIGluIHVzaW5nIHRoZSBNYXN0ZXIgTGlzdCEgT3ZlcnJpZGluZyBhY2Nlc3MgZ2l2ZW4uIikNCgkJd2FybigiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikNCgllbmQNCg0KCWZvciBpLHYgaW4gcGFpcnMoZ29sZGxpc3QpIGRvDQoJCWlmIG5vdCBFQkd1aUdvbGQgdGhlbiBlbHNlaWYgRUJHdWlHb2xkID09IHYgdGhlbg0KCQkJaXNHb2xkID0gdHJ1ZQ0KCQkJcHJpbnQoW1sJCQkJX19fXyAgICAgICAgICAgICBfX18gICAgICBfX18gDQoJCQkgICAgICAgICAgIDZNTU1NYi8gICAgICAgICAgIGBNTSAgICAgIGBNTSANCgkJCSAgICAgICAgICA4UCAgICBZTSAgICAgICAgICAgIE1NICAgICAgIE1NIA0KCQkJICAgICAgICAgNk0gICAgICBZICAgX19fX18gICAgTU0gICBfX19fTU0gDQoJCQkgICAgICAgICBNTSAgICAgICAgIDZNTU1NTWIgICBNTSAgNk1NTU1NTSANCgkJCSAgICAgICAgIE1NICAgICAgICA2TScgICBgTWIgIE1NIDZNJyAgYE1NIA0KCQkJICAgICAgICAgTU0gICAgIF9fX01NICAgICBNTSAgTU0gTU0gICAgTU0gDQoJCQkgICAgICAgICBNTSAgICAgYE0nTU0gICAgIE1NICBNTSBNTSAgICBNTSANCgkJCSAgICAgICAgIFlNICAgICAgTSBNTSAgICAgTU0gIE1NIE1NICAgIE1NIA0KCQkJICAgICAgICAgIDhiICAgIGQ5IFlNLiAgICxNOSAgTU0gWU0uICAsTU0gDQoJCQkgICAgICAgICAgIFlNTU1NOSAgIFlNTU1NTTkgIF9NTV8gWU1NTU1NTV9dXSkNCgkJCXdhcm4oIlRoYW5rIHlvdSBmb3IgYmVpbmcgYSBHT0xERU4gbWVtYmVyISIpDQoJCQl3YXJuKCdFbmpveSB0aGUgdmFyaW91cyAib3ZlcnBvd2VyZWQiIHNjcmlwdHMgd2UgaGF2ZSBpbiBzdG9yZSEnKQ0KCQkJYnJlYWsNCgkJZWxzZSBlbmQNCgllbmQNCg0KCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zDQoNCglsb2NhbCBlYmd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikNCgllYmd1aS5OYW1lID0gImViZ3VpIg0KCWViZ3VpLlBhcmVudCA9IGdhbWU6V2FpdEZvckNoaWxkKCJDb3JlR3VpIikNCg0KCWdhbWUuQ29yZUd1aS5DaGlsZFJlbW92ZWQ6Y29ubmVjdChmdW5jdGlvbihjaGlsZCkNCgkJaWYgY2hpbGQuTmFtZSA9PSAiZWJndWkiIHRoZW4NCgkJCWNsb3NlZGZvcmV2ZXIgPSB0cnVlDQoJCQlidXR0b25zb3BlbmVkID0gZmFsc2UNCgkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UNCgkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUNCgkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUNCgkJCXRlcm1pbmF0ZXVpcyA9IHRydWUNCgkJCVVJUyA9IG5pbA0KCQkJYnJlYWthYmxlID0gdHJ1ZQ0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gbmlsDQoJCQlWaW5lVHJhcEVuYWJsZWQgPSBuaWwNCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBuaWwNCgkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBuaWwNCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBuaWwNCgkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gbmlsDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IG5pbA0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IG5pbA0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IG5pbA0KCQkJVGhlV29ybGRFbmFibGVkID0gbmlsDQoJCQlQb2xhcmlzRW5hYmxlZCA9IG5pbA0KCQkJTGFnU2VydmVyRW5hYmxlZCA9IG5pbA0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IG5pbA0KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBuaWwNCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IG5pbA0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gbmlsDQoJCQlTZXdlckJ1cnN0RW5hYmxlZCA9IG5pbA0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBuaWwNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IG5pbA0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gbmlsDQoJCQlBbnRpQmxpbmRFbmFibGVkID0gbmlsDQoJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbA0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IG5pbA0KCQkJSG9sb2JlYW1FbmFibGVkID0gbmlsDQoJCQlTZXRTcGVlZCA9IG5pbA0KCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBuaWwNCgkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IG5pbA0KCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsDQoJCQlDbGlja1RQRW5hYmxlZCA9IG5pbA0KCQkJRnJlZXplRW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0RW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0UG93ZXIgPSBuaWwNCgkJCXZpZXdpbmcgPSBuaWwNCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJRVNQRW5hYmxlZCA9IG5pbA0KCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbA0KCQkJRlBTRHJvcHBpbmcgPSBuaWwNCgkJCXNhbnNLaWxsZWQgPSAid2lwIg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IG5pbA0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IG5pbA0KCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gbmlsDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gbmlsDQoJCQlEb3VibGVSYXlFbmFibGVkID0gbmlsDQoJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IG5pbA0KCQkJRGFya0FvZUVuYWJsZWQgPSBuaWwNCgkJCUh5cGVyYW5nRW5hYmxlZCA9IG5pbA0KCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IG5pbA0KCQkJUmVhcGVyVWx0RW5hYmxlZCA9IG5pbA0KCQllbmQNCgllbmQpDQoNCglsb2NhbCBtb3VzZSA9IHBsYXllcjpHZXRNb3VzZSgpDQoNCglsb2NhbCBib3JkZXJzID0ge30NCg0KCWxvY2FsIGJ1dHRvbnNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJYnV0dG9uc21haW4uTmFtZSA9ICJidXR0b25zbWFpbiINCglidXR0b25zbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKQ0KCWJ1dHRvbnNtYWluLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAwLjIyNSwgMCkNCgl0YWJsZS5pbnNlcnQoYm9yZGVycywgYnV0dG9uc21haW4pDQoNCglidXR0b25zZGVib3VuY2UgPSBmYWxzZQ0KCWJ1dHRvbnNvcGVuZWQgPSB0cnVlDQoNCg0KCS0taWYgKGluaXRpYXRpb25Nb2RlID09ICJNb2Rlcm4iKSB0aGVuDQoJbG9jYWwgY29tbWFuZHNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJY29tbWFuZHNtYWluLk5hbWUgPSAiY29tbWFuZHNtYWluIg0KCWNvbW1hbmRzbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKQ0KCWNvbW1hbmRzbWFpbi5TaXplID0gVURpbTIubmV3KDAuMywgMCwgMC4xNzUsIDApDQoJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGNvbW1hbmRzbWFpbikNCgktLWVuZA0KDQoJY29tbWFuZGRlYm91bmNlID0gZmFsc2UNCgljb21tYW5kc29wZW5lZCA9IHRydWUNCg0KCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQ0KDQoJbG9jYWwgZnJhbWVzID0ge30NCg0KCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGJ1dHRvbnMuDQoJbG9jYWwgYnV0dG9uc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJYnV0dG9uc2ZyYW1lLk5hbWUgPSAiYnV0dG9uc2ZyYW1lIg0KCWJ1dHRvbnNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCglidXR0b25zZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCglidXR0b25zZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQ0KCXRhYmxlLmluc2VydChmcmFtZXMsIGJ1dHRvbnNmcmFtZSkNCglidXR0b25zZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGNvbW1hbmQgYm94Lg0KCWxvY2FsIGNvbW1hbmRzZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCgljb21tYW5kc2ZyYW1lLk5hbWUgPSAiY29tbWFuZHNmcmFtZSINCgljb21tYW5kc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZHNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpDQoJY29tbWFuZHNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRzZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMg0KCWNvbW1hbmRzZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJY29tbWFuZHNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkNCgl0YWJsZS5pbnNlcnQoZnJhbWVzLCBjb21tYW5kc2ZyYW1lKQ0KCWNvbW1hbmRzZnJhbWUuUGFyZW50ID0gY29tbWFuZHNtYWluDQoNCgktLSBDb21tYW5kIGJveC4gVGhpcyBpcyB3aGVyZSB1c2VycyB0eXBlIGluIGNvbW1hbmRzIGFuZCB0YXJnZXRzLg0KCWxvY2FsIGNvbW1hbmRCb3ggPSBJbnN0YW5jZS5uZXcoIlRleHRCb3giKQ0KCWNvbW1hbmRCb3guTmFtZSA9ICJjb21tYW5kQm94Ig0KCWNvbW1hbmRCb3guQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCgljb21tYW5kQm94LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNSwgNDAsIDQwKQ0KCWNvbW1hbmRCb3guQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgljb21tYW5kQm94LkJvcmRlclNpemVQaXhlbCA9IDINCgljb21tYW5kQm94LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC4zLCAwKQ0KCWNvbW1hbmRCb3guU2l6ZSA9IFVEaW0yLm5ldygwLjg1LCAwLCAwLjIwLCAwKQ0KCWNvbW1hbmRCb3guRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCWNvbW1hbmRCb3guVGV4dCA9ICIiDQoJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCgljb21tYW5kQm94LlRleHRTY2FsZWQgPSB0cnVlDQoJY29tbWFuZEJveC5UZXh0U2l6ZSA9IDE0LjAwMA0KCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlDQoJY29tbWFuZEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UNCgljb21tYW5kQm94LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCWxvY2FsIGxhYmVscyA9IHt9DQoNCgktLSBUaGUgb3V0cHV0IGZvciB0aGUgY29tbWFuZCBib3gsIEFLQSB0aGUgd2hpdGUgdGV4dCBiZWxvdyB0aGF0IGxpc3RzIHlvdXIgdGFyZ2V0Lg0KCWxvY2FsIGNvbW1hbmRCb3hPdXRwdXQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJY29tbWFuZEJveE91dHB1dC5OYW1lID0gImNvbW1hbmRCb3hPdXRwdXQiDQoJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCgljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwDQoJY29tbWFuZEJveE91dHB1dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNiwgMCkNCgljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApDQoJY29tbWFuZEJveE91dHB1dC5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJY29tbWFuZEJveE91dHB1dC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNpemUgPSAxNC4wMDANCgljb21tYW5kQm94T3V0cHV0LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIGNvbW1hbmRCb3hPdXRwdXQpDQoJY29tbWFuZEJveE91dHB1dC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCgktLSBUaGUgaW5mb3JtYXRpb24gYWJvdmUgdGhlIGJ1dHRvbnMsIGUuZy4gdXNlcidzIG5hbWUsIGNoYW5uZWwNCglsb2NhbCBEZXRhaWxzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIg0KCURldGFpbHMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlscy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlscy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjAxNDE0MTQxNDMsIDApDQoJRGV0YWlscy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJaWYgbm90IGlzR29sZCB0aGVuDQoJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSB8IFN0YWJsZSINCgllbHNlDQoJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSBHb2xkIHwgU3RhYmxlIg0KCWVuZA0KCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJRGV0YWlscy5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHMuWkluZGV4ID0gNQ0KCURldGFpbHMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMpDQoJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBjb21tYW5kIGJveC4NCglsb2NhbCBEZXRhaWxzMiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzMi5OYW1lID0gIkRldGFpbHMyIg0KCURldGFpbHMyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJRGV0YWlsczIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlsczIuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzMi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuOSwgMCkNCglEZXRhaWxzMi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlsczIuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHMyLlRleHQgPSAiUHJlc3MgXSB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iDQoJRGV0YWlsczIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJRGV0YWlsczIuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzMi5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHMyLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMyKQ0KCURldGFpbHMyLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBidXR0b25zLg0KCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMzLk5hbWUgPSAiRGV0YWlsczMiDQoJRGV0YWlsczMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlsczMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzMy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjg3NSwgMCkNCglEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlsczMuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHMzLlRleHQgPSAiUHJlc3MgWyB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iDQoJRGV0YWlsczMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJRGV0YWlsczMuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzMy5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHMzLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMzKQ0KCURldGFpbHMzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQ0KDQoJLS0gU2NyaXB0IHRlcm1pbmF0aW9uIGluc3RydWN0aW9ucy4NCglsb2NhbCBEZXRhaWxzNCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0Ig0KCURldGFpbHM0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHM0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMS4xLCAwKQ0KCURldGFpbHM0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNzUsIDApDQoJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHM0LlRleHQgPSAiSG9sZCB0aGUgTGVmdCBhbmQgUmlnaHQgYXJyb3cga2V5cywgdGhlbiBwcmVzcyBhbnkga2V5IHRvIHF1aXQgRUJHdWkuIg0KCURldGFpbHM0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHM0LlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczQuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzNC5UZXh0V3JhcHBlZCA9IHRydWUNCglEZXRhaWxzNC5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCS0tIFRoZSB2ZXJzaW9uIG51bWJlciBhYm92ZSB0aGUgY29tbWFuZCBib3guDQoJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglWZXJzaW9uLk5hbWUgPSAiVmVyc2lvbiINCglWZXJzaW9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJVmVyc2lvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCVZlcnNpb24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wNSwgMCkNCglWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQ0KCVZlcnNpb24uRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uICIgLi4gdmVyTnVtDQoJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlDQoJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMA0KCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikNCglWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCS0tIFRoZSBiYWNrZ3JvdW5kIGZvciB0aGUgVUkuDQoJbG9jYWwgbWFpbmZyYW1lID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIpDQoJbWFpbmZyYW1lLk5hbWUgPSAibWFpbmZyYW1lIg0KCW1haW5mcmFtZS5BY3RpdmUgPSB0cnVlDQoJbWFpbmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0OSwgODMsIDg5KQ0KCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApDQoJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYNCgltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCS0tIEdyaWQgbGF5b3V0IGZvciB0aGUgYnV0dG9ucy4NCglsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpDQoJVUlHcmlkTGF5b3V0LkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbA0KCVVJR3JpZExheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcg0KCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQ0KCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCAzMCkNCglVSUdyaWRMYXlvdXQuU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXINCglVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lDQoNCglsb2NhbCBidXR0b25zID0ge30NCg0KCS0tLS0tLSBCdXR0b25zIGZvciBoYWNrcy4NCg0KCS0tLS0gQW9Fcw0KCS0tIEluc3RhbnQgQmxhemUgQ29sdW1uDQoNCglsb2NhbCBCbGF6ZUNvbHVtbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQmxhemVDb2x1bW4uTmFtZSA9ICJCbGF6ZUNvbHVtbiINCglCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBCbGF6ZUNvbHVtbikNCg0KCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlDQoNCglCbGF6ZUNvbHVtbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gdHJ1ZQ0KCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT24pIg0KCQllbHNlDQoJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQ0KCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW1wbGlmaWVkIEdlbmVzaXMgUmF5DQoNCglsb2NhbCBHZW5lc2lzUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglHZW5lc2lzUmF5Lk5hbWUgPSAiR2VuZXNpc1JheSINCglHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHZW5lc2lzUmF5KQ0KDQoJbG9jYWwgR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIEdSQ2hhcmdlID0gMSAtLSAxMDAwMDAwDQoNCglHZW5lc2lzUmF5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEdlbmVzaXNSYXlFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUdlbmVzaXNSYXlFbmFibGVkID0gdHJ1ZQ0KCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT24pIg0KCQllbHNlDQoJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IGZhbHNlDQoJCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBDcmVhdGlvbiBIb2xkIEhhY2sNCg0KCWxvY2FsIENoYWluSG9sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ2hhaW5Ib2xkLk5hbWUgPSAiQ2hhaW5Ib2xkIg0KCUNoYWluSG9sZC5UZXh0ID0gIihHKSBJbnN0YW50IENoYWluIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENoYWluSG9sZCkNCg0KCWxvY2FsIENyZWF0aW9uSG9sZEVuYWJsZWQgPSBmYWxzZQ0KDQoJQ2hhaW5Ib2xkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuDQoJCQlpZiBub3QgQ3JlYXRpb25Ib2xkRW5hYmxlZCB0aGVuDQoJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IHRydWUNCgkJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPbikiDQoJCQllbHNlDQoJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IGZhbHNlDQoJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlDaGFpbkhvbGQuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiDQoJCQl3YWl0KDEpDQoJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFZpbmUgVHJhcA0KDQoJbG9jYWwgVmluZVRyYXAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpbmVUcmFwLk5hbWUgPSAiVmluZVRyYXAiDQoJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmluZVRyYXApDQoNCglWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQ0KDQoJVmluZVRyYXAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVmluZVRyYXBFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpbmVUcmFwRW5hYmxlZCA9IHRydWUNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9uKSINCgkJZWxzZQ0KCQkJVmluZVRyYXBFbmFibGVkID0gZmFsc2UNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sNCg0KCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIg0KCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbGx1c2l2ZUF0YWtlKQ0KDQoJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBmYWxzZQ0KDQoJSWxsdXNpdmVBdGFrZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IHRydWUNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gZmFsc2UNCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IE11cmt5IE1pc3NpbGVzDQoNCglsb2NhbCBEYXJrQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglEYXJrQW9lLk5hbWUgPSAiRGFya0FvZSINCglEYXJrQW9lLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkNCg0KCWxvY2FsIERhcmtBb2VFbmFibGVkID0gZmFsc2UNCg0KCURhcmtBb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IERhcmtBb2VFbmFibGVkIHRoZW4NCgkJCURhcmtBb2VFbmFibGVkID0gdHJ1ZQ0KCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9uKSINCgkJZWxzZQ0KCQkJRGFya0FvZUVuYWJsZWQgPSBmYWxzZQ0KCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCgkNCgktLSBJbnN0YW50IEFpciBEaXNwZXJzaW9uDQoNCglsb2NhbCBTdG9ybUFvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3Rvcm1Bb2UuTmFtZSA9ICJTdG9ybUFvZSINCglTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3Rvcm1Bb2UpDQoNCglsb2NhbCBEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlDQoNCglTdG9ybUFvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgbm90IERpc3BlcnNpb25FbmFibGVkIHRoZW4NCgkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IHRydWUNCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT24pIg0KCQkJZWxzZQ0KCQkJCURpc3BlcnNpb25FbmFibGVkID0gZmFsc2UNCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSINCgkJCWVuZAkNCgkJZWxzZQ0KCQkJU3Rvcm1Bb2UuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiDQoJCQl3YWl0KDEpDQoJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sNCg0KCWxvY2FsIFNwbGl0dGluZ1NsaW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTcGxpdHRpbmdTbGltZS5OYW1lID0gIlNwbGl0dGluZ1NsaW1lIg0KCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwbGl0dGluZ1NsaW1lKQ0KDQoJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UNCg0KCVNwbGl0dGluZ1NsaW1lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSB0cnVlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBbWF1cm90aWMgTGFtYmVudCBIYWNrDQoNCglsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCINCglBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkNCg0KCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gZmFsc2UNCg0KCUFtYXVyb3RpY0xhbWJlbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSB0cnVlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT24pIg0KCQllbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uDQoNCglsb2NhbCBQbGFzbWFJbXBsb3Npb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVBsYXNtYUltcGxvc2lvbi5OYW1lID0gIlBsYXNtYUltcGxvc2lvbiINCglQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBsYXNtYUltcGxvc2lvbikNCg0KCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBmYWxzZQ0KDQoJUGxhc21hSW1wbG9zaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IHRydWUNCgkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT24pIg0KCQllbHNlDQoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UNCgkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sNCg0KCWxvY2FsIEZvcm1pZGFibGVSb2FyID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglGb3JtaWRhYmxlUm9hci5OYW1lID0gIkZvcm1pZGFibGVSb2FyIg0KCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZvcm1pZGFibGVSb2FyKQ0KDQoJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UNCg0KCUZvcm1pZGFibGVSb2FyLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSB0cnVlDQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlDQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFNrZWxldG9uIEdyYWINCg0KCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2tlbGV0b25HcmFiLk5hbWUgPSAiU2tlbGV0b25HcmFiIg0KCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTa2VsZXRvbkdyYWIpDQoNCglTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UNCg0KCVNrZWxldG9uR3JhYi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSB0cnVlDQoJCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9uKSBbQUlNRURdIg0KCQllbHNlDQoJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UNCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIg0KCQllbmQNCgllbmQpDQoNCgktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGF0aW9uYWxGaWVsZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJR3Jhdml0YXRpb25hbEZpZWxkLk5hbWUgPSAiR3Jhdml0YXRpb25hbEZpZWxkIg0KCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQ0KDQoJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IGZhbHNlDQoNCglHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gdHJ1ZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFJvY2sgQXJtb3INCg0KCWxvY2FsIFJvY2tBcm1vciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIg0KCVJvY2tBcm1vci5UZXh0ID0gIkluc3RhbnQgUm9jayBBcm1vciINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0FybW9yKQ0KDQoJUm9ja0FybW9yLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIHBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbg0KCQkJcGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkNCgkJZW5kDQoJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQ0KCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQ0KCWVuZCkNCg0KCS0tLS0gUGxheWVyIG1vZGlmaWNhdGlvbnMNCgktLSBTbGltZSBCdWRkaWVzIEhhY2sNCg0KCWxvY2FsIFNsaW1lQnVkZGllcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2xpbWVCdWRkaWVzLk5hbWUgPSAiU2xpbWVCdWRkaWVzIg0KCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNsaW1lQnVkZGllcykNCg0KCWxvY2FsIFNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQ0KDQoJU2xpbWVCdWRkaWVzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuDQoJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gdHJ1ZQ0KCQkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9uKSINCgkJCWVsc2UNCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UNCgkJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMSkNCgkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluZXJ0aWEgR3Jhdml0eQ0KDQoJbG9jYWwgSW5lcnRpYUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUluZXJ0aWFHcmF2aXR5Lk5hbWUgPSAiSW5lcnRpYUdyYXZpdHkiDQoJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQ0KDQoJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCUluZXJ0aWFHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT24pIg0KCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQ0KCQkJQm9keUZvcmNlLlBhcmVudCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydA0KCQkJQm9keUZvcmNlLk5hbWUgPSAiSW5lcnRpYUdyYXZpdHlGb3JjZSINCgkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApDQoJCWVsc2UNCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT2ZmKSINCgkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSW5lcnRpYUdyYXZpdHlGb3JjZSIpIHRoZW4NCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuSW5lcnRpYUdyYXZpdHlGb3JjZTpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBTcGVjdHJhbCBFbWJvZGltZW50DQoNCglsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNwZWN0cmFsRW1ib2RpbWVudC5OYW1lID0gIlNwZWN0cmFsRW1ib2RpbWVudCINCglTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVjdHJhbEVtYm9kaW1lbnQpDQoNCglTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UNCg0KCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSB0cnVlDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9uKSBbWF0iDQoJCWVsc2UNCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQ0KCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW50aS1CbGluZA0KDQoJbG9jYWwgQW50aUJsaW5kID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbnRpQmxpbmQuTmFtZSA9ICJBbnRpQmxpbmQiDQoJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlCbGluZCkNCg0KCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgbm9ybWFsRm9nQ29sb3IgPSBnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yDQoJbG9jYWwgbm9ybWFsRm9nRW5kID0gZ2FtZS5MaWdodGluZy5Gb2dFbmQNCglsb2NhbCBub3JtYWxCcmlnaHRuZXNzID0gZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzDQoJbG9jYWwgbm9ybWFsQ2xvY2tUaW1lID0gZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUNCg0KCWxvY2FsIGZ1bmN0aW9uIEFudGlCbGluZEZ1bmMoKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPbikgW0tdIg0KCQkJd2hpbGUgQW50aUJsaW5kRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nQ29sb3IgPSBub3JtYWxGb2dDb2xvcg0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nRW5kID0gbm9ybWFsRm9nRW5kDQoJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcw0KCQkJCWdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lID0gbm9ybWFsQ2xvY2tUaW1lDQoJCQllbmQNCgkJZWxzZQ0KCQkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSINCgkJZW5kDQoJZW5kDQoNCglBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpDQoNCglwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkIHRoZW4NCgkJCWlmIGQuTmFtZSA9PSAiU2NyZWVuR3VpIiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJcGxheWVyLlBsYXllckd1aS5TY3JlZW5HdWk6RGVzdHJveSgpDQoJCQllbHNlaWYgZC5OYW1lID09ICJEaXN0b3J0IiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJcGxheWVyLlBsYXllckd1aS5EaXN0b3J0OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNwZWVkIGhhY2sNCg0KCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIg0KCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spDQoNCglTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UNCglTZXRTcGVlZCA9IDY0DQoNCglmdW5jdGlvbiBtb2RpZnlTcGVlZCgpDQoJCXBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikuQ2hhbmdlZDpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJCWlmIFNwZWVkaGFja0VuYWJsZWQgYW5kIFNldFNwZWVkIH49IG5pbCB0aGVuDQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJZWxzZQ0KCQkJCXJldHVybg0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQ0KCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPbikgW1RdIg0KCQkJbW9kaWZ5U3BlZWQoKQ0KCQkJd2FpdCgpDQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQltb2RpZnlTcGVlZCgpDQoJCQkJCXdhaXQoKQ0KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSINCgkJZW5kDQoJZW5kDQoNCglTcGVlZGhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luU3BlZWQpDQoNCgktLS0tIEJ1bGxldHMNCgktLSBIeXBlcmFuZyBIYWNrDQoNCglsb2NhbCBUZWNoUmFuZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVGVjaFJhbmcuTmFtZSA9ICJUZWNoUmFuZyINCglUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQ0KDQoJbG9jYWwgSHlwZXJhbmdFbmFibGVkID0gZmFsc2UNCg0KCVRlY2hSYW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIG5vdCBIeXBlcmFuZ0VuYWJsZWQgdGhlbg0KCQkJSHlwZXJhbmdFbmFibGVkID0gdHJ1ZQ0KCQkJVGVjaFJhbmcuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUh5cGVyYW5nRW5hYmxlZCA9IGZhbHNlDQoJCQlUZWNoUmFuZy50ZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFzdGVyb2lkIEJlbHQgSGFjaw0KDQoJbG9jYWwgQXN0ZXJvaWRCZWx0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siDQoJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXN0ZXJvaWRCZWx0SGFjaykNCgkNCglsb2NhbCBBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UNCgkNCglBc3Rlcm9pZEJlbHRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IHRydWUNCgkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBc3Rlcm9pZCBCZWx0IEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IGZhbHNlDQoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWaWdvciBHeXJhdGlvbiBIYWNrDQoNCglsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpZ0d5cmF0SGFjay5OYW1lID0gIlZpZ0d5cmF0SGFjayINCglWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spDQoJDQoJbG9jYWwgVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlDQoJDQoJVmlnR3lyYXRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZpZ29ySGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IHRydWUNCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBMaWdodG5pbmcgQmFycmFnZSBIYWNrDQoNCglsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSINCglCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQ0KDQoJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBub3QgU3Rvcm1CdWxsZXRzRW5hYmxlZCB0aGVuDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gdHJ1ZQ0KCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIg0KCQllbHNlDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gZmFsc2UNCgkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tLS0gQmxhc3RzDQoJLS0gT3JiaXRhbCBTdHJpa2UgSGFjaw0KDQoJbG9jYWwgT3JiaXRhbCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJT3JiaXRhbC5OYW1lID0gIk9yaWJ0YWwiDQoJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBPcmJpdGFsKQ0KDQoJbG9jYWwgT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UNCg0KCU9yYml0YWwuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBPcmJpdGFsSGFja0VuYWJsZWQgdGhlbg0KCQkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IHRydWUNCgkJCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9uKSINCgkJCWVsc2UNCgkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlPcmJpdGFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBEb3VibGUgUmF5IEhhY2sNCg0KCWxvY2FsIERvdWJsZVJheSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRG91YmxlUmF5Lk5hbWUgPSAiRG91YmxlUmF5Ig0KCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERvdWJsZVJheSkNCg0KCURvdWJsZVJheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgbm90IERvdWJsZVJheUVuYWJsZWQgdGhlbg0KCQkJCURvdWJsZVJheUVuYWJsZWQgPSB0cnVlDQoJCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIERvdWJsZSBSYXkgSGFjayAoT24pIg0KCQkJZWxzZQ0KCQkJCURvdWJsZVJheUVuYWJsZWQgPSBmYWxzZQ0KCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9mZikiDQoJCQllbmQNCgkJZWxzZQ0KCQkJRG91YmxlUmF5LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIERvdWJsZSBSYXkgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaA0KDQoJbG9jYWwgSG9sb2JlYW0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUhvbG9iZWFtLk5hbWUgPSAiSG9sb2JlYW0iDQoJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBIb2xvYmVhbSkNCg0KCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBhdHRhY2hDYW1lcmEodikNCgkJaWYgKHYgfj0gbmlsKSB0aGVuDQoJCQlpZiBub3Qodmlld2luZykgYW5kICh2Lk5hbWUgPT0gIkhvbG9iZWFtIikgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXVt2Lk5hbWVdDQoJCQllbHNlDQoJCQkJdjpEZXN0cm95KCkNCgkJCQlyZXR1cm4NCgkJCWVuZA0KCQkJDQoJCQl2LlRyYW5zcGFyZW5jeSA9IDANCg0KCQkJd2FpdCg0KQ0KCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJZW5kDQoJCQkNCgkJCXY6RGVzdHJveSgpDQoJCWVuZA0KCWVuZA0KCQ0KCWdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ10uRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJaWYgSG9sb2JlYW1FbmFibGVkIHRoZW4NCgkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHBsYXllci5DaGFyYWN0ZXIpIHRoZW4NCgkJCQlsb2NhbCBkaXN0YW5jZSA9IChwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2LlBvc2l0aW9uKS5NYWduaXR1ZGUNCgkJCQkNCgkJCQlpZiAodi5TaXplID09IFZlY3RvcjMubmV3KDUsIDUsIDUpKSBhbmQgKGRpc3RhbmNlIDwgMTApIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbg0KCQkJCQ0KCQkJCQl2Lk5hbWUgPSAiSG9sb2JlYW0iDQoJCQkJDQoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpIA0KCQkJCQkJCWF0dGFjaENhbWVyYSh2KSANCgkJCQkJCWVuZCkpDQoJCQkJCWVuZCkNCgkJCQkJDQoJCQkJCWxvY2FsIGd1aSA9IHBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXINCgkJCQkJDQoJCQkJCXdhaXQoMC41KQ0KCQkJCQkNCgkJCQkJd2hpbGUgd2FpdCgpIGRvDQoJCQkJCQlpZiBub3QoZ3VpWycxJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzInXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMyddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc0J10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzUnXS5DRC5UZXh0ID09ICIuLi4iKSB0aGVuDQoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuDQoJCQkJCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQkJCQkJZW5kDQoJCQkNCgkJCQkJCQkJdjpEZXN0cm95KCkNCgkJCQkJCQllbmQpDQoJCQkJCQkJDQoJCQkJCQkJYnJlYWsNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCglIb2xvYmVhbS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBIb2xvYmVhbUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSG9sb2JlYW1FbmFibGVkID0gdHJ1ZQ0KCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPbikiDQoJCQkNCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuIHY6RGVzdHJveSgpIGVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlDQoJCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIENvbnRyb2xsZWQgRWNob2VzDQoNCglsb2NhbCBFY2hvZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUVjaG9lcy5OYW1lID0gIkVjaG9lcyINCglFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRWNob2VzKQ0KDQoJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCUVjaG9lc1BoYXNlID0gMQ0KDQoJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gdHJ1ZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9uKSINCgkJZWxzZQ0KCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQ0KCQkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tLS0gU2hpZWxkcw0KCS0tIENyeXN0YWwgQXJtYW1lbnQgSGFjaw0KDQoJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglDcnlzdGFsQXJtYW1lbnQuTmFtZSA9ICJDcnlzdGFsQXJtYW1lbnQiDQoJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpDQoNCglDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UNCg0KCUNyeXN0YWxBcm1hbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSB0cnVlDQoJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9uKSINCgkJZWxzZQ0KCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEdyYXZpdGFsIEdsb2JlIEhhY2sNCg0KCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIg0KCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQ0KDQoJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQ0KDQoJR3Jhdml0YWxHbG9iZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IHRydWUNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UNCgkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLS0tIFVsdHMNCgktLSBSZWFwZXIncyBSYWdlDQoJbG9jYWwgUmVhcGVyVWx0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglSZWFwZXJVbHQuTmFtZSA9ICJSZWFwZXJVbHQiDQoJUmVhcGVyVWx0LlRleHQgPSAiKEcpIFJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmVhcGVyVWx0KQ0KDQoJbG9jYWwgUmVhcGVyVWx0RW5hYmxlZCA9IGZhbHNlDQoNCglSZWFwZXJVbHQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBSZWFwZXJVbHRFbmFibGVkIHRoZW4NCgkJCQlSZWFwZXJVbHRFbmFibGVkID0gdHJ1ZQ0KCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9uKSINCgkJCWVsc2UNCgkJCQlSZWFwZXJVbHRFbmFibGVkID0gZmFsc2UNCgkJCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCVJlYXBlclVsdC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMSkNCgkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFibGF6ZSBKdWRnZW1lbnQgSGFjaw0KDQoJbG9jYWwgQWJsYXplSnVkZ2VtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBYmxhemVKdWRnZW1lbnQuTmFtZSA9ICJBYmxhemVKdWRnZW1lbnQiDQoJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBYmxhemVKdWRnZW1lbnQpDQoNCglBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlDQoNCglBYmxhemVKdWRnZW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSB0cnVlDQoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWb2lkIE9wZW5pbmcgSGFjaw0KDQoJbG9jYWwgVm9pZE9wZW5pbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZvaWRPcGVuaW5nLk5hbWUgPSAiVm9pZE9wZW5pbmciDQoJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVm9pZE9wZW5pbmcpDQoNCglWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gZmFsc2UNCg0KCVZvaWRPcGVuaW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IHRydWUNCgkJCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBUaGUgV29ybGQgSGFjaw0KDQoJbG9jYWwgVGhlV29ybGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRoZVdvcmxkLk5hbWUgPSAiVGhlV29ybGQiDQoJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGhlV29ybGQpDQoNCglUaGVXb3JsZEVuYWJsZWQgPSBmYWxzZQ0KDQoJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVGhlV29ybGRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRoZVdvcmxkRW5hYmxlZCA9IHRydWUNCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVGhlV29ybGRFbmFibGVkID0gZmFsc2UNCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFBvbGFyaXMgSGFjaw0KDQoJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUG9sYXJpcy5OYW1lID0gIlBvbGFyaXMiDQoJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUG9sYXJpcykNCg0KCVBvbGFyaXNFbmFibGVkID0gZmFsc2UNCg0KCVBvbGFyaXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgUG9sYXJpc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJUG9sYXJpc0VuYWJsZWQgPSB0cnVlDQoJCQlQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVBvbGFyaXNFbmFibGVkID0gZmFsc2UNCgkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbg0KDQoJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iDQoJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTaGF0dGVyaW5nRXJ1cHRpb24pDQoNCglTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gZmFsc2UNCg0KCVNoYXR0ZXJpbmdFcnVwdGlvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSB0cnVlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9uKSINCgkJZWxzZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrDQoNCglsb2NhbCBFdGhlcmVhbEFjdW1lbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRXRoZXJlYWxBY3VtZW4uTmFtZSA9ICJFdGhlcmVhbEFjdW1lbiINCglFdGhlcmVhbEFjdW1lbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBFdGhlcmVhbEFjdW1lbikNCg0KCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IGZhbHNlDQoNCglFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gdHJ1ZQ0KCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT24pIg0KCQllbHNlDQoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQ0KCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVG94aWMgQmFzaWxpc2sgSGFjaw0KDQoJbG9jYWwgVG94aWNCYXNpbGlzayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVG94aWNCYXNpbGlzay5OYW1lID0gIlRveGljQmFzaWxpc2siDQoJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spDQoNCglUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlDQoNCglUb3hpY0Jhc2lsaXNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRveGljQmFzaWxpc2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gdHJ1ZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQ0KCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFyY2FuZSBHdWFyZGlhbiBIYWNrDQoNCglsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiINCglBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBcmNhbmVHdWFyZGlhbikNCg0KCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IGZhbHNlDQoNCglBcmNhbmVHdWFyZGlhbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gdHJ1ZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT24pIg0KCQllbHNlDQoJCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQ0KCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVmlydHVhbCBab25lIEhhY2sNCg0KCWxvY2FsIFZpcnR1YWxab25lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaXJ0dWFsWm9uZS5OYW1lID0gIlZpcnR1YWxab25lIg0KCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpcnR1YWxab25lKQ0KDQoJVmlydHVhbFpvbmVFbmFibGVkID0gZmFsc2UNCg0KCVZpcnR1YWxab25lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZpcnR1YWxab25lRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSB0cnVlDQoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlDQoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLS0tIE1pc2NlbGxhbmVvdXMNCgktLSBTaGFyZCBDb2xvcnMNCg0KCWxvY2FsIFJhbmRvbUNvbG9ycyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUmFuZG9tQ29sb3JzLk5hbWUgPSAiUmFuZG9tQ29sb3JzIg0KCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJhbmRvbUNvbG9ycykNCg0KCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQ0KCWxvY2FsIFNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpDQoJCWZvciBpLCBjaGlsZCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiBub3QgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIHRoZW4gcHJpbnQoIkNoaWxkIG5vdCBhIFNoYXJkIikNCgkJCWVsc2VpZiBjaGlsZC5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCBjaGlsZDpGaW5kRmlyc3RDaGlsZCgiQ0NCb29sIikgdGhlbg0KCQkJCXhwY2FsbChmdW5jdGlvbigpDQoJCQkJCWNoaWxkLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldyhDb2xvcnNMaXN0W21hdGgucmFuZG9tKDEsOSldKQ0KCQkJCWVuZCwgZnVuY3Rpb24oZSkNCgkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQ0KCQkJCQl3YXJuKCJbdHJhY2ViYWNrXSAiLCBkZWJ1Zy50cmFjZWJhY2soKSkNCgkJCQllbmQpDQoJCQkJbG9jYWwgQ0NCb29sID0gSW5zdGFuY2UubmV3KCJCb29sVmFsdWUiKQ0KCQkJCUNDQm9vbC5OYW1lID0gIkNDQm9vbCINCgkJCQlDQ0Jvb2wuUGFyZW50ID0gY2hpbGQNCgkJCQlDQ0Jvb2wuVmFsdWUgPSB0cnVlDQoJCQllbHNlaWYgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIGFuZCBjaGlsZDpGaW5kRmlyc3RDaGlsZCgiQ0NCb29sIikuVmFsdWUgdGhlbiBlbmQNCgkJZW5kDQoJZW5kDQoNCglSYW5kb21Db2xvcnMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2hhcmRDb2xvckVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU2hhcmRDb2xvckVuYWJsZWQgPSB0cnVlDQoJCQlwcmludCgiVHVybmVkIG9uIFJhbmRvbSBTaGFyZCBDb2xvcnMiKQ0KCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT24pIg0KCQkJd2hpbGUgU2hhcmRDb2xvckVuYWJsZWQgZG8NCgkJCQlzaGFyZFJhbmRvbWl6ZXIoKQ0KCQkJCXdhaXQoMSkNCgkJCWVuZA0KCQllbHNlDQoJCQlTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlDQoJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIg0KCQllbmQJDQoJZW5kKQ0KDQoJLS0gQW50aS1MYWcNCg0KCWxvY2FsIEFudGlMYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFudGlMYWcuTmFtZSA9ICJBbnRpTGFnIg0KCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUxhZykNCg0KCUFudGlMYWdFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHJlbW92ZUxhZygpDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5Mb2NhbEVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4NCgkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJCYWNrRGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiU3BlY2lhbE1lc2giKSB0aGVuDQoJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4NCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4NCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmICh2Lk5hbWUgPT0gIkxpZ2h0RGlzYyIpIHRoZW4NCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuDQoJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCWZvciBfLCB4IGluIHBhaXJzKHYuQ2hhcmFjdGVyOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJaWYgeC5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuDQoJCQkJCXg6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Y29ubmVjdChmdW5jdGlvbih2KQ0KCQlpZiBBbnRpTGFnRW5hYmxlZCB0aGVuDQoJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbg0KCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgdi5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgdGhlbg0KCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuDQoJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCglBbnRpTGFnLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFudGlMYWdFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFudGlMYWdFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPbikiDQoJCQlyZW1vdmVMYWcoKQ0KCQllbHNlDQoJCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlDQoJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElnbm9yZSBQaHlzaWNzDQoNCglsb2NhbCBJZ25vcmVQaHlzaWNzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJZ25vcmVQaHlzaWNzLk5hbWUgPSAiZklnbm9yZVBoeXNpY3MiDQoJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPZmYpIFtaXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWdub3JlUGh5c2ljcykNCg0KCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkNCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXIuQ2hhcmFjdGVyLkZsaXBzSG9sZGVyOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIEFmdGVyTnVsbGlmeUZvcmNlcygpDQoJCXBsYXllci5DaGFyYWN0ZXIuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikNCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkIHRoZW4NCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQ0KCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPbikgW1pdIg0KCQkJaW5pdGlhbE51bGxpZnlGb3JjZXMoKQ0KCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkNCgkJCXdoaWxlIElnbm9yZVBoeXNpY3NFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCgkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iDQoJCWVuZA0KCWVuZA0KDQoJSWdub3JlUGh5c2ljcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5OdWxsaWZ5Rm9yY2VzKQ0KDQoJLS0gQW50aS1HcmF2aXR5DQoNCglsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSINCglBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT2ZmKSBbR10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQ0KDQoJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpDQoJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT24pIFtHXSINCgkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikNCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiDQoJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQ0KCQllbHNlDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIg0KCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbg0KCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykNCg0KCS0tIENsaWNrLVRQDQoNCglsb2NhbCBDbGlja1RQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglDbGlja1RQLk5hbWUgPSAiQ2xpY2tUUCINCglDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gdHAgdG8gbW91c2VdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBDbGlja1RQKQ0KDQoJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQ0KDQoJQ2xpY2tUUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBDbGlja1RQRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCUNsaWNrVFBFbmFibGVkID0gZmFsc2UNCgkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT2ZmKSBbSiB0byBDbGljay1UUF0iDQoJCWVsc2UNCgkJCUNsaWNrVFBFbmFibGVkID0gdHJ1ZQ0KCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPbikgW0ogdG8gQ2xpY2stVFBdIg0KCQllbmQNCgllbmQpDQoNCglmdW5jdGlvbiBjbGlja3RwKHBvc2l0aW9uKQ0KCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZA0KCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpDQoJZW5kDQoNCgktLSBGcmVlemUNCg0KCWxvY2FsIEZyZWV6ZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRnJlZXplLk5hbWUgPSAiRnJlZXplIg0KCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZyZWV6ZSkNCg0KCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gRnJlZXplRnVuYygpDQoJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRnJlZXplRW5hYmxlZCA9IHRydWUNCgkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT24pIFtGXSINCgkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUNCgkJZWxzZQ0KCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlDQoJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIg0KCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJZW5kDQoJZW5kDQoNCglGcmVlemUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEZyZWV6ZUZ1bmMpDQoNCgktLSBJbmZpbml0ZSBTcHJpbnQNCg0KCWxvY2FsIEluZlNwcmludCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJSW5mU3ByaW50Lk5hbWUgPSAiSW5mU3ByaW50Ig0KCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZlNwcmludCkNCg0KCWxvY2FsIEluZlNwcmludEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgZnVuY3Rpb24gU3ByaW50UmVtb3RlKCkNCgkJd2hpbGUgd2FpdCguNSkgZG8NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlJ1bm5pbmciLA0KCQkJCVsyXSA9IGZhbHNlLA0KCQkJfQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuUGxheWVyRGF0YTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoJZW5kDQoNCglJbmZTcHJpbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBJbmZTcHJpbnRFbmFibGVkIHRoZW4NCgkJCQlJbmZTcHJpbnRFbmFibGVkID0gdHJ1ZQ0KCQkJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9uKSINCgkJCQlTcHJpbnRSZW1vdGUoKQ0KCQkJZWxzZQ0KCQkJCUluZlNwcmludEVuYWJsZWQgPSBmYWxzZQ0KCQkJCUluZlNwcmludC5UZXh0ID0gIihHKSBJbmZpbml0ZSBTcHJpbnQgKE9mZikiDQoJCQllbmQJCQkJDQoJCWVuZA0KCWVuZCkNCg0KCS0tIExvbmcgRmxhc2gNCg0KCWxvY2FsIExGbGFzaCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTEZsYXNoLk5hbWUgPSAiRmxhc2giDQoJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBMRmxhc2gpDQoNCglGbGFzaEVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkNCgkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucA0KCQlsb2NhbCBhcmdzID0gew0KCQkJWzFdID0gIlN0b3JtIiwNCgkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giDQoJCX0NCgkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWxvY2FsIGFyZ3MgPSB7DQoJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsDQoJCQlbM10gPSB7DQoJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLA0KCQkJCVsiT3JpZ2luIl0gPSBwbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wDQoJCQl9DQoJCX0NCgkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgllbmQNCg0KCUxGbGFzaC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBGbGFzaEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRmxhc2hFbmFibGVkID0gdHJ1ZQ0KCQkJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT24pIFtgIHRvIHVzZV0iDQoJCWVsc2UNCgkJCUZsYXNoRW5hYmxlZCA9IGZhbHNlDQoJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZpZXcgVGFyZ2V0DQoNCglsb2NhbCBWaWV3VGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaWV3VGFyZ2V0Lk5hbWUgPSAiVmlld1RhcmdldCINCglWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaWV3VGFyZ2V0KQ0KDQoJdmlld2luZyA9IGZhbHNlDQoNCglmdW5jdGlvbiB2aWV3KCkNCgkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4NCgkJCWlmIHZpZXdpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCXZpZXdpbmcgPSB0cnVlDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9uKSBbVl0iDQoJCQllbHNlDQoJCQkJdmlld2luZyA9IGZhbHNlDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSINCgkJCWVuZA0KCQllbHNlaWYgdmlld2luZyA9PSB0cnVlIHRoZW4gDQoJCQl2aWV3aW5nID0gZmFsc2UNCgkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSINCgkJZW5kDQoJZW5kDQoNCglWaWV3VGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh2aWV3KQ0KDQoJLS0gVGVsZXBvcnQgdG8gVGFyZ2V0DQoNCglsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCINCglUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQ0KDQoJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIFRQVG9UYXJnZXQoKQ0KCQlpZiBUUFRhcmdldEVuYWJsZWQgYW5kIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikNCg0KCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQ0KCQllbmQNCgllbmQNCg0KCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlDQoJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT24pIFtVXSINCgkJZWxzZQ0KCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCgkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gTG9vcCBUZWxlcG9ydCB0byBUYXJnZXQNCg0KCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTG9vcFRQVGFyZ2V0Lk5hbWUgPSAiTG9vcFRQVGFyZ2V0Ig0KCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpDQoNCglMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCg0KCUxvb3BUUFRhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBMb29wVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSB0cnVlDQoJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT24pIg0KCQkJd2hpbGUgTG9vcFRQVGFyZ2V0RW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCVRQVG9UYXJnZXQoKQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFN0YW5kYXJkIEVTUA0KDQoJbG9jYWwgRVNQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglFU1AuTmFtZSA9ICJFU1AiDQoJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQ0KDQoJRVNQRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkNCglIb2xkZXIuTmFtZSA9ICJFU1AiDQoNCglsb2NhbCBVcGRhdGVGdW5jcyA9IHt9DQoNCglsb2NhbCBCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpDQoJQm94Lk5hbWUgPSAibmlsQm94Ig0KCUJveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkNCglCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQ0KCUJveC5UcmFuc3BhcmVuY3kgPSAwLjcNCglCb3guWkluZGV4ID0gMA0KCUJveC5BbHdheXNPblRvcCA9IHRydWUNCglCb3guVmlzaWJsZSA9IHRydWUNCg0KCWxvY2FsIE5hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpDQoJTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWciDQoJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQ0KCU5hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQ0KCU5hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlDQoJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkNCg0KCWxvY2FsIFRhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgTmFtZVRhZykNCglUYWcuTmFtZSA9ICJUYWciDQoJVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxDQoJVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkNCglUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQ0KCVRhZy5UZXh0U2l6ZSA9IDIwDQoJVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpDQoJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpDQoJVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQNCglUYWcuVGV4dCA9ICJuaWwiDQoJVGFnLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglUYWcuVGV4dFNjYWxlZCA9IGZhbHNlDQoJVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwDQoNCglmdW5jdGlvbiBMb2FkQ2hhcmFjdGVyKHYpDQoJCWlmIHYgfj0gcGxheWVyIHRoZW4NCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsDQoJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikNCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkNCg0KCQkJbG9jYWwgYiA9IEJveDpDbG9uZSgpDQoJCQliLk5hbWUgPSB2Lk5hbWUgLi4gIkJveCINCgkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCWIuUGFyZW50ID0gdkhvbGRlcg0KDQoJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpDQoJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIk5hbWVUYWciDQoJCQl0LlBhcmVudCA9IHZIb2xkZXINCgkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpDQoJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4NCgkJCQlyZXR1cm4gVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCQllbmQNCgkJCXQuVGFnLlRleHQgPSB2Lk5hbWUNCgkJCXQuRW5hYmxlZCA9IHRydWUNCgkJCXdhaXQoKQ0KDQoJCQlsb2NhbCBmdW5jdGlvbiBVcGRhdGVOYW1lVGFnKCkNCgkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUNCgkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApDQoJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQ0KCQkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZSAuLiAiXG4iIC4uICgobWF4aCB+PSAwIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoKGggLyBtYXhoKSAqIDEwMCkpKSBvciAiMCIpIC4uICIlICAiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKQ0KCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuDQoJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDANCgkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNw0KCQkJCQkJZWxzZQ0KCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQllbmQNCgkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbg0KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4NCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQllbHNlDQoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZCkgdGhlbg0KCQkJCQlVcGRhdGVGdW5jc1t2XSA9IG5pbA0KCQkJCWVuZA0KCQkJZW5kDQoJCQlVcGRhdGVOYW1lVGFnKCkNCgkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZw0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIFVubG9hZENoYXJhY3Rlcih2KQ0KCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJCb3giKSB+PSBuaWwgb3IgdkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIk5hbWVUYWciKSB+PSBuaWwpIHRoZW4NCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gTG9hZFBsYXllcih2KQ0KCQlpZiB2IH49IHBsYXllciB0aGVuDQoJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBIb2xkZXIpDQoJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUNCgkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpDQoJCQkJaWYgRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJcGNhbGwoTG9hZENoYXJhY3RlciwgdikNCgkJCQllbmQNCgkJCWVuZCkNCgkJCXYuQ2hhcmFjdGVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbigpDQoJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQ0KCQkJZW5kKQ0KCQkJTG9hZENoYXJhY3Rlcih2KQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQ0KCQlVbmxvYWRDaGFyYWN0ZXIodikNCgkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCWlmIHZIb2xkZXIgdGhlbg0KCQkJdkhvbGRlcjpEZXN0cm95KCkNCgkJZW5kDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpDQoJZW5kDQoNCglwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJcGNhbGwoTG9hZFBsYXllciwgdikNCgllbmQpDQoNCglwbGF5ZXJzLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQ0KCWVuZCkNCg0KCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQ0KCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbg0KCQkJaWYgSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbg0KCQkJCVVubG9hZENoYXJhY3RlcihpKQ0KCQkJCXdhaXQoKQ0KCQkJCUxvYWRDaGFyYWN0ZXIoaSkNCgkJCWVuZA0KCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4NCgkJCWxvY2FsIHAgPSBwbGF5ZXJzOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpDQoJCQlpZiBwIH49IHBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4NCgkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCVVwZGF0ZUZ1bmNzW3BdKCkNCgkJCQllbmQpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJZnVuY3Rpb24gdG9nZ2xlRVNQKCkNCgkJaWYgRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlpZiBHRVNQRW5hYmxlZCB0aGVuDQoJCQkJR0VTUEVuYWJsZWQgPSBmYWxzZQ0KCQkJCUVTUEVuYWJsZWQgPSB0cnVlDQoJCQkJRVNQR29sZC5UZXh0ID0gIlN0YW5kYXJkIEVTUCBFbmFibGVkIg0KCQkJCXdhaXQoMSkNCgkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iDQoJCQllbHNlDQoJCQkJRVNQRW5hYmxlZCA9IHRydWUNCgkJCWVuZA0KCQkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIg0KCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkNCgkJCWVuZA0KCQllbHNlDQoJCQlFU1BFbmFibGVkID0gZmFsc2UNCgkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iDQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoVW5sb2FkUGxheWVyLCB2KSBlbmQpDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglFU1AuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUCkNCg0KCS0tIEdvbGQgRVNQDQoNCglsb2NhbCBFU1BHb2xkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglFU1BHb2xkLk5hbWUgPSAiRVNQR29sZCINCglpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQlHRVNQRW5hYmxlZCA9IHRydWUNCgkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9uKSBbTV0iDQoJZWxzZQ0KCQlHRVNQRW5hYmxlZCA9IGZhbHNlDQoJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPZmYpIFtNXSINCgllbmQNCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQR29sZCkNCg0KCWxvY2FsIEdIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkNCglHSG9sZGVyLk5hbWUgPSAiRVNQR29sZCINCg0KCWxvY2FsIEdVcGRhdGVGdW5jcyA9IHt9DQoNCglsb2NhbCBHQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQ0KCUdCb3guTmFtZSA9ICJuaWxCb3giDQoJR0JveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkNCglHQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkNCglHQm94LlRyYW5zcGFyZW5jeSA9IDAuNw0KCUdCb3guWkluZGV4ID0gMA0KCUdCb3guQWx3YXlzT25Ub3AgPSB0cnVlDQoJR0JveC5WaXNpYmxlID0gdHJ1ZQ0KDQoJbG9jYWwgR05hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpDQoJR05hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnIg0KCUdOYW1lVGFnLkVuYWJsZWQgPSB0cnVlDQoJR05hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQ0KCUdOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQ0KCUdOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQ0KDQoJbG9jYWwgR1RhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgR05hbWVUYWcpDQoJR1RhZy5OYW1lID0gIkdUYWciDQoJR1RhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQ0KCUdUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAwKQ0KCUdUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQ0KCUdUYWcuVGV4dFNpemUgPSAyMA0KCUdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkNCglHVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpDQoJR1RhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40DQoJR1RhZy5UZXh0ID0gIm5pbCINCglHVGFnLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglHVGFnLlRleHRTY2FsZWQgPSBmYWxzZQ0KCUdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDANCg0KCWZ1bmN0aW9uIEdMb2FkQ2hhcmFjdGVyKHYpDQoJCQ0KCQlsb2NhbCB0YmxQbGF5ZXJEYXRhID0ge30NCgkJUlNSOldhaXRGb3JDaGlsZCgiUGxheWVyRGF0YSIpLk9uQ2xpZW50RXZlbnQ6Q29ubmVjdChmdW5jdGlvbih2LCB0YmxEYXRhKQ0KCQkJdGJsUGxheWVyRGF0YVt2XSA9IHRibERhdGENCgkJZW5kKQ0KCQkNCgkJaWYgdiB+PSBwbGF5ZXIgdGhlbg0KCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwNCgkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQ0KCQkJbG9jYWwgdkhvbGRlciA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkNCg0KCQkJbG9jYWwgYiA9IEdCb3g6Q2xvbmUoKQ0KCQkJYi5OYW1lID0gdi5OYW1lIC4uICJHQm94Ig0KCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydA0KCQkJYi5QYXJlbnQgPSB2SG9sZGVyDQoNCgkJCWxvY2FsIHQgPSBHTmFtZVRhZzpDbG9uZSgpDQoJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIkdOYW1lVGFnIg0KCQkJdC5QYXJlbnQgPSB2SG9sZGVyDQoJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQ0KCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuDQoJCQkJcmV0dXJuIEdVbmxvYWRDaGFyYWN0ZXIodikNCgkJCWVuZA0KCQkJdC5HVGFnLlRleHQgPSB2Lk5hbWUNCgkJCXQuRW5hYmxlZCA9IHRydWUNCgkJCXdhaXQoKQ0KDQoJCQlsb2NhbCBmdW5jdGlvbiBHVXBkYXRlTmFtZVRhZygpDQoJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lDQoJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQ0KCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkNCgkJCQkJCWxvY2FsIHN0cmggPSAiSDogIiAuLiAobm90KG1heGggPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBoIC8gbWF4aCkpIG9yIDApIC4uICIlIFsiIC4uIHRvc3RyaW5nKGgpIC4uICJ8IiAuLiB0b3N0cmluZyhtYXhoKSAuLiAiXSINCgkJCQkJCS0tDQoJCQkJCQlsb2NhbCBtYXhtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4TWFuYSAqIDEwKSBvciAxMDAwDQoJCQkJCQlsb2NhbCBtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWFuYSAqIDEwKSBvciAxMDAwDQoJCQkJCQlsb2NhbCBzdHJtID0gIk06ICIgLi4gKG5vdChtYXhtID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogbSAvIG1heG0pKSBvciAwKSAuLiAiJSBbIiAuLiB0b3N0cmluZyhtKSAuLiAifCIgLi4gdG9zdHJpbmcobWF4bSkgLi4gIl0iDQoJCQkJCQktLQ0KCQkJCQkJbG9jYWwgbWF4cyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heFN0YW1pbmEgKiAxMCkgb3IgMTAwMA0KCQkJCQkJbG9jYWwgcyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLlN0YW1pbmEgKiAxMCkgb3IgMTAwMA0KCQkJCQkJbG9jYWwgc3RycyA9ICAiUzogIiAuLiAobm90KG1heHMgPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBzIC8gbWF4cykpIG9yIDApIC4uICIlIFsiIC4uIHRvc3RyaW5nKHMpIC4uICJ8IiAuLiB0b3N0cmluZyhtYXhzKSAuLiAiXSINCg0KCQkJCQkJdC5HVGFnLlRleHQgPSB2Lk5hbWUgLi4gKCJcbiIgLi4gc3RyaCkgLi4gKCJcbiIgLi4gc3RybSkgLi4gKCJcbiIgLi4gc3RycykNCgkJCQkJCQ0KCQkJCQkJaWYgR0VTUEVuYWJsZWQgdGhlbg0KCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMA0KCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43DQoJCQkJCQllbHNlDQoJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQllbmQNCgkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbg0KCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuDQoJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCWVsc2UNCgkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZCkgdGhlbg0KCQkJCQlHVXBkYXRlRnVuY3Nbdl0gPSBuaWwNCgkJCQllbmQNCgkJCWVuZA0KCQkJR1VwZGF0ZU5hbWVUYWcoKQ0KCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gR1VwZGF0ZU5hbWVUYWcNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBHVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHTmFtZVRhZyIpIH49IG5pbCkgdGhlbg0KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBHTG9hZFBsYXllcih2KQ0KCQlpZiB2IH49IHBsYXllciB0aGVuDQoJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBHSG9sZGVyKQ0KCQkJdkhvbGRlci5OYW1lID0gdi5OYW1lDQoJCQl2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQ0KCQkJCWlmIEdFU1BFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQlwY2FsbChHTG9hZENoYXJhY3RlciwgdikNCgkJCQllbmQNCgkJCWVuZCkNCgkJCXYuQ2hhcmFjdGVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbigpDQoJCQkJcGNhbGwoR1VubG9hZENoYXJhY3RlciwgdikNCgkJCWVuZCkNCgkJCUdMb2FkQ2hhcmFjdGVyKHYpDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gR1VubG9hZFBsYXllcih2KQ0KCQlHVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJaWYgdkhvbGRlciB0aGVuDQoJCQl2SG9sZGVyOkRlc3Ryb3koKQ0KCQllbmQNCgllbmQNCg0KCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpDQoJZW5kDQoNCglwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJcGNhbGwoR0xvYWRQbGF5ZXIsIHYpDQoJZW5kKQ0KDQoJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpDQoJZW5kKQ0KDQoJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpDQoJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuDQoJCQlpZiBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbg0KCQkJCUdVbmxvYWRDaGFyYWN0ZXIoaSkNCgkJCQl3YWl0KCkNCgkJCQlHTG9hZENoYXJhY3RlcihpKQ0KCQkJZW5kDQoJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbg0KCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkNCgkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4NCgkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCUdVcGRhdGVGdW5jc1twXSgpDQoJCQkJZW5kKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCWZ1bmN0aW9uIHRvZ2dsZUVTUEdvbGQoKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgR0VTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCWlmIEVTUEVuYWJsZWQgdGhlbg0KCQkJCQlFU1BFbmFibGVkID0gZmFsc2UNCgkJCQkJR0VTUEVuYWJsZWQgPSB0cnVlDQoJCQkJCUVTUC5UZXh0ID0gIkRldGFpbGVkIEVTUCBFbmFibGVkIg0KCQkJCQl3YWl0KDEpDQoJCQkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iDQoJCQkJZWxzZQ0KCQkJCQlHRVNQRW5hYmxlZCA9IHRydWUNCgkJCQllbmQNCgkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT24pIFtNXSINCgkJCQlmb3IgaSx2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpDQoJCQkJZW5kDQoJCQllbHNlDQoJCQkJR0VTUEVuYWJsZWQgPSBmYWxzZQ0KCQkJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPZmYpIFtNXSINCgkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpIGVuZCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlFU1BHb2xkLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgzKQ0KCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIg0KCQllbmQNCgllbmQNCg0KCUVTUEdvbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUEdvbGQpDQoNCgktLSBUUCB0byBEcm9wcw0KDQoJbG9jYWwgVFBTaGFyZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRQU2hhcmRzLk5hbWUgPSAiVFBTaGFyZHMiDQoJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQU2hhcmRzKQ0KDQoJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UJDQoNCglsb2NhbCBUUERpYW1vbmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyINCglUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQRGlhbW9uZHMpDQoNCglUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBwbGF0ZSA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJcGxhdGUuUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2UNCglwbGF0ZS5TaXplID0gVmVjdG9yMy5uZXcoNDAsIDEsIDQwKQ0KCXBsYXRlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMTAwMDAwLCAwKQ0KCXBsYXRlLkFuY2hvcmVkID0gdHJ1ZQ0KCXBsYXRlLlJlZmxlY3RhbmNlID0gMC41DQoJcGxhdGUuVHJhbnNwYXJlbmN5ID0gMC41DQoNCglsb2NhbCB0aW1lID0gMA0KCWxvY2FsIGNhbkludmlzID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHRlbGVwb3J0VG9Ecm9wcygpDQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLlNlcnZlckVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgVFBTaGFyZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIlNoYXJkIiB0aGVuDQoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lDQoJCQkJd2FpdCguMikNCgkJCWVsc2VpZiBUUERpYW1vbmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJEaWFtb25kIiB0aGVuDQoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lDQoJCQkJd2FpdCguMikNCgkJCWVuZA0KDQoJCQlpZiBjYW5JbnZpcyB0aGVuDQoJCQkJaWYgdGltZSA9PSA1IHRoZW4gDQoJCQkJCWJyZWFrDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoNCgkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQ0KDQoJCXJldHVybiANCgllbmQNCg0KDQoJZnVuY3Rpb24gc3RhcnRUaW1lcigpDQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikNCgkJd2hpbGUgd2FpdCgpIGRvDQoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgb3IgVFBEaWFtb25kc0VuYWJsZWQgdGhlbg0KCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybg0KCQkJCWVsc2UNCgkJCQkJaWYgY2FuSW52aXMgdGhlbg0KCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpDQoJCQkJCQl3YWl0KDEpDQoJCQkJCQlyZXBlYXQNCgkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQ0KCQkJCQkJCXRpbWUgPSB0aW1lICsgMQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCXVudGlsIHRpbWUgPT0gNg0KCQkJCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQ0KCQkJCQkJd2FpdCg3LjUpDQoJCQkJCQl0aW1lID0gMA0KCQkJCQllbHNlDQoJCQkJCQl3aGlsZSB0cnVlIGRvDQoJCQkJCQkJaWYgbm90IFRQU2hhcmRzRW5hYmxlZCBhbmQgbm90IFRQRGlhbW9uZHNFbmFibGVkIHRoZW4NCgkJCQkJCQkJYnJlYWsNCgkJCQkJCQllbmQNCgkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVsc2UNCgkJCQlicmVhaw0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybg0KCWVuZA0KDQoJVFBTaGFyZHMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIik6V2FpdEZvckNoaWxkKCJNYWluIikuQ2hhcmFjdGVyLkF2YWlsYWJsZS5TY3JvbGxpbmdGcmFtZS5GcmFtZTpGaW5kRmlyc3RDaGlsZCgiU3BlY3RyYWwgRW1ib2RpbWVudCIpIHRoZW4NCgkJCWNhbkludmlzID0gdHJ1ZQ0KCQllbmQNCgkJaWYgVFBTaGFyZHNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQU2hhcmRzRW5hYmxlZCA9IHRydWUNCgkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPbikiDQoJCQlzdGFydFRpbWVyKCkNCgkJCXdoaWxlIFRQU2hhcmRzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJc3RhcnRUaW1lcigpDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UNCgkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCglUUERpYW1vbmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuDQoJCQljYW5JbnZpcyA9IHRydWUNCgkJZW5kDQoJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQRGlhbW9uZHNFbmFibGVkID0gdHJ1ZQ0KCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPbikiDQoJCQlzdGFydFRpbWVyKCkNCgkJCXdoaWxlIFRQRGlhbW9uZHNFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlzdGFydFRpbWVyKCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlDQoJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFJlam9pbiBTZXJ2ZXIgRnVuY3Rpb24NCg0KCS0tIFRoaXMgd2FzIG9ubHkgcHJlc2VydmVkIGFzIEkgY291bGRuJ3QgdGhpbmsgb2YgYW55IG90aGVyIHBsYWNlIHRvIHB1dCB0aGUgZnVuY3Rpb24gZm9yIG5vdy4NCgktLSBNaWdodCBnZXQgbW92ZWQgbGF0ZXIsIGlkdW5uby4NCglmdW5jdGlvbiByZWpvaW4oKQ0KCQlsb2NhbCB0cyA9IGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIikNCgkJbG9jYWwgcCA9IHBsYXllcnMuTG9jYWxQbGF5ZXINCg0KCQl0czpUZWxlcG9ydChnYW1lLlBsYWNlSWQsIHApDQoJZW5kDQoNCgktLSBHVUkgVHdlYWtpbmcNCg0KCWZvciBpLCB2IGluIHBhaXJzKGJvcmRlcnMpIGRvDQoJCXYuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygxLCAwLjUpDQoJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCXYuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDAuNzUwDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAwDQoJCXYuU2l6ZUNvbnN0cmFpbnQgPSBFbnVtLlNpemVDb25zdHJhaW50LlJlbGF0aXZlWVkNCgkJdi5BY3RpdmUgPSB0cnVlDQoJCXYuUGFyZW50ID0gZWJndWkNCgllbmQNCg0KCWZvciBpLCB2IGluIHBhaXJzKGJ1dHRvbnMpIGRvDQoJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNiwgMjAsIDExNSkNCgkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQl2LkJvcmRlclNpemVQaXhlbCA9IDINCgkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQ0KCQl2LlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJCXYuVGV4dFNjYWxlZCA9IHRydWUNCgkJdi5UZXh0U2l6ZSA9IDE0LjAwMA0KCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCQl2LkxheW91dE9yZGVyID0gaQ0KCQl2LlBhcmVudCA9IG1haW5mcmFtZQ0KCWVuZA0KDQoJLS1bW2ZvciBpLCB2IGluIHBhaXJzKGJ1dHRvbnMpIGRvDQoJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNiwgMTc1LCAyMCkNCgkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQl2LkJvcmRlclNpemVQaXhlbCA9IDINCgkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQ0KCQl2LlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJCXYuVGV4dFNjYWxlZCA9IHRydWUNCgkJdi5UZXh0U2l6ZSA9IDE0LjAwMA0KCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCQl2LkxheW91dE9yZGVyID0gaQ0KCQl2LlBhcmVudCA9IG1haW5mcmFtZQ0KCWVuZF1dDQoNCgktLSBjb21tYW5kQm94DQoNCgl0YXJnZXQgPSBwbGF5ZXIuTmFtZQ0KCXRhcmdldFNldHRpbmcgPSAic2VsZWN0Ig0KCWxvb3BpbmcgPSBmYWxzZQ0KCXNtYXJ0QXR0YWNrID0gdHJ1ZQ0KCUhlYWxTZXR0aW5nID0gMQ0KCXN0dW5FbmFibGVkID0gdHJ1ZQ0KCUZQU0Ryb3BwaW5nID0gZmFsc2UNCglsb2NhbCBidXR0b25IZWlnaHQgPSAzMA0KCWxvY2FsIGJ1dHRvbkdhcCA9IDcNCiAgICBsb2NhbCBoZWxwMSA9IFtbfHwgQmVsb3cgaXMgYSBmdWxsLCBjb21wcmVoZW5zaXZlIGxpc3Qgb2YgZWFjaCBjb21tYW5kIEVCR1VJIGhhcyB0byBvZmZlci4gfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgKFByZWZpeCBpcyA7KQ0KDQogICAgICAgICAgICAgICAgImhlbHAgW251bV0iIC0gU2hvd3MgdGhpcyBjb21tYW5kcyBsaXN0ISBDaG9vc2UgYmV0d2VlbiBwYWdlcyAxIG9yIDIuDQogICAgICAgICAgICAgICAgImNoYW5nZWxvZyIgLSBTaG93cyBhIGxpbmsgdG8gdGhlIGNoYW5nZWxvZyBmb3IgRUJHVUkgYW5kIGl0cyBDYW5hcnkgYnJhbmNoLg0KICAgICAgICAgICAgICAgICJyZSIgLSBSZWZyZXNoZXMgeW91ciBjaGFyYWN0ZXIuIFRoaXMgd2lsbCB0ZW1wb3JhcmlseSB2YW5pc2ggeW91LCBhbmQgYnJpbmcgeW91IGJhY2sgd2l0aCBmdWxsIHN0YXRzLg0KICAgICAgICAgICAgICAgICJ0cCA8bWFwPiIgLSBUZWxlcG9ydHMgeW91IHRvIHRoZSBtYXAgb2YgeW91ciBjaG9pY2UuIEhlYXZlbiBkb2Vzbid0IHdvcmsgd2l0aG91dCB0aGUgZ2FtZXBhc3MuDQogICAgICAgICAgICAgICAgImRlY2x1dHRlciIgLSBDbGVhcnMgdGhlIGJhY2tncm91bmRzIG9mIHRoZSBtYWluIEdVSXMsIGFuZCBzaHJpbmtzIHRoZSBtb3Zlcy9zdGF0cy4NCiAgICAgICAgICAgICAgICAicmFpbiIgLSBFbmFibGVzIHRoZSByYWluIGZyb20gV2F0ZXIgbWFwLiBDYXJlZnVsLCB5b3UgaGF2ZSB0byByZWpvaW4gdG8gdHVybiBpdCBvZmYhDQogICAgICAgICAgICAgICAgImZpeCIgLSBSZW1vdmVzIHRoZSAiTE9BRElORyIgc2NyZWVuIHdoZW4gdGVsZXBvcnRpbmcgdG8gY2VydGFpbiBtYXBzLg0KICAgICAgICAgICAgICAgICJidXR0b25oZWlnaHQgPG51bT4iIC0gQ2hhbmdlcyB0aGUgaGVpZ2h0LCBpbiBwaXhlbHMsIG9mIEVCR1VJJ3MgYnV0dG9ucy4NCiAgICAgICAgICAgICAgICAiYnV0dG9uZ2FwIDxudW0+IiAtIENoYW5nZXMgdGhlIGdhcCwgaW4gcGl4ZWxzLCBiZXR3ZWVuIEVCR1VJJ3MgYnV0dG9ucy4NCiAgICAgICAgICAgICAgICAicmVqb2luIiAtIFJlam9pbnMgdGhlIHNlcnZlci4NCiAgICAgICAgICAgICAgICAiYXVyYS9vZmYiIC0gQW4gYWx0ZXJuYXRlIG1ldGhvZCBvZiBzaWxlbnRseSB0dXJuaW5nIG9mZiBhdXJhLg0KICAgICAgICAgICAgICAgICJ0YXJnZXRzZXR0aW5nIDxtb2RlPiIgLSBNb2RpZmllcyBob3cgRUJHVUkgc2VsZWN0cyB0YXJnZXRzLiBXb24ndCB0YXJnZXQgdGhvc2UgaW4gc2FmZXpvbmUsIGV4Y2VwdCBpbiAic2VsZWN0IiBtb2RlLg0KICAgICAgICAgICAgICAgICAgICAtLSAic2VsZWN0IiBhbGxvd3MgeW91IHRvIGNob29zZSBieSB0eXBpbmcgaW50byB0aGUgY29tbWFuZCBib3guIFNldCB0byB0aGlzIGJ5IGRlZmF1bHQuDQogICAgICAgICAgICAgICAgICAgIC0tICJjbG9zZXN0IiBzZWxlY3RzIHRoZSBwZXJzb24gY2xvc2VzdCB0byB5b3UuDQogICAgICAgICAgICAgICAgICAgIC0tICJmYXJ0aGVzdCIgc2VsZWN0cyB0aGUgcGVyc29uIGZhcnRoZXN0IGZyb20geW91Lg0KICAgICAgICAgICAgICAgICAgICAtLSAibG93aHAiIHNlbGVjdHMgdGhlIHBlcnNvbiB3aXRoIHRoZSBsb3dlc3QgSFAuDQogICAgICAgICAgICAgICAgICAgIC0tICJoaWdoaHAiIHNlbGVjdHMgdGhlIGNsb3Nlc3QgcGVyc29uIHdpdGggdGhlIGhpZ2hlc3QgSFAuXV0NCg0KICAgIGxvY2FsIGhlbHAyID0gW1sibG9vcCIgLSBMb29wcyB0aGUgdXNhZ2Ugb2YgZW5hYmxlZCBhdHRhY2sgZXhwbG9pdHMuDQogICAgICAgICAgICAgICAgImdyY2hhcmdlIDxudW0+IiAtIE11bHRpcGxpZXMgdGhlIHRpbWUgQW1wbGlmaWVkIEdlbmVzaXMgUmF5IGF0dGFjayBleHBsb2l0IHN0YXlzIGFsaXZlIGZvci4gRGVmYXVsdCwgMSwgbGFzdHMgNiBzZWNvbmRzLg0KICAgICAgICAgICAgICAgICJzcGVlZCA8bnVtPiIgLSBDaGFuZ2VzIHlvdXIgZGVmYXVsdCB3YWxrc3BlZWQuIERlZmF1bHQsIDY0LCBlcXVhbHMgbWF4LXNwZWVkIHNwcmludGluZy4NCiAgICAgICAgICAgICAgICAic21hcnRhdHRhY2siIC0gVG9nZ2xlcyBpZiBhdHRhY2sgZXhwbG9pdHMgd2lsbCBmaXJlIG9uIHBlb3BsZSB3aG8gYXJlIGluIHNhZmV6b25lLiBEZWZhdWx0IG9uLg0KICAgICAgICAgICAgICAgICJnYW1lY29sb3IgPG1vZGU+IiAtIENoYW5nZXMgdGhlIGNvbnRyYXN0IGFuZCBzYXR1cmF0aW9uIG9mIHRoZSBnYW1lLg0KICAgICAgICAgICAgICAgICAgICAtLSAibm9ybWFsIiB3aWxsIHJlc2V0IGV2ZXJ5dGhpbmcgdG8gbm9ybWFsLg0KICAgICAgICAgICAgICAgICAgICAtLSAiZ3JheXNjYWxlIiB0dXJucyBvZmYgdGhlIHNhdHVyYXRpb24gYW5kIG1ha2VzIGV2ZXJ5dGhpbmcgZ3JheS4NCiAgICAgICAgICAgICAgICAgICAgLS0gImludmVydGh1ZSIgaW52ZXJ0cyB0aGUgaHVlIG9mIGV2ZXJ5dGhpbmcuIEdyZWVuIGJlY29tZXMgcHVycGxlLCBibHVlIGJlY29tZXMgcmVkLg0KICAgICAgICAgICAgICAgICAgICAtLSAiaW52ZXJ0YWxsIiBpbnZlcnRzIHRoZSBodWUsIHNhdHVyYXRpb24sIGFuZCBjb250cmFzdCBvZiBldmVyeXRoaW5nLiBOZWdhdGl2ZSENCiAgICAgICAgICAgICAgICAiYmxhY2tjYXN0IiAtIENoYW5nZXMgYWxsIHRoZSBtZWRhbHMgdG8gYmxhY2sgd2hlbiBjYXN0aW5nIHNwZWxscy4NCiAgICAgICAgICAgICAgICAic3R1biIgLSBUb2dnbGVzIHdoZXRoZXIgeW91IHdhbnQgdG8gYmUgc3R1bm5lZCBvciBub3QuIE5vdCB2ZXJ5IGRpc2NyZWV0Lg0KICAgICAgICAgICAgICAgICJkcnVncyIgLSBSYW5kb21pemVzIHRoZSBjb2xvcnMgb2YgYWxsIG1hZ2ljIHNwZWxscy4gUmVxdWlyZXMgeW91IHRvIHJ1biAiY29sb3JzIiBmaXJzdC4NCiAgICAgICAgICAgICAgICAibWFnaWNjb2xvciA8cj4gPGc+IDxiPiIgLSBDaGFuZ2VzIHRoZSBjb2xvciBvZiBhbGwgbWFnaWMgc3BlbGxzIHRvIGFuIFJHQiB2YWx1ZS4gUmVxdWlyZXMgeW91IHRvIHJ1biAiY29sb3JzIiBmaXJzdC4NCiAgICAgICAgICAgICAgICAiY29sb3JzIiAtIEFsbG93cyB5b3UgdG8gcnVuICJkcnVncyIgYW5kICJtYWdpY2NvbG9yIi4NCiAgICAgICAgICAgICAgICAiaGVhbCA8cGxheWVyPiIgLSBQbGFjZXMgQmx1ZSBBcnNvbiBhbmQgR2xlYW1pbmcgSGFybW9ueSBhdCB0aGUgZmVldCBvZiBhIHBsYXllciBvZiB5b3VyIGNob2ljZS4NCiAgICAgICAgICAgICAgICAiZSA8bnVtIDEtMz4iIC0gQ2hhbmdlcyB0aGUgcGhhc2Ugb2YgdGhlIENvbnRyb2xsZWQgRWNob2VzIGF0dGFjayBleHBsb2l0Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiMSIgd2lsbCBjaGFuZ2UgaXQgdG8gUE9XLCBhbmQgaXMgdGhlIGRlZmF1bHQuDQogICAgICAgICAgICAgICAgICAgIC0tICIyIiB3aWxsIGNoYW5nZSBpdCB0byBCVVJOLg0KICAgICAgICAgICAgICAgICAgICAtLSAiMyIgd2lsbCBjaGFuZ2UgaXQgdG8gU1RVTi4NCiAgICAgICAgICAgICAgICAib3JpZ2luIiAtIENyZWF0ZXMgYSBzbWFsbCwgcmVkIGJsb2NrIGF0IDAsIDAsIDAgd2l0aGluIHRoZSB3b3JsZC5dXQ0KDQoJUlNSID0gZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlJlbW90ZXMiKQ0KDQoJbG9jYWwgc3R1bkNvbm5lY3Rpb24gPSBnZXRjb25uZWN0aW9ucyhSU1I6V2FpdEZvckNoaWxkKCJDb21iYXQiKS5PbkNsaWVudEV2ZW50KQ0KCWxvY2FsIGxhZ2dlcnMgPSB7DQoJCSIxQjBGOThCRS1FMTBCLTQ2NzQtOUZCNC02RjY1MTcxQTM0N0YiLCAtLSBsb2cNCgkJIjZBMzMxMDRBLTFGRTktNEZBOC05Mzc0LUMxNjREMjhGODM1MSIsIC0tIGJyaWFuDQoJCSI4Mzc3MzZBQS0wMTkyLTQ3RjktOThDNS04REQwREYxOEZFNzQiLCAtLSBqZXQNCgkJIjU1QzIwNDlELUM2QkQtNDUyMy04ODA0LUQ1MzlDMzg3OTJBMyIsIC0tIHBlbnRhcmFjdA0KCQkiOTQ2NEI2OEEtMzYzQy00MUY4LUJCN0QtQjRCRUQ4QUMwOTYzIiwgLS0gdmFzdG9yaW8NCgkJLS0gIjgzMEJENEU5LTVFQkUtNEExMy1CNDdCLTlCRTYwMDgzQjgzNiIsIC0tIGxvbG9rDQoJCS0tICI2M0IzOUUyNy1EQTFCLTQ4MkUtQjI4Qy02QTMzOThDOTVBNEMiLCAtLSBhbGV4DQoJCSI4NDZBNjVFMi1FOTYzLTRBMEEtOTAyNS1FOUI4RTk1ODk2MTMiLCAtLSBicmFtDQoJCSIzRjE2ODQ0MC1BNUMwLTRGNzEtOEU1MS0zRkRGOTAyNUY1MUIiLCAtLSB0b21law0KCQkiNkE5NzA1MkEtNjM0RS00N0UxLThEOTAtNUVFM0NBNEE5NkZBIiwgLS0gcmF2ZW4NCgkJIkY1OTc1RDdELTJBQzUtNDRBQS04MDFGLTgyNzYyNUQ2RDc2MyIsIC0tIGFsZXhpYQ0KCQkiNDgyODcxODItOUU3Ny00Rjk3LUE2NTQtOTcwNjlFRDgxNjZDIiwgLS0gamVzcw0KCQkiNzQ4OUNCQUUtNzk4Ni00NUE5LUJFNDAtQTIxOEVEQ0QwRjAxIiAtLSBjZXBoYXMNCgl9DQoNCglsb2NhbCBjbGllbnRpZCA9IGdhbWU6R2V0U2VydmljZSgiUmJ4QW5hbHl0aWNzU2VydmljZSIpOkdldENsaWVudElkKCk6bG93ZXIoKQ0KCWxvY2FsIGFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlDQoNCglmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbw0KCQl2ID0gdjpsb3dlcigpDQoNCgkJaWYgKHYgPT0gY2xpZW50aWQpIHRoZW4NCgkJCWFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gZ2V0SFJQKGNocikNCgkJbG9jYWwgSFJQID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpDQoJCXJldHVybiBIUlANCgllbmQNCg0KCWZ1bmN0aW9uIGdldEhVTShjaHIpDQoJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQ0KCQlyZXR1cm4gSFVNDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiByZXNwYXduKHBscikNCgkJbG9jYWwgY2hyID0gcGxyLkNoYXJhY3Rlcg0KDQoJCWlmIChjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpKSB0aGVuIGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIik6Q2hhbmdlU3RhdGUoMTUpIGVuZA0KCQljaHI6Q2xlYXJBbGxDaGlsZHJlbigpDQoNCgkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpDQoJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UNCgkJcGxyLkNoYXJhY3RlciA9IG5ld2Nocg0KDQoJCXdhaXQoKQ0KDQoJCXBsci5DaGFyYWN0ZXIgPSBjaHINCgkJbmV3Y2hyOkRlc3Ryb3koKQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpDQoJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpDQoJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lDQoJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUNCg0KCQlyZXNwYXduKHBscikNCg0KCQlzcGF3bihmdW5jdGlvbigpDQoJCQlwbHIuQ2hhcmFjdGVyQWRkZWQ6V2FpdCgpOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKS5Sb290UGFydC5DRnJhbWUsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSA9IHBvcywgd2FpdCgpIGFuZCBwb3MxDQoJCWVuZCkNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQ0KCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpDQoJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQ0KDQoJCWZvciBpLCB2IGluIGlwYWlycyhjb21tYW5kKSBkbw0KCQkJdiA9IHN0cmluZy5nc3ViKHYsICIlcysiLCAiIikNCgkJCWlmIHYgPT0gIiIgdGhlbg0KCQkJCXRhYmxlLnJlbW92ZShjb21tYW5kLCBpKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybiBjb21tYW5kDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpDQoJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpDQoJCWxvY2FsIG1hdGNoZXMgPSB7fQ0KDQoJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKHBsYXllcnMpIGRvDQoJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUNCgkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkNCgkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkNCg0KCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZChuYW1lLCB0ZXh0KQ0KDQoJCQlpZiBtYXRjaCB0aGVuDQoJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybiBtYXRjaGVzDQoJZW5kDQoNCglsb2NhbCBkcnVnc0VuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGNvbG9yc0VuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGNvbG9yRXhjbHVkZSA9IHsiSGVhZCIsIlRvcnNvIiwiTGVmdCBBcm0iLCJMZWZ0IExlZyIsIlJpZ2h0IEFybSIsIlJpZ2h0IExlZyIsIlNoYXJkIiwiRGlhbW9uZCJ9DQoNCgktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQ0KCWxvY2FsIGNvbG9yMQ0KCWxvY2FsIGNvbG9yMg0KCWxvY2FsIGNvbG9yMw0KDQoJbG9jYWwgZnVuY3Rpb24gdGVybUVCR3VpKCkNCgkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwNCgkJCSJJbiIsDQoJCQkiU2luZSIsDQoJCQkuNSwNCgkJCXRydWUNCgkJKQ0KCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwNCgkJCSJJbiIsDQoJCQkiU2luZSIsDQoJCQkuNSwNCgkJCXRydWUNCgkJKQ0KCQl3YWl0KDEpDQoJCXRhcmdldCA9IHBsYXllci5OYW1lDQoJCWViZ3VpOkRlc3Ryb3koKQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gaW5wdXRCb3goKQ0KCQlsb2NhbCB0ZXh0ID0gY29tbWFuZEJveC5UZXh0DQoJCXdhaXQoKQ0KCQljb21tYW5kQm94LlRleHQgPSAiIg0KDQoJCWxvY2FsIHByZWZpeCA9ICI7Ig0KCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEpID09IChwcmVmaXgpIHRoZW4NCgkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkNCg0KCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpIHRoZW4NCgkJCQlyZWZyZXNoKHBsYXllcikNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInRwIikgdGhlbg0KCQkJCWxvY2FsIHRlbGVwb3J0dG8NCiAgICAgICAgICAgICAgICBsb2NhbCB0cG5hbWUNCgkJCQlsb2NhbCBwbGFjZSA9IHN0cmluZy5zdWIodGV4dCwgNSkNCgkJCQlsb2NhbCBwbGFjZXMgPSB7DQoJCQkJCTU2NjM5OTI0NCwNCgkJCQkJMjU2OTYyNTgwOSwNCgkJCQkJNTcwMTU4MDgxLA0KCQkJCQk1Mzc2MDAyMDQsDQoJCQkJCTUyMDU2ODI0MCwNCgkJCQkJNTU0OTU1NTYwLA0KCQkJCQk2MDIwNDg1NTAsDQoJCQkJCTU3NTQ1NjY0NiwNCgkJCQkJMTcxMzk4NjExMiwNCgkJCQkJMTI0MzYxNTYxMiwNCgkJCQkJNjM4MDY1MzAyLA0KCQkJCQk2MzQyNDA4MjYsDQoJCQkJCTYzMzA0MjczMQ0KCQkJCX0NCg0KCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJzdGFuZGFyZDQwIiBvciBwbGFjZSA9PSAiMjU2OTYyNTgwOSIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzJdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJTdGFuZGFyZCINCgkJCQllbHNlaWYgcGxhY2UgPT0gImxpZ2h0IiBvciBwbGFjZSA9PSAiNTcwMTU4MDgxIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbM10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkxpZ2h0Ig0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiZmlyZSIgb3IgcGxhY2UgPT0gIjUzNzYwMDIwNCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzRdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJGaXJlIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAid2F0ZXIiIG9yIHBsYWNlID09ICI1MjA1NjgyNDAiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s1XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiV2F0ZXIiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJncmFzcyIgb3IgcGxhY2UgPT0gIjU1NDk1NTU2MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzZdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJHcmFzcyINCgkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzddDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJIZWF2ZW4iDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s4XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWluaWxvdmFuaWEiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJkZWZhdWx0IiBvciBwbGFjZSA9PSAidG91cm5hbWVudCIgb3IgcGxhY2UgPT0gIjE3MTM5ODYxMTIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s5XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiVG91cm5hbWVudCINCgkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEwXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiU3Vydml2YWwiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhc3RhbmRhcmQiIG9yIHBsYWNlID09ICJzdGFuZGFyZG1lZ2EiIG9yIHBsYWNlID09ICI2MzgwNjUzMDIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZmlyZSIgb3IgcGxhY2UgPT0gImZpcmVtZWdhIiBvciBwbGFjZSA9PSAiNjM0MjQwODI2IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNZWdhIEZpcmUiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZ3Jhc3MiIG9yIHBsYWNlID09ICJncmFzc21lZ2EiIG9yIHBsYWNlID09ICI2MzMwNDI3MzEiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxM10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgR3Jhc3MiDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIg0KCQkJCWVuZA0KDQoJCQkJaWYgdGVsZXBvcnR0byB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUZWxlcG9ydGluZyB0byAiIC4uIHRwbmFtZSAuLiAiISINCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydCh0ZWxlcG9ydHRvKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAiZGVjbHV0dGVyIikgdGhlbg0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApDQoJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQ2hhcmFjdGVyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Cb29rLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5TaG9wLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApDQoJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInJhaW4iKSB0aGVuDQoJCQkJbG9jYWwgY3VycmVudENBTSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhDQoJCQkJbG9jYWwgcmFpblNvdW5kID0gSW5zdGFuY2UubmV3KCJTb3VuZCIpDQoJCQkJcmFpblNvdW5kLkxvb3BlZCA9IHRydWUNCgkJCQlyYWluU291bmQuU291bmRJZCA9ICJyYnhhc3NldGlkOi8vMjgzMTY0NTkzIg0KCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxDQoJCQkJcmFpblNvdW5kLlBhcmVudCA9IHdvcmtzcGFjZQ0KCQkJCXJhaW5Tb3VuZDpQbGF5KCkNCg0KCQkJCWxvY2FsIHJhaW5QYXJ0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCgkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoMzAwLCAzMDAsIDMwMCkNCgkJCQlyYWluUGFydC5UcmFuc3BhcmVuY3kgPSAxDQoJCQkJcmFpblBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQkJcmFpblBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlDQoNCgkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpDQoJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUNCgkJCQlyYWluRWZmZWN0LlBhcmVudCA9IHJhaW5QYXJ0DQoNCgkJCQlsb2NhbCBpZ25vcmUgPSB3b3Jrc3BhY2U6V2FpdEZvckNoaWxkKCIuSWdub3JlIikNCgkJCQlyYWluUGFydC5QYXJlbnQgPSBpZ25vcmU6V2FpdEZvckNoaWxkKCIuU2VydmVyRWZmZWN0cyIpDQoNCgkJCQlsb2NhbCBmb3YgPSAyICogbWF0aC50YW4obWF0aC5yYWQoY3VycmVudENBTS5GaWVsZE9mVmlldykgLyAyKQ0KCQkJCWxvY2FsIG5ld1JheSA9IFJheS5uZXcNCgkJCQlsb2NhbCBoZWlnaHQgPSBWZWN0b3IzLm5ldygwLCA1MCwgMCkNCgkJCQlsb2NhbCBkZXB0aCA9IENGcmFtZS5uZXcoMCwgZm92ICogNTAsIC02MCkNCg0KCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQ0KCQkJCQlsb2NhbCByYyA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QobmV3UmF5KGN1cnJlbnRDQU0uQ0ZyYW1lLnAsIGhlaWdodCksIHtpZ25vcmV9KQ0KDQoJCQkJCWlmIChyYykgdGhlbg0KCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gZmFsc2UNCgkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAwLjUNCgkJCQkJCXJldHVybg0KCQkJCQllbmQNCg0KCQkJCQlsb2NhbCB2aWV3cG9ydCA9IGN1cnJlbnRDQU0uVmlld3BvcnRTaXplDQoJDQoJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyhmb3YgKiB2aWV3cG9ydC54IC8gdmlld3BvcnQueSAqIDUwLCAwLjIsIDEwMCkNCgkJCQkJcmFpblBhcnQuQ0ZyYW1lID0gY3VycmVudENBTS5DRnJhbWUgKiBkZXB0aA0KCQ0KCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQ0KCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSB0cnVlDQoJDQoJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxDQoJCQkJZW5kKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNCkgPT0gKHByZWZpeCAuLiAiZml4IikgdGhlbg0KCQkJCWlmIHBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikgdGhlbg0KCQkJCQlwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpLlZpc2libGUgPSBmYWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRml4aW5nIHRoZSBNZW51IEdVSSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMykgPT0gKHByZWZpeCAuLiAiYnV0dG9uaGVpZ2h0IikgdGhlbg0KCQkJCWJ1dHRvbkhlaWdodCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKQ0KCQkJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCBidXR0b25IZWlnaHQpDQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkNCg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gaGVpZ2h0IHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkgLi4gIiEiDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbg0KCQkJCWJ1dHRvbkdhcCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKQ0KCQkJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCBidXR0b25HYXApDQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkNCg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gZ2FwIHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkgLi4gIiEiDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSB0aGVuDQoJCQkJcmVqb2luKCkNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmVqb2luaW5nLi4uIg0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiYXVyYS9vZmYiKSB0aGVuDQoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikNCg0KCQkJCWlmIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIikgdGhlbg0KCQkJCQlnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpOkRlc3Ryb3koKQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBoYXMgYmVlbiByZW1vdmVkLiINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGRvZXMgbm90IGV4aXN0ISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDE0KSA9PSAocHJlZml4IC4uICJ0YXJnZXRzZXR0aW5nIikgdGhlbg0KCQkJCXRhcmdldFNldHRpbmcgPSBzdHJpbmcuc3ViKHRleHQsIDE2KQ0KDQoJCQkJcmVwZWF0DQoJCQkJCWlmIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gc2VsZWN0ISINCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGNsb3Nlc3QhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gZmFydGhlc3QhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGxvd2hwISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gaGlnaGhwISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0Ig0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIERpZCB5b3Ugc3BlY2lmeSBzZWxlY3QsIGNsb3Nlc3QsIGZhcnRoZXN0LCBsb3docCwgb3IgaGlnaGhwPyBTZXR0aW5nIGhhcyBiZWVuIHNldCB0byBzZWxlY3QuIg0KCQkJCQllbmQNCgkJCQl1bnRpbCB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiDQoNCgkJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAibG9vcCIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgbG9vcGluZyA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWxvb3BpbmcgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RhcnRlZCBsb29waW5nIGF0dGFja3MhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlsb29waW5nID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGxvb3BpbmcgYXR0YWNrcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJbG9vcGluZyA9IG5vdCBsb29waW5nDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iDQoJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBsb29waW5nIGF0dGFja3MgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoNCgkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCXdoaWxlIGxvb3BpbmcgZG8NCgkJCQkJCWV4cGxvaXQoKQ0KCQkJCQkJd2FpdCgpDQoJCQkJCWVuZA0KCQkJCQlyZXR1cm4NCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1bmJyZWFrIikgdGhlbg0KCQkJCWJyZWFrYWJsZSA9IGZhbHNlDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4NCgkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQ0KCQkJCXdhaXQoKQ0KCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbg0KCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkNCgkJCQl3YWl0KCkNCgkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlzbWFydEF0dGFjayA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCXNtYXJ0QXR0YWNrID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJc21hcnRBdHRhY2sgPSBub3Qgc21hcnRBdHRhY2sNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiINCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuDQoJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4NCgkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiINCgkJCQkJd2FpdCgpDQoJCQkJZW5kDQoNCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNykgPT0gIm5vcm1hbCIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IDANCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IDANCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJldmVydGluZy4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJncmF5c2NhbGUiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0xDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJHcmF5c2NhbGluZy4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRodWUiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0yDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgaHVlLi4uIg0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGFsbCIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IC0yDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgYWxsLi4uIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29sb3IgbW9kZSAob3Igbm9uZSBzcGVjaWZpZWQpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJibGFja2Nhc3QiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlibGFja2Nhc3RFbmFibGVkID0gbm90IGJsYWNrY2FzdEVuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiINCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9mZiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGJsYWNrIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJzdHVuIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlzdHVuRW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCXN0dW5FbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlzdHVuRW5hYmxlZCA9IG5vdCBzdHVuRW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9mZiINCgkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbw0KCQkJCQkJCWNvbm5lY3Rpb246RGlzYWJsZSgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvDQoJCQkJCQkJY29ubmVjdGlvbjpFbmFibGUoKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBzdHVuICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiZHJ1Z3MiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDkpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWRydWdzRW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZW5hYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgMTApID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWRydWdzRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlkcnVnc0VuYWJsZWQgPSBub3QgZHJ1Z3NFbmFibGVkDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9mZiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGRydWcgbW9kZSAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDExKSA9PSAocHJlZml4IC4uICJtYWdpY2NvbG9yIikgdGhlbg0KCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDEzKQ0KCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykNCg0KCQkJCWlmIChhcmdzWzFdID09ICJ0Iikgb3IgKGFyZ3NbMV0gPT0gIm9uIikgdGhlbg0KCQkJCQlpZiAoY29sb3IxIH49IG5pbCkgYW5kIChjb2xvcjIgfj0gbmlsKSBhbmQgKGNvbG9yMyB+PSBuaWwpIHRoZW4NCgkJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBlbmFibGVkISINCgkJCQkJCWVsc2UNCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb24hIg0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UgbXVzdCBoYXZlIGNvbG9ycyBzZXQgd2l0aCB0aGlzIGNvbW1hbmQgYmVmb3JlIHR1cm5pbmcgaXQgYmFjayBvbiEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiAoYXJnc1sxXSA9PSAiZiIpIG9yIChhcmdzWzFdID09ICJvZmYiKSB0aGVuDQoJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb2xvcnNFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZGlzYWJsZWQhIg0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlhcmdzWzFdID0gdG9udW1iZXIoYXJnc1sxXSkNCgkJCQkJYXJnc1syXSA9IHRvbnVtYmVyKGFyZ3NbMl0pDQoJCQkJCWFyZ3NbM10gPSB0b251bWJlcihhcmdzWzNdKQ0KDQoJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iDQoJCQkJCWVsc2UNCgkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbg0KCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlDQoNCgkJCQkJCQlmb3IgaSA9IDEsIDMsIDEgZG8NCgkJCQkJCQkJaWYgKGFyZ3NbaV0gPCAwKSBvciAoYXJnc1tpXSA+IDI1NSkgdGhlbg0KCQkJCQkJCQkJZXhlY3V0YWJsZSA9IGZhbHNlDQoJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCWlmIGV4ZWN1dGFibGUgPT0gdHJ1ZSB0aGVuDQoJCQkJCQkJCWNvbG9yMSA9IGFyZ3NbMV0NCgkJCQkJCQkJY29sb3IyID0gYXJnc1syXQ0KCQkJCQkJCQljb2xvcjMgPSBhcmdzWzNdDQoNCgkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISINCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiDQoJCQkJCQkJZW5kDQoJCQkJCQllbHNlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIg0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpDQoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbg0KCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkNCgkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApDQoJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQ0KCQkJCQkJCQkJCQl3YWl0KCkNCgkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCg0KCQkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJaWYgKGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4NCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbg0KCQkJCQkJCQkJCXYuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCgkJCQkJCWVuZCkNCgkJCQkJZW5kKQ0KDQoJCQkJCXNwYXduKGZ1bmN0aW9uKCkNCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQlpZiBkOklzQSgiUGFydGljbGVFbWl0dGVyIikgdGhlbgkJCQ0KCQkJCQkJCQl3aGlsZSB0cnVlIGRvDQoJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbg0KCQkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSksDQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpDQoJCQkJCQkJCQkJCX0NCgkJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQ0KCQkJCQkJCQkJCWVsc2VpZiBjb2xvcnNFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ew0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKSwNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSkNCgkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQl3YWl0KCkNCgkJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCgkJCQkJCWVuZCkNCgkJCQkJZW5kKQ0KCQkJCWVuZCkNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImhlYWwiKSB0aGVuDQoJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgNykNCgkJCQlsb2NhbCBhcmdzID0gc3BsaXRBcmdzKHN0cmluZ2FyZ3MpDQoNCgkJCQlpZiBhcmdzWzFdIHRoZW4JCQkJDQoJCQkJCWlmICgjKGZpbmRQbGF5ZXIoYXJnc1sxXSkpID09IDEpIHRoZW4NCgkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdDQoJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyDQoNCgkJCQkJCWlmIGNociB0aGVuDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkhlYWxpbmcgIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdIC4uICIuLi4iDQoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IikNCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIpDQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQkJCQlpZiBjaHIgPT0gcGxheWVyLkNoYXJhY3RlciB0aGVuDQoJCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikNCgkJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBbmdlbCIsIkFuZ2VsaWMgQXVyYSIpDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAyKSA9PSAocHJlZml4IC4uICJlIikgdGhlbg0KCQkJCWxvY2FsIHBoYXNlID0gc3RyaW5nLnN1Yih0ZXh0LCA0KQ0KDQoJCQkJaWYgdG9udW1iZXIocGhhc2UpIH49IG5pbCB0aGVuDQoJCQkJCXBoYXNlID0gbWF0aC5mbG9vcih0b251bWJlcihwaGFzZSkpDQoNCgkJCQkJaWYgKHBoYXNlID09IDEpIG9yIChwaGFzZSA9PSAyKSBvciAocGhhc2UgPT0gMykgdGhlbg0KCQkJCQkJRWNob2VzUGhhc2UgPSBwaGFzZQ0KDQoJCQkJCQlsb2NhbCBtb2RlID0gIiINCg0KCQkJCQkJaWYgRWNob2VzUGhhc2UgPT0gMSB0aGVuDQoJCQkJCQkJbW9kZSA9ICIoU1RBUikiDQoJCQkJCQllbHNlaWYgRWNob2VzUGhhc2UgPT0gMiB0aGVuDQoJCQkJCQkJbW9kZSA9ICIoRkxBTUUpIg0KCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDMgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKFNIT0NLKSINCgkJCQkJCWVuZA0KDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGhhcyBiZWVuIGNoYW5nZWQhICIgLi4gbW9kZQ0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQaGFzZSBpcyBpbnZhbGlkISBNdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgMy4iDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiY2hhbmdlbG9nIikgdGhlbg0KCQkJCS0tIFRhZzogQ0hOR0xHDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvbmUhIEhpdCBDdHJsK0Y5IHRvIHZpZXcuIg0KCQkJCXdhcm4oIlJvYmxveCBpcyBkdW1iIGFuZCBkb2Vzbid0IGFsbG93IG1lIHRvIGxvYWQgYSBzdHJpbmcgd2l0aCBtdWx0aXBsZSBsaW5lcyBoZXJlLiIpDQoJCQkJcHJpbnQoIkNoZWNrIGh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9mRkRwR01BciB0byBzZWUgdGhlIGNoYW5nZWxvZy4iKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAib3JpZ2luIikgdGhlbg0KCQkJCXhwY2FsbChmdW5jdGlvbigpDQoJCQkJCWxvY2FsIG9yaWdpbiA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJCQkJCW9yaWdpbi5BbmNob3JlZCA9IHRydWUNCgkJCQkJb3JpZ2luLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl0NCgkJCQkJb3JpZ2luLk5hbWUgPSAiT3JpZ2luIg0KCQkJCQlvcmlnaW4uTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24NCgkJCQkJb3JpZ2luLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiUmVhbGx5IHJlZCIpDQoJCQkJCW9yaWdpbi5TaXplID0gVmVjdG9yMy5uZXcoMC41LCAwLjUsIDAuNSkNCgkJCQkJb3JpZ2luLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkNCgkJCQkJd2FybigiTWFkZSBhIGJsb2NrIGF0IHRoZSBvcmlnaW4hIikNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3MhIENoZWNrIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyINCgkJCQllbmQsIGZ1bmN0aW9uKGUpDQoJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkNCgkJCQkJd2FybigndHJhY2ViYWNrOicsIGRlYnVnLnRyYWNlYmFjaygpKQ0KCQkJCWVuZCkNCiAgICAgICAgICAgIGVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuDQogICAgICAgICAgICAgICAgd2FybigiUm9ibG94IGlzIGR1bWIgYW5kIGlzbid0IGZvcm1hdHRpbmcgbXVsdGlsaW5lIHN0cmluZ3MgcmlnaHQuIikNCiAgICAgICAgICAgICAgICBwcmludCgiRm9yIG5vdywgY2hlY2sgaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L1k3NEdpaEd5IHRvIHNlZSB0aGUgZnVsbCBsaXN0IG9mIGNvbW1hbmRzLiIpDQogICAgICAgICAgICAgICAgY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvbmUhIEhpdCBDdHJsK0Y5IHRvIHZpZXcuIg0KCQkJLS1bW2Vsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImZhcm0iKSB0aGVuDQoJCQkJbG9jYWwgRmFybUFuY2hvciA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJCQkJRmFybUFuY2hvci5BbmNob3JlZCA9IHRydWUNCgkJCQlGYXJtQW5jaG9yLkNhbkNvbGxpZGUgPSB0cnVlDQoJCQkJRmFybUFuY2hvci5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsMTUwMDAwLDApDQoJCQkJRmFybUFuY2hvci5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQ0KCQkJCUZhcm1BbmNob3IuTmFtZSA9ICJGYXJtQW5jaG9yIg0KCQkJCUZhcm1BbmNob3IuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJUb290aHBhc3RlIikNCgkJCQlGYXJtQW5jaG9yLlNpemUgPSBWZWN0b3IzLm5ldyguNSwuNSwuNSkNCgkJCQlGYXJtQW5jaG9yLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uDQoJCQkJRmFybUFuY2hvci5TaGFwZSA9IEVudW0uUGFydFR5cGUuQmFsbA0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQcmVwYXJpbmcgZm9yIHRlbGVwb3J0Li4uIg0KCQkJCXdhaXQoMykNCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldygwLDEwMDAwMywwKSldXQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaW5mbyIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJzdGF0dXMiIHRoZW4NCgkJCQkJcHJpbnQoIlRoZSBjdXJyZW50IHN0YXR1cyBvZiBFQkd1aSBpcyAiIC4uIHN0YXR1cykNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR3VpIFN0YXR1czogIiAuLiBzdGF0dXMNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAicmVwbyIgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAiZ2l0aHViIiB0aGVuDQoJCQkJCXByaW50KCJUaGUgR2l0SHViIHJlcG9zaXRvcnkgbGluayBpcyAiIC4uIHJlcG8pDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBpbmZvISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInVwZGF0ZSIpIHRoZW4NCgkJCQlpZiB2ZXJOdW0gPT0gdmVyc2lvbiB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJObyB1cGRhdGUgcmVxdWlyZWQhIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlZlcnNpb24gb3V0ZGF0ZWQhIFJlY2VudDogIiAuLiB2ZXJzaW9uDQoJCQkJZW5kDQogICAgICAgICAgICBlbmQNCg0KCQkJd2FpdCgxLjUpDQoJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQllbHNlDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCWxvY2FsIG1hdGNoZXMgPSBmaW5kUGxheWVyKHRleHQpDQoNCgkJCWlmICNtYXRjaGVzID09IDEgdGhlbg0KCQkJCXRhcmdldCA9IG1hdGNoZXNbMV0NCgkJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgkJCQkJCQ0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiBtYXRjaGVzWzFdDQoJCQkJZW5kDQoJCQkJd2FpdCgxKQ0KCQkJZWxzZQ0KCQkJCXRhcmdldCA9IHBsYXllci5OYW1lDQoJCQkJd2FybigiVGFyZ2V0IG5vdCBmb3VuZCEgRG8gbXVsdGlwbGUgcGxheWVycyBoYXZlIHRoYXQgc2FtZSBzdWJzdHJpbmcgaW4gdGhlaXIgbmFtZXM/IikNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBUYXJnZXQhIFR5cGUgdGhlaXIgbmFtZSBhZ2Fpbi4iDQoJCQkJd2FpdCgxLjUpDQoJCQkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpjb25uZWN0KGZ1bmN0aW9uKHBsYXllcikNCgkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4NCgkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoVGFyZ2V0IFJRZWQhKSINCgkJZW5kDQoJZW5kKQ0KDQoJY29tbWFuZEJveC5Gb2N1c0xvc3Q6Q29ubmVjdChmdW5jdGlvbihlbnRlclByZXNzZWQpDQoJCWlmIGVudGVyUHJlc3NlZCB0aGVuDQoJCQlpZiBjb21tYW5kQm94LlRleHQgfj0gIiIgdGhlbg0KCQkJCWlucHV0Qm94KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQ0KCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAobWF0aC5jZWlsKCNidXR0b25zICogMzcpIC8gMikgLSA3KQ0KCWVuZCkpDQoNCgktLSBCcmVha2luZyBTY3JpcHQgVXNlcnMNCg0KCWJyZWFrYWJsZSA9IHRydWUNCg0KCWxvY2FsIGJyZWFrVXNlcnMgPSB7DQoJCTE4NjQzODA1ODEsDQoJCTE4MjEzMzI5MywNCgkJMjk3NjE1MjMxLA0KCQkxMTI4MTE0OTQ0LA0KCQkxOTU2NDEzMDc5LA0KCQkzMTEwMjcyMDQsDQoJCTE5MDMxNjU0MDUsDQoJCTE5MzM3MzQ5NTYsDQoJCTE4MTIwNTM2MzIsDQoJCTE5MDYzMTE5MDIsDQoJCTE5OTMyMjQ3MjQsDQoJCTE5NDQ1MzE2NjUsDQoJCTEwODA0NTAyMw0KCX0NCg0KCWxvY2FsIG9uY2hhdCA9IGZ1bmN0aW9uKHBsciwgbXNnKQ0KCQlsb2NhbCBhbGxvd2VkID0gZmFsc2UNCgkJZm9yIF8sIHVzZXIgaW4gcGFpcnMoYnJlYWtVc2VycykgZG8NCgkJCWlmIHBsci5OYW1lID09IHVzZXIgdGhlbg0KCQkJCWFsbG93ZWQgPSB0cnVlDQoJCQllbmQNCgkJZW5kDQoNCgkJbG9jYWwgcHJlZml4ID0gIjsiDQoNCgkJaWYgc3RyaW5nLnN1Yihtc2csIDEsIDcpID09IChwcmVmaXggLi4gImJyZWFrICIpIHRoZW4NCgkJCWxvY2FsIG1hdGNoZXMgPSB7fQ0KDQoJCQlmb3IgaSwgUGxheWVyIGluIGlwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQ0KCQkJCW1zZyA9IHN0cmluZy5sb3dlcihzdHJpbmcuc3ViKG1zZywgOCkpDQoJCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQ0KCQkJCWxvY2FsIHRlcm0gPSBzdHJpbmcuc3ViKG5hbWUsIDEsIHN0cmluZy5sZW4obmFtZSkpDQoNCgkJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKHRlcm0sIG1zZykNCg0KCQkJCWlmIG1hdGNoIHRoZW4NCgkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQ0KCQkJCWVuZA0KCQkJZW5kDQoNCgkJCWlmIG1hdGNoZXNbMV0gPT0gcGxheWVyLk5hbWUgYW5kIGJyZWFrYWJsZSBhbmQgYWxsb3dlZCB0aGVuDQoJCQkJd2hpbGUgdHJ1ZSBkbw0KDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJdi5DaGF0dGVkOkNvbm5lY3QoZnVuY3Rpb24obXNnKQ0KCQkJb25jaGF0KHYsIG1zZykNCgkJZW5kKQ0KCWVuZA0KDQoJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXYuQ2hhdHRlZDpDb25uZWN0KGZ1bmN0aW9uKG1zZykNCgkJCW9uY2hhdCh2LCBtc2cpDQoJCWVuZCkNCgllbmQpDQoNCgktLSBFeHBsb2l0cw0KDQoJbG9jYWwgZnVuY3Rpb24gZmYoKQ0KCQlpZiBzbWFydEF0dGFjayA9PSB0cnVlIHRoZW4NCgkJCWlmIGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQlyZXR1cm4gZmFsc2UNCgkJCWVsc2UNCgkJCQlyZXR1cm4gdHJ1ZQ0KCQkJZW5kDQoJCWVsc2UNCgkJCXJldHVybiB0cnVlDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gZXhwbG9pdCgpDQoJCS0tIEV4cGxvaXQgZnVuY3Rpb24uIFdoZW4gQyBpcyBwcmVzc2VkIGFuZCBvbmUgb2YgdGhlc2UgYXJlICJ0cnVlIiwgaXQgd2lsbCBmaXJlIGl0Lg0KCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXINCg0KCQlpZiBSZWFwZXJVbHRFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlJlYXBlciIsICJSZWFwZXIncyBSYWdlIikNCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlJlYXBlciIsDQoJCQkJWzJdID0gIlJlYXBlcidzIFJhZ2UiLA0KCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQ0KCQkJfQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kCQkNCg0KCQlpZiBDcmVhdGlvbkhvbGRFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyZWF0aW9uIiwgIkNvbnRpbnVvdXMgU3RyaWtlcyIpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJDcmVhdGlvbiIsDQoJCQkJWzJdID0gIkNvbnRpbnVvdXMgU3RyaWtlcyIsDQoJCQkJWzNdID0gew0KCQkJCQlbIkNGIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsDQoJCQkJCVsiQ2hhcmdlIl0gPSAyDQoJCQkJfQ0KCQkJfQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgSHlwZXJhbmdFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiSHlwZXJhbmciKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBEYXJrQW9lRW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIiwge2xhc3RNb3VzZVBvc2l0aW9uID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbil9KQ0KCQllbmQNCg0KCQlpZiBEaXNwZXJzaW9uRW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlN0b3JtIiwgIkxpZ2h0bmluZyBEaXNwZXJzaW9uIiwge0dyb3VuZGVkID0gdHJ1ZX0pDQoJCWVuZA0KDQoJCWlmIERvdWJsZVJheUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTb2xhciIsDQoJCQkJWzJdID0gIkRvdWJsZSBSYXkiDQoJCQl9CQkJDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkNCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNvbGFyIiwNCgkJCQlbMl0gPSAiRG91YmxlIFJheSIsDQoJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApDQoJCQl9CQkJDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBTdG9ybUJ1bGxldHNFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSINCgkJCX0JCQkNCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIsDQoJCQkJWzNdID0gew0KCQkJCQlbIkRpcmVjdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApDQoJCQkJfQ0KCQkJfQkJCQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgT3JiaXRhbEhhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiVGVjaG5vbG9neSIsDQoJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIg0KCQkJfQ0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwNCgkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiLA0KCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQl9DQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBWaWdvckhhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Bpcml0IiwNCgkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iDQoJCQl9DQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNwaXJpdCIsDQoJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIiwNCgkJCQlbM10gPSB7DQoJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJfQ0KCQkJfQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgQXN0ZXJvaWRCZWx0RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNwYWNlIiwNCgkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCINCgkJCX0NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3BhY2UiLA0KCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IiwNCgkJCQlbM10gPSB7DQoJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJfQ0KCQkJfQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgQmxhemVDb2x1bW5FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCWVuZA0KDQoJCWlmIFZpbmVUcmFwRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJZW5kDQoNCgkJaWYgUGxhc21hSW1wbG9zaW9uRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQllbmQNCg0KCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiLCB7TGFzdFBvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQ0KCQllbmQNCg0KCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pDQoJCWVuZA0KDQoJCWlmIEdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAxNSwgMCkpDQoJCWVuZA0KDQoJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQ0KCQllbmQNCg0KCQlpZiBBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50Iiwge09yaWdpbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMjUsIDApLCBvcmJQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDEwLCAwKX0pDQoJCWVuZA0KDQoJCWlmIFZvaWRPcGVuaW5nSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIiwge3BvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTUwLCAwKX0pDQoJCWVuZA0KDQoJCWlmIFNrZWxldG9uR3JhYkVuYWJsZWQgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgR2VuZXNpc1JheUVuYWJsZWQgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHtsdiA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBjaGFyZ2UgPSBHUkNoYXJnZX0pDQoJCWVuZA0KDQoJCWlmIFRoZVdvcmxkRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwge3JoaXQgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydCwgbm9ybSA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBycG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQ0KCQllbmQNCg0KCQlpZiBQb2xhcmlzRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIENvbnRyb2xsZWRFY2hvZXNFbmFibGVkIGFuZCBFY2hvZXNQaGFzZSB+PSBuaWwgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU291bmQiLCAiRWNob2VzIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU291bmQiLCAiRWNob2VzIiwge0VjaG9lc1BoYXNlLCBtb3VzZS5IaXQucH0pDQoJCWVuZA0KDQoJCWlmIFNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEV0aGVyZWFsQWN1bWVuRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgRm9ybWlkYWJsZVJvYXJFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRHJhZ29uIiwgIkZvcm1pZGFibGUgUm9hciIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCAxNzV9KQ0KCQllbmQNCg0KCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUNCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIiwge0RpcmVjdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgRmxvb3IgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWV9KQ0KCQkJd2FpdCgxNy41KQ0KCQkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJCWVuZA0KCQllbmQNCg0KCQlpZiBBcmNhbmVHdWFyZGlhbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iLCB7UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDUwLCAwKX0pDQoJCWVuZA0KDQoJCWlmIFNwbGl0dGluZ1NsaW1lRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNwbGl0dGluZyBTbGltZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNsaW1lIiwgIlNwbGl0dGluZyBTbGltZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDIwLCAwKSkNCgkJZW5kDQoNCgkJaWYgVmlydHVhbFpvbmVFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiwgVmVjdG9yMy5uZXcoMCwgMCwgMCl9KQ0KCQllbmQNCgllbmQNCg0KCS0tIFVJUw0KDQoJbG9jYWwgVUlTID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikNCglsb2NhbCB0ZXJtaW5hdGV1aXMgPSBmYWxzZQ0KDQoJVUlTLklucHV0QmVnYW46Y29ubmVjdChmdW5jdGlvbihpbnB1dCwgZ3ApDQoJCWlmIG5vdCB0ZXJtaW5hdGV1aXMgdGhlbg0KCQkJaWYgbm90IGdwIHRoZW4NCgkJCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXINCg0KCQkJCWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2tTbGFzaCB0aGVuDQoJCQkJCWNvbW1hbmRCb3g6Q2FwdHVyZUZvY3VzKCkNCgkJCQkJd2FpdCgpDQoJCQkJCWlmIHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCksIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSkgPT0gIlxcIiB0aGVuDQoJCQkJCQljb21tYW5kQm94LlRleHQgPSBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgMSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpIC0gMSkNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkMgdGhlbg0KCQkJCQlleHBsb2l0KCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVSB0aGVuDQoJCQkJCVRQVG9UYXJnZXQoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5LIHRoZW4NCgkJCQkJQW50aUJsaW5kRnVuYygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlQgdGhlbg0KCQkJCQliZWdpblNwZWVkKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWCB0aGVuDQoJCQkJCWlmIFNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgdGhlbg0KCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5QIHRoZW4NCgkJCQkJaWYgU2Fuc1RlbGVwb3J0RW5hYmxlZCB0aGVuDQoJCQkJCQlpZiBnYW1lLlBsYWNlSWQgPT0gNTY2Mzk5MjQ0IG9yIGdhbWUuUGxhY2VJZCA9PSAyNTY5NjI1ODA5IHRoZW4NCgkJCQkJCQlsb2NhbCBTYW5zUG9zID0gQ0ZyYW1lLm5ldygtMTY4NS45MTA1MiwgMjMwLjAzNTEyNiwgLTE4MS43OTgyNjQpDQoJCQkJCQkJbG9jYWwgU2Fuc0FuZ2xlcyA9IENGcmFtZS5BbmdsZXMoMCwgbWF0aC5yYWQoMjApLCAwKQ0KDQoJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IFNhbnNQb3MgKiBTYW5zQW5nbGVzDQoJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZDpDaGFuZ2VTdGF0ZShFbnVtLkh1bWFub2lkU3RhdGVUeXBlLkNsaW1iaW5nKQ0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQkJaWYgbm90IEZyZWV6ZUVuYWJsZWQgdGhlbg0KCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQ0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5aIHRoZW4NCgkJCQkJYmVnaW5OdWxsaWZ5Rm9yY2VzKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRyB0aGVuDQoJCQkJCUFudGlHcmF2aXR5RnVuYygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkogdGhlbg0KCQkJCQlpZiBDbGlja1RQRW5hYmxlZCB0aGVuDQoJCQkJCQljbGlja3RwKG1vdXNlLkhpdCkNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkYgdGhlbg0KCQkJCQlGcmVlemVGdW5jKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja3F1b3RlIHRoZW4NCgkJCQkJaWYgRmxhc2hFbmFibGVkIHRoZW4NCgkJCQkJCWxvbmdmbGFzaCgpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5WIHRoZW4NCgkJCQkJdmlldygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkIgdGhlbg0KCQkJCQl0b2dnbGVFU1AoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5NIHRoZW4NCgkJCQkJdG9nZ2xlRVNQR29sZCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRCcmFja2V0IHRoZW4NCgkJCQkJaWYgbm90IGNsb3NlZGZvcmV2ZXIgdGhlbg0KCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuDQoJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQ0KCQkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQ0KCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLA0KCQkJCQkJCQkJIk91dCIsDQoJCQkJCQkJCQkiU2luZSIsDQoJCQkJCQkJCQkuNSwNCgkJCQkJCQkJCXRydWUNCgkJCQkJCQkJKQ0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlDQoJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksDQoJCQkJCQkJCQkiSW4iLA0KCQkJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCQkJLjUsDQoJCQkJCQkJCQl0cnVlDQoJCQkJCQkJCSkNCgkJCQkJCQllbmQNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4NCgkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQ0KCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiT3V0IiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksDQoJCQkJCQkJIkluIiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQllbmQNCgkJCQkJd2FpdCgxKQ0KCQkJCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQ0KCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoYW5rcyBmb3IgdXNpbmcgRUJHdWkhIg0KCQkJCQl3YWl0KDIpDQoJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlDQoJCQkJCQl0ZXJtRUJHdWkoKQ0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBTY3JpcHRzIGFuZCBGdW5jdGlvbnMgRU5EDQoNCgktLSBFbnRyYW5jZSBBbmltYXRpb24NCg0KCXdhaXQoMC41KQ0KDQoJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigNCgkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLA0KCQkiT3V0IiwNCgkJIlNpbmUiLA0KCQkuNSwNCgkJdHJ1ZQ0KCSkNCg0KCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQlVRGltMi5uZXcoMSwgMCwgMC40NSwgMCksDQoJCSJPdXQiLA0KCQkiU2luZSIsDQoJCS41LA0KCQl0cnVlDQoJKQ0KDQoJLS0gSW5mbw0KDQoJcHJpbnQoW1sNCg0KCV1dKQ0KCXdhcm4oIkdVSSBzdWNjZXNzZnVsbHkgbG9hZGVkISIpDQoJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldlbGNvbWUgdG8gRUJHdWkhIg0KCXdhaXQoMikNCgljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQplbmQ="