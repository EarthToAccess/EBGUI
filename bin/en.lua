encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CQp9Cgpsb2NhbCBtYXN0ZXJsaXN0ID0gewoJIjYzMzA1NzVlLThiOWMtNGZiNi1hNDJkLWJhYTU1NTZiNmU5OSIKfQoKbG9jYWwgZ29sZGxpc3QgPSB7CgkiR18wNTc5MjZfd09tRkpmTGVmaV8xMTIwMjIiCn0KCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIElEID0gcGxheWVyLlVzZXJJZApsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQpsb2NhbCBpc01hc3RlciA9IGZhbHNlCmxvY2FsIGlzR29sZCA9IGZhbHNlCmxvY2FsIHZlck51bSA9ICJ2Mi4xMi4xIgoKZm9yIGksdiBpbiBwYWlycyhnb2xkbGlzdCkgZG8KCWlmIG5vdCBFQkd1aUdvbGQgdGhlbiBlbHNlaWYgRUJHdWlHb2xkID09IHYgdGhlbgoJCWlzR29sZCA9IHRydWUKCQlicmVhawoJZW5kCmVuZAoKZm9yIGksdiBpbiBwYWlycyhibG9ja2xpc3QpIGRvCiAgICBpZiB2ID09IElEIHRoZW4KICAgICAgICBpc0Jsb2NrZWQgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8KICAgIGlmIHY6bG93ZXIoKSA9PSBjbGllbnRpZCB0aGVuCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlCiAgICAgICAgYnJlYWsKICAgIGVuZAplbmQKCmlmIGlzQmxvY2tlZCB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgVGhpcyBhY2NvdW50IGhhcyBiZWVuIGJsb2NrZWQuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCglnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuRGVmYXVsdENoYXRTeXN0ZW1DaGF0RXZlbnRzLlNheU1lc3NhZ2VSZXF1ZXN0OkZpcmVTZXJ2ZXIoIkkganVzdCB0cmllZCB0byB0dXJuIG9uIGV4cGxvaXRzIHdoaWxlIGJlaW5nIGJsb2NrZWQgZnJvbSB1c2luZyB0aGUgc2NyaXB0ISBJJ20gYmlnLCBmYXQsIGFuZCBzdHVwaWQhIiwiQWxsIikKZWxzZWlmIG5vdCAoRUJHdWlLZXkgb3IgaXNCbG9ja2VkIG9yIGlzTWFzdGVyIG9yIGlzR29sZCkgdGhlbgogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91IGRvbid0IGhhdmUgdGhlIHVubG9jayBrZXkgaW4geW91ciBzY3JpcHQuICAgICAgIHwiKQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQplbHNlaWYgKEVCR3VpS2V5IH49ICI1NjgyNjRfcXo0ZWtCNFB5TF8xMTIwMjIiIGFuZCBub3QgaXNHb2xkKSBhbmQgbm90IChpc0Jsb2NrZWQgb3IgaXNNYXN0ZXIpIHRoZW4KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKZWxzZQoJeHBjYWxsKGZ1bmN0aW9uKCkKCQlsb2NhbCBkdW1iUXVvdGVzID0gewoJCQkiSmVleiwgd2hlbidkIGl0IGdldCBzbyBob3QgaW4gaGVyZT8iLAoJCQkiSXMgaXQganVzdCBtZSBvciBpcyB0aGF0ICp0b28qIGJsdWU/IiwKCQkJIkxpa2UgdGFraW5nIGNhbmR5IGZyb20gYSBiYWJ5LiIsCgkJCSJEZWV6IG51dHMgYXJlIHRvbyBzcXVhcmUhIiwKCQkJIkFsc28gdHJ5IE1pbmVjcmFmdCEiLAoJCQkiQWxzbyB0cnkgVGVycmFyaWEhIiwKCQkJIk1laCwgSSBsaWtlZCBSaXNrIG9mIFJhaW4gMiBiZXR0ZXIuIiwKCQkJIllvdSBuZWVkIGEgZmFpcmx5IGhpZ2ggSVEgdG8gdW5kZXJzdGFuZCBFQkd1aS4iLAoJCQkiSmFrZSwgZnJvbSBTdGF0ZSBGYXJtPyEiLAoJCQkiV2hhdCB3b3VsZCAqeW91KiBkbyBmb3IgYSBLbG9uZGlrZSBiYXI/IiwKCQkJIk5vdyB3aXRoIDEwMCUgbW9yZSBHb2xkISIsCgkJCSJNYWRlIGluIEx1YSEiLAoJCQkiSUYgJUVSUk9STEVWRUwlIEVRVSAxIEdPVE86RU9GIiwKCQkJImJydWggbmVyZiBzb2xhciBhbHJlYWR5IiwKCQkJIkJlY2F1c2UgdGhlIGRldnMgd29uJ3QgZG8gaXQuIiwKCQkJIlBldGl0aW9uIFlPVVIgbG9jYWwgZGV2ZWxvcGVyIGZvciBtb3JlIHVwZGF0ZXMhIiwKCQkJIndoeSBhcmUgeW91IGJ1eWluZyBjbG90aGVzIGF0IHRoZSBzb3VwIHN0b3JlIiwKCQkJIkkganVzdCB3YW5uYSBiZSBhIG5vcm1hbCBHVUkgd2l0aCBub3JtYWwga25lZXMuIiwKCQkJIjooKXs6fDomfTs6IiwKCQkJIkM6XFxET1MuIEM6XFxET1NcXFJVTiBSVU5cXERPU1xcUlVOLiIsCgkJCSJMdWFVOyBCZWNhdXNlIG5vcm1hbCBMdWEgd2FzIGp1c3QgdG9vIGVhc3kuIiwKCQkJImlsa28uLHV5dWtpanksaGdoeXRmcmVlM3ZmZ3czMndxcXdxIiwKCQkJIlNvcnJ5IGZvciB0aGF0IG9uZSBxdW90ZS4gTXkgY2F0IGdvdCBvbiBteSBrZXlib2FyZC4iLAoJCQkiSSBkb24ndCBhY3R1YWxseSBoYXZlIGEgY2F0LiIsCgkJCSJUaGlzIHNlbnRlbmNlIGlzIGZhbHNlLiIsCgkJCSJXZWxsIG5vdywgIiAuLiBwbGF5ZXIuTmFtZSAuLiAiLCBkb24ndCB3ZSBoYXZlIGEgcHJlZGljYW1lbnQhIiwKCQkJIkplZSwgQmlsbCwgaG93IGNvbWUgeW91ciBtb20gbGV0cyB5b3UgaGF2ZSBUV08gd2VpbmVycz8hIiwKCQkJIkknZCBsaWtlIHRvIHRoYW5rIG15IG1vbSBhbmQgbXkgZGFkLCIsCgkJCSJZJ2tub3cgdGhleSByZWFsbHkgZ290dGEgc3RhcnQgcGF0Y2hpbmcgbW9yZS4iLAoJCQkiTmljZSB0byBtZWV0IHlvdSBSb3NlLiBSdW4gZm9yIHlvdXIgbGlmZSEiLAoJCQkiSG93IGhhcmQgd291bGQgaXQgYmUgdG8gZXhwbG9pdCBhIG5ldyBzcGVsbCBpbj8iLAoJCQkiSG93IGJhZCBjYW4gSSBiZT8gSSdtIGp1c3QgZG9pbmcgd2hhdCdzIGJlc3QgZm9yIHRoZSBlY29ub215LiIsCgkJCSJab28gd2VlIG1hbWEhIiwKCQkJIld1YmJhIGx1YmJhIGR1YiBkdWIhIiwKCQkJIkknbSBnb25uYSBnbyBlYXQgd29ybXMuIiwKCQkJIkNhdHMgc3dlYXQgdGhyb3VnaCB0aGUgcGFkcyBvZiB0aGVpciBwYXdzLiIsCgkJCSJXaGVuIGNhdHMgYXJlIGZpcnN0IGJvcm4sIHRoZXkgaGF2ZSBibHVlIGV5ZXMuIE92ZXIgdGltZSwgdGhlIGNvbG9yIGNoYW5nZXMuIiwKCQkJIlRoZSB0b3duIG9mIFRhbGtlZXRuYSwgQWxhc2thLCBoYWQgYSBjYXQgYXMgYSBtYXlvciBmb3IgMTUgeWVhcnMuIgoJCX0KCgkJd2FybihbWy0tLS0tLS0tLS0tLS0tLS0KCQkJCV9fX19fXyBfX19fXyBfX19fXyAgICAgICBfIAoJCQkJfCAgX19ffCBfX18gXCAgX18gXCAgICAgKF8pCgkJCQl8IHxfXyB8IHxfLyAvIHwgIFwvXyAgIF8gXyAKCQkJCXwgIF9ffHwgX19fIFwgfCBfX3wgfCB8IHwgfAoJCQkJfCB8X19ffCB8Xy8gLyB8X1wgXCB8X3wgfCB8CgkJCQlcX19fXy9cX19fXy8gXF9fX18vXF9fLF98X3wgCgkJCQktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXV0gLi4gdmVyTnVtKQoJCXByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCXByaW50KGR1bWJRdW90ZXNbbWF0aC5yYW5kb20oMSwjZHVtYlF1b3RlcyldKQoJCXByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCXdhcm4oIldlbGNvbWUgdG8gRUJHdWksICIgLi4gcGxheWVyLk5hbWUgLi4gIiEiKQoJCXdhcm4oIllvdSdyZSBvbiB0aGUgU3RhYmxlIGJyYW5jaCBvZiBFQkd1aSIpCgkJd2FybigiUXVlc3Rpb25zIG9yIGNvbmNlcm5zPyBMZXQgdXMga25vdyBpbiB0aGUgRGlzY29yZCwiKQoJCXdhcm4oIm9yIGVtYWlsIEVhcnRoIGhpbXNlbGYgYXQgZWFydGh0b2FjY2Vzc0BnbWFpbC5jb20hIikKCQl3YWl0KDAuNSkKCQkKCQlpZiBpc01hc3RlciB0aGVuCgkJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpICAgCgkJCXdhcm4oIkxvYWRlZCBpbiB1c2luZyB0aGUgTWFzdGVyIExpc3QhIE92ZXJyaWRpbmcgYWNjZXNzIGdpdmVuLiIpCgkJCXdhcm4oIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCgkJZW5kCgoJCWlmIGlzR29sZCB0aGVuCgkJCXByaW50KFtbCQkJCV9fX18gICAgICAgICAgICAgX19fICAgICAgX19fIAoJCQk2TU1NTWIvICAgICAgICAgICBgTU0gICAgICBgTU0gCgkJCThQICAgIFlNICAgICAgICAgICAgTU0gICAgICAgTU0gCgkJCTZNICAgICAgWSAgIF9fX19fICAgIE1NICAgX19fX01NIAoJCQlNTSAgICAgICAgIDZNTU1NTWIgICBNTSAgNk1NTU1NTSAKCQkJTU0gICAgICAgIDZNJyAgIGBNYiAgTU0gNk0nICBgTU0gCgkJCU1NICAgICBfX19NTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQlNTSAgICAgYE0nTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJWU0gICAgICBNIE1NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCThiICAgIGQ5IFlNLiAgICxNOSAgTU0gWU0uICAsTU0gCgkJCVlNTU1NOSAgIFlNTU1NTTkgIF9NTV8gWU1NTU1NTV9dXSkKCQkJd2FybigiVGhhbmsgeW91IGZvciBiZWluZyBhIEdPTERFTiBtZW1iZXIhIikKCQkJd2FybignRW5qb3kgdGhlIHZhcmlvdXMgIm92ZXJwb3dlcmVkIiBzY3JpcHRzIHdlIGhhdmUgaW4gc3RvcmUhJykKCQllbmQKCgkJLS0gR1VJIEluc3RhbmNlcywgRXZlbnRzIGFuZCBGdW5jdGlvbnMKCgkJbG9jYWwgZWJndWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpCgkJZWJndWkuTmFtZSA9ICJlYmd1aSIKCQllYmd1aS5QYXJlbnQgPSBnYW1lOldhaXRGb3JDaGlsZCgiQ29yZUd1aSIpCgoJCWdhbWUuQ29yZUd1aS5DaGlsZFJlbW92ZWQ6Y29ubmVjdChmdW5jdGlvbihjaGlsZCkKCQkJaWYgY2hpbGQuTmFtZSA9PSAiZWJndWkiIHRoZW4KCQkJCWNsb3NlZGZvcmV2ZXIgPSB0cnVlCgkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UKCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUKCQkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUKCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCVVJUyA9IG5pbAoJCQkJYnJlYWthYmxlID0gdHJ1ZQoJCQkJQmxhemVDb2x1bW5FbmFibGVkID0gbmlsCgkJCQlWaW5lVHJhcEVuYWJsZWQgPSBuaWwKCQkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBuaWwKCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBuaWwKCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBuaWwKCQkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gbmlsCgkJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IG5pbAoJCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IG5pbAoJCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IG5pbAoJCQkJVGhlV29ybGRFbmFibGVkID0gbmlsCgkJCQlQb2xhcmlzRW5hYmxlZCA9IG5pbAoJCQkJTGFnU2VydmVyRW5hYmxlZCA9IG5pbAoJCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IG5pbAoJCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBuaWwKCQkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IG5pbAoJCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gbmlsCgkJCQlTZXdlckJ1cnN0RW5hYmxlZCA9IG5pbAoJCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBuaWwKCQkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IG5pbAoJCQkJVmlydHVhbFpvbmVFbmFibGVkID0gbmlsCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gbmlsCgkJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbAoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IG5pbAoJCQkJSG9sb2JlYW1FbmFibGVkID0gbmlsCgkJCQlTZXRTcGVlZCA9IG5pbAoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBuaWwKCQkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IG5pbAoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsCgkJCQlDbGlja1RQRW5hYmxlZCA9IG5pbAoJCQkJRnJlZXplRW5hYmxlZCA9IG5pbAoJCQkJdmlld2luZyA9IG5pbAoJCQkJVFBUYXJnZXRFbmFibGVkID0gbmlsCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gbmlsCgkJCQlFU1BFbmFibGVkID0gbmlsCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSBuaWwKCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gbmlsCgkJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gbmlsCgkJCQlWaWdvckhhY2tFbmFibGVkID0gbmlsCgkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSBuaWwKCQkJCVN0b3JtQnVsbGV0c0VuYWJsZWQgPSBuaWwKCQkJCURvdWJsZVJheUVuYWJsZWQgPSBuaWwKCQkJCURpc3BlcnNpb25FbmFibGVkID0gbmlsCgkJCQlEYXJrQW9lRW5hYmxlZCA9IG5pbAoJCQkJSHlwZXJhbmdFbmFibGVkID0gbmlsCgkJCQlDcmVhdGlvbkhvbGRFbmFibGVkID0gbmlsCgkJCQlSZWFwZXJVbHRFbmFibGVkID0gbmlsCgkJCQlBaW1ib3RFbmFibGVkID0gbmlsCgkJCQlUZWNoRGlzY0VuYWJsZWQgPSBuaWwKCQkJCS0tRVNQTWF4RGlzdCA9IG5pbAoJCQkJLS1FU1BNREVuYWJsZWQgPSBuaWwKCQkJCUFsdEZhcm1FbmFibGVkID0gbmlsCgkJCQlTb2xhckJ1Z0VuYWJsZWQgPSBuaWwKCQkJZW5kCgkJZW5kKQoKCQlsb2NhbCBtb3VzZSA9IHBsYXllcjpHZXRNb3VzZSgpCgoJCWxvY2FsIGJvcmRlcnMgPSB7fQoKCQlsb2NhbCBidXR0b25zbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNtYWluLk5hbWUgPSAiYnV0dG9uc21haW4iCgkJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkKCQlidXR0b25zbWFpbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC4yMjUsIDApCgkJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGJ1dHRvbnNtYWluKQoKCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgoKCQktLWlmIChpbml0aWF0aW9uTW9kZSA9PSAiTW9kZXJuIikgdGhlbgoJCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWNvbW1hbmRzbWFpbi5OYW1lID0gImNvbW1hbmRzbWFpbiIKCQljb21tYW5kc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCkKCQljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQoJCXRhYmxlLmluc2VydChib3JkZXJzLCBjb21tYW5kc21haW4pCgkJLS1lbmQKCgkJY29tbWFuZGRlYm91bmNlID0gZmFsc2UKCQljb21tYW5kc29wZW5lZCA9IHRydWUKCgkJY2xvc2VkZm9yZXZlciA9IGZhbHNlCgoJCWxvY2FsIGZyYW1lcyA9IHt9CgoJCS0tIEZyYW1lIGZvciBhcm91bmQgdGhlIGJ1dHRvbnMuCgkJbG9jYWwgYnV0dG9uc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJYnV0dG9uc2ZyYW1lLk5hbWUgPSAiYnV0dG9uc2ZyYW1lIgoJCWJ1dHRvbnNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpCgkJYnV0dG9uc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCQlidXR0b25zZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQlidXR0b25zZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJCXRhYmxlLmluc2VydChmcmFtZXMsIGJ1dHRvbnNmcmFtZSkKCQlidXR0b25zZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgkJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgY29tbWFuZCBib3guCgkJbG9jYWwgY29tbWFuZHNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWNvbW1hbmRzZnJhbWUuTmFtZSA9ICJjb21tYW5kc2ZyYW1lIgoJCWNvbW1hbmRzZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwgNTQsIDE3OSkKCQljb21tYW5kc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZHNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZHNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQljb21tYW5kc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJCXRhYmxlLmluc2VydChmcmFtZXMsIGNvbW1hbmRzZnJhbWUpCgkJY29tbWFuZHNmcmFtZS5QYXJlbnQgPSBjb21tYW5kc21haW4KCgkJLS0gQ29tbWFuZCBib3guIFRoaXMgaXMgd2hlcmUgdXNlcnMgdHlwZSBpbiBjb21tYW5kcyBhbmQgdGFyZ2V0cy4KCQlsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKCQljb21tYW5kQm94Lk5hbWUgPSAiY29tbWFuZEJveCIKCQljb21tYW5kQm94LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkKCQljb21tYW5kQm94LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkKCQljb21tYW5kQm94LlNpemUgPSBVRGltMi5uZXcoMC44NSwgMCwgMC4yMCwgMCkKCQljb21tYW5kQm94LkZvbnQgPSBFbnVtLkZvbnQuVGl0aWxsaXVtV2ViCgkJY29tbWFuZEJveC5UZXh0ID0gIiIKCQljb21tYW5kQm94LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCWNvbW1hbmRCb3guVGV4dFNjYWxlZCA9IHRydWUKCQljb21tYW5kQm94LlRleHRTaXplID0gMTQuMDAwCgkJY29tbWFuZEJveC5UZXh0V3JhcHBlZCA9IHRydWUKCQljb21tYW5kQm94LkNsZWFyVGV4dE9uRm9jdXMgPSBmYWxzZQoJCWNvbW1hbmRCb3guUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQlsb2NhbCBsYWJlbHMgPSB7fQoKCQktLSBUaGUgb3V0cHV0IGZvciB0aGUgY29tbWFuZCBib3gsIEFLQSB0aGUgd2hpdGUgdGV4dCBiZWxvdyB0aGF0IGxpc3RzIHlvdXIgdGFyZ2V0LgoJCWxvY2FsIGNvbW1hbmRCb3hPdXRwdXQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJY29tbWFuZEJveE91dHB1dC5OYW1lID0gImNvbW1hbmRCb3hPdXRwdXQiCgkJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwCgkJY29tbWFuZEJveE91dHB1dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNiwgMCkKCQljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApCgkJY29tbWFuZEJveE91dHB1dC5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQljb21tYW5kQm94T3V0cHV0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNjYWxlZCA9IHRydWUKCQljb21tYW5kQm94T3V0cHV0LlRleHRTaXplID0gMTQuMDAwCgkJY29tbWFuZEJveE91dHB1dC5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBjb21tYW5kQm94T3V0cHV0KQoJCWNvbW1hbmRCb3hPdXRwdXQuUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSBUaGUgaW5mb3JtYXRpb24gYWJvdmUgdGhlIGJ1dHRvbnMsIGUuZy4gdXNlcidzIG5hbWUsIGNoYW5uZWwKCQlsb2NhbCBEZXRhaWxzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIgoJCURldGFpbHMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlscy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlscy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjAxNSwgLTYpCgkJRGV0YWlscy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCWlmIG5vdCBpc0dvbGQgdGhlbgoJCQlEZXRhaWxzLlRleHQgPSBwbGF5ZXIuTmFtZSAuLiAiIHwgRUJHdWkgfCBTdGFibGUiCgkJZWxzZQoJCQlEZXRhaWxzLlRleHQgPSBwbGF5ZXIuTmFtZSAuLiAiIHwgRUJHdWkgR29sZCB8IFN0YWJsZSIKCQllbmQKCQlEZXRhaWxzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCURldGFpbHMuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzLlpJbmRleCA9IDUKCQlEZXRhaWxzLlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlscy5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzKQoJCURldGFpbHMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lCgoJCS0tICJDbG9zZSB0aGlzIEdVSSIgZm9yIHRoZSBjb21tYW5kIGJveC4KCQlsb2NhbCBEZXRhaWxzMiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzMi5OYW1lID0gIkRldGFpbHMyIgoJCURldGFpbHMyLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJRGV0YWlsczIuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczIuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczIuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzMi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuOSwgLTEwKQoJCURldGFpbHMyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkKCQlEZXRhaWxzMi5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCURldGFpbHMyLlRleHQgPSAiUHJlc3MgXSB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iCgkJRGV0YWlsczIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJRGV0YWlsczIuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzMi5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHMyLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMyKQoJCURldGFpbHMyLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gIkNsb3NlIHRoaXMgR1VJIiBmb3IgdGhlIGJ1dHRvbnMuCgkJbG9jYWwgRGV0YWlsczMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczMuTmFtZSA9ICJEZXRhaWxzMyIKCQlEZXRhaWxzMy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzMy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzMy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuODc1LCAwKQoJCURldGFpbHMzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgLTEwKQoJCURldGFpbHMzLkZvbnQgPSBFbnVtLkZvbnQuVGl0aWxsaXVtV2ViCgkJRGV0YWlsczMuVGV4dCA9ICJQcmVzcyBbIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiIKCQlEZXRhaWxzMy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkKCQlEZXRhaWxzMy5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMzLlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlsczMuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczMpCgkJRGV0YWlsczMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lCgoJCS0tIFNjcmlwdCB0ZXJtaW5hdGlvbiBpbnN0cnVjdGlvbnMuCgkJbG9jYWwgRGV0YWlsczQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczQuTmFtZSA9ICJEZXRhaWxzNCIKCQlEZXRhaWxzNC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzNC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzNC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHM0LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDEuMSwgMCkKCQlEZXRhaWxzNC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTc1LCAwKQoJCURldGFpbHM0LkZvbnQgPSBFbnVtLkZvbnQuVGl0aWxsaXVtV2ViCgkJRGV0YWlsczQuVGV4dCA9ICJIb2xkIHRoZSBMZWZ0IGFuZCBSaWdodCBhcnJvdyBrZXlzLCB0aGVuIHByZXNzIGFueSBrZXkgdG8gcXVpdCBFQkd1aS4iCgkJRGV0YWlsczQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpCgkJRGV0YWlsczQuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzNC5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHM0LlRleHRXcmFwcGVkID0gdHJ1ZQoJCURldGFpbHM0LlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSBUaGUgdmVyc2lvbiBudW1iZXIgYWJvdmUgdGhlIGNvbW1hbmQgYm94LgoJCWxvY2FsIFZlcnNpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJVmVyc2lvbi5OYW1lID0gIlZlcnNpb24iCgkJVmVyc2lvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlWZXJzaW9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCVZlcnNpb24uQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlWZXJzaW9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDUsIDApCgkJVmVyc2lvbi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMSwgMCkKCQlWZXJzaW9uLkZvbnQgPSBFbnVtLkZvbnQuVGl0aWxsaXVtV2ViCgkJVmVyc2lvbi5UZXh0ID0gIlZlcnNpb24gIiAuLiB2ZXJOdW0KCQlWZXJzaW9uLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCVZlcnNpb24uVGV4dFNjYWxlZCA9IHRydWUKCQlWZXJzaW9uLlRleHRTaXplID0gMTQuMDAwCgkJVmVyc2lvbi5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBWZXJzaW9uKQoJCVZlcnNpb24uUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSBUaGUgYmFja2dyb3VuZCBmb3IgdGhlIFVJLgoJCWxvY2FsIG1haW5mcmFtZSA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQoJCW1haW5mcmFtZS5OYW1lID0gIm1haW5mcmFtZSIKCQltYWluZnJhbWUuQWN0aXZlID0gdHJ1ZQoJCW1haW5mcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDksIDgzLCA4OSkKCQltYWluZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQltYWluZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCW1haW5mcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQltYWluZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQltYWluZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjg2Nzc2ODU4NiwgMCwgMC42LCAwKQoJCW1haW5mcmFtZS5TY3JvbGxCYXJUaGlja25lc3MgPSA2CgkJbWFpbmZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluCgoJCS0tIEdyaWQgbGF5b3V0IGZvciB0aGUgYnV0dG9ucy4KCQlsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpCgkJVUlHcmlkTGF5b3V0LkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbAoJCVVJR3JpZExheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcgoJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQoJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCAzMCkKCQlVSUdyaWRMYXlvdXQuU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIKCQlVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lCgoKCQktLSBBbmNob3JpbmcgZnVuY3Rpb24gYmVjYXVzZSBpIGhhdGUgdHlwaW5nCgkJbG9jYWwgZnVuY3Rpb24gYW5jaG9yKGJvb2wpCgkJCXdhaXQoLjc1KQoJCQlpZiBib29sID09IGZhbHNlIHRoZW4KCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgYW5kIHYuQW5jaG9yZWQgdGhlbgoJCQkJCQl2LkFuY2hvcmVkID0gZmFsc2UKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlaWYgYm9vbCA9PSB0cnVlIHRoZW4KCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgYW5kIG5vdCB2LkFuY2hvcmVkIHRoZW4KCQkJCQkJdi5BbmNob3JlZCA9IHRydWUKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlmb3IgaSx2IGluIHBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSBkbwoJCQkJCWlmIHY6SXNBKCJCYXNlUGFydCIpIHRoZW4KCQkJCQkJcHJpbnQodi5BbmNob3JlZCkKCQkJCQkJYnJlYWsKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJbG9jYWwgYnV0dG9ucyA9IHt9CgoJCS0tLS0tLSBCdXR0b25zIGZvciBoYWNrcy4KCgkJLS0tLSBBb0VzCgkJLS0gSW5zdGFudCBCbGF6ZSBDb2x1bW4KCgkJbG9jYWwgQmxhemVDb2x1bW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUJsYXplQ29sdW1uLk5hbWUgPSAiQmxhemVDb2x1bW4iCgkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmxhemVDb2x1bW4pCgoJCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlCgoJCUJsYXplQ29sdW1uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEJsYXplQ29sdW1uRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSB0cnVlCgkJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPbikiCgkJCWVsc2UKCQkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlCgkJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEFtcGxpZmllZCBHZW5lc2lzIFJheQoKCQlsb2NhbCBHZW5lc2lzUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHZW5lc2lzUmF5Lk5hbWUgPSAiR2VuZXNpc1JheSIKCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHZW5lc2lzUmF5KQoKCQlsb2NhbCBHZW5lc2lzUmF5RW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgR1JDaGFyZ2UgPSAxIC0tIDEwMDAwMDAKCgkJR2VuZXNpc1JheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBHZW5lc2lzUmF5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IHRydWUKCQkJCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9uKSIKCQkJZWxzZQoJCQkJR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQoJCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBDcmVhdGlvbiBIb2xkIEhhY2sKCgkJbG9jYWwgQ2hhaW5Ib2xkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDaGFpbkhvbGQuTmFtZSA9ICJDaGFpbkhvbGQiCgkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2hhaW5Ib2xkKQoKCQlsb2NhbCBDcmVhdGlvbkhvbGRFbmFibGVkID0gZmFsc2UKCgkJQ2hhaW5Ib2xkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgQ3JlYXRpb25Ib2xkRW5hYmxlZCB0aGVuCgkJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IHRydWUKCQkJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJQ3JlYXRpb25Ib2xkRW5hYmxlZCA9IGZhbHNlCgkJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlDaGFpbkhvbGQuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQlDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgVmluZSBUcmFwCgoJCWxvY2FsIFZpbmVUcmFwID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaW5lVHJhcC5OYW1lID0gIlZpbmVUcmFwIgoJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpbmVUcmFwKQoKCQlWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQoKCQlWaW5lVHJhcC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBWaW5lVHJhcEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVmluZVRyYXBFbmFibGVkID0gdHJ1ZQoJCQkJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT24pIgoJCQllbHNlCgkJCQlWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQoJCQkJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbGx1c2l2ZSBBdGFrZSBIYWNrCgoJCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIgoJCUlsbHVzaXZlQXRha2UuVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJbGx1c2l2ZUF0YWtlKQoKCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlCgoJCUlsbHVzaXZlQXRha2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSB0cnVlCgkJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlCgkJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IE11cmt5IE1pc3NpbGVzCgoJCWxvY2FsIERhcmtBb2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCURhcmtBb2UuTmFtZSA9ICJEYXJrQW9lIgoJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBEYXJrQW9lKQoKCQlsb2NhbCBEYXJrQW9lRW5hYmxlZCA9IGZhbHNlCgoJCURhcmtBb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IERhcmtBb2VFbmFibGVkIHRoZW4KCQkJCURhcmtBb2VFbmFibGVkID0gdHJ1ZQoJCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9uKSIKCQkJZWxzZQoJCQkJRGFya0FvZUVuYWJsZWQgPSBmYWxzZQoJCQkJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiCgkJCWVuZAoJCWVuZCkKCQkKCQktLSBJbnN0YW50IEFpciBEaXNwZXJzaW9uCgoJCWxvY2FsIFN0b3JtQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTdG9ybUFvZS5OYW1lID0gIlN0b3JtQW9lIgoJCVN0b3JtQW9lLlRleHQgPSAiKEcpIEluc3RhbnQgU3Rvcm0gQW9FIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTdG9ybUFvZSkKCgkJbG9jYWwgRGlzcGVyc2lvbkVuYWJsZWQgPSBmYWxzZQoKCQlTdG9ybUFvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IERpc3BlcnNpb25FbmFibGVkIHRoZW4KCQkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IHRydWUKCQkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT24pIgoJCQkJZWxzZQoJCQkJCURpc3BlcnNpb25FbmFibGVkID0gZmFsc2UKCQkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQkJCWVuZAkKCQkJZWxzZQoJCQkJU3Rvcm1Bb2UuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQlTdG9ybUFvZS5UZXh0ID0gIihHKSBJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGxpdHRpbmcgU2xpbWUgSGFjawoKCQlsb2NhbCBTcGxpdHRpbmdTbGltZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BsaXR0aW5nU2xpbWUuTmFtZSA9ICJTcGxpdHRpbmdTbGltZSIKCQlTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGxpdHRpbmdTbGltZSkKCgkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UKCgkJU3BsaXR0aW5nU2xpbWUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IHRydWUKCQkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UKCQkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gQW1hdXJvdGljIExhbWJlbnQgSGFjawoKCQlsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCIKCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW1hdXJvdGljTGFtYmVudCkKCgkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBmYWxzZQoKCQlBbWF1cm90aWNMYW1iZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gdHJ1ZQoJCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBmYWxzZQoJCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uCgoJCWxvY2FsIFBsYXNtYUltcGxvc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUGxhc21hSW1wbG9zaW9uLk5hbWUgPSAiUGxhc21hSW1wbG9zaW9uIgoJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUGxhc21hSW1wbG9zaW9uKQoKCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UKCgkJUGxhc21hSW1wbG9zaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IHRydWUKCQkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT24pIgoJCQllbHNlCgkJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UKCQkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBGb3JtaWRhYmxlIFJvYXIgSGFjawoKCQlsb2NhbCBGb3JtaWRhYmxlUm9hciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRm9ybWlkYWJsZVJvYXIuTmFtZSA9ICJGb3JtaWRhYmxlUm9hciIKCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikKCgkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UKCgkJRm9ybWlkYWJsZVJvYXIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgRm9ybWlkYWJsZVJvYXJFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IHRydWUKCQkJCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UKCQkJCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBTa2VsZXRvbiBHcmFiCgoJCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU2tlbGV0b25HcmFiLk5hbWUgPSAiU2tlbGV0b25HcmFiIgoJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTa2VsZXRvbkdyYWIpCgoJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBmYWxzZQoKCQlTa2VsZXRvbkdyYWIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgU2tlbGV0b25HcmFiRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gdHJ1ZQoJCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPbikgW0FJTUVEXSIKCQkJZWxzZQoJCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IGZhbHNlCgkJCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sKCgkJbG9jYWwgR3Jhdml0YXRpb25hbEZpZWxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHcmF2aXRhdGlvbmFsRmllbGQuTmFtZSA9ICJHcmF2aXRhdGlvbmFsRmllbGQiCgkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhdGlvbmFsRmllbGQpCgoJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQoKCQlHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gdHJ1ZQoJCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQoJCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgUm9jayBBcm1vcgoKCQlsb2NhbCBSb2NrQXJtb3IgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJvY2tBcm1vci5OYW1lID0gIlJvY2tBcm1vciIKCQlSb2NrQXJtb3IuVGV4dCA9ICJJbnN0YW50IFJvY2sgQXJtb3IiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikKCgkJUm9ja0FybW9yLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkKCQkJZW5kCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCWVuZCkKCgkJLS0tLSBQbGF5ZXIgbW9kaWZpY2F0aW9ucwoJCS0tIFNsaW1lIEJ1ZGRpZXMgSGFjawoKCQlsb2NhbCBTbGltZUJ1ZGRpZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNsaW1lQnVkZGllcy5OYW1lID0gIlNsaW1lQnVkZGllcyIKCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTbGltZUJ1ZGRpZXMpCgoJCWxvY2FsIFNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQoKCQlTbGltZUJ1ZGRpZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSB0cnVlCgkJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQoJCQkJCVNsaW1lQnVkZGllcy5UZXh0ID0gIihHKSBTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBJbmVydGlhIEdyYXZpdHkKCgkJbG9jYWwgSW5lcnRpYUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUluZXJ0aWFHcmF2aXR5Lk5hbWUgPSAiSW5lcnRpYUdyYXZpdHkiCgkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQoKCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoKCQlJbmVydGlhR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBJbmVydGlhR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gdHJ1ZQoJCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9uKSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCAxNjM4LCAwKQoJCQllbHNlCgkJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiCgkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkluZXJ0aWFHcmF2aXR5Rm9yY2UiKSB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkluZXJ0aWFHcmF2aXR5Rm9yY2U6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGVjdHJhbCBFbWJvZGltZW50CgoJCWxvY2FsIFNwZWN0cmFsRW1ib2RpbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BlY3RyYWxFbWJvZGltZW50Lk5hbWUgPSAiU3BlY3RyYWxFbWJvZGltZW50IgoJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWN0cmFsRW1ib2RpbWVudCkKCgkJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlCgoJCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSB0cnVlCgkJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9uKSBbWF0iCgkJCWVsc2UKCQkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBbnRpLUJsaW5kCgoJCWxvY2FsIEFudGlCbGluZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIgoJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9mZikgW0tdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpQmxpbmQpCgoJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBub3JtYWxGb2dDb2xvciA9IGdhbWUuTGlnaHRpbmcuRm9nQ29sb3IKCQlsb2NhbCBub3JtYWxGb2dFbmQgPSBnYW1lLkxpZ2h0aW5nLkZvZ0VuZAoJCWxvY2FsIG5vcm1hbEJyaWdodG5lc3MgPSBnYW1lLkxpZ2h0aW5nLkJyaWdodG5lc3MKCQlsb2NhbCBub3JtYWxDbG9ja1RpbWUgPSBnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZQoKCQlsb2NhbCBmdW5jdGlvbiBBbnRpQmxpbmRGdW5jKCkKCQkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT24pIFtLXSIKCQkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yID0gbm9ybWFsRm9nQ29sb3IKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZAoJCQkJCWdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcyA9IG5vcm1hbEJyaWdodG5lc3MKCQkJCQlnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZSA9IG5vcm1hbENsb2NrVGltZQoJCQkJZW5kCgkJCWVsc2UKCQkJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJCWVuZAoJCWVuZAoKCQlBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpCgoJCXBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCWlmIEFudGlCbGluZEVuYWJsZWQgdGhlbgoJCQkJaWYgZC5OYW1lID09ICJTY3JlZW5HdWkiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLlNjcmVlbkd1aTpEZXN0cm95KCkKCQkJCWVsc2VpZiBkLk5hbWUgPT0gIkRpc3RvcnQiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLkRpc3RvcnQ6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGVlZCBoYWNrCgoJCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIgoJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spCgoJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQoJCVNldFNwZWVkID0gNjQKCgkJZnVuY3Rpb24gbW9kaWZ5U3BlZWQoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkNoYW5nZWQ6Y29ubmVjdChmdW5jdGlvbigpCgkJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCWVsc2UKCQkJCQlyZXR1cm4KCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPbikgW1RdIgoJCQkJbW9kaWZ5U3BlZWQoKQoJCQkJd2FpdCgpCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQltb2RpZnlTcGVlZCgpCgkJCQkJCXdhaXQoKQoJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSIKCQkJZW5kCgkJZW5kCgoJCVNwZWVkaGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5TcGVlZCkKCgkJLS0tLSBCdWxsZXRzCgkJLS0gSHlwZXJhbmcgSGFjawoKCQlsb2NhbCBUZWNoUmFuZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGVjaFJhbmcuTmFtZSA9ICJUZWNoUmFuZyIKCQlUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQoKCQlsb2NhbCBIeXBlcmFuZ0VuYWJsZWQgPSBmYWxzZQoKCQlUZWNoUmFuZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgSHlwZXJhbmdFbmFibGVkIHRoZW4KCQkJCUh5cGVyYW5nRW5hYmxlZCA9IHRydWUKCQkJCVRlY2hSYW5nLlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT24pIgoJCQllbHNlCgkJCQlIeXBlcmFuZ0VuYWJsZWQgPSBmYWxzZQoJCQkJVGVjaFJhbmcudGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEFzdGVyb2lkIEJlbHQgSGFjawoKCQlsb2NhbCBBc3Rlcm9pZEJlbHRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBc3Rlcm9pZEJlbHRIYWNrLk5hbWUgPSAiQXN0ZXJvaWRCZWx0SGFjayIKCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBc3Rlcm9pZEJlbHRIYWNrKQoJCQoJCWxvY2FsIEFzdGVyb2lkQmVsdEVuYWJsZWQgPSBmYWxzZQoJCQoJCUFzdGVyb2lkQmVsdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQXN0ZXJvaWRCZWx0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gdHJ1ZQoJCQkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkFzdGVyb2lkIEJlbHQgSGFjayAoT24pIgoJCQllbHNlCgkJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UKCQkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gT3JicyBvZiBFbmxpZ2h0ZW5tZW50IEhhY2sKCgkJbG9jYWwgTGlnaHRPcmJzSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTGlnaHRPcmJzSGFjay5OYW1lID0gIkxpZ2h0T3Jic0hhY2siCgkJTGlnaHRPcmJzSGFjay5UZXh0ID0gIkxpZ2h0IE9yYnMgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTGlnaHRPcmJzSGFjaykKCgkJbG9jYWwgbE9yYnNFbmFibGVkID0gZmFsc2UKCgkJTGlnaHRPcmJzSGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBsT3Jic0VuYWJsZWQgdGhlbgoJCQkJbE9yYnNFbmFibGVkID0gZmFsc2UKCQkJCUxpZ2h0T3Jic0hhY2suVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiCgkJCWVsc2UKCQkJCWxPcmJzRW5hYmxlZCA9IHRydWUKCQkJCUxpZ2h0T3Jic0hhY2suVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9uKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBWaWdvciBHeXJhdGlvbiBIYWNrCgoJCWxvY2FsIFZpZ0d5cmF0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmlnR3lyYXRIYWNrLk5hbWUgPSAiVmlnR3lyYXRIYWNrIgoJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZ0d5cmF0SGFjaykKCQkKCQlsb2NhbCBWaWdvckhhY2tFbmFibGVkID0gZmFsc2UKCQkKCQlWaWdHeXJhdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVmlnb3JIYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlWaWdvckhhY2tFbmFibGVkID0gdHJ1ZQoJCQkJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT24pIgoJCQllbHNlCgkJCQlWaWdvckhhY2tFbmFibGVkID0gZmFsc2UKCQkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gTGlnaHRuaW5nIEJhcnJhZ2UgSGFjawoKCQlsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSIKCQlCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQoKCQlCYXJyYWdlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBTdG9ybUJ1bGxldHNFbmFibGVkIHRoZW4KCQkJCVN0b3JtQnVsbGV0c0VuYWJsZWQgPSB0cnVlCgkJCQlCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVN0b3JtQnVsbGV0c0VuYWJsZWQgPSBmYWxzZQoJCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBEeWluZyBTdGFyIEhhY2sKCgkJbG9jYWwgRHlpbmdTdGFySGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRHlpbmdTdGFySGFjay5OYW1lID0gIkR5aW5nU3RhckhhY2siCgkJRHlpbmdTdGFySGFjay5UZXh0ID0gIihHKSBEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIER5aW5nU3RhckhhY2spCgoJCWxvY2FsIER5aW5nU3RhckVuYWJsZWQgPSBmYWxzZQoKCQlEeWluZ1N0YXJIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBEeWluZ1N0YXJFbmFibGVkIHRoZW4KCQkJCQlEeWluZ1N0YXJFbmFibGVkID0gZmFsc2UKCQkJCQlEeWluZ1N0YXJIYWNrLlRleHQgPSAiKEcpIER5aW5nIFN0YXIgSGFjayAoT2ZmKSIKCQkJCWVsc2UKCQkJCQlEeWluZ1N0YXJFbmFibGVkID0gdHJ1ZQoJCQkJCUR5aW5nU3RhckhhY2suVGV4dCA9ICIoRykgRHlpbmcgU3RhciBIYWNrIChPbikiCgkJCQllbmQKCQkJZWxzZQoJCQkJRHlpbmdTdGFySGFjay5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCUR5aW5nU3RhckhhY2suVGV4dCA9ICIoRykgRHlpbmcgU3RhciBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tLS0gQmxhc3RzCgkJLS0gT3JiaXRhbCBTdHJpa2UgSGFjawoKCQlsb2NhbCBPcmJpdGFsID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlPcmJpdGFsLk5hbWUgPSAiT3JpYnRhbCIKCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIE9yYml0YWwpCgoJCWxvY2FsIE9yYml0YWxIYWNrRW5hYmxlZCA9IGZhbHNlCgoJCU9yYml0YWwuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBPcmJpdGFsSGFja0VuYWJsZWQgdGhlbgoJCQkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IHRydWUKCQkJCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSBmYWxzZQoJCQkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlPcmJpdGFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgRG91YmxlIFJheQoKCQlsb2NhbCBEb3VibGVSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCURvdWJsZVJheS5OYW1lID0gIkRvdWJsZVJheSIKCQlEb3VibGVSYXkuVGV4dCA9ICIoRykgSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpCgoJCURvdWJsZVJheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IERvdWJsZVJheUVuYWJsZWQgdGhlbgoJCQkJCURvdWJsZVJheUVuYWJsZWQgPSB0cnVlCgkJCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIEluc3RhbnQgRG91YmxlIFJheSAoT24pIgoJCQkJZWxzZQoJCQkJCURvdWJsZVJheUVuYWJsZWQgPSBmYWxzZQoJCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJRG91YmxlUmF5LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJRG91YmxlUmF5LlRleHQgPSAiKEcpIEluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBIb2xvYmVhbSBDYW1lcmEgQXR0YWNoCgoJCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIgoJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSG9sb2JlYW0pCgoJCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIGF0dGFjaENhbWVyYSh2KQoJCQlpZiAodiB+PSBuaWwpIHRoZW4KCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgKHYuTmFtZSA9PSAiSG9sb2JlYW0iKSB0aGVuCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddW3YuTmFtZV0KCQkJCWVsc2UKCQkJCQl2OkRlc3Ryb3koKQoJCQkJCXJldHVybgoJCQkJZW5kCgkJCQkKCQkJCXYuVHJhbnNwYXJlbmN5ID0gMAoKCQkJCXdhaXQoNCkKCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCWVuZAoJCQkJCgkJCQl2OkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCQkKCQlnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCWlmIEhvbG9iZWFtRW5hYmxlZCB0aGVuCgkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kIChwbGF5ZXIuQ2hhcmFjdGVyKSB0aGVuCgkJCQkJbG9jYWwgZGlzdGFuY2UgPSAocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdi5Qb3NpdGlvbikuTWFnbml0dWRlCgkJCQkJCgkJCQkJaWYgKHYuU2l6ZSA9PSBWZWN0b3IzLm5ldyg1LCA1LCA1KSkgYW5kIChkaXN0YW5jZSA8IDEwKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4KCQkJCQkKCQkJCQkJdi5OYW1lID0gIkhvbG9iZWFtIgoJCQkJCQoJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKSAKCQkJCQkJCQlhdHRhY2hDYW1lcmEodikgCgkJCQkJCQllbmQpKQoJCQkJCQllbmQpCgkJCQkJCQoJCQkJCQlsb2NhbCBndWkgPSBwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyCgkJCQkJCQoJCQkJCQl3YWl0KDAuNSkKCQkJCQkJCgkJCQkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJCQkJaWYgbm90KGd1aVsnMSddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWycyJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzMnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNCddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc1J10uQ0QuVGV4dCA9PSAiLi4uIikgdGhlbgoJCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbgoJCQkJCQkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJCQkJCWVuZAoJCQkJCgkJCQkJCQkJCXY6RGVzdHJveSgpCgkJCQkJCQkJZW5kKQoJCQkJCQkJCQoJCQkJCQkJCWJyZWFrCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlIb2xvYmVhbS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBIb2xvYmVhbUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSG9sb2JlYW1FbmFibGVkID0gdHJ1ZQoJCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPbikiCgkJCQkKCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuIHY6RGVzdHJveSgpIGVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlCgkJCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gQ29udHJvbGxlZCBFY2hvZXMKCgkJbG9jYWwgRWNob2VzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFY2hvZXMuTmFtZSA9ICJFY2hvZXMiCgkJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVjaG9lcykKCgkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSBmYWxzZQoJCUVjaG9lc1BoYXNlID0gMQoKCQlFY2hvZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSB0cnVlCgkJCQlFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT24pIgoJCQllbHNlCgkJCQlDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9IGZhbHNlCgkJCQlFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLS0tIFNoaWVsZHMKCQktLSBDcnlzdGFsIEFybWFtZW50IEhhY2sKCgkJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDcnlzdGFsQXJtYW1lbnQuTmFtZSA9ICJDcnlzdGFsQXJtYW1lbnQiCgkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpCgoJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoKCQlDcnlzdGFsQXJtYW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gdHJ1ZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPbikiCgkJCWVsc2UKCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEdyYXZpdGFsIEdsb2JlIEhhY2sKCgkJbG9jYWwgR3Jhdml0YWxHbG9iZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJR3Jhdml0YWxHbG9iZS5OYW1lID0gIkdyYXZpdGFsR2xvYmUiCgkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGFsR2xvYmUpCgoJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UKCgkJR3Jhdml0YWxHbG9iZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IHRydWUKCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UKCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tLS0gVWx0cwoJCS0tIERpc2FibGUgY29vbGRvd25zCgkJbG9jYWwgRW5hYmxlVWx0cyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRW5hYmxlVWx0cy5OYW1lID0gIkVuYWJsZVVsdHMiCgkJRW5hYmxlVWx0cy5UZXh0ID0gIihHKSBSZW1vdmUgVWx0IENvb2xkb3duIgoJCXRhYmxlLmluc2VydChidXR0b25zLEVuYWJsZVVsdHMpCgoJCUVuYWJsZVVsdHMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIiwgQ0ZyYW1lLm5ldyhwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24tVmVjdG9yMy5uZXcoMCwyNTAsMCkpKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiLCBDRnJhbWUubmV3KHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkpCgkJCWVsc2UKCQkJCUVuYWJsZVVsdHMuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlFbmFibGVVbHRzLlRleHQgPSAiKEcpIFJlbW92ZSBVbHQgQ29vbGRvd24iCgkJCWVuZAoJCWVuZCkKCgkJLS0gUmVhcGVyJ3MgUmFnZQoJCWxvY2FsIFJlYXBlclVsdCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUmVhcGVyVWx0Lk5hbWUgPSAiUmVhcGVyVWx0IgoJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJlYXBlclVsdCkKCgkJbG9jYWwgUmVhcGVyVWx0RW5hYmxlZCA9IGZhbHNlCgoJCVJlYXBlclVsdC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IFJlYXBlclVsdEVuYWJsZWQgdGhlbgoJCQkJCVJlYXBlclVsdEVuYWJsZWQgPSB0cnVlCgkJCQkJUmVhcGVyVWx0LlRleHQgPSAiKEcpIFJlYXBlcidzIFJhZ2UgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCVJlYXBlclVsdEVuYWJsZWQgPSBmYWxzZQoJCQkJCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJZWxzZQoJCQkJUmVhcGVyVWx0LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgxKQoJCQkJUmVhcGVyVWx0LlRleHQgPSAiKEcpIFJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBBYmxhemUgSnVkZ2VtZW50IEhhY2sKCgkJbG9jYWwgQWJsYXplSnVkZ2VtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBYmxhemVKdWRnZW1lbnQuTmFtZSA9ICJBYmxhemVKdWRnZW1lbnQiCgkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBYmxhemVKdWRnZW1lbnQpCgoJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gZmFsc2UKCgkJQWJsYXplSnVkZ2VtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gdHJ1ZQoJCQkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gZmFsc2UKCQkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBWb2lkIE9wZW5pbmcgSGFjawoKCQlsb2NhbCBWb2lkT3BlbmluZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVm9pZE9wZW5pbmcuTmFtZSA9ICJWb2lkT3BlbmluZyIKCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWb2lkT3BlbmluZykKCgkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IGZhbHNlCgoJCVZvaWRPcGVuaW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IHRydWUKCQkJCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIFRoZSBXb3JsZCBIYWNrCgoJCWxvY2FsIFRoZVdvcmxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUaGVXb3JsZC5OYW1lID0gIlRoZVdvcmxkIgoJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRoZVdvcmxkKQoKCQlUaGVXb3JsZEVuYWJsZWQgPSBmYWxzZQoKCQlUaGVXb3JsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBUaGVXb3JsZEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVGhlV29ybGRFbmFibGVkID0gdHJ1ZQoJCQkJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT24pIgoJCQllbHNlCgkJCQlUaGVXb3JsZEVuYWJsZWQgPSBmYWxzZQoJCQkJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBQb2xhcmlzIEhhY2sKCgkJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUG9sYXJpcy5OYW1lID0gIlBvbGFyaXMiCgkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUG9sYXJpcykKCgkJUG9sYXJpc0VuYWJsZWQgPSBmYWxzZQoKCQlQb2xhcmlzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFBvbGFyaXNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVBvbGFyaXNFbmFibGVkID0gdHJ1ZQoJCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT24pIgoJCQllbHNlCgkJCQlQb2xhcmlzRW5hYmxlZCA9IGZhbHNlCgkJCQlQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbgoKCQlsb2NhbCBTaGF0dGVyaW5nRXJ1cHRpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNoYXR0ZXJpbmdFcnVwdGlvbi5OYW1lID0gIlNoYXR0ZXJpbmdFcnVwdGlvbiIKCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNoYXR0ZXJpbmdFcnVwdGlvbikKCgkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlCgoJCVNoYXR0ZXJpbmdFcnVwdGlvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSB0cnVlCgkJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9uKSIKCQkJZWxzZQoJCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlCgkJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gRXRoZXJlYWwgQWN1bWVuIEhhY2sKCgkJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV0aGVyZWFsQWN1bWVuLk5hbWUgPSAiRXRoZXJlYWxBY3VtZW4iCgkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXRoZXJlYWxBY3VtZW4pCgoJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IGZhbHNlCgoJCUV0aGVyZWFsQWN1bWVuLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSB0cnVlCgkJCQlFdGhlcmVhbEFjdW1lbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPbikiCgkJCWVsc2UKCQkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IGZhbHNlCgkJCQlFdGhlcmVhbEFjdW1lbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIFRveGljIEJhc2lsaXNrIEhhY2sKCgkJbG9jYWwgVG94aWNCYXNpbGlzayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVG94aWNCYXNpbGlzay5OYW1lID0gIlRveGljQmFzaWxpc2siCgkJVG94aWNCYXNpbGlzay5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spCgoJCVRveGljQmFzaWxpc2tFbmFibGVkID0gZmFsc2UKCgkJVG94aWNCYXNpbGlzay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IHRydWUKCQkJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPbikiCgkJCWVsc2UKCQkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gZmFsc2UKCQkJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEFyY2FuZSBHdWFyZGlhbiBIYWNrCgoJCWxvY2FsIEFyY2FuZUd1YXJkaWFuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBcmNhbmVHdWFyZGlhbi5OYW1lID0gIkFyY2FuZUd1YXJkaWFuIgoJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFyY2FuZUd1YXJkaWFuKQoKCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQoKCQlBcmNhbmVHdWFyZGlhbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gdHJ1ZQoJCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQoJCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBWaXJ0dWFsIFpvbmUgSGFjawoKCQlsb2NhbCBWaXJ0dWFsWm9uZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmlydHVhbFpvbmUuTmFtZSA9ICJWaXJ0dWFsWm9uZSIKCQlWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaXJ0dWFsWm9uZSkKCgkJVmlydHVhbFpvbmVFbmFibGVkID0gZmFsc2UKCgkJVmlydHVhbFpvbmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVmlydHVhbFpvbmVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVZpcnR1YWxab25lRW5hYmxlZCA9IHRydWUKCQkJCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJVmlydHVhbFpvbmVFbmFibGVkID0gZmFsc2UKCQkJCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4KCgkJbG9jYWwgU29sYXJTdGljayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU29sYXJTdGljay5OYW1lID0gIlNvbGFyU3RpY2siCgkJU29sYXJTdGljay5UZXh0ID0gIihHKSBTb2xhciBTdGljayBCdWcgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNvbGFyU3RpY2spCgoJCVNvbGFyQnVnRW5hYmxlZCA9IGZhbHNlCgoJCVNvbGFyU3RpY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIFNvbGFyQnVnRW5hYmxlZCB0aGVuCgkJCQkJU29sYXJCdWdFbmFibGVkID0gZmFsc2UKCQkJCQlTb2xhclN0aWNrLlRleHQgPSAiKEcpIFNvbGFyIEZyZWV6ZSAoT2ZmKSIKCQkJCWVsc2UKCQkJCQlTb2xhckJ1Z0VuYWJsZWQgPSB0cnVlCgkJCQkJU29sYXJTdGljay5UZXh0ID0gIihHKSBTb2xhciBGcmVlemUgKE9uKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlTb2xhclN0aWNrLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJU29sYXJTdGljay5UZXh0ID0gIihHKSBTb2xhciBGcmVlemUgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0tLSBNaXNjZWxsYW5lb3VzCgoJCS0tIFRlY2ggRGlzYyBIYWNrCgoJCWxvY2FsIFRlY2hEaXNjID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUZWNoRGlzYy5OYW1lID0gIlRlY2hEaXNjIgoJCVRlY2hEaXNjLlRleHQgPSAiKEcpIFRlY2ggRGlzYyBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUZWNoRGlzYykKCgkJVGVjaERpc2NFbmFibGVkID0gZmFsc2UKCgkJVGVjaERpc2MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIFRlY2hEaXNjRW5hYmxlZCB0aGVuCgkJCQkJVGVjaERpc2NFbmFibGVkID0gZmFsc2UKCQkJCQlUZWNoRGlzYy5UZXh0ID0gIihHKSBUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQkJCWVsc2UKCQkJCQlUZWNoRGlzY0VuYWJsZWQgPSB0cnVlCgkJCQkJVGVjaERpc2MuVGV4dCA9ICIoRykgVGVjaCBEaXNjIEhhY2sgKE9uKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlUZWNoRGlzYy5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCVRlY2hEaXNjLlRleHQgPSAiKEcpIFRlY2ggRGlzYyBIYWNrIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEFpbWJvdCB8fCBDdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQKCQktLVtbCgkJbG9jYWwgQWltYm90ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBaW1ib3QuTmFtZSA9ICJBaW1ib3QiCgkJQWltYm90LlRleHQgPSAiKEcpIEFpbWJvdCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWltYm90KQoKCQlmdW5jdGlvbiB0b2dnbGVBaW1ib3QoKQoJCQlpZiAobm90IEFpbWJvdEVuYWJsZWQpIGFuZCAoaXNHb2xkIG9yIGlzTWFzdGVyKSB0aGVuCgkJCQlBaW1ib3RFbmFibGVkID0gdHJ1ZQoJCQkJQWltYm90LlRleHQgPSAiKEcpIEFpbWJvdCAoT24pIgoJCQkJd2hpbGUgQWltYm90RW5hYmxlZCBkbwoJCQkJCUJlZ2luVHJhY2tpbmcoKQoJCQkJZW5kCgkJCWVsc2VpZiBBaW1ib3RFbmFibGVkIGFuZCAoaXNHb2xkIG9yIGlzTWFzdGVyKSB0aGVuCgkJCQlBaW1ib3RFbmFibGVkID0gZmFsc2UKCQkJCUFpbWJvdC5UZXh0ID0gIihHKSBBaW1ib3QgKE9mZikiCgkJCWVsc2VpZiBub3QgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJQWltYm90LlRleHQgPSAiKEcpIEFpbWJvdCAoT2ZmKSIKCQkJZW5kCgkJZW5kCgoJCUFpbWJvdC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlQWltYm90KV1dCgoJCS0tIFNoYXJkIENvbG9ycwoKCQlsb2NhbCBSYW5kb21Db2xvcnMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyIKCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSYW5kb21Db2xvcnMpCgoJCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQoJCWxvY2FsIFNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gc2hhcmRSYW5kb21pemVyKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdi5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCB2OkZpbmRGaXJzdENoaWxkKCJzaGFyZENoYW5nZWQiKSB0aGVuCgkJCQkJdi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkKCQkJCQlsb2NhbCBzaGFyZENoYW5nZWQgPSBJbnN0YW5jZS5uZXcoIkJvb2xWYWx1ZSIpCgkJCQkJc2hhcmRDaGFuZ2VkLk5hbWUgPSAic2hhcmRDaGFuZ2VkIgoJCQkJCXNoYXJkQ2hhbmdlZC5QYXJlbnQgPSBjaGlsZAoJCQkJCXNoYXJkQ2hhbmdlZC5WYWx1ZSA9IHRydWUKCQkJCWVsc2VpZiB2Lk5hbWUgPT0gIlNoYXJkIiBhbmQgdjpGaW5kRmlyc3RDaGlsZCgic2hhcmRDaGFuZ2VkIikuVmFsdWUgdGhlbiBlbmQKCQkJZW5kCgkJZW5kCgoJCVJhbmRvbUNvbG9ycy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTaGFyZENvbG9yRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTaGFyZENvbG9yRW5hYmxlZCA9IHRydWUKCQkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9uKSIKCQkJCXdoaWxlIFNoYXJkQ29sb3JFbmFibGVkIGRvCgkJCQkJc2hhcmRSYW5kb21pemVyKCkKCQkJCQl3YWl0KC41KQoJCQkJZW5kCgkJCWVsc2UKCQkJCVNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCQkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9mZikiCgkJCWVuZAkKCQllbmQpCgoJCS0tIEFudGktTGFnCgoJCWxvY2FsIEFudGlMYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFudGlMYWcuTmFtZSA9ICJBbnRpTGFnIgoJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUxhZykKCgkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiByZW1vdmVMYWcoKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuTG9jYWxFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbgoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiQmFja0RlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWxNZXNoIikgdGhlbgoJCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuCgkJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJZm9yIF8sIHggaW4gcGFpcnModi5DaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQlpZiB4Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4KCQkJCQkJeDpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikKCQkJaWYgQW50aUxhZ0VuYWJsZWQgdGhlbgoJCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4KCQkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHYuTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIHRoZW4KCQkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbgoJCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiTGlnaHREaXNjIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlBbnRpTGFnLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFudGlMYWdFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlMYWdFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPbikiCgkJCQlyZW1vdmVMYWcoKQoJCQllbHNlCgkJCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSWdub3JlIFBoeXNpY3MKCgkJbG9jYWwgSWdub3JlUGh5c2ljcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSWdub3JlUGh5c2ljcy5OYW1lID0gImZJZ25vcmVQaHlzaWNzIgoJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElnbm9yZVBoeXNpY3MpCgoJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gaW5pdGlhbE51bGxpZnlGb3JjZXMoKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5GbGlwc0hvbGRlcjpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIEFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCXBsYXllci5DaGFyYWN0ZXIuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikKCQkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkIHRoZW4KCQkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZCkKCQllbmQKCgkJZnVuY3Rpb24gYmVnaW5OdWxsaWZ5Rm9yY2VzKCkKCQkJaWYgSWdub3JlUGh5c2ljc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSB0cnVlCgkJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9uKSBbWl0iCgkJCQlpbml0aWFsTnVsbGlmeUZvcmNlcygpCgkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQoJCQkJd2hpbGUgSWdub3JlUGh5c2ljc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCUFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBmYWxzZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPZmYpIFtaXSIKCQkJZW5kCgkJZW5kCgoJCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykKCgkJLS0gQW50aS1HcmF2aXR5CgoJCWxvY2FsIEFudGlHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpR3Jhdml0eS5OYW1lID0gIkFudGlHcmF2aXR5IgoJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUdyYXZpdHkpCgoJCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpCgkJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlCgkJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT24pIFtHXSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQoJCQllbHNlCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbnRpR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoQW50aUdyYXZpdHlGdW5jKQoKCQktLSBDbGljay1UUAoKCQlsb2NhbCBDbGlja1RQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDbGlja1RQLk5hbWUgPSAiQ2xpY2tUUCIKCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gdHAgdG8gbW91c2VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDbGlja1RQKQoKCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgoJCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ2xpY2tUUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gQ2xpY2stVFBdIgoJCQllbHNlCgkJCQlDbGlja1RQRW5hYmxlZCA9IHRydWUKCQkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT24pIFtKIHRvIENsaWNrLVRQXSIKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiBjbGlja3RwKHBvc2l0aW9uKQoJCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZAoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpCgkJZW5kCgoJCS0tIEZyZWV6ZQoKCQlsb2NhbCBGcmVlemUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZyZWV6ZS5OYW1lID0gIkZyZWV6ZSIKCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBGcmVlemUpCgoJCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBGcmVlemVGdW5jKCkKCQkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlGcmVlemVFbmFibGVkID0gdHJ1ZQoJCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPbikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQllbHNlCgkJCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQllbmQKCQllbmQKCgkJRnJlZXplLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChGcmVlemVGdW5jKQoKCQktLSBJbmZpbml0ZSBTcHJpbnQKCgkJbG9jYWwgSW5mU3ByaW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJbmZTcHJpbnQuTmFtZSA9ICJJbmZTcHJpbnQiCgkJSW5mU3ByaW50LlRleHQgPSAiKEcpIEluZmluaXRlIFNwcmludCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSW5mU3ByaW50KQoKCQlsb2NhbCBJbmZTcHJpbnRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gU3ByaW50UmVtb3RlKCkKCQkJd2hpbGUgd2FpdCguNSkgZG8KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlJ1bm5pbmciLAoJCQkJCVsyXSA9IGZhbHNlLAoJCQkJfQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuUGxheWVyRGF0YTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgkJZW5kCgoJCUluZlNwcmludC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IEluZlNwcmludEVuYWJsZWQgdGhlbgoJCQkJCUluZlNwcmludEVuYWJsZWQgPSB0cnVlCgkJCQkJSW5mU3ByaW50LlRleHQgPSAiKEcpIEluZmluaXRlIFNwcmludCAoT24pIgoJCQkJCVNwcmludFJlbW90ZSgpCgkJCQllbHNlCgkJCQkJSW5mU3ByaW50RW5hYmxlZCA9IGZhbHNlCgkJCQkJSW5mU3ByaW50LlRleHQgPSAiKEcpIEluZmluaXRlIFNwcmludCAoT2ZmKSIKCQkJCWVuZAkJCQkKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IEV4cGxvc2l2ZSBMZWFwCgoJCWxvY2FsIEV4cGxvc2lvbkhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV4cGxvc2lvbkhhY2suTmFtZSA9ICJFeHBsb3Npb25IYWNrIgoJCUV4cGxvc2lvbkhhY2suVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXhwbG9zaW9uSGFjaykKCgkJbG9jYWwgTGVhcFN0dW5FbmFibGVkID0gZmFsc2UKCgkJRXhwbG9zaW9uSGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBMZWFwU3R1bkVuYWJsZWQgdGhlbgoJCQkJTGVhcFN0dW5FbmFibGVkID0gZmFsc2UKCQkJCUV4cGxvc2lvbkhhY2suVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIKCQkJZWxzZQoJCQkJTGVhcFN0dW5FbmFibGVkID0gdHJ1ZQoJCQkJRXhwbG9zaW9uSGFjay5UZXh0ID0gIkluc3RhbnQgTGVhcCBTdHVuIChPbikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBSb2NrIEZpc3QKCgkJbG9jYWwgUm9ja0Zpc3RIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSb2NrRmlzdEhhY2suTmFtZSA9ICJSb2NrRmlzdEhhY2siCgkJUm9ja0Zpc3RIYWNrLlRleHQgPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tGaXN0SGFjaykKCgkJbG9jYWwgSW5zdGFudEZpc3RFbmFibGVkID0gZmFsc2UKCgkJUm9ja0Zpc3RIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEluc3RhbnRGaXN0RW5hYmxlZCB0aGVuCgkJCQlJbnN0YW50RmlzdEVuYWJsZWQgPSBmYWxzZQoJCQkJUm9ja0Zpc3RIYWNrLlRleHQgPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiCgkJCWVsc2UKCQkJCUluc3RhbnRGaXN0RW5hYmxlZCA9IHRydWUKCQkJCVJvY2tGaXN0SGFjay5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPbikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gTG9uZyBGbGFzaAoKCQlsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxGbGFzaC5OYW1lID0gIkZsYXNoIgoJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTEZsYXNoKQoKCQlGbGFzaEVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBsb25nZmxhc2goKQoJCQlsb2NhbCBtb3VzZXBvcyA9IG1vdXNlLkhpdC5wCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIKCQkJfQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIiwKCQkJCVszXSA9IHsKCQkJCQlbIkVuZCJdID0gbW91c2Vwb3MsCgkJCQkJWyJPcmlnaW4iXSA9IHBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLnAKCQkJCX0KCQkJfQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCWVuZAoKCQlMRmxhc2guTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgRmxhc2hFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUZsYXNoRW5hYmxlZCA9IHRydWUKCQkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9uKSBbYCB0byB1c2VdIgoJCQllbHNlCgkJCQlGbGFzaEVuYWJsZWQgPSBmYWxzZQoJCQkJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIgoJCQllbmQKCQllbmQpCgoJCS0tIFZpZXcgVGFyZ2V0CgoJCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZXdUYXJnZXQuTmFtZSA9ICJWaWV3VGFyZ2V0IgoJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpCgoJCXZpZXdpbmcgPSBmYWxzZQoKCQlmdW5jdGlvbiB2aWV3KCkKCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCWlmIHZpZXdpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCXZpZXdpbmcgPSB0cnVlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9uKSBbVl0iCgkJCQllbHNlCgkJCQkJdmlld2luZyA9IGZhbHNlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJCWVuZAoJCQllbHNlaWYgdmlld2luZyA9PSB0cnVlIHRoZW4gCgkJCQl2aWV3aW5nID0gZmFsc2UKCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJZW5kCgkJZW5kCgoJCVZpZXdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHZpZXcpCgoJCS0tIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCIKCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQoKCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBUUFRvVGFyZ2V0KCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkIGFuZCB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpCgoJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQoJCQllbmQKCQllbmQKCgkJVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikgW1VdIgoJCQllbHNlCgkJCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoJCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCQllbmQKCQllbmQpCgoJCS0tIExvb3AgVGVsZXBvcnQgdG8gVGFyZ2V0CgoJCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTG9vcFRQVGFyZ2V0Lk5hbWUgPSAiTG9vcFRQVGFyZ2V0IgoJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpCgoJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlMb29wVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgTG9vcFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQoJCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9uKSIKCQkJCXdoaWxlIExvb3BUUFRhcmdldEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCWVuZAoJCQllbHNlCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIFN0YW5kYXJkIEVTUAoKCQlsb2NhbCBFU1AgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUVTUC5OYW1lID0gIkVTUCIKCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1ApCgoJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCS0tRVNQTWF4RGlzdCA9IDc1MAoJCS0tRVNQTURFbmFibGVkID0gdHJ1ZSAtLSBUaGVzZSB0d28gdmFsdWVzIHdpbGwgYmUgZm9yIHRoZSA7ZGVzcCBjb21tYW5kLCBjdXJyZW50bHkgdW5kZXIgY29uc3RydWN0aW9uLgoKCQlsb2NhbCBIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkKCQlIb2xkZXIuTmFtZSA9ICJFU1AiCgoJCWxvY2FsIFVwZGF0ZUZ1bmNzID0ge30KCgkJbG9jYWwgQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQoJCUJveC5OYW1lID0gIm5pbEJveCIKCQlCb3guU2l6ZSA9IFZlY3RvcjMubmV3KDQsIDcsIDQpCgkJQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQlCb3guVHJhbnNwYXJlbmN5ID0gMC43CgkJQm94LlpJbmRleCA9IDAKCQlCb3guQWx3YXlzT25Ub3AgPSB0cnVlCgkJQm94LlZpc2libGUgPSB0cnVlCgoJCWxvY2FsIE5hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpCgkJTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWciCgkJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCU5hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQoJCU5hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlCgkJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQktLWlmIEVTUE1ERW5hYmxlZCB0aGVuCgkJCU5hbWVUYWcuTWF4RGlzdGFuY2UgPSA3NTAKCQktLWVsc2UKCQktLQlOYW1lVGFnLk1heERpc3RhbmNlID0gMAoJCS0tZW5kCgoJCWxvY2FsIFRhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgTmFtZVRhZykKCQlUYWcuTmFtZSA9ICJUYWciCgkJVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkKCQlUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJCVRhZy5UZXh0U2l6ZSA9IDIwCgkJVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCgkJVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCQlUYWcuVGV4dCA9ICJOb3QgQXZhaWxhYmxlIgoJCVRhZy5Gb250ID0gRW51bS5Gb250LlJvYm90b01vbm8KCQlUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCgkJVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgoJCWZ1bmN0aW9uIExvYWRDaGFyYWN0ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJCWxvY2FsIGIgPSBCb3g6Q2xvbmUoKQoJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJCb3giCgkJCQliLkFkb3JuZWUgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQliLlBhcmVudCA9IHZIb2xkZXIKCgkJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpCgkJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIk5hbWVUYWciCgkJCQl0LlBhcmVudCA9IHZIb2xkZXIKCQkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCQlyZXR1cm4gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCQllbmQKCQkJCXQuVGFnLlRleHQgPSB2Lk5hbWUKCQkJCXQuRW5hYmxlZCA9IHRydWUKCQkJCXdhaXQoKQoKCQkJCWxvY2FsIGZ1bmN0aW9uIFVwZGF0ZU5hbWVUYWcoKQoJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lIC4uICJcbiIgLi4gKChtYXhoIH49IDAgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgoaCAvIG1heGgpICogMTAwKSkpIG9yICIwIikgLi4gIiUgICIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpCgkJCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQllbHNlCgkJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCWVuZAoJCQkJCQkJaWYgaCAvIG1heGggPT0gMSB0aGVuCgkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbgoJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpCgkJCQkJCQllbmQKCQkJCQkJZW5kKSB0aGVuCgkJCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gbmlsCgkJCQkJZW5kCgkJCQllbmQKCQkJCVVwZGF0ZU5hbWVUYWcoKQoJCQkJVXBkYXRlRnVuY3Nbdl0gPSBVcGRhdGVOYW1lVGFnCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCWlmIHZIb2xkZXIgYW5kICh2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJOYW1lVGFnIikgfj0gbmlsKSB0aGVuCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gTG9hZFBsYXllcih2KQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBIb2xkZXIpCgkJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJcGNhbGwoTG9hZENoYXJhY3RlciwgdikKCQkJCQllbmQKCQkJCWVuZCkKCQkJCXYuQ2hhcmFjdGVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kKQoJCQkJTG9hZENoYXJhY3Rlcih2KQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gVW5sb2FkUGxheWVyKHYpCgkJCVVubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlciB0aGVuCgkJCQl2SG9sZGVyOkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQoJCWVuZAoKCQlwbGF5ZXJzLlBsYXllckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJcGNhbGwoTG9hZFBsYXllciwgdikKCQllbmQpCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChVbmxvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQkJaWYgaTpJc0EoIlBsYXllciIpIHRoZW4KCQkJCWlmIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChpLk5hbWUpIHRoZW4KCQkJCQlVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCQl3YWl0KCkKCQkJCQlMb2FkQ2hhcmFjdGVyKGkpCgkJCQllbmQKCQkJZWxzZWlmIGk6SXNBKCJIdW1hbm9pZCIpIGFuZCBpLlBhcmVudCB0aGVuCgkJCQlsb2NhbCBwID0gcGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQoJCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuCgkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQlVcGRhdGVGdW5jc1twXSgpCgkJCQkJZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gdG9nZ2xlRVNQKCkKCQkJaWYgRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQkJR0VTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCUVTUEVuYWJsZWQgPSB0cnVlCgkJCQkJRVNQR29sZC5UZXh0ID0gIlN0YW5kYXJkIEVTUCBFbmFibGVkIgoJCQkJCXdhaXQoMSkKCQkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCQllbHNlCgkJCQkJRVNQRW5hYmxlZCA9IHRydWUKCQkJCWVuZAoJCQkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIgoJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCWVuZAoJCQllbHNlCgkJCQlFU1BFbmFibGVkID0gZmFsc2UKCQkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoVW5sb2FkUGxheWVyLCB2KSBlbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCUVTUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlRVNQKQoKCQktLSBHb2xkIEVTUAoKCQlsb2NhbCBFU1BHb2xkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFU1BHb2xkLk5hbWUgPSAiRVNQR29sZCIKCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVTUEdvbGQpCgoJCUdFU1BFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgR0hvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQoJCUdIb2xkZXIuTmFtZSA9ICJFU1BHb2xkIgoKCQlsb2NhbCBHVXBkYXRlRnVuY3MgPSB7fQoKCQlsb2NhbCBHQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQoJCUdCb3guTmFtZSA9ICJuaWxCb3hHIgoJCUdCb3guU2l6ZSA9IFZlY3RvcjMubmV3KDQsIDcsIDQpCgkJR0JveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJR0JveC5UcmFuc3BhcmVuY3kgPSAwLjcKCQlHQm94LlpJbmRleCA9IDAKCQlHQm94LkFsd2F5c09uVG9wID0gdHJ1ZQoJCUdCb3guVmlzaWJsZSA9IHRydWUKCgkJbG9jYWwgR05hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpCgkJR05hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnRyIKCQlHTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCUdOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQlHTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUKCQlHTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQktLWlmIEVTUE1ERW5hYmxlZCB0aGVuCgkJCUdOYW1lVGFnLk1heERpc3RhbmNlID0gNzUwCgkJLS1lbHNlCgkJLS0JR05hbWVUYWcuTWF4RGlzdGFuY2UgPSAwCgkJLS1lbmQKCgkJbG9jYWwgR1RhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgR05hbWVUYWcpCgkJR1RhZy5OYW1lID0gIkdUYWciCgkJR1RhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJCUdUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAtNSkKCQlHVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkKCQlHVGFnLlRleHRTaXplID0gMjAKCQlHVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJR1RhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQoJCUdUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNAoJCUdUYWcuVGV4dCA9ICJOb3QgQXZhaWxhYmxlIgoJCUdUYWcuRm9udCA9IEVudW0uRm9udC5Sb2JvdG9Nb25vCgkJR1RhZy5UZXh0U2NhbGVkID0gZmFsc2UKCQlHVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgoJCWZ1bmN0aW9uIEdMb2FkQ2hhcmFjdGVyKHYpCgkJCQoJCQlsb2NhbCB0YmxQbGF5ZXJEYXRhID0ge30KCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJUlNSOldhaXRGb3JDaGlsZCgiUGxheWVyRGF0YSIpLk9uQ2xpZW50RXZlbnQ6Q29ubmVjdChmdW5jdGlvbih2LCB0YmxEYXRhKQoJCQkJdGJsUGxheWVyRGF0YVt2XSA9IHRibERhdGEKCQkJZW5kKQoJCQkKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQkJbG9jYWwgdkhvbGRlciA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCgkJCQlsb2NhbCBiID0gR0JveDpDbG9uZSgpCgkJCQliLk5hbWUgPSB2Lk5hbWUgLi4gIkdCb3giCgkJCQliLkFkb3JuZWUgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQliLlBhcmVudCA9IHZIb2xkZXIKCgkJCQlsb2NhbCB0ID0gR05hbWVUYWc6Q2xvbmUoKQoJCQkJdC5OYW1lID0gdi5OYW1lIC4uICJHTmFtZVRhZyIKCQkJCXQuUGFyZW50ID0gdkhvbGRlcgoJCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkKCQkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbgoJCQkJCXJldHVybiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCQllbmQKCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lCgkJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCQl3YWl0KCkKCgkJCQlsb2NhbCBmdW5jdGlvbiBHVXBkYXRlTmFtZVRhZygpCgkJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lCgkJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQoJCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIHN0cmggPSAiSDogIiAuLiAobm90KG1heGggPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBoIC8gbWF4aCkpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKSAuLiAiKSIKCQkJCQkJCS0tCgkJCQkJCQlsb2NhbCBtYXhtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4TWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBzdHJtID0gIk06ICIgLi4gKG5vdChtYXhtID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogbSAvIG1heG0pKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhtKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4bSkgLi4gIikiCgkJCQkJCQktLQoJCQkJCQkJbG9jYWwgbWF4cyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heFN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgcyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLlN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgc3RycyA9ICAiUzogIiAuLiAobm90KG1heHMgPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBzIC8gbWF4cykpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKHMpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhzKSAuLiAiKSIKCgkJCQkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZSAuLiAoIlxuIiAuLiBzdHJoKSAuLiAoIlxuIiAuLiBzdHJtKSAuLiAoIlxuIiAuLiBzdHJzKQoJCQkJCQkJCgkJCQkJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCWVuZAoJCQkJCQkJaWYgaCAvIG1heGggPj0gMC43NSB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig2MiwgMjU1LCA2MikKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1LCAxNTMsIDY0KQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoIDw9IDAuNzUgYW5kIGggLyBtYXhoID49IDAuNSB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgNTUpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNzksIDEzMiwgMTUpCgkJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIsIDIpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMzQsIDEyLCA2NikKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgKDE5NiAqIChoIC8gbWF4aCkpLCAoMiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTc5LCAoMTMyICogKGggLyBtYXhoKSksICgxNSAqIChoIC8gbWF4aCkpKQoJCQkJCQkJZW5kCgkJCQkJCWVuZCkgdGhlbgoJCQkJCQlHVXBkYXRlRnVuY3Nbdl0gPSBuaWwKCQkJCQllbmQKCQkJCWVuZAoJCQkJR1VwZGF0ZU5hbWVUYWcoKQoJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gR1VwZGF0ZU5hbWVUYWcKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlciA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIGFuZCAodkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkdCb3giKSB+PSBuaWwgb3IgdkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkdOYW1lVGFnIikgfj0gbmlsKSB0aGVuCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR0xvYWRQbGF5ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJbG9jYWwgdkhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgR0hvbGRlcikKCQkJCXZIb2xkZXIuTmFtZSA9IHYuTmFtZQoJCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlpZiBHRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4KCQkJCQkJcGNhbGwoR0xvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJZW5kCgkJCQllbmQpCgkJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQllbmQpCgkJCQlHTG9hZENoYXJhY3Rlcih2KQoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR1VubG9hZFBsYXllcih2KQoJCQlHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlciB0aGVuCgkJCQl2SG9sZGVyOkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKEdMb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpCgkJZW5kKQoKCQlnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQkJaWYgaTpJc0EoIlBsYXllciIpIHRoZW4KCQkJCWlmIEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuCgkJCQkJR1VubG9hZENoYXJhY3RlcihpKQoJCQkJCXdhaXQoKQoJCQkJCUdMb2FkQ2hhcmFjdGVyKGkpCgkJCQllbmQKCQkJZWxzZWlmIGk6SXNBKCJIdW1hbm9pZCIpIGFuZCBpLlBhcmVudCB0aGVuCgkJCQlsb2NhbCBwID0gcGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQoJCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHAuTmFtZSkgdGhlbgoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJR1VwZGF0ZUZ1bmNzW3BdKCkKCQkJCQllbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiB0b2dnbGVFU1BHb2xkKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIEdFU1BFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4KCQkJCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCQlFU1AuVGV4dCA9ICJEZXRhaWxlZCBFU1AgRW5hYmxlZCIKCQkJCQkJd2FpdCgxKQoJCQkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCQkJCWVsc2UKCQkJCQkJR0VTUEVuYWJsZWQgPSB0cnVlCgkJCQkJZW5kCgkJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9uKSBbTV0iCgkJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHTG9hZFBsYXllciwgdikgZW5kKQoJCQkJCWVuZAoJCQkJZWxzZQoJCQkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHVW5sb2FkUGxheWVyLCB2KSBlbmQpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJRVNQR29sZC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQkJZW5kCgkJZW5kCgoJCUVTUEdvbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUEdvbGQpCgoJCS0tIFRQIHRvIERyb3BzCgkJLS0tLSBDdXJyZW50bHkgZGlzYWJsZWQgZHVlIHRvIHRocmVhdGxldmVsCgoJCS0tW1tsb2NhbCBUUFNoYXJkcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBTaGFyZHMuTmFtZSA9ICJUUFNoYXJkcyIKCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBTaGFyZHMpCgoJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCQoKCQlsb2NhbCBUUERpYW1vbmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyIKCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQRGlhbW9uZHMpCgoJCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgcGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCXBsYXRlLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlCgkJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkKCQlwbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDEwMDAwMCwgMCkKCQlwbGF0ZS5BbmNob3JlZCA9IHRydWUKCQlwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQoJCXBsYXRlLlRyYW5zcGFyZW5jeSA9IDAuNQoKCQlsb2NhbCB0aW1lID0gMAoJCWxvY2FsIGNhbkludmlzID0gZmFsc2UKCgkJZnVuY3Rpb24gdGVsZXBvcnRUb0Ryb3BzKCkKCQkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuU2VydmVyRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiU2hhcmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZWxzZWlmIFRQRGlhbW9uZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIkRpYW1vbmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZW5kCgoJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCWlmIHRpbWUgPT0gNSB0aGVuIAoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoKCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoKCQkJcmV0dXJuIAoJCWVuZAoKCgkJZnVuY3Rpb24gc3RhcnRUaW1lcigpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJd2hpbGUgd2FpdCgpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgb3IgVFBEaWFtb25kc0VuYWJsZWQgdGhlbgoJCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybgoJCQkJCWVsc2UKCQkJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQl3YWl0KDEpCgkJCQkJCQlyZXBlYXQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXRpbWUgPSB0aW1lICsgMQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCXVudGlsIHRpbWUgPT0gNgoJCQkJCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoJCQkJCQkJd2FpdCg3LjUpCgkJCQkJCQl0aW1lID0gMAoJCQkJCQllbHNlCgkJCQkJCQl3aGlsZSB0cnVlIGRvCgkJCQkJCQkJaWYgbm90IFRQU2hhcmRzRW5hYmxlZCBhbmQgbm90IFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQllbmQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlicmVhawoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuCgkJZW5kCgoJCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSB0cnVlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUFNoYXJkc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCXN0YXJ0VGltZXIoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQlUUERpYW1vbmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPbikiCgkJCQlzdGFydFRpbWVyKCkKCQkJCXdoaWxlIFRQRGlhbW9uZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJCWVuZAoJCWVuZCldXQoKCQktLSBSZWpvaW4gU2VydmVyIEZ1bmN0aW9uCgoJCS0tIFRoaXMgd2FzIG9ubHkgcHJlc2VydmVkIGFzIEkgY291bGRuJ3QgdGhpbmsgb2YgYW55IG90aGVyIHBsYWNlIHRvIHB1dCB0aGUgZnVuY3Rpb24gZm9yIG5vdy4KCQktLSBNaWdodCBnZXQgbW92ZWQgbGF0ZXIsIGlkdW5uby4KCQlmdW5jdGlvbiByZWpvaW4oKQoJCQlsb2NhbCB0cyA9IGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIikKCQkJbG9jYWwgcCA9IHBsYXllcnMuTG9jYWxQbGF5ZXIKCgkJCXRzOlRlbGVwb3J0KGdhbWUuUGxhY2VJZCwgcCkKCQllbmQKCgkJLS0gQWx0IEZhcm1pbmcKCgkJbG9jYWwgQWx0RmFybSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWx0RmFybS5OYW1lID0gIkFsdEZhcm0iCgkJQWx0RmFybS5UZXh0ID0gIihHKSBGYXJtaW5nIE1vZGUgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsQWx0RmFybSkKCgkJQWx0RmFybUVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBsb2NzID0ge3s0MjQsIDI1MDAwLCA2MX0sey02NywgMjUwMDAsIDI2MTl9LHstMjYwMCwgMjUwMDAsIDQ4M319CgkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCWxvY2FsIGh1bSA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJbG9jYWwgbGFzdHBvcwoKCQlsb2NhbCBmdW5jdGlvbiBkb0Zhcm0oKQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCWhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJaHVtID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQkJaHVtLkhlYWx0aENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyOkJyZWFrSm9pbnRzKCkKCQkJZW5kKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBhbHR0cChsaSxscCkKCQkJbG9jYWwgbmV3TG9jID0gVmVjdG9yMy5uZXcodW5wYWNrKGxvY3NbbGldKSkKCQkJaWYgbmV3TG9jIH49IGxwIHRoZW4KCQkJCXBsYXllci5DaGFyYWN0ZXI6TW92ZVRvKG5ld0xvYykKCQkJZW5kCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGFsdHBsYXRlKGRlLGxpKQoJCQlpZiBub3QgbGkgdGhlbiBsaSA9IG5pbCBlbmQKCQkJaWYgZGUgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgQWx0UGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCQkJQWx0UGxhdGUuUGFyZW50ID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKVsiLklnbm9yZSJdCgkJCQlBbHRQbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KGxvY3NbbGldWzFdLCAobG9jc1tsaV1bMl0gLSA1KSwgbG9jc1tsaV1bM10pCgkJCQlBbHRQbGF0ZS5TaXplID0gVmVjdG9yMy5uZXcoNSwxLDUpCgkJCQlBbHRQbGF0ZS5BbmNob3JlZCA9IHRydWUKCQkJCUFsdFBsYXRlLlRyYW5zcGFyZW5jeSA9IDEKCQkJZWxzZQoJCQkJaWYgbm90IEFsdFBsYXRlID09IG5pbCB0aGVuCgkJCQkJQWx0UGxhdGU6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCUFsdEZhcm0uTW91c2VCdXR0b24xRG93bjpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIEFsdEZhcm1FbmFibGVkIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyOk1vdmVUbyhsYXN0cG9zKQoJCQkJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCQkJCQlBbHRGYXJtLlRleHQgPSAiKEcpIEZhcm1pbmcgTW9kZSAoT2ZmKSIKCQkJCQlhbHRwbGF0ZSh0cnVlKQoJCQkJCWh1bS5IZWFsdGhDaGFuZ2VkOkRpc2Nvbm5lY3QoKQoJCQkJZWxzZQoJCQkJCUFsdEZhcm1FbmFibGVkID0gdHJ1ZQoJCQkJCUFsdEZhcm0uVGV4dCA9ICIoRykgRmFybWluZyBNb2RlIChPbikiCgkJCQkJbGFzdHBvcyA9IGhycC5wb3NpdGlvbgoJCQkJCWxvY2FsIFRQTG9jYXRpb24gPSBtYXRoLnJhbmRvbSgxLCNsb2NzKQoJCQkJCWFsdHBsYXRlKGZhbHNlLFRQTG9jYXRpb24pCgkJCQkJcmVwZWF0CgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJCQkJZG9GYXJtKCkKCQkJCQkJaWYgaHJwLlBvc2l0aW9uIH49IHVucGFjayhsb2NzW1RQTG9jYXRpb25dKSB0aGVuCgkJCQkJCQlhbHR0cChUUExvY2F0aW9uLGxhc3Rwb3MpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KC4xKQoJCQkJCXVudGlsIEFsdEZhcm1FbmFibGVkID09IGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJQWx0RmFybS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFsdEZhcm0uVGV4dCA9ICIoRykgRmFybWluZyBNb2RlIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIEdVSSBUd2Vha2luZwoKCQlmb3IgaSwgdiBpbiBwYWlycyhib3JkZXJzKSBkbwoJCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQoJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MAoJCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZCgkJCXYuQWN0aXZlID0gdHJ1ZQoJCQl2LlBhcmVudCA9IGViZ3VpCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKGJ1dHRvbnMpIGRvCgkJCXYuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzNiwgMjAsIDExNSkKCQkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJvcmRlclNpemVQaXhlbCA9IDIKCQkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQl2LlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJdi5Gb250ID0gRW51bS5Gb250LlRpdGlsbGl1bVdlYgoJCQl2LkZvbnRGYWNlLldlaWdodCA9IEVudW0uRm9udFdlaWdodC5IZWF2eQoJCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQoJCQl2LlRleHRTY2FsZWQgPSB0cnVlCgkJCXYuVGV4dFNpemUgPSAxNC4wMDAKCQkJdi5UZXh0V3JhcHBlZCA9IHRydWUKCQkJdi5MYXlvdXRPcmRlciA9IGkKCQkJdi5QYXJlbnQgPSBtYWluZnJhbWUKCQllbmQKCgkJLS0gY29tbWFuZEJveAoKCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCWxvb3BpbmcgPSBmYWxzZQoJCVNtYXJ0QXR0YWNrID0gdHJ1ZQoJCUhlYWxTZXR0aW5nID0gMQoJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCWxvY2FsIGJ1dHRvbkhlaWdodCA9IDMwCgkJbG9jYWwgYnV0dG9uR2FwID0gNwoKCQlSU1IgPSBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlOldhaXRGb3JDaGlsZCgiUmVtb3RlcyIpCgoJCWxvY2FsIHN0dW5Db25uZWN0aW9uID0gZ2V0Y29ubmVjdGlvbnMoUlNSOldhaXRGb3JDaGlsZCgiQ29tYmF0IikuT25DbGllbnRFdmVudCkKCQlsb2NhbCBsYWdnZXJzID0gewoJCQkiMUIwRjk4QkUtRTEwQi00Njc0LTlGQjQtNkY2NTE3MUEzNDdGIiwgLS0gbG9nCgkJCSI2QTMzMTA0QS0xRkU5LTRGQTgtOTM3NC1DMTY0RDI4RjgzNTEiLCAtLSBicmlhbgoJCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0CgkJCSI1NUMyMDQ5RC1DNkJELTQ1MjMtODgwNC1ENTM5QzM4NzkyQTMiLCAtLSBwZW50YXJhY3QKCQkJIjk0NjRCNjhBLTM2M0MtNDFGOC1CQjdELUI0QkVEOEFDMDk2MyIsIC0tIHZhc3RvcmlvCgkJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvawoJCQktLSAiNjNCMzlFMjctREExQi00ODJFLUIyOEMtNkEzMzk4Qzk1QTRDIiwgLS0gYWxleAoJCQkiODQ2QTY1RTItRTk2My00QTBBLTkwMjUtRTlCOEU5NTg5NjEzIiwgLS0gYnJhbQoJCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsKCQkJIjZBOTcwNTJBLTYzNEUtNDdFMS04RDkwLTVFRTNDQTRBOTZGQSIsIC0tIHJhdmVuCgkJCSJGNTk3NUQ3RC0yQUM1LTQ0QUEtODAxRi04Mjc2MjVENkQ3NjMiLCAtLSBhbGV4aWEKCQkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MKCQkJIjc0ODlDQkFFLTc5ODYtNDVBOS1CRTQwLUEyMThFRENEMEYwMSIgLS0gY2VwaGFzCgkJfQoKCQlsb2NhbCBhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQoKCQlmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbwoJCQl2ID0gdjpsb3dlcigpCgoJCQlpZiAodiA9PSBjbGllbnRpZCkgdGhlbgoJCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhSUChjaHIpCgkJCWxvY2FsIEhSUCA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQoJCQlyZXR1cm4gSFJQCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhVTShjaHIpCgkJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQoJCQlyZXR1cm4gSFVNCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlc3Bhd24ocGxyKQoJCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyCgoJCQlpZiAoY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSkgdGhlbiBjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpOkNoYW5nZVN0YXRlKDE1KSBlbmQKCQkJY2hyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpCgkJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJcGxyLkNoYXJhY3RlciA9IG5ld2NocgoKCQkJd2FpdCgpCgoJCQlwbHIuQ2hhcmFjdGVyID0gY2hyCgkJCW5ld2NocjpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpCgkJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpCgkJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lCgkJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUKCgkJCXJlc3Bhd24ocGxyKQoKCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJcGxyLkNoYXJhY3RlckFkZGVkOldhaXQoKTpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuUm9vdFBhcnQuQ0ZyYW1lLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUgPSBwb3MsIHdhaXQoKSBhbmQgcG9zMQoJCQllbmQpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQoJCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpCgkJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQoKCQkJZm9yIGksIHYgaW4gaXBhaXJzKGNvbW1hbmQpIGRvCgkJCQl2ID0gc3RyaW5nLmdzdWIodiwgIiVzKyIsICIiKQoJCQkJaWYgdiA9PSAiIiB0aGVuCgkJCQkJdGFibGUucmVtb3ZlKGNvbW1hbmQsIGkpCgkJCQllbmQKCQkJZW5kCgoJCQlyZXR1cm4gY29tbWFuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpCgkJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpCgkJCWxvY2FsIG1hdGNoZXMgPSB7fQoKCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8KCQkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoJCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQoKCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQobmFtZSwgdGV4dCkKCgkJCQlpZiBtYXRjaCB0aGVuCgkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIG1hdGNoZXMKCQllbmQKCgkJbG9jYWwgZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvckV4Y2x1ZGUgPSB7IkhlYWQiLCJUb3JzbyIsIkxlZnQgQXJtIiwiTGVmdCBMZWciLCJSaWdodCBBcm0iLCJSaWdodCBMZWciLCJTaGFyZCIsIkRpYW1vbmQifQoKCQktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQoJCWxvY2FsIGNvbG9yMQoJCWxvY2FsIGNvbG9yMgoJCWxvY2FsIGNvbG9yMwoKCQlsb2NhbCBmdW5jdGlvbiB0ZXJtRUJHdWkoKQoJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLAoJCQkJIkluIiwKCQkJCSJTaW5lIiwKCQkJCS41LAoJCQkJdHJ1ZQoJCQkpCgkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApLAoJCQkJIkluIiwKCQkJCSJTaW5lIiwKCQkJCS41LAoJCQkJdHJ1ZQoJCQkpCgkJCXdhaXQoMSkKCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJZWJndWk6RGVzdHJveSgpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGlucHV0Qm94KCkKCQkJbG9jYWwgdGV4dCA9IGNvbW1hbmRCb3guVGV4dAoJCQl3YWl0KCkKCQkJY29tbWFuZEJveC5UZXh0ID0gIiIKCgkJCWxvY2FsIHByZWZpeCA9ICI7IgoJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEpID09IChwcmVmaXgpIHRoZW4KCQkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCgkJCQktLVtbaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpIHRoZW4KCQkJCQlyZWZyZXNoKHBsYXllcildXQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpIHRoZW4KCQkJCQlsb2NhbCB0ZWxlcG9ydHRvCgkJCQkJbG9jYWwgdHBuYW1lCgkJCQkJbG9jYWwgcGxhY2UgPSBzdHJpbmcuc3ViKHRleHQsIDUpCgkJCQkJbG9jYWwgcGxhY2VzID0gewoJCQkJCQk1NjYzOTkyNDQsCgkJCQkJCTI1Njk2MjU4MDksCgkJCQkJCTU3MDE1ODA4MSwKCQkJCQkJNTM3NjAwMjA0LAoJCQkJCQk1MjA1NjgyNDAsCgkJCQkJCTU1NDk1NTU2MCwKCQkJCQkJNjAyMDQ4NTUwLAoJCQkJCQk1NzU0NTY2NDYsCgkJCQkJCTE3MTM5ODYxMTIsCgkJCQkJCTEyNDM2MTU2MTIsCgkJCQkJCTYzODA2NTMwMiwKCQkJCQkJNjM0MjQwODI2LAoJCQkJCQk2MzMwNDI3MzEKCQkJCQl9CgoJCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzFdCgkJCQkJCXRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJzdGFuZGFyZDQwIiBvciBwbGFjZSA9PSAiMjU2OTYyNTgwOSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzJdCgkJCQkJCXRwbmFtZSA9ICJTdGFuZGFyZCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImxpZ2h0IiBvciBwbGFjZSA9PSAiNTcwMTU4MDgxIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbM10KCQkJCQkJdHBuYW1lID0gIkxpZ2h0IgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAiZmlyZSIgb3IgcGxhY2UgPT0gIjUzNzYwMDIwNCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzRdCgkJCQkJCXRwbmFtZSA9ICJGaXJlIgoJCQkJCWVsc2VpZiBwbGFjZSA9PSAid2F0ZXIiIG9yIHBsYWNlID09ICI1MjA1NjgyNDAiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s1XQoJCQkJCQl0cG5hbWUgPSAiV2F0ZXIiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJncmFzcyIgb3IgcGxhY2UgPT0gIjU1NDk1NTU2MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzZdCgkJCQkJCXRwbmFtZSA9ICJHcmFzcyIKCQkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzddCgkJCQkJCXRwbmFtZSA9ICJIZWF2ZW4iCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s4XQoJCQkJCQl0cG5hbWUgPSAiTWluaWxvdmFuaWEiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJkZWZhdWx0IiBvciBwbGFjZSA9PSAidG91cm5hbWVudCIgb3IgcGxhY2UgPT0gIjE3MTM5ODYxMTIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s5XQoJCQkJCQl0cG5hbWUgPSAiVG91cm5hbWVudCIKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEwXQoJCQkJCQl0cG5hbWUgPSAiU3Vydml2YWwiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhc3RhbmRhcmQiIG9yIHBsYWNlID09ICJzdGFuZGFyZG1lZ2EiIG9yIHBsYWNlID09ICI2MzgwNjUzMDIiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0KCQkJCQkJdHBuYW1lID0gIk1lZ2EgU3RhbmRhcmQiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZmlyZSIgb3IgcGxhY2UgPT0gImZpcmVtZWdhIiBvciBwbGFjZSA9PSAiNjM0MjQwODI2IiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdCgkJCQkJCXRwbmFtZSA9ICJNZWdhIEZpcmUiCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZ3Jhc3MiIG9yIHBsYWNlID09ICJncmFzc21lZ2EiIG9yIHBsYWNlID09ICI2MzMwNDI3MzEiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxM10KCQkJCQkJdHBuYW1lID0gIk1lZ2EgR3Jhc3MiCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIgoJCQkJCWVuZAoKCQkJCQlpZiB0ZWxlcG9ydHRvIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRlbGVwb3J0aW5nIHRvICIgLi4gdHBuYW1lIC4uICIhIgoJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJkZWNsdXR0ZXIiKSB0aGVuCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5DaGFyYWN0ZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkJvb2suSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNob3AuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAicmFpbiIpIHRoZW4KCQkJCQlsb2NhbCBjdXJyZW50Q0FNID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKCQkJCQlsb2NhbCByYWluU291bmQgPSBJbnN0YW5jZS5uZXcoIlNvdW5kIikKCQkJCQlyYWluU291bmQuTG9vcGVkID0gdHJ1ZQoJCQkJCXJhaW5Tb3VuZC5Tb3VuZElkID0gInJieGFzc2V0aWQ6Ly8yODMxNjQ1OTMiCgkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDEKCQkJCQlyYWluU291bmQuUGFyZW50ID0gd29ya3NwYWNlCgkJCQkJcmFpblNvdW5kOlBsYXkoKQoKCQkJCQlsb2NhbCByYWluUGFydCA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDMwMCwgMzAwLCAzMDApCgkJCQkJcmFpblBhcnQuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXJhaW5QYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCXJhaW5QYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQoKCQkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpCgkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQlyYWluRWZmZWN0LlBhcmVudCA9IHJhaW5QYXJ0CgoJCQkJCWxvY2FsIGlnbm9yZSA9IHdvcmtzcGFjZTpXYWl0Rm9yQ2hpbGQoIi5JZ25vcmUiKQoJCQkJCXJhaW5QYXJ0LlBhcmVudCA9IGlnbm9yZTpXYWl0Rm9yQ2hpbGQoIi5TZXJ2ZXJFZmZlY3RzIikKCgkJCQkJbG9jYWwgZm92ID0gMiAqIG1hdGgudGFuKG1hdGgucmFkKGN1cnJlbnRDQU0uRmllbGRPZlZpZXcpIC8gMikKCQkJCQlsb2NhbCBuZXdSYXkgPSBSYXkubmV3CgkJCQkJbG9jYWwgaGVpZ2h0ID0gVmVjdG9yMy5uZXcoMCwgNTAsIDApCgkJCQkJbG9jYWwgZGVwdGggPSBDRnJhbWUubmV3KDAsIGZvdiAqIDUwLCAtNjApCgoJCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQoJCQkJCQlsb2NhbCByYyA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QobmV3UmF5KGN1cnJlbnRDQU0uQ0ZyYW1lLnAsIGhlaWdodCksIHtpZ25vcmV9KQoKCQkJCQkJaWYgKHJjKSB0aGVuCgkJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDAuNQoJCQkJCQkJcmV0dXJuCgkJCQkJCWVuZAoKCQkJCQkJbG9jYWwgdmlld3BvcnQgPSBjdXJyZW50Q0FNLlZpZXdwb3J0U2l6ZQoJCQoJCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoZm92ICogdmlld3BvcnQueCAvIHZpZXdwb3J0LnkgKiA1MCwgMC4yLCAxMDApCgkJCQkJCXJhaW5QYXJ0LkNGcmFtZSA9IGN1cnJlbnRDQU0uQ0ZyYW1lICogZGVwdGgKCQkKCQkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUKCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gdHJ1ZQoJCQoJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDQpID09IChwcmVmaXggLi4gImZpeCIpIHRoZW4KCQkJCQlpZiBwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpIHRoZW4KCQkJCQkJcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKS5WaXNpYmxlID0gZmFsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZpeGluZyB0aGUgTWVudSBHVUkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTMpID09IChwcmVmaXggLi4gImJ1dHRvbmhlaWdodCIpIHRoZW4KCQkJCQlidXR0b25IZWlnaHQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkKCQkJCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgYnV0dG9uSGVpZ2h0KQoJCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApCgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gaGVpZ2h0IHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkgLi4gIiEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbgoJCQkJCWJ1dHRvbkdhcCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKQoJCQkJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCBidXR0b25HYXApCgkJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBnYXAgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKSAuLiAiISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gInJlam9pbiIpIHRoZW4KCQkJCQlyZWpvaW4oKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZWpvaW5pbmcuLi4iCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJhdXJhL29mZiIpIHRoZW4KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKQoKCQkJCQlpZiBnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpIHRoZW4KCQkJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKTpEZXN0cm95KCkKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgaGFzIGJlZW4gcmVtb3ZlZC4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBkb2VzIG5vdCBleGlzdCEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxNCkgPT0gKHByZWZpeCAuLiAidGFyZ2V0c2V0dGluZyIpIHRoZW4KCQkJCQl0YXJnZXRTZXR0aW5nID0gc3RyaW5nLnN1Yih0ZXh0LCAxNikKCgkJCQkJcmVwZWF0CgkJCQkJCWlmIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gc2VsZWN0ISIKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGNsb3Nlc3QhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBmYXJ0aGVzdCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlCgoJCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBsb3docCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gaGlnaGhwISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgZG8KCQkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9CgoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJCQkJCQkJaWYgU21hcnRBdHRhY2sgdGhlbgoJCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4KCQkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCQllbmQKCQkJCQkJCQkJCWVsc2UKCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgoJCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIAoJCQkJCQkJCQlmdW5jdGlvbihhLCBiKQoJCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdCgkJCQkJCQkJCWVuZAoJCQkJCQkJCSkKCgkJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUKCgkJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJCQllbmQKCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQllbmQKCQkJCQkJZWxzZQoJCQkJCQkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCB0YXJnZXQgc2V0dGluZyEgRGlkIHlvdSBzcGVjaWZ5IHNlbGVjdCwgY2xvc2VzdCwgZmFydGhlc3QsIGxvd2hwLCBvciBoaWdoaHA/IFNldHRpbmcgaGFzIGJlZW4gc2V0IHRvIHNlbGVjdC4iCgkJCQkJCWVuZAoJCQkJCXVudGlsIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIKCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlsb29waW5nID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBsb29waW5nIGF0dGFja3MhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWxvb3BpbmcgPSBub3QgbG9vcGluZwoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoKCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCXdoaWxlIGxvb3BpbmcgZG8KCQkJCQkJCWV4cGxvaXQoKQoJCQkJCQkJd2FpdCgpCgkJCQkJCWVuZAoJCQkJCQlyZXR1cm4KCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1bmJyZWFrIikgdGhlbgoJCQkJCWJyZWFrYWJsZSA9IGZhbHNlCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4KCQkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQoJCQkJCXdhaXQoKQoJCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbgoJCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCVNtYXJ0QXR0YWNrID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJU21hcnRBdHRhY2sgPSBub3QgU21hcnRBdHRhY2sKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgU21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuCgkJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4KCQkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIKCQkJCQkJd2FpdCgpCgkJCQkJZW5kCgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDE3KSA9PSAibm9ybWFsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gMAoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmV2ZXJ0aW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImdyYXlzY2FsZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTEKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkdyYXlzY2FsaW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGh1ZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBodWUuLi4iCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0YWxsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBhbGwuLi4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJsYWNrY2FzdCIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgYmxhY2sgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInN0dW4iKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJc3R1bkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCXN0dW5FbmFibGVkID0gbm90IHN0dW5FbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpEaXNhYmxlKCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8KCQkJCQkJCQljb25uZWN0aW9uOkVuYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIHN0dW4gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJkcnVncyIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgOSkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWRydWdzRW5hYmxlZCA9IG5vdCBkcnVnc0VuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZHJ1ZyBtb2RlICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuCgkJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgMTMpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgKGNvbG9yMSB+PSBuaWwpIGFuZCAoY29sb3IyIH49IG5pbCkgYW5kIChjb2xvcjMgfj0gbmlsKSB0aGVuCgkJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZW5hYmxlZCEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgKGFyZ3NbMV0gPT0gImYiKSBvciAoYXJnc1sxXSA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGRpc2FibGVkISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJYXJnc1sxXSA9IHRvbnVtYmVyKGFyZ3NbMV0pCgkJCQkJCWFyZ3NbMl0gPSB0b251bWJlcihhcmdzWzJdKQoJCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkKCgkJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iCgkJCQkJCWVsc2UKCQkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbgoJCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlCgoJCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbwoJCQkJCQkJCQlpZiAoYXJnc1tpXSA8IDApIG9yIChhcmdzW2ldID4gMjU1KSB0aGVuCgkJCQkJCQkJCQlleGVjdXRhYmxlID0gZmFsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbgoJCQkJCQkJCQljb2xvcjEgPSBhcmdzWzFdCgkJCQkJCQkJCWNvbG9yMiA9IGFyZ3NbMl0KCQkJCQkJCQkJY29sb3IzID0gYXJnc1szXQoKCQkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISIKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiCgkJCQkJCQkJZW5kCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIgoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbgoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkKCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQoJCQkJCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbgoJCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuCgkJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkKCQkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkKCQkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksCgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiBhcmdzWzFdIHRoZW4JCQkJCgkJCQkJCWlmICgjKGZpbmRQbGF5ZXIoYXJnc1sxXSkpID09IDEpIHRoZW4KCQkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdCgkJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyCgoJCQkJCQkJaWYgY2hyIHRoZW4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiIKCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiKQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCWlmIGNociA9PSBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KCQkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDIpID09IChwcmVmaXggLi4gImUiKSB0aGVuCgkJCQkJbG9jYWwgcGhhc2UgPSBzdHJpbmcuc3ViKHRleHQsIDQpCgoJCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbgoJCQkJCQlwaGFzZSA9IG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKQoKCQkJCQkJaWYgKHBoYXNlID09IDEpIG9yIChwaGFzZSA9PSAyKSBvciAocGhhc2UgPT0gMykgdGhlbgoJCQkJCQkJRWNob2VzUGhhc2UgPSBwaGFzZQoKCQkJCQkJCWxvY2FsIG1vZGUgPSAiIgoKCQkJCQkJCWlmIEVjaG9lc1BoYXNlID09IDEgdGhlbgoJCQkJCQkJCW1vZGUgPSAiKFNUQVIpIgoJCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDIgdGhlbgoJCQkJCQkJCW1vZGUgPSAiKEZMQU1FKSIKCQkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAzIHRoZW4KCQkJCQkJCQltb2RlID0gIihTSE9DSykiCgkJCQkJCQllbmQKCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGhhcyBiZWVuIGNoYW5nZWQhICIgLi4gbW9kZQoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQaGFzZSBpcyBpbnZhbGlkISBNdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgMy4iCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiY2hhbmdlbG9nIikgdGhlbgoJCQkJCS0tIFRhZzogQ0hOR0xHCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkNvcGllZCB0aGUgY2hhbmdlbG9nIHRvIHlvdXIgY2xpcGJvYXJkISIKCQkJCQlzZXRjbGlwYm9hcmQoImh0dHBzOi8vZ2l0aHViLmNvbS9FYXJ0aFRvQWNjZXNzL0VCR1VJI2NoYW5nZWxvZyIpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJvcmlnaW4iKSB0aGVuCgkJCQkJeHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJbG9jYWwgb3JpZ2luID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCQkJb3JpZ2luLkFuY2hvcmVkID0gdHJ1ZQoJCQkJCQlvcmlnaW4uUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXQoJCQkJCQlvcmlnaW4uTmFtZSA9ICJPcmlnaW4iCgkJCQkJCW9yaWdpbi5NYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuTmVvbgoJCQkJCQlvcmlnaW4uQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJSZWFsbHkgcmVkIikKCQkJCQkJb3JpZ2luLlNpemUgPSBWZWN0b3IzLm5ldygwLjUsIDAuNSwgMC41KQoJCQkJCQlvcmlnaW4uUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAwLCAwKQoJCQkJCQl3YXJuKCJNYWRlIGEgYmxvY2sgYXQgdGhlIG9yaWdpbiEiKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2VzcyEgQ2hlY2sgY29uc29sZSBmb3IgbW9yZSBpbmZvIgoJCQkJCWVuZCwgZnVuY3Rpb24oZSkKCQkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQoJCQkJCQl3YXJuKCd0cmFjZWJhY2s6JywgZGVidWcudHJhY2ViYWNrKCkpCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaGVscCIpIHRoZW4KCQkJCQlzZXRjbGlwYm9hcmQoImh0dHBzOi8vZ2l0aHViLmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL2Jsb2IvbWFpbi9Eb2NzLm1kIikKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRG9jdW1lbnRhdGlvbiBjb3BpZWQgdG8gY2xpcGJvYXJkISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImluZm8iKSB0aGVuCgkJCQkJbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL21haW4vYmluL2luZm8ubHVhJykpKCkKCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcpID09ICJzdGF0dXMiIHRoZW4KCQkJCQkJcHJpbnQoIlRoZSBjdXJyZW50IHN0YXR1cyBvZiBFQkd1aSBpcyAiIC4uIHN0YXR1cykKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR3VpIFN0YXR1czogIiAuLiBzdGF0dXMKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAicmVwbyIgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAiZ2l0aHViIiB0aGVuCgkJCQkJCXByaW50KCJUaGUgR2l0SHViIHJlcG9zaXRvcnkgbGluayBpcyAiIC4uIHJlcG8pCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBpbmZvISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInVwZGF0ZSIpIHRoZW4KCQkJCQlsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvbWFpbi9iaW4vaW5mby5sdWEnKSkoKQoJCQkJCWlmIHZlck51bSA9PSBjdXJyZW50IHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk5vIHVwZGF0ZSByZXF1aXJlZCEiCgkJCQkJZWxzZWlmIHZlck51bSA9PSBsYXN0IHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlZlcnNpb24gb3V0ZGF0ZWQhIEN1cnJlbnQ6ICIgLi4gY3VycmVudAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gImJybyB1ciBvbiBhIGRldiBidWlsZCBvciBzbSIKCQkJCQllbmQKCQkJCS0tW1tlbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LDEsNSkgPT0gKHByZWZpeC4uImRlc3AiKSB0aGVuCgkJCQkJbG9jYWwgYXJnID0gc3RyaW5nLnN1Yih0ZXh0LDcpCgkJCQkJbG9jYWwgZnVuY3Rpb24gaXNudW1iZXIobikKCQkJCQkJcmV0dXJuICh0eXBlKG4pID09ICJudW1iZXIiKSBhbmQgKG1hdGguZmxvb3IobikgPT0gbikKCQkJCQllbmQKCQkJCQlpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKHRvbnVtYmVyKGFyZykgPj0gMTAgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAwMDAwKSB0aGVuCgkJCQkJCUVTUE1heERpc3QgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsNykpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTZXQgRVNQIE1heCBEaXN0YW5jZSB0byAiIC4uIGFyZwoJCQkJCWVsc2VpZiBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgdG9udW1iZXIoYXJnKSA8PSAxMCB0aGVuCgkJCQkJCUVTUE1heERpc3QgPSBuaWwKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk51bWJlciB0b28gbG93ISBSZXNldCB0aGUgRVNQIE1heCBEaXN0YW5jZS4iCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpID49IDEwMDAwMCB0aGVuCgkJCQkJCUVTUE1heERpc3QgPSBuaWwKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldPQUggVEhBVCdTIEEgQklHIE5VTUJFUi4gUmVzZXQgdGhlIEVTUCBNYXggRGlzdGFuY2UuIgoJCQkJCWVsc2VpZiBub3QgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIChhcmcgPT0gInQiIG9yIGFyZyA9PSAib24iKSB0aGVuCgkJCQkJCWlmIEVTUE1ERW5hYmxlZCB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRVNQIE1heCBEaXN0YW5jZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJRVNQTURFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvbiBFU1AgTWF4IERpc3RhbmNlISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAiZiIgb3IgYXJnID09ICJvZmYiKSB0aGVuCgkJCQkJCWlmIEVTUE1ERW5hYmxlZCB0aGVuCgkJCQkJCQlFU1BNREVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgRVNQIE1heCBEaXN0YW5jZSEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFU1AgTWF4IERpc3RhbmNlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBhcmd1bWVudCEgRGlkIHlvdSBzcGVjaWZ5IGEgbnVtYmVyPyIKCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZS4gR290ICIgLi4gYXJnIC4uICIsIGV4cGVjdGVkIGJvb2xlYW4gb3IgbnVtYmVyIikKCQkJCQllbmRdXQoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGNvbW1hbmQhIERpZCB5b3UgdHlwZSBpdCB3cm9uZz8iCgkJCQkJd2FybigiR290IGFuIGludmFsaWQgY29tbWFuZCBhdCBydW50aW1lLiBDb21tYW5kIHJlY2VpdmVkIHdhcyAiLi50ZXh0KQoJCQkJZW5kCgoJCQkJd2FpdCgxLjUpCgkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCWxvY2FsIG1hdGNoZXMgPSBmaW5kUGxheWVyKHRleHQpCgoJCQkJaWYgI21hdGNoZXMgPT0gMSB0aGVuCgkJCQkJdGFyZ2V0ID0gbWF0Y2hlc1sxXQoJCQkJCWlmIG1hdGNoZXNbMV0gPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCQkJCQkJCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIG1hdGNoZXNbMV0KCQkJCQllbmQKCQkJCQl3YWl0KDEpCgkJCQllbHNlCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCQl3YXJuKCJUYXJnZXQgbm90IGZvdW5kISBEbyBtdWx0aXBsZSBwbGF5ZXJzIGhhdmUgdGhhdCBzYW1lIHN1YnN0cmluZyBpbiB0aGVpciBuYW1lcz8iKQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIFRhcmdldCEgVHlwZSB0aGVpciBuYW1lIGFnYWluLiIKCQkJCQl3YWl0KDEuNSkKCQkJCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Y29ubmVjdChmdW5jdGlvbihwbGF5ZXIpCgkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKFRhcmdldCBsZWZ0ISkiCgkJCWVuZAoJCWVuZCkKCgkJY29tbWFuZEJveC5Gb2N1c0xvc3Q6Q29ubmVjdChmdW5jdGlvbihlbnRlclByZXNzZWQpCgkJCWlmIGVudGVyUHJlc3NlZCB0aGVuCgkJCQlpZiBjb21tYW5kQm94LlRleHQgfj0gIiIgdGhlbgoJCQkJCWlucHV0Qm94KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpCgkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIChtYXRoLmNlaWwoI2J1dHRvbnMgKiAzNykgLyAyKSAtIDcpCgkJZW5kKSkKCgkJLS0gQnJlYWtpbmcgU2NyaXB0IFVzZXJzCgoJCWJyZWFrYWJsZSA9IHRydWUKCgkJbG9jYWwgYnJlYWtVc2VycyA9IHsKCQkJMTg2NDM4MDU4MSwKCQkJMTgyMTMzMjkzLAoJCQkyOTc2MTUyMzEsCgkJCTExMjgxMTQ5NDQsCgkJCTE5NTY0MTMwNzksCgkJCTMxMTAyNzIwNCwKCQkJMTkwMzE2NTQwNSwKCQkJMTkzMzczNDk1NiwKCQkJMTgxMjA1MzYzMiwKCQkJMTkwNjMxMTkwMiwKCQkJMTk5MzIyNDcyNCwKCQkJMTk0NDUzMTY2NSwKCQkJMTA4MDQ1MDIzCgkJfQoKCQlsb2NhbCBvbmNoYXQgPSBmdW5jdGlvbihwbHIsIG1zZykKCQkJbG9jYWwgYWxsb3dlZCA9IGZhbHNlCgkJCWZvciBfLCB1c2VyIGluIHBhaXJzKGJyZWFrVXNlcnMpIGRvCgkJCQlpZiBwbHIuTmFtZSA9PSB1c2VyIHRoZW4KCQkJCQlhbGxvd2VkID0gdHJ1ZQoJCQkJZW5kCgkJCWVuZAoKCQkJbG9jYWwgcHJlZml4ID0gIjsiCgoJCQlpZiBzdHJpbmcuc3ViKG1zZywgMSwgNykgPT0gKHByZWZpeCAuLiAiYnJlYWsgIikgdGhlbgoJCQkJbG9jYWwgbWF0Y2hlcyA9IHt9CgoJCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUKCQkJCQltc2cgPSBzdHJpbmcubG93ZXIoc3RyaW5nLnN1Yihtc2csIDgpKQoJCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkKCQkJCQlsb2NhbCB0ZXJtID0gc3RyaW5nLnN1YihuYW1lLCAxLCBzdHJpbmcubGVuKG5hbWUpKQoKCQkJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKHRlcm0sIG1zZykKCgkJCQkJaWYgbWF0Y2ggdGhlbgoJCQkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpCgkJCQkJZW5kCgkJCQllbmQKCgkJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIGFuZCBicmVha2FibGUgYW5kIGFsbG93ZWQgdGhlbgoJCQkJCXdoaWxlIHRydWUgZG8KCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpCgkJCQlvbmNoYXQodiwgbXNnKQoJCQllbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpCgkJCQlvbmNoYXQodiwgbXNnKQoJCQllbmQpCgkJZW5kKQoKCQktLSBFeHBsb2l0cwoKCQlsb2NhbCBmdW5jdGlvbiBmZigpCgkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJaWYgZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCXJldHVybiB0cnVlCgkJCQllbHNlCgkJCQkJcmV0dXJuIGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJcmV0dXJuIGZhbHNlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBleHBsb2l0KCkKCQkJLS0gRXhwbG9pdCBmdW5jdGlvbi4gV2hlbiBDIGlzIHByZXNzZWQgYW5kIG9uZSBvZiB0aGVzZSBhcmUgInRydWUiLCBpdCB3aWxsIGZpcmUgaXQuCgkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcgoJCQlsb2NhbCBEQ00gPSBSU1IuRG9DbGllbnRNYWdpYwoJCQlsb2NhbCBETSA9IFJTUi5Eb01hZ2ljCgoJCQlpZiBTb2xhckJ1Z0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvbGFyIiwiVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4iKQoJCQkJbG9jYWwgYXJncyA9ewoJCQkJCVsxXSA9ICJTb2xhciIsCgkJCQkJWzJdID0gIlVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBUZWNoRGlzY0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCJMaWdodCBEaXNjIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlRlY2hub2xvZ3kiLAoJCQkJCVsyXSA9ICJMaWdodCBEaXNjIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiUG9zaXRpb24iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlSU1IuUmVtb3RlRXZlbnQ6RmlyZVNlcnZlcigiTGlnaHREaXNjMiIpCgkJCQl3YWl0KDIpCgkJCQlSU1IuUmVtb3RlRXZlbnQ6RmlyZVNlcnZlcigiTGlnaHREaXNjRGVsZXRlIikKCQkJZW5kCgoJCQlpZiBMZWFwU3R1bkVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJFeHBsb3NpdmUgTGVhcCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFeHBsb3Npb24iLAoJCQkJCVsyXSA9ICJFeHBsb3NpdmUgTGVhcCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkxhc3RQb3MiXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBEeWluZ1N0YXJFbmFibGVkIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsICJEeWluZyBTdGFyIikKCQkJCURNOkludm9rZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBJbnN0YW50RmlzdEVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgRmlzdCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFYXJ0aCIsCgkJCQkJWzJdID0gIlJvY2sgRmlzdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkdyb3VuZGVkIl0gPSB0cnVlCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBsT3Jic0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkxpZ2h0IiwKCQkJCQlbMl0gPSAiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ29vcmRpbmF0ZXMiXSA9IHsKCQkJCQkJCVsxXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs0XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs2XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs3XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVs5XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxMF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTFdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzEyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTRdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzE1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxNl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMTddID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQkJWzE4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJCVsxOV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCQlbMjBdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQkJCX0sCgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgUmVhcGVyVWx0RW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiUmVhcGVyIiwgIlJlYXBlcidzIFJhZ2UiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiUmVhcGVyIiwKCQkJCQlbMl0gPSAiUmVhcGVyJ3MgUmFnZSIsCgkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQJCQoKCQkJaWYgQ3JlYXRpb25Ib2xkRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQ3JlYXRpb24iLCAiQ29udGludW91cyBTdHJpa2VzIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkNyZWF0aW9uIiwKCQkJCQlbMl0gPSAiQ29udGludW91cyBTdHJpa2VzIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ0YiXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwKCQkJCQkJWyJDaGFyZ2UiXSA9ICIyIgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgSHlwZXJhbmdFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIikKCQkJCURNOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBEYXJrQW9lRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIsIHtsYXN0TW91c2VQb3NpdGlvbiA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pfSkKCQkJZW5kCgoJCQlpZiBEaXNwZXJzaW9uRW5hYmxlZCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIsIHtHcm91bmRlZCA9IHRydWV9KQoJCQllbmQKCgkJCWlmIERvdWJsZVJheUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJEb3VibGUgUmF5IgoJCQkJfQkJCQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwKCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgU3Rvcm1CdWxsZXRzRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIgoJCQkJfQkJCQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkRpcmVjdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApCgkJCQkJfQoJCQkJfQkJCQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBPcmJpdGFsSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBWaWdvckhhY2tFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwaXJpdCIsCgkJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Bpcml0IiwKCQkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iLAoJCQkJCVszXSA9IHsKCQkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLAoJCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksCgkJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwKCQkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFZpbmVUcmFwRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikKCQkJCURNOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMTUsIDApKQoJCQllbmQKCgkJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50Iiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50Iiwge09yaWdpbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMjUsIDApLCBvcmJQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDEwLCAwKX0pCgkJCWVuZAoKCQkJaWYgVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQoJCQkJRE06SW52b2tlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIsIHtwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDE1MCwgMCl9KQoJCQllbmQKCgkJCWlmIFNrZWxldG9uR3JhYkVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIikKCQkJCURNOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgR2VuZXNpc1JheUVuYWJsZWQgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCB7bHYgPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgY2hhcmdlID0gR1JDaGFyZ2V9KQoJCQllbmQKCgkJCWlmIFRoZVdvcmxkRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCURNOkludm9rZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB7cmhpdCA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LCBub3JtID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIHJwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgUG9sYXJpc0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIikKCQkJCURNOkludm9rZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgYW5kIEVjaG9lc1BoYXNlIH49IG5pbCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU291bmQiLCAiRWNob2VzIikKCQkJCURNOkludm9rZVNlcnZlcigiU291bmQiLCAiRWNob2VzIiwge0VjaG9lc1BoYXNlLCBtb3VzZS5IaXQucH0pCgkJCWVuZAoKCQkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBJbGx1c2l2ZUF0YWtlRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiKQoJCQkJRE06SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIkV0aGVyZWFsIEFjdW1lbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkKCQkJZW5kCgoJCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQlEQ006RmlyZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siLCB7RGlyZWN0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCBGbG9vciA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZX0pCgkJCQl3YWl0KDE3LjUpCgkJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJZW5kCgkJCWVuZAoKCQkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iLCB7UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpCgkJCWVuZAoKCQkJaWYgVmlydHVhbFpvbmVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLCBWZWN0b3IzLm5ldygwLCAwLCAwKX0pCgkJCWVuZAoJCWVuZAoKCQktLVtbbG9jYWwgZnVuY3Rpb24gQmVnaW5UcmFja2luZygpCgkJCWxvY2FsIGMgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpLkN1cnJlbnRDYW1lcmEKCQkJbG9jYWwgaGIgPSBnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5IZWFydGJlYXQKCQkJbG9jYWwgbSA9IHBsYXllcjpHZXRNb3VzZSgpCgkJCWxvY2FsIHAgPSBjOldvcmxkVG9TY3JlZW5Qb2ludChwbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCWhiOmNvbm5lY3QoZnVuY3Rpb24oc3RlcCkKCQkJCW1vdXNlbW92ZWFicyhwLlgsIChwLlkgKyAyNSkpCgkJCWVuZCkKCQllbmRdXSAtLSBGb3IgQWltYm90LCBjdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQKCgkJLS0gVUlTCgoJCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCgkJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UKCgkJVUlTLklucHV0QmVnYW46Y29ubmVjdChmdW5jdGlvbihpbnB1dCwgZ3ApCgkJCWlmIG5vdCB0ZXJtaW5hdGV1aXMgdGhlbgoJCQkJaWYgbm90IGdwIHRoZW4KCQkJCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIKCgkJCQkJaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja1NsYXNoIHRoZW4KCQkJCQkJY29tbWFuZEJveDpDYXB0dXJlRm9jdXMoKQoJCQkJCQl3YWl0KCkKCQkJCQkJaWYgc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpKSA9PSAiXFwiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3guVGV4dCA9IHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCAxLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkgLSAxKQoJCQkJCQllbmQKCQkJCQktLVtbZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkwgdGhlbgoJCQkJCQl0b2dnbGVBaW1ib3QoKV1dCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkMgdGhlbgoJCQkJCQlleHBsb2l0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVSB0aGVuCgkJCQkJCVRQVG9UYXJnZXQoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5LIHRoZW4KCQkJCQkJQW50aUJsaW5kRnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlQgdGhlbgoJCQkJCQliZWdpblNwZWVkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWCB0aGVuCgkJCQkJCWlmIFNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgdGhlbgoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5QIHRoZW4KCQkJCQkJaWYgU2Fuc1RlbGVwb3J0RW5hYmxlZCB0aGVuCgkJCQkJCQlpZiBnYW1lLlBsYWNlSWQgPT0gNTY2Mzk5MjQ0IG9yIGdhbWUuUGxhY2VJZCA9PSAyNTY5NjI1ODA5IHRoZW4KCQkJCQkJCQlsb2NhbCBTYW5zUG9zID0gQ0ZyYW1lLm5ldygtMTY4NS45MTA1MiwgMjMwLjAzNTEyNiwgLTE4MS43OTgyNjQpCgkJCQkJCQkJbG9jYWwgU2Fuc0FuZ2xlcyA9IENGcmFtZS5BbmdsZXMoMCwgbWF0aC5yYWQoMjApLCAwKQoKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gU2Fuc1BvcyAqIFNhbnNBbmdsZXMKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkNoYW5nZVN0YXRlKEVudW0uSHVtYW5vaWRTdGF0ZVR5cGUuQ2xpbWJpbmcpCgkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCQlpZiBub3QgRnJlZXplRW5hYmxlZCB0aGVuCgkJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlogdGhlbgoJCQkJCQliZWdpbk51bGxpZnlGb3JjZXMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5HIHRoZW4KCQkJCQkJQW50aUdyYXZpdHlGdW5jKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSiB0aGVuCgkJCQkJCWlmIENsaWNrVFBFbmFibGVkIHRoZW4KCQkJCQkJCWNsaWNrdHAobW91c2UuSGl0KQoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRiB0aGVuCgkJCQkJCUZyZWV6ZUZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrcXVvdGUgdGhlbgoJCQkJCQlpZiBGbGFzaEVuYWJsZWQgdGhlbgoJCQkJCQkJbG9uZ2ZsYXNoKCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlYgdGhlbgoJCQkJCQl2aWV3KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQiB0aGVuCgkJCQkJCXRvZ2dsZUVTUCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLk0gdGhlbgoJCQkJCQl0b2dnbGVFU1BHb2xkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbgoJCQkJCQlpZiBub3QgY2xvc2VkZm9yZXZlciB0aGVuCgkJCQkJCQlpZiBub3QgYnV0dG9uc2RlYm91bmNlIHRoZW4KCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkJCS41LAoJCQkJCQkJCQkJdHJ1ZQoJCQkJCQkJCQkpCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UKCQkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCQkJCQkJCSJJbiIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVuZAoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5SaWdodEJyYWNrZXQgdGhlbgoJCQkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQkJCWlmIGNvbW1hbmRzb3BlbmVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLAoJCQkJCQkJCSJPdXQiLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiSW4iLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KDEpCgkJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJCQkJZWxzZWlmIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLkxlZnQpIGFuZCBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5SaWdodCkgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhhbmtzIGZvciB1c2luZyBFQkd1aSEiCgkJCQkJCXdhaXQoMikKCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSB0cnVlIHRoZW4KCQkJCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCQkJCXRlcm1FQkd1aSgpCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJLS0gU2NyaXB0cyBhbmQgRnVuY3Rpb25zIEVORAoKCQktLSBFbnRyYW5jZSBBbmltYXRpb24KCgkJd2FpdCgwLjUpCgoJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwKCQkJIk91dCIsCgkJCSJTaW5lIiwKCQkJLjUsCgkJCXRydWUKCQkpCgoJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQlVRGltMi5uZXcoMSwgMCwgMC40NSwgMCksCgkJCSJPdXQiLAoJCQkiU2luZSIsCgkJCS41LAoJCQl0cnVlCgkJKQoKCQktLSBJbmZvCgoJCXByaW50KFtbCgoJCV1dKQoJCXdhcm4oIkdVSSBzdWNjZXNzZnVsbHkgbG9hZGVkISIpCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldlbGNvbWUgdG8gRUJHdWkhIgoJCXdhaXQoMikKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgllbmQsIGZ1bmN0aW9uKGUpCgkJbG9jYWwgY3Jhc2ggPSB7CgkJCSJJJ20gc28sIHNvLCBzbyBzbyBTTyBzb3JyeSEiLAoJCQkiV2F0ZXIgY29vbGluZz8gSSBwcmVmZXIgbGF2YSBjb29saW5nLiIsCgkJCSJZb3VyIEVCR3VpIHJhbiBpbnRvIGEgcHJvYmxlbSBhbmQgbmVlZHMgdG8gcmVzdGFydC4iLAoJCQkiU1RPUCBDb2RlOiAweERFQURCRUVGIiwKCQkJIklzIHRoaXMgd2hhdCBkZXZlbG9wbWVudCBpcyBsaWtlPyBJIGhhdGUgaXQuIiwKCQkJIlRoZSBVbnN0b3BwYWJsZSBNYXJjaGluZyBvRiB0aU1lIHRoYXQgaXMgc2xPd2x5IGd1aWRpbmcgdXMgYWxsIHRPd2FyZHMgYW4gSW5ldml0YUJsRSBERUFUSC4gVGhhdCBzcGVsbHMgXCJUdW0gRk0uIE93TyBPLCBJIGJlIGRlYXRoLlwiIiwKCQkJIkkgZ3Vlc3MgeW91IGNvdWxkIGNhbGwgbWUgYW4gXCJPb2VyXCIuIiwKCQkJIkVycm9yIE1lc3NhZ2UhIiwKCQkJIldob29wcywgd2UncmUgbG93IG9uIG1lbW9yeSEgVHJ5IHJlbWVtYmVyaW5nIGxhdGVyLiIsCgkJCSJXaG9vcHMsIHdlJ3JlIGxvdyBvbiBtZW1lb3J5LiBUcnkgc2VuZGluZyBQZXBlcyBsYXRlci4iLAoJCQkiT2theSwgd2hvIGtpbGxlZCB0aGUgY29tcHV0ZXIgaGFtc3RlcnM/IiwKCQkJIkNhbid0IGtlZXAgdXAhIElzIHRoZSBzY3JpcHQgb3ZlcmxvYWRlZCwgb3IgaGF2ZSB5b3UgbWVsdGVkIHlvdXIgQ1BVPyIsCgkJCSJPaCwgY29uZ3JhdHVsYXRpb25zLCAiIC4uIHBsYXllci5OYW1lIC4uICIsIHlvdSBicm9rZSBpdCEiLAoJCQkiSSBzd2VhciB0aGF0IHdhcyBpbnRlbnRpb25hbC4iLAoJCQkiSSBwcm9taXNlIGl0IHdvbid0IGhhcHBlbiBhZ2Fpbi4iLAoJCQkiT2theSwgZ29ubmEgYmUgcmVhbCwgTk8gQ0xVRSB3aGF0IHdlbnQgd3JvbmcgdGhlcmUuIiwKCQkJIk9oLCBubywgbmV2ZXJtaW5kLCBJIGtub3cgZXhhY3RseSB3aGF0IHdlbnQgd3JvbmcuIiwKCQkJIkEgcHJpZXN0LCBhIG1pbmlzdGVyLCBhbmQgYSByYWJiaXQgd2FsayBpbnRvIGEgYmxvb2QgYmFuay4iLAoJCQkiVGhlIG51cnNlIG9uIGR1dHkgYXNrcyB0aGUgdGhyZWUgZm9yIHRoZWlyIGJsb29kIHR5cGUgZ3JvdXAgdG8gZ2V0IHRoZW0gc2V0IHVwLiIsCgkJCSJUaGUgcHJpZXN0LCBkaWduaWZpZWQsIHNheXMgXCJJJ20gQUIhXCIuIiwKCQkJIlRoZSBtaW5pc3RlciwgaW5kaWZmZXJlbnQsIHJlcGxpZXMgXCJJIGJlbGlldmUgSSdtIHR5cGUgQS5cIiIsCgkJCSJUaGUgcmFiYml0LCBzaHlseSBhbmQgbmVydm91c2x5LCBsb29rcyBhcm91bmQgdGhlIHJvb20sIGJlZm9yZSBhbm5vdW5jaW5nLCBcIkkgdGhpbmsgSSBtaWdodCBiZSBhIHR5cGUgTy5cIi4iCgkJfQoKCQlwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKCQlwcmludChjcmFzaFttYXRoLnJhbmRvbSgxLCNjcmFzaCldKQoJCXByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQoJCXdhcm4oIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggRUJHdWkhIikKCQlwcmludChlKQoJCXByaW50KCJUaGlzIGNyYXNoIHJlcG9ydCB3YXMgZ2VuZXJhdGVkIG9uICIgLi4gb3MuZGF0ZSgnJXggJVgnLG9zLnRpbWUoKSkgLi4gIiBhbmQgd2lsbCBiZSBzYXZlZCBpbiB5b3VyIGV4ZWN1dG9yJ3MgV29ya3NwYWNlIGZvbGRlci4iKQoKCQlsb2NhbCB1ZiA9IG9zLmRhdGUoIiV4XyVYIixvcy50aW1lKCkpCgkJbG9jYWwgZGYgPSBzdHJpbmcuZ3N1Yih1ZiwiLyIsIi0iKQoJCWxvY2FsIGR0ZiA9IHN0cmluZy5nc3ViKGRmLCI6IiwiLSIpCgoJCWlmIG5vdCBpc2ZvbGRlcigiRUJHdWkiKSB0aGVuIG1ha2Vmb2xkZXIoIkVCR3VpIikgZW5kCgkJd3JpdGVmaWxlKCJFQkd1aVxcQ3Jhc2hEdW1wLSIuLmR0Zi4uIi50eHQiLAoKCQkiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIgLi4gY3Jhc2hbbWF0aC5yYW5kb20oMSwjY3Jhc2gpXSAuLiAiXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4iIC4uCgoJCVtbRUJHdWkgc3RvcHBlZCBleGVjdXRpbmcgYmVjYXVzZSBpdCBlbmNvdW50ZXJlZCBhIHByb2JsZW0gaXQgZGlkbid0IGtub3cgaG93IHRvIGhhbmRsZS4KCQkKUGxlYXNlIHJlcG9ydCB0aGlzIGNyYXNoIGluIHRoZSBEaXNjb3JkIGJ5IGdvaW5nIHRvICNyb2JvdHMtdW5pdGUgYW5kIG9wZW5pbmcgYSB0aWNrZXQuXV0gLi4KCgkJIi0tIEJlZ2luIEVycm9yIFJlcG9ydCAtLVxuKEdlbmVyYXRlZCBvbiAiIC4uIHVmIC4uICIpXG5cbiIgLi4KCgkJIkV4ZWN1dG9yOiAiIC4uIHRvc3RyaW5nKGV4ZWMpIC4uCgkJIlxuQ2xpZW50IElEOiAiIC4uIHRvc3RyaW5nKGNsaWVudGlkKSAuLgoJCSJcblBsYWNlSWQ6ICIgLi4gdG9zdHJpbmcoZ2FtZS5QbGFjZUlkKSAuLgoJCSJcblNtYXJ0QXR0YWNrIEVuYWJsZWQ/OiAiIC4uIHRvc3RyaW5nKFNtYXJ0QXR0YWNrKSAuLgoJCSJcbklzIEdvbGQ/OiAiIC4uIHRvc3RyaW5nKGlzR29sZCkgLi4gCgkJIlxuSXMgTWFzdGVyPzogIiAuLiB0b3N0cmluZyhpc01hc3RlcikgLi4KCgkJIlxuXG5FcnJvcjogIiAuLiBlIC4uCgkJIlxuQXQ6ICIgLi4gZGVidWcudHJhY2ViYWNrKCkgLi4KCgkJIlxuXG4tLSBFbmQgRXJyb3IgUmVwb3J0IC0tIikKCWVuZCkKZW5k"