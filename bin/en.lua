encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbg0KCWdhbWUuTG9hZGVkOldhaXQoKQ0KZW5kDQoNCmlmIChnYW1lLkNvcmVHdWk6RmluZEZpcnN0Q2hpbGQoImViZ3VpIikpIHRoZW4NCglnYW1lLkNvcmVHdWkuZWJndWk6RGVzdHJveSgpDQplbmQNCg0KbG9jYWwgYmxvY2tsaXN0ID0gew0KfQ0KDQpsb2NhbCBtYXN0ZXJsaXN0ID0gew0KCTMyNTczMzM0DQp9DQoNCmxvY2FsIHBsYXllciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcg0KbG9jYWwgSUQgPSBwbGF5ZXIuVXNlcklkDQpsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQ0KbG9jYWwgaXNNYXN0ZXIgPSBmYWxzZQ0KDQpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQ0KICAgICAgICBicmVhaw0KICAgIGVuZA0KZW5kDQoNCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlDQogICAgICAgIGJyZWFrDQogICAgZW5kDQplbmQNCg0KaWYgaXNCbG9ja2VkIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICBUaGlzIGFjY291bnQgaGFzIGJlZW4gYmxvY2tlZC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2VpZiBub3QgRUJHdWlLZXkgYW5kIG5vdCBpc0Jsb2NrZWQgYW5kIG5vdCBpc01hc3RlciB0aGVuDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpDQplbHNlaWYgRUJHdWlLZXkgfj0gInNjcmlwdF9FbGVtZW50YWwwODIwMjJfMjIwNTAzIiBhbmQgbm90IGlzQmxvY2tlZCBhbmQgbm90IGlzTWFzdGVyIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2UNCg0KCWxvY2FsIGR1bWJRdW90ZXMgPSB7DQoJCSJKZWV6LCB3aGVuJ2QgaXQgZ2V0IHNvIGhvdCBpbiBoZXJlPyIsDQoJCSJJcyBpdCBqdXN0IG1lIG9yIGlzIHRoYXQgKnRvbyogYmx1ZT8iLA0KCQkiTGlrZSB0YWtpbmcgY2FuZHkgZnJvbSBhIGJhYnkuIiwNCgkJIkRlZXogbnV0cyBhcmUgdG9vIHNxdWFyZSEiLA0KCQkiQWxzbyB0cnkgTWluZWNyYWZ0ISIsDQoJCSJBbHNvIHRyeSBUZXJyYXJpYSEiLA0KCQkiTWVoLCBJIGxpa2VkIFJpc2sgb2YgUmFpbiAyIGJldHRlci4iLA0KCQkiWW91IG5lZWQgYSBmYWlybHkgaGlnaCBJUSB0byB1bmRlcnN0YW5kIEVCR3VpLiIsDQoJCSJKYWtlLCBmcm9tIFN0YXRlIEZhcm0/ISINCgl9DQoNCiAgICB3YXJuKFtbX19fX19fIF9fX19fIF9fX19fICAgICAgIF8gDQogICAgICAgICAgICB8ICBfX198IF9fXyBcICBfXyBcICAgICAoXykNCiAgICAgICAgICAgIHwgfF9fIHwgfF8vIC8gfCAgXC9fICAgXyBfIA0KICAgICAgICAgICAgfCAgX198fCBfX18gXCB8IF9ffCB8IHwgfCB8DQogICAgICAgICAgICB8IHxfX198IHxfLyAvIHxfXCBcIHxffCB8IHwNCiAgICAgICAgICAgIFxfX19fL1xfX19fLyBcX19fXy9cX18sX3xffCB2Mi4xXV0pDQoJcHJpbnQoIiAiKQ0KCXByaW50KGR1bWJRdW90ZXNbbWF0aC5yYW5kb20oMSw5KV0pDQoJcHJpbnQoIiAiKQ0KCXdhcm4oIldlbGNvbWUgdG8gRUJHdWksICIgLi4gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgLi4gIiEiKQ0KCXdhcm4oIllvdSdyZSBvbiB0aGUgU3RhYmxlIGJyYW5jaCBvZiBFQkd1aSIpDQoJd2FybigiUXVlc3Rpb25zIG9yIGNvbmNlcm5zPyBMZXQgdXMga25vdyBpbiB0aGUgRGlzY29yZCwiKQ0KCXdhcm4oIm9yIGVtYWlsIEVhcnRoIGhpbXNlbGYgYXQgZWFydGh0b2FjY2Vzc0BnbWFpbC5jb20hIikNCgl3YWl0KDAuNSkNCg0KCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zDQoNCglsb2NhbCBlYmd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikNCgllYmd1aS5OYW1lID0gImViZ3VpIg0KCWViZ3VpLlBhcmVudCA9IGdhbWU6V2FpdEZvckNoaWxkKCJDb3JlR3VpIikNCg0KCWdhbWUuQ29yZUd1aS5DaGlsZFJlbW92ZWQ6Y29ubmVjdChmdW5jdGlvbihjaGlsZCkNCgkJaWYgY2hpbGQuTmFtZSA9PSAiZWJndWkiIHRoZW4NCgkJCWNsb3NlZGZvcmV2ZXIgPSB0cnVlDQoJCQlidXR0b25zb3BlbmVkID0gZmFsc2UNCgkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UNCgkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUNCgkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUNCgkJCXRlcm1pbmF0ZXVpcyA9IHRydWUNCgkJCVVJUyA9IG5pbA0KCQkJYnJlYWthYmxlID0gdHJ1ZQ0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gbmlsDQoJCQlWaW5lVHJhcEVuYWJsZWQgPSBuaWwNCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBuaWwNCgkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBuaWwNCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBuaWwNCgkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gbmlsDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IG5pbA0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IG5pbA0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IG5pbA0KCQkJVGhlV29ybGRFbmFibGVkID0gbmlsDQoJCQlQb2xhcmlzRW5hYmxlZCA9IG5pbA0KCQkJTGFnU2VydmVyRW5hYmxlZCA9IG5pbA0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IG5pbA0KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBuaWwNCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IG5pbA0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gbmlsDQoJCQlTZXdlckJ1cnN0RW5hYmxlZCA9IG5pbA0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBuaWwNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IG5pbA0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gbmlsDQoJCQlBbnRpQmxpbmRFbmFibGVkID0gbmlsDQoJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbA0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IG5pbA0KCQkJSG9sb2JlYW1FbmFibGVkID0gbmlsDQoJCQlTZXRTcGVlZCA9IG5pbA0KCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBuaWwNCgkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IG5pbA0KCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsDQoJCQlDbGlja1RQRW5hYmxlZCA9IG5pbA0KCQkJRnJlZXplRW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0RW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0UG93ZXIgPSBuaWwNCgkJCXZpZXdpbmcgPSBuaWwNCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJRVNQRW5hYmxlZCA9IG5pbA0KCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbA0KCQkJRlBTRHJvcHBpbmcgPSBuaWwNCgkJCXNhbnNLaWxsZWQgPSAid2lwIg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IG5pbA0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IG5pbA0KCQkJT3JpYnRhbEhhY2tFbmFibGVkID0gbmlsDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gbmlsDQoJCQlEb3VibGVSYXlFbmFibGVkID0gbmlsDQoJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IG5pbA0KCQkJRGFya0FvZUVuYWJsZWQgPSBuaWwNCgkJCUh5cGVyYW5nRW5hYmxlZCA9IG5pbA0KCQllbmQNCgllbmQpDQoNCglsb2NhbCBtb3VzZSA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcjpHZXRNb3VzZSgpDQoNCglsb2NhbCBib3JkZXJzID0ge30NCg0KCWxvY2FsIGJ1dHRvbnNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJYnV0dG9uc21haW4uTmFtZSA9ICJidXR0b25zbWFpbiINCglidXR0b25zbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKQ0KCWJ1dHRvbnNtYWluLlNpemUgPSBVRGltMi5uZXcoMC40LCAwLCAwLjIyNSwgMCkNCgl0YWJsZS5pbnNlcnQoYm9yZGVycywgYnV0dG9uc21haW4pDQoNCglidXR0b25zZGVib3VuY2UgPSBmYWxzZQ0KCWJ1dHRvbnNvcGVuZWQgPSB0cnVlDQoNCg0KCS0taWYgKGluaXRpYXRpb25Nb2RlID09ICJNb2Rlcm4iKSB0aGVuDQoJbG9jYWwgY29tbWFuZHNtYWluID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJY29tbWFuZHNtYWluLk5hbWUgPSAiY29tbWFuZHNtYWluIg0KCWNvbW1hbmRzbWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKQ0KCWNvbW1hbmRzbWFpbi5TaXplID0gVURpbTIubmV3KDAuMywgMCwgMC4xNzUsIDApDQoJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGNvbW1hbmRzbWFpbikNCgktLWVuZA0KDQoJY29tbWFuZGRlYm91bmNlID0gZmFsc2UNCgljb21tYW5kc29wZW5lZCA9IHRydWUNCg0KCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQ0KDQoJbG9jYWwgZnJhbWVzID0ge30NCg0KCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWJ1dHRvbnNmcmFtZS5OYW1lID0gImJ1dHRvbnNmcmFtZSINCglidXR0b25zZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQ0KCWJ1dHRvbnNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWJ1dHRvbnNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJYnV0dG9uc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJYnV0dG9uc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCWJ1dHRvbnNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkNCgl0YWJsZS5pbnNlcnQoZnJhbWVzLCBidXR0b25zZnJhbWUpDQoJYnV0dG9uc2ZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluDQoNCglsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJY29tbWFuZHNmcmFtZS5OYW1lID0gImNvbW1hbmRzZnJhbWUiDQoJY29tbWFuZHNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQ0KCWNvbW1hbmRzZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgljb21tYW5kc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCgljb21tYW5kc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCWNvbW1hbmRzZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApDQoJdGFibGUuaW5zZXJ0KGZyYW1lcywgY29tbWFuZHNmcmFtZSkNCgljb21tYW5kc2ZyYW1lLlBhcmVudCA9IGNvbW1hbmRzbWFpbg0KDQoJbG9jYWwgY29tbWFuZEJveCA9IEluc3RhbmNlLm5ldygiVGV4dEJveCIpDQoJY29tbWFuZEJveC5OYW1lID0gImNvbW1hbmRCb3giDQoJY29tbWFuZEJveC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRCb3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1LCA0MCwgNDApDQoJY29tbWFuZEJveC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRCb3guQm9yZGVyU2l6ZVBpeGVsID0gMg0KCWNvbW1hbmRCb3guUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjMsIDApDQoJY29tbWFuZEJveC5TaXplID0gVURpbTIubmV3KDAuODUsIDAsIDAuMjAsIDApDQoJY29tbWFuZEJveC5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJY29tbWFuZEJveC5UZXh0ID0gIiINCgljb21tYW5kQm94LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCWNvbW1hbmRCb3guVGV4dFNjYWxlZCA9IHRydWUNCgljb21tYW5kQm94LlRleHRTaXplID0gMTQuMDAwDQoJY29tbWFuZEJveC5UZXh0V3JhcHBlZCA9IHRydWUNCgljb21tYW5kQm94LkNsZWFyVGV4dE9uRm9jdXMgPSBmYWxzZQ0KCWNvbW1hbmRCb3guUGFyZW50ID0gY29tbWFuZHNmcmFtZQ0KDQoJbG9jYWwgbGFiZWxzID0ge30NCg0KCWxvY2FsIGNvbW1hbmRCb3hPdXRwdXQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJY29tbWFuZEJveE91dHB1dC5OYW1lID0gImNvbW1hbmRCb3hPdXRwdXQiDQoJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCgljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwDQoJY29tbWFuZEJveE91dHB1dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNiwgMCkNCgljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApDQoJY29tbWFuZEJveE91dHB1dC5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJY29tbWFuZEJveE91dHB1dC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNpemUgPSAxNC4wMDANCgljb21tYW5kQm94T3V0cHV0LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIGNvbW1hbmRCb3hPdXRwdXQpDQoJY29tbWFuZEJveE91dHB1dC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCglsb2NhbCBEZXRhaWxzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIg0KCURldGFpbHMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlscy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlscy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjAxNDE0MTQxNDMsIDApDQoJRGV0YWlscy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApDQoJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJRGV0YWlscy5UZXh0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgLi4gIiB8IEVCR1VJIHwgU3RhYmxlIg0KCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJRGV0YWlscy5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHMuWkluZGV4ID0gNQ0KCURldGFpbHMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMpDQoJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCWxvY2FsIERldGFpbHMyID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHMyLk5hbWUgPSAiRGV0YWlsczIiDQoJRGV0YWlsczIuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCglEZXRhaWxzMi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglEZXRhaWxzMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzMi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCURldGFpbHMyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC45LCAwKQ0KCURldGFpbHMyLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkNCglEZXRhaWxzMi5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJRGV0YWlsczIuVGV4dCA9ICJQcmVzcyBdIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiINCglEZXRhaWxzMi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglEZXRhaWxzMi5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHMyLlRleHRTaXplID0gMTQuMDAwDQoJRGV0YWlsczIuVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczIpDQoJRGV0YWlsczIuUGFyZW50ID0gY29tbWFuZHNmcmFtZQ0KDQoJbG9jYWwgRGV0YWlsczMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlsczMuTmFtZSA9ICJEZXRhaWxzMyINCglEZXRhaWxzMy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglEZXRhaWxzMy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzMy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCURldGFpbHMzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuODc1LCAwKQ0KCURldGFpbHMzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkNCglEZXRhaWxzMy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJRGV0YWlsczMuVGV4dCA9ICJQcmVzcyBbIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiINCglEZXRhaWxzMy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglEZXRhaWxzMy5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHMzLlRleHRTaXplID0gMTQuMDAwDQoJRGV0YWlsczMuVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczMpDQoJRGV0YWlsczMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lDQoNCglsb2NhbCBEZXRhaWxzNCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0Ig0KCURldGFpbHM0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHM0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMS4xLCAwKQ0KCURldGFpbHM0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNzUsIDApDQoJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCURldGFpbHM0LlRleHQgPSAiSG9sZCBMZWZ0IGFuZCBSaWdodCwgdGhlbiBwcmVzcyBhbnl0aGluZyB0byB0ZXJtaW5hdGUgdGhlIHNjcmlwdCBhbmQgR1VJcy4iDQoJRGV0YWlsczQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJRGV0YWlsczQuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzNC5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHM0LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCURldGFpbHM0LlBhcmVudCA9IGJ1dHRvbnNmcmFtZQ0KDQoJbG9jYWwgVmVyc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglWZXJzaW9uLk5hbWUgPSAiVmVyc2lvbiINCglWZXJzaW9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCVZlcnNpb24uQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJVmVyc2lvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCVZlcnNpb24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wNSwgMCkNCglWZXJzaW9uLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xLCAwKQ0KCVZlcnNpb24uRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uIHYyLjEiDQoJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlDQoJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMA0KCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikNCglWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCWxvY2FsIG1haW5mcmFtZSA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQ0KCW1haW5mcmFtZS5OYW1lID0gIm1haW5mcmFtZSINCgltYWluZnJhbWUuQWN0aXZlID0gdHJ1ZQ0KCW1haW5mcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDksIDgzLCA4OSkNCgltYWluZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgltYWluZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMg0KCW1haW5mcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkNCgltYWluZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCgltYWluZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjg2Nzc2ODU4NiwgMCwgMC42LCAwKQ0KCW1haW5mcmFtZS5TY3JvbGxCYXJUaGlja25lc3MgPSA2DQoJbWFpbmZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluDQoNCglsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpDQoJVUlHcmlkTGF5b3V0LkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbA0KCVVJR3JpZExheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcg0KCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQ0KCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCAzMCkNCglVSUdyaWRMYXlvdXQuU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXINCglVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lDQoNCglsb2NhbCBidXR0b25zID0ge30NCg0KCS0tIEluc3RhbnQgQmxhemUgQ29sdW1uDQoNCglsb2NhbCBCbGF6ZUNvbHVtbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQmxhemVDb2x1bW4uTmFtZSA9ICJCbGF6ZUNvbHVtbiINCglCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBCbGF6ZUNvbHVtbikNCg0KCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlDQoNCglCbGF6ZUNvbHVtbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gdHJ1ZQ0KCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT04pIg0KCQllbHNlDQoJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQ0KCQkJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBSb2NrIEFybW9yDQoNCglsb2NhbCBSb2NrQXJtb3IgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVJvY2tBcm1vci5OYW1lID0gIlJvY2tBcm1vciINCglSb2NrQXJtb3IuVGV4dCA9ICJJbnN0YW50IFJvY2sgQXJtb3IiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikNCg0KCVJvY2tBcm1vci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJCb2R5IENvbG9ycyIpIHRoZW4NCgkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXJbIkJvZHkgQ29sb3JzIl06RGVzdHJveSgpDQoJCWVuZA0KCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikNCgkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikNCgllbmQpDQoNCgktLSBJbnN0YW50IFZpbmUgVHJhcA0KDQoJbG9jYWwgVmluZVRyYXAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpbmVUcmFwLk5hbWUgPSAiVmluZVRyYXAiDQoJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmluZVRyYXApDQoNCglWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQ0KDQoJVmluZVRyYXAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVmluZVRyYXBFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpbmVUcmFwRW5hYmxlZCA9IHRydWUNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9OKSINCgkJZWxzZQ0KCQkJVmluZVRyYXBFbmFibGVkID0gZmFsc2UNCgkJCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgUGxhc21hIEltcGxvc2lvbg0KDQoJbG9jYWwgUGxhc21hSW1wbG9zaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglQbGFzbWFJbXBsb3Npb24uTmFtZSA9ICJQbGFzbWFJbXBsb3Npb24iDQoJUGxhc21hSW1wbG9zaW9uLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBQbGFzbWFJbXBsb3Npb24pDQoNCglQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UNCg0KCVBsYXNtYUltcGxvc2lvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSB0cnVlDQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9OKSINCgkJZWxzZQ0KCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgQWlyIERpc3BlcnNpb24NCg0KCWxvY2FsIFN0b3JtQW9lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTdG9ybUFvZS5OYW1lID0gIlN0b3JtQW9lIg0KCVN0b3JtQW9lLlRleHQgPSAiSW5zdGFudCBTdG9ybSBBb0UgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFN0b3JtQW9lKQ0KDQoJbG9jYWwgRGlzcGVyc2lvbkVuYWJsZWQgPSBmYWxzZQ0KDQoJU3Rvcm1Bb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IERpc3BlcnNpb25FbmFibGVkIHRoZW4NCgkJCURpc3BlcnNpb25FbmFibGVkID0gdHJ1ZQ0KCQkJU3Rvcm1Bb2UuVGV4dCA9ICJJbnN0YW50IFN0b3JtIEFvRSAoT04pIg0KCQllbHNlDQoJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlTdG9ybUFvZS5UZXh0ID0gIkluc3RhbnQgU3Rvcm0gQW9FIChPRkYpIg0KCQllbmQJDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBNdXJreSBNaXNzaWxlcw0KDQoJbG9jYWwgRGFya0FvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRGFya0FvZS5OYW1lID0gIkRhcmtBb2UiDQoJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERhcmtBb2UpDQoNCglsb2NhbCBEYXJrQW9lRW5hYmxlZCA9IGZhbHNlDQoNCglEYXJrQW9lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIG5vdCBEYXJrQW9lRW5hYmxlZCB0aGVuDQoJCQlEYXJrQW9lRW5hYmxlZCA9IHRydWUNCgkJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPTikiDQoJCWVsc2UNCgkJCURhcmtBb2VFbmFibGVkID0gZmFsc2UNCgkJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBIeXBlcmFuZyBIYWNrDQoNCglsb2NhbCBUZWNoUmFuZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVGVjaFJhbmcuTmFtZSA9ICJUZWNoUmFuZyINCglUZWNoUmFuZy5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQ0KDQoJbG9jYWwgSHlwZXJhbmdFbmFibGVkID0gZmFsc2UNCg0KCVRlY2hSYW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIG5vdCBIeXBlcmFuZ0VuYWJsZWQgdGhlbg0KCQkJSHlwZXJhbmdFbmFibGVkID0gdHJ1ZQ0KCQkJVGVjaFJhbmcuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUh5cGVyYW5nRW5hYmxlZCA9IGZhbHNlDQoJCQlUZWNoUmFuZy50ZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFzdGVyb2lkIEJlbHQgSGFjaw0KDQoJbG9jYWwgQXN0ZXJvaWRCZWx0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siDQoJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXN0ZXJvaWRCZWx0SGFjaykNCgkNCglsb2NhbCBBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UNCgkNCglBc3Rlcm9pZEJlbHRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IHRydWUNCgkJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBc3Rlcm9pZCBCZWx0IEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IGZhbHNlDQoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWaWdvciBHeXJhdGlvbiBIYWNrDQoNCglsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpZ0d5cmF0SGFjay5OYW1lID0gIlZpZ0d5cmF0SGFjayINCglWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spDQoJDQoJbG9jYWwgVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlDQoJDQoJVmlnR3lyYXRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZpZ29ySGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IHRydWUNCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBTbGltZSBCdWRkaWVzIEhhY2sNCg0KCWxvY2FsIFNsaW1lQnVkZGllcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2xpbWVCdWRkaWVzLk5hbWUgPSAiU2xpbWVCdWRkaWVzIg0KCVNsaW1lQnVkZGllcy5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2xpbWVCdWRkaWVzKQ0KDQoJbG9jYWwgU2xpbWVCdWRkaWVzRW5hYmxlZCA9IGZhbHNlDQoNCglTbGltZUJ1ZGRpZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2xpbWVCdWRkaWVzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gdHJ1ZQ0KCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPTikiDQoJCWVsc2UNCgkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBmYWxzZQ0KCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBDcnlzdGFsIEFybWFtZW50IEhhY2sNCg0KCWxvY2FsIENyeXN0YWxBcm1hbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ3J5c3RhbEFybWFtZW50Lk5hbWUgPSAiQ3J5c3RhbEFybWFtZW50Ig0KCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT04pIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpDQoNCglDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UNCg0KCUNyeXN0YWxBcm1hbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSB0cnVlDQoJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9OKSINCgkJZWxzZQ0KCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNwZWN0cmFsIEVtYm9kaW1lbnQNCg0KCWxvY2FsIFNwZWN0cmFsRW1ib2RpbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3BlY3RyYWxFbWJvZGltZW50Lk5hbWUgPSAiU3BlY3RyYWxFbWJvZGltZW50Ig0KCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT0ZGKSBbWF0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWN0cmFsRW1ib2RpbWVudCkNCg0KCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQ0KDQoJU3BlY3RyYWxFbWJvZGltZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IHRydWUNCgkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT04pIFtYXSINCgkJZWxzZQ0KCQkJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9GRikgW1hdIg0KCQllbmQNCgllbmQpDQoNCgktLSBHcmF2aXRhbCBHbG9iZSBIYWNrDQoNCglsb2NhbCBHcmF2aXRhbEdsb2JlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglHcmF2aXRhbEdsb2JlLk5hbWUgPSAiR3Jhdml0YWxHbG9iZSINCglHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YWxHbG9iZSkNCg0KCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UNCg0KCUdyYXZpdGFsR2xvYmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSB0cnVlDQoJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT04pIg0KCQllbHNlDQoJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlDQoJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrDQoNCglsb2NhbCBHcmF2aXRhdGlvbmFsRmllbGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdyYXZpdGF0aW9uYWxGaWVsZC5OYW1lID0gIkdyYXZpdGF0aW9uYWxGaWVsZCINCglHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGF0aW9uYWxGaWVsZCkNCg0KCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQ0KDQoJR3Jhdml0YXRpb25hbEZpZWxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IHRydWUNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT04pIg0KCQllbHNlDQoJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gZmFsc2UNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW1hdXJvdGljIExhbWJlbnQgSGFjaw0KDQoJbG9jYWwgQW1hdXJvdGljTGFtYmVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW1hdXJvdGljTGFtYmVudC5OYW1lID0gIkFtYXVyb3RpY0xhbWJlbnQiDQoJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFtYXVyb3RpY0xhbWJlbnQpDQoNCglBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlDQoNCglBbWF1cm90aWNMYW1iZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gdHJ1ZQ0KCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBmYWxzZQ0KCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFibGF6ZSBKdWRnZW1lbnQgSGFjaw0KDQoJbG9jYWwgQWJsYXplSnVkZ2VtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBYmxhemVKdWRnZW1lbnQuTmFtZSA9ICJBYmxhemVKdWRnZW1lbnQiDQoJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBYmxhemVKdWRnZW1lbnQpDQoNCglBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IGZhbHNlDQoNCglBYmxhemVKdWRnZW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSB0cnVlDQoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWb2lkIE9wZW5pbmcgSGFjaw0KDQoJbG9jYWwgVm9pZE9wZW5pbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZvaWRPcGVuaW5nLk5hbWUgPSAiVm9pZE9wZW5pbmciDQoJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVm9pZE9wZW5pbmcpDQoNCglWb2lkT3BlbmluZ0hhY2tFbmFibGVkID0gZmFsc2UNCg0KCVZvaWRPcGVuaW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IHRydWUNCgkJCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFNrZWxldG9uIEdyYWINCg0KCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2tlbGV0b25HcmFiLk5hbWUgPSAiU2tlbGV0b25HcmFiIg0KCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT0ZGKSBbQUlNRURdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTa2VsZXRvbkdyYWIpDQoNCglTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UNCg0KCVNrZWxldG9uR3JhYi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSB0cnVlDQoJCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9OKSBbQUlNRURdIg0KCQllbHNlDQoJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gZmFsc2UNCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT0ZGKSBbQUlNRURdIg0KCQllbmQNCgllbmQpDQoNCgktLSBIb2xvYmVhbSBDYW1lcmEgQXR0YWNoDQoNCglsb2NhbCBIb2xvYmVhbSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJSG9sb2JlYW0uTmFtZSA9ICJIb2xvYmVhbSINCglIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEhvbG9iZWFtKQ0KDQoJSG9sb2JlYW1FbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIGF0dGFjaENhbWVyYSh2KQ0KCQlpZiAodiB+PSBuaWwpIHRoZW4NCgkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgKHYuTmFtZSA9PSAiSG9sb2JlYW0iKSB0aGVuDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddW3YuTmFtZV0NCgkJCWVsc2UNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJCXJldHVybg0KCQkJZW5kDQoJCQkNCgkJCXYuVHJhbnNwYXJlbmN5ID0gMA0KDQoJCQl3YWl0KDQpDQoJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQllbmQNCgkJCQ0KCQkJdjpEZXN0cm95KCkNCgkJZW5kDQoJZW5kDQoJDQoJZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQlpZiBIb2xvYmVhbUVuYWJsZWQgdGhlbg0KCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikgdGhlbg0KCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHYuUG9zaXRpb24pLk1hZ25pdHVkZQ0KCQkJCQ0KCQkJCWlmICh2LlNpemUgPT0gVmVjdG9yMy5uZXcoNSwgNSwgNSkpIGFuZCAoZGlzdGFuY2UgPCAxMCkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuDQoJCQkJDQoJCQkJCXYuTmFtZSA9ICJIb2xvYmVhbSINCgkJCQkNCgkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkgDQoJCQkJCQkJYXR0YWNoQ2FtZXJhKHYpIA0KCQkJCQkJZW5kKSkNCgkJCQkJZW5kKQ0KCQkJCQkNCgkJCQkJbG9jYWwgZ3VpID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhcg0KCQkJCQkNCgkJCQkJd2FpdCgwLjUpDQoJCQkJCQ0KCQkJCQl3aGlsZSB3YWl0KCkgZG8NCgkJCQkJCWlmIG5vdChndWlbJzEnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMiddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyczJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzQnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNSddLkNELlRleHQgPT0gIi4uLiIpIHRoZW4NCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4NCgkJCQkJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJCQkJCQllbmQNCgkJCQ0KCQkJCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCQkJCWVuZCkNCgkJCQkJCQkNCgkJCQkJCQlicmVhaw0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCUhvbG9iZWFtLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEhvbG9iZWFtRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlIb2xvYmVhbUVuYWJsZWQgPSB0cnVlDQoJCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9OKSINCgkJCQ0KCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4gdjpEZXN0cm95KCkgZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJSG9sb2JlYW1FbmFibGVkID0gZmFsc2UNCgkJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW1wbGlmaWVkIEdlbmVzaXMgUmF5DQoNCglsb2NhbCBHZW5lc2lzUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglHZW5lc2lzUmF5Lk5hbWUgPSAiR2VuZXNpc1JheSINCglHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHZW5lc2lzUmF5KQ0KDQoJbG9jYWwgR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIEdSQ2hhcmdlID0gMSAtLSAxMDAwMDAwDQoNCglHZW5lc2lzUmF5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEdlbmVzaXNSYXlFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUdlbmVzaXNSYXlFbmFibGVkID0gdHJ1ZQ0KCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT04pIg0KCQllbHNlDQoJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IGZhbHNlDQoJCQlHZW5lc2lzUmF5LlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBUaGUgV29ybGQgSGFjaw0KDQoJbG9jYWwgVGhlV29ybGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRoZVdvcmxkLk5hbWUgPSAiVGhlV29ybGQiDQoJVGhlV29ybGQuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGhlV29ybGQpDQoNCglUaGVXb3JsZEVuYWJsZWQgPSBmYWxzZQ0KDQoJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVGhlV29ybGRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRoZVdvcmxkRW5hYmxlZCA9IHRydWUNCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJVGhlV29ybGRFbmFibGVkID0gZmFsc2UNCgkJCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFBvbGFyaXMgSGFjaw0KDQoJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUG9sYXJpcy5OYW1lID0gIlBvbGFyaXMiDQoJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUG9sYXJpcykNCg0KCVBvbGFyaXNFbmFibGVkID0gZmFsc2UNCg0KCVBvbGFyaXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgUG9sYXJpc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJUG9sYXJpc0VuYWJsZWQgPSB0cnVlDQoJCQlQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPTikiDQoJCWVsc2UNCgkJCVBvbGFyaXNFbmFibGVkID0gZmFsc2UNCgkJCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNoYXJkIENvbG9ycw0KDQoJbG9jYWwgUmFuZG9tQ29sb3JzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglSYW5kb21Db2xvcnMuTmFtZSA9ICJSYW5kb21Db2xvcnMiDQoJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmFuZG9tQ29sb3JzKQ0KDQoJbG9jYWwgQ29sb3JzTGlzdCA9IHsiUmVhbGx5IHJlZCIsICJSZWFsbHkgYmx1ZSIsICJOZXcgWWVsbGVyIiwgIkhvdCBwaW5rIiwgIlJveWFsIHB1cnBsZSIsICJMaW1lIGdyZWVuIiwgIkRlZXAgb3JhbmdlIiwgIlRvb3RocGFzdGUiLCAiSW5zdGl0dXRpb25hbCB3aGl0ZSJ9DQoJbG9jYWwgU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgZnVuY3Rpb24gc2hhcmRSYW5kb21pemVyKCkNCgkJZm9yIGksIGNoaWxkIGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl06R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIG5vdCBjaGlsZC5OYW1lID09ICJTaGFyZCIgdGhlbiBwcmludCgiQ2hpbGQgbm90IGEgU2hhcmQiKQ0KCQkJZWxzZWlmIGNoaWxkLk5hbWUgPT0gIlNoYXJkIiBhbmQgbm90IGNoaWxkOkZpbmRGaXJzdENoaWxkKCJDQ0Jvb2wiKSB0aGVuDQoJCQkJeHBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJY2hpbGQuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KENvbG9yc0xpc3RbbWF0aC5yYW5kb20oMSw5KV0pDQoJCQkJZW5kLCBmdW5jdGlvbihlKQ0KCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpDQoJCQkJCXdhcm4oIlt0cmFjZWJhY2tdICIsIGRlYnVnLnRyYWNlYmFjaygpKQ0KCQkJCWVuZCkNCgkJCQlsb2NhbCBDQ0Jvb2wgPSBJbnN0YW5jZS5uZXcoIkJvb2xWYWx1ZSIpDQoJCQkJQ0NCb29sLk5hbWUgPSAiQ0NCb29sIg0KCQkJCUNDQm9vbC5QYXJlbnQgPSBjaGlsZA0KCQkJCUNDQm9vbC5WYWx1ZSA9IHRydWUNCgkJCWVsc2VpZiBjaGlsZC5OYW1lID09ICJTaGFyZCIgYW5kIGNoaWxkOkZpbmRGaXJzdENoaWxkKCJDQ0Jvb2wiKS5WYWx1ZSB0aGVuIGVuZA0KCQllbmQNCgllbmQNCg0KCVJhbmRvbUNvbG9ycy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTaGFyZENvbG9yRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTaGFyZENvbG9yRW5hYmxlZCA9IHRydWUNCgkJCXByaW50KCJUdXJuZWQgb24gUmFuZG9tIFNoYXJkIENvbG9ycyIpDQoJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPTikiDQoJCQl3aGlsZSBTaGFyZENvbG9yRW5hYmxlZCBkbw0KCQkJCXNoYXJkUmFuZG9taXplcigpDQoJCQkJd2FpdCgxKQ0KCQkJZW5kDQoJCWVsc2UNCgkJCVNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UNCgkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9GRikiDQoJCWVuZAkNCgllbmQpDQoNCgktLSBDb250cm9sbGVkIEVjaG9lcw0KDQoJbG9jYWwgRWNob2VzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglFY2hvZXMuTmFtZSA9ICJFY2hvZXMiDQoJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVjaG9lcykNCg0KCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gZmFsc2UNCglFY2hvZXNQaGFzZSA9IDENCg0KCUVjaG9lcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9IHRydWUNCgkJCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPTikiDQoJCWVsc2UNCgkJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gZmFsc2UNCgkJCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBPcmJpdGFsIFN0cmlrZSBIYWNrDQoNCglsb2NhbCBPcmJpdGFsID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglPcmJpdGFsLk5hbWUgPSAiT3JpYnRhbCINCglPcmJpdGFsLlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgT3JiaXRhbCkNCg0KCU9yaWJ0YWxIYWNrRW5hYmxlZCA9IGZhbHNlDQoNCglPcmJpdGFsLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIG5vdCBPcmJpdGFsSGFja0VuYWJsZWQgdGhlbg0KCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJT3JiaXRhbC5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UNCgkJCU9yYml0YWwuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24NCg0KCWxvY2FsIFNoYXR0ZXJpbmdFcnVwdGlvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2hhdHRlcmluZ0VydXB0aW9uLk5hbWUgPSAiU2hhdHRlcmluZ0VydXB0aW9uIg0KCVNoYXR0ZXJpbmdFcnVwdGlvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2hhdHRlcmluZ0VydXB0aW9uKQ0KDQoJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlDQoNCglTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gdHJ1ZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPTikiDQoJCWVsc2UNCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBmYWxzZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbGx1c2l2ZSBBdGFrZSBIYWNrDQoNCglsb2NhbCBJbGx1c2l2ZUF0YWtlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJbGx1c2l2ZUF0YWtlLk5hbWUgPSAiSWxsdXNpdmVBdGFrZSINCglJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWxsdXNpdmVBdGFrZSkNCg0KCUlsbHVzaXZlQXRha2VFbmFibGVkID0gZmFsc2UNCg0KCUlsbHVzaXZlQXRha2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSB0cnVlDQoJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT04pIg0KCQllbHNlDQoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlDQoJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRXRoZXJlYWwgQWN1bWVuIEhhY2sNCg0KCWxvY2FsIEV0aGVyZWFsQWN1bWVuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglFdGhlcmVhbEFjdW1lbi5OYW1lID0gIkV0aGVyZWFsQWN1bWVuIg0KCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV0aGVyZWFsQWN1bWVuKQ0KDQoJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gZmFsc2UNCg0KCUV0aGVyZWFsQWN1bWVuLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSB0cnVlDQoJCQlFdGhlcmVhbEFjdW1lbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IGZhbHNlDQoJCQlFdGhlcmVhbEFjdW1lbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBGb3JtaWRhYmxlIFJvYXIgSGFjaw0KDQoJbG9jYWwgRm9ybWlkYWJsZVJvYXIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUZvcm1pZGFibGVSb2FyLk5hbWUgPSAiRm9ybWlkYWJsZVJvYXIiDQoJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRm9ybWlkYWJsZVJvYXIpDQoNCglGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSBmYWxzZQ0KDQoJRm9ybWlkYWJsZVJvYXIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgRm9ybWlkYWJsZVJvYXJFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IHRydWUNCgkJCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UNCgkJCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFRveGljIEJhc2lsaXNrIEhhY2sNCg0KCWxvY2FsIFRveGljQmFzaWxpc2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRveGljQmFzaWxpc2suTmFtZSA9ICJUb3hpY0Jhc2lsaXNrIg0KCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUb3hpY0Jhc2lsaXNrKQ0KDQoJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQ0KDQoJVG94aWNCYXNpbGlzay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IHRydWUNCgkJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPTikiDQoJCWVsc2UNCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gZmFsc2UNCgkJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBcmNhbmUgR3VhcmRpYW4gSGFjaw0KDQoJbG9jYWwgQXJjYW5lR3VhcmRpYW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFyY2FuZUd1YXJkaWFuLk5hbWUgPSAiQXJjYW5lR3VhcmRpYW4iDQoJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXJjYW5lR3VhcmRpYW4pDQoNCglBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQ0KDQoJQXJjYW5lR3VhcmRpYW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IHRydWUNCgkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gZmFsc2UNCgkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNwbGl0dGluZyBTbGltZSBIYWNrDQoNCglsb2NhbCBTcGxpdHRpbmdTbGltZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3BsaXR0aW5nU2xpbWUuTmFtZSA9ICJTcGxpdHRpbmdTbGltZSINCglTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGxpdHRpbmdTbGltZSkNCg0KCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlDQoNCglTcGxpdHRpbmdTbGltZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTcGxpdHRpbmdTbGltZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gdHJ1ZQ0KCQkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT04pIg0KCQllbHNlDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBmYWxzZQ0KCQkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRG91YmxlIFJheSBIYWNrDQoNCglsb2NhbCBEb3VibGVSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCURvdWJsZVJheS5OYW1lID0gIkRvdWJsZVJheSINCglEb3VibGVSYXkuVGV4dCA9ICJEb3VibGUgUmF5IEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERvdWJsZVJheSkNCg0KCURvdWJsZVJheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBub3QgRG91YmxlUmF5RW5hYmxlZCB0aGVuDQoJCQlEb3VibGVSYXlFbmFibGVkID0gdHJ1ZQ0KCQkJRG91YmxlUmF5LlRleHQgPSAiRG91YmxlIFJheSBIYWNrIChPTikiDQoJCWVsc2UNCgkJCURvdWJsZVJheUVuYWJsZWQgPSBmYWxzZQ0KCQkJRG91YmxlUmF5LlRleHQgPSAiRG91YmxlIFJheSBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBMaWdodG5pbmcgQmFycmFnZSBIYWNrDQoNCglsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSINCglCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQ0KDQoJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBub3QgU3Rvcm1CdWxsZXRzRW5hYmxlZCB0aGVuDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gdHJ1ZQ0KCQkJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT04pIg0KCQllbHNlDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gZmFsc2UNCgkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZpcnR1YWwgWm9uZSBIYWNrDQoNCglsb2NhbCBWaXJ0dWFsWm9uZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVmlydHVhbFpvbmUuTmFtZSA9ICJWaXJ0dWFsWm9uZSINCglWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaXJ0dWFsWm9uZSkNCg0KCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlDQoNCglWaXJ0dWFsWm9uZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWaXJ0dWFsWm9uZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gdHJ1ZQ0KCQkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT04pIg0KCQllbHNlDQoJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSBmYWxzZQ0KCQkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW50aS1CbGluZA0KDQoJbG9jYWwgQW50aUJsaW5kID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbnRpQmxpbmQuTmFtZSA9ICJBbnRpQmxpbmQiDQoJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT0ZGKSBbS10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlCbGluZCkNCg0KCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgbm9ybWFsRm9nQ29sb3IgPSBnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yDQoJbG9jYWwgbm9ybWFsRm9nRW5kID0gZ2FtZS5MaWdodGluZy5Gb2dFbmQNCglsb2NhbCBub3JtYWxCcmlnaHRuZXNzID0gZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzDQoJbG9jYWwgbm9ybWFsQ2xvY2tUaW1lID0gZ2FtZS5MaWdodGluZy5DbG9ja1RpbWUNCg0KCWxvY2FsIGZ1bmN0aW9uIEFudGlCbGluZEZ1bmMoKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPTikgW0tdIg0KCQkJd2hpbGUgQW50aUJsaW5kRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nQ29sb3IgPSBub3JtYWxGb2dDb2xvcg0KCQkJCWdhbWUuTGlnaHRpbmcuRm9nRW5kID0gbm9ybWFsRm9nRW5kDQoJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcw0KCQkJCWdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lID0gbm9ybWFsQ2xvY2tUaW1lDQoJCQllbmQNCgkJZWxzZQ0KCQkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlDQoJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPRkYpIFtLXSINCgkJZW5kDQoJZW5kDQoNCglBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpDQoNCglnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQ0KCQlpZiBBbnRpQmxpbmRFbmFibGVkIHRoZW4NCgkJCWlmIGQuTmFtZSA9PSAiU2NyZWVuR3VpIiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5TY3JlZW5HdWk6RGVzdHJveSgpDQoJCQllbHNlaWYgZC5OYW1lID09ICJEaXN0b3J0IiB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5EaXN0b3J0OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFudGktTGFnDQoNCglsb2NhbCBBbnRpTGFnID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbnRpTGFnLk5hbWUgPSAiQW50aUxhZyINCglBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlMYWcpDQoNCglBbnRpTGFnRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiByZW1vdmVMYWcoKQ0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuTG9jYWxFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuDQoJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbg0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiQmFja0RlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWxNZXNoIikgdGhlbg0KCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbg0KCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQlmb3IgXywgeCBpbiBwYWlycyh2LkNoYXJhY3RlcjpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCWlmIHguTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbg0KCQkJCQl4OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikNCgkJaWYgQW50aUxhZ0VuYWJsZWQgdGhlbg0KCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4NCgkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHYuTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIHRoZW4NCgkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbg0KCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBbnRpTGFnRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpTGFnRW5hYmxlZCA9IHRydWUNCgkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT04pIg0KCQkJcmVtb3ZlTGFnKCkNCgkJZWxzZQ0KCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbmZpbml0ZSBTcHJpbnQNCg0KCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIg0KCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9GRikgW1RdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spDQoNCglTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UNCglTZXRTcGVlZCA9IDY0DQoNCglmdW5jdGlvbiBtb2RpZnlTcGVlZCgpDQoJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikuQ2hhbmdlZDpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJCWlmIFNwZWVkaGFja0VuYWJsZWQgYW5kIFNldFNwZWVkIH49IG5pbCB0aGVuDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJZWxzZQ0KCQkJCXJldHVybg0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQ0KCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPTikgW1RdIg0KCQkJbW9kaWZ5U3BlZWQoKQ0KCQkJd2FpdCgpDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQltb2RpZnlTcGVlZCgpDQoJCQkJCXdhaXQoKQ0KCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPRkYpIFtUXSINCgkJZW5kDQoJZW5kDQoNCglTcGVlZGhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luU3BlZWQpDQoNCgktLSBJZ25vcmUgUGh5c2ljcw0KDQoJbG9jYWwgSWdub3JlUGh5c2ljcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJSWdub3JlUGh5c2ljcy5OYW1lID0gImZJZ25vcmVQaHlzaWNzIg0KCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT0ZGKSBbWl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElnbm9yZVBoeXNpY3MpDQoNCglJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBmdW5jdGlvbiBpbml0aWFsTnVsbGlmeUZvcmNlcygpDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5GbGlwc0hvbGRlcjpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQ0KCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpDQoJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuDQoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQpDQoJZW5kDQoNCglmdW5jdGlvbiBiZWdpbk51bGxpZnlGb3JjZXMoKQ0KCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IHRydWUNCgkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT04pIFtaXSINCgkJCWluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkNCgkJCUFmdGVyTnVsbGlmeUZvcmNlcygpDQoJCQl3aGlsZSBJZ25vcmVQaHlzaWNzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlDQoJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9GRikgW1pdIg0KCQllbmQNCgllbmQNCg0KCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykNCg0KCS0tIEFudGktR3Jhdml0eQ0KDQoJbG9jYWwgQW50aUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFudGlHcmF2aXR5Lk5hbWUgPSAiQW50aUdyYXZpdHkiDQoJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9GRikgW0ddIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpR3Jhdml0eSkNCg0KCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBBbnRpR3Jhdml0eUZ1bmMoKQ0KCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW50aUdyYXZpdHlFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9OKSBbR10iDQoJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpDQoJCQlCb2R5Rm9yY2UuUGFyZW50ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0DQoJCQlCb2R5Rm9yY2UuTmFtZSA9ICJBbnRpR3Jhdml0eUZvcmNlIg0KCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkNCgkJZWxzZQ0KCQkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCgkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPRkYpIFtHXSINCgkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQW50aUdyYXZpdHlGb3JjZSIpIHRoZW4NCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW50aUdyYXZpdHlGb3JjZTpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCUFudGlHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpR3Jhdml0eUZ1bmMpDQoNCgktLSBJbmVydGlhIEdyYXZpdHkNCg0KCWxvY2FsIEluZXJ0aWFHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Ig0KCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbmVydGlhR3Jhdml0eSkNCg0KCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoNCglJbmVydGlhR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBJbmVydGlhR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gdHJ1ZQ0KCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9OKSINCgkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikNCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiDQoJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCAxNjM4LCAwKQ0KCQllbHNlDQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQ0KCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9GRikiDQoJCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkluZXJ0aWFHcmF2aXR5Rm9yY2UiKSB0aGVuDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkluZXJ0aWFHcmF2aXR5Rm9yY2U6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQ2xpY2stVFANCg0KCWxvY2FsIENsaWNrVFAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUNsaWNrVFAuTmFtZSA9ICJDbGlja1RQIg0KCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT0ZGKSBbSiB0byB0cCB0byBtb3VzZV0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENsaWNrVFApDQoNCglDbGlja1RQRW5hYmxlZCA9IGZhbHNlDQoNCglDbGlja1RQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIENsaWNrVFBFbmFibGVkID09IHRydWUgdGhlbg0KCQkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQ0KCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPRkYpIFtKIHRvIENsaWNrLVRQXSINCgkJZWxzZQ0KCQkJQ2xpY2tUUEVuYWJsZWQgPSB0cnVlDQoJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9OKSBbSiB0byBDbGljay1UUF0iDQoJCWVuZA0KCWVuZCkNCg0KCWZ1bmN0aW9uIGNsaWNrdHAocG9zaXRpb24pDQoJCWxvY2FsIHBsYXllciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcg0KCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZA0KCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpDQoJZW5kDQoNCgktLSBGcmVlemUNCg0KCWxvY2FsIEZyZWV6ZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRnJlZXplLk5hbWUgPSAiRnJlZXplIg0KCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT0ZGKSBbRl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZyZWV6ZSkNCg0KCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gRnJlZXplRnVuYygpDQoJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRnJlZXplRW5hYmxlZCA9IHRydWUNCgkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT04pIFtGXSINCgkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUNCgkJZWxzZQ0KCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlDQoJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9GRikgW0ZdIg0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJZW5kDQoJZW5kDQoNCglGcmVlemUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEZyZWV6ZUZ1bmMpDQoNCgktLSBMb25nIEZsYXNoDQoNCglsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUxGbGFzaC5OYW1lID0gIkZsYXNoIg0KCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9GRikgW2AgdG8gdXNlXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTEZsYXNoKQ0KDQoJRmxhc2hFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIGxvbmdmbGFzaCgpDQoJCWxvY2FsIG1vdXNlcG9zID0gbW91c2UuSGl0LnANCgkJbG9jYWwgYXJncyA9IHsNCgkJCVsxXSA9ICJTdG9ybSIsDQoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIg0KCQl9DQoJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWxvY2FsIGFyZ3MgPSB7DQoJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsDQoJCQlbM10gPSB7DQoJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLA0KCQkJCVsiT3JpZ2luIl0gPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUucA0KCQkJfQ0KCQl9DQoJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgllbmQNCg0KCUxGbGFzaC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBGbGFzaEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRmxhc2hFbmFibGVkID0gdHJ1ZQ0KCQkJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT04pIFtgIHRvIHVzZV0iDQoJCWVsc2UNCgkJCUZsYXNoRW5hYmxlZCA9IGZhbHNlDQoJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPRkYpIFtgIHRvIHVzZV0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZpZXcgVGFyZ2V0DQoNCglsb2NhbCBWaWV3VGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaWV3VGFyZ2V0Lk5hbWUgPSAiVmlld1RhcmdldCINCglWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9GRikgW1ZdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaWV3VGFyZ2V0KQ0KDQoJdmlld2luZyA9IGZhbHNlDQoNCglmdW5jdGlvbiB2aWV3KCkNCgkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCWlmIHZpZXdpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCXZpZXdpbmcgPSB0cnVlDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9OKSBbVl0iDQoJCQllbHNlDQoJCQkJdmlld2luZyA9IGZhbHNlDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPRkYpIFtWXSINCgkJCWVuZA0KCQllbHNlaWYgdmlld2luZyA9PSB0cnVlIHRoZW4gDQoJCQl2aWV3aW5nID0gZmFsc2UNCgkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPRkYpIFtWXSINCgkJZW5kDQoJZW5kDQoNCglWaWV3VGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh2aWV3KQ0KDQoJLS0gVGVsZXBvcnQgdG8gVGFyZ2V0DQoNCglsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCINCglUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT0ZGKSBbVV0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQ0KDQoJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIFRQVG9UYXJnZXQoKQ0KCQlpZiBUUFRhcmdldEVuYWJsZWQgYW5kIHRhcmdldCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikNCg0KCQkJZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQ0KCQllbmQNCgllbmQNCg0KCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlDQoJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT04pIFtVXSINCgkJZWxzZQ0KCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCgkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPRkYpIFtVXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gTG9vcCBUZWxlcG9ydCB0byBUYXJnZXQNCg0KCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTG9vcFRQVGFyZ2V0Lk5hbWUgPSAiTG9vcFRQVGFyZ2V0Ig0KCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpDQoNCglMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCg0KCUxvb3BUUFRhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBMb29wVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSB0cnVlDQoJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT04pIg0KCQkJd2hpbGUgTG9vcFRQVGFyZ2V0RW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCVRQVG9UYXJnZXQoKQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEVTUA0KDQoJbG9jYWwgRVNQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglFU1AuTmFtZSA9ICJFU1AiDQoJRVNQLlRleHQgPSAiRVNQIChPRkYpIFtCXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQ0KDQoJRVNQRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIGdhbWUuQ29yZUd1aSkNCglIb2xkZXIuTmFtZSA9ICJFU1AiDQoNCglsb2NhbCBVcGRhdGVGdW5jcyA9IHt9DQoNCglsb2NhbCBCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpDQoJQm94Lk5hbWUgPSAibmlsQm94Ig0KCUJveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkNCglCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQ0KCUJveC5UcmFuc3BhcmVuY3kgPSAwLjcNCglCb3guWkluZGV4ID0gMA0KCUJveC5BbHdheXNPblRvcCA9IHRydWUNCglCb3guVmlzaWJsZSA9IHRydWUNCg0KCWxvY2FsIE5hbWVUYWcgPSBJbnN0YW5jZS5uZXcoIkJpbGxib2FyZEd1aSIpDQoJTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWciDQoJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQ0KCU5hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQ0KCU5hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlDQoJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkNCg0KCWxvY2FsIFRhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgTmFtZVRhZykNCglUYWcuTmFtZSA9ICJUYWciDQoJVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxDQoJVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkNCglUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQ0KCVRhZy5UZXh0U2l6ZSA9IDIwDQoJVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpDQoJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpDQoJVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQNCglUYWcuVGV4dCA9ICJuaWwiDQoJVGFnLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglUYWcuVGV4dFNjYWxlZCA9IGZhbHNlDQoJVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwDQoNCglmdW5jdGlvbiBMb2FkQ2hhcmFjdGVyKHYpDQoJCWlmIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsDQoJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikNCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkNCg0KCQkJbG9jYWwgYiA9IEJveDpDbG9uZSgpDQoJCQliLk5hbWUgPSB2Lk5hbWUgLi4gIkJveCINCgkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCWIuUGFyZW50ID0gdkhvbGRlcg0KDQoJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpDQoJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIk5hbWVUYWciDQoJCQl0LlBhcmVudCA9IHZIb2xkZXINCgkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpDQoJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4NCgkJCQlyZXR1cm4gVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCQllbmQNCgkJCXQuVGFnLlRleHQgPSB2Lk5hbWUNCgkJCXQuRW5hYmxlZCA9IHRydWUNCgkJCXdhaXQoKQ0KDQoJCQlsb2NhbCBmdW5jdGlvbiBVcGRhdGVOYW1lVGFnKCkNCgkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUNCgkJCQkJCWxvY2FsIG1heGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuTWF4SGVhbHRoICogMTApDQoJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQ0KCQkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZSAuLiAiXG4iIC4uICgobWF4aCB+PSAwIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoKGggLyBtYXhoKSAqIDEwMCkpKSBvciAiMCIpIC4uICIlICAiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKQ0KCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuDQoJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDANCgkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNw0KCQkJCQkJZWxzZQ0KCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxDQoJCQkJCQllbmQNCgkJCQkJCWlmIGggLyBtYXhoID09IDEgdGhlbg0KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJCQkJCWVsc2VpZiBoIC8gbWF4aCA9PSAwIHRoZW4NCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQllbHNlDQoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZCkgdGhlbg0KCQkJCQlVcGRhdGVGdW5jc1t2XSA9IG5pbA0KCQkJCWVuZA0KCQkJZW5kDQoJCQlVcGRhdGVOYW1lVGFnKCkNCgkJCVVwZGF0ZUZ1bmNzW3ZdID0gVXBkYXRlTmFtZVRhZw0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIFVubG9hZENoYXJhY3Rlcih2KQ0KCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJCb3giKSB+PSBuaWwgb3IgdkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIk5hbWVUYWciKSB+PSBuaWwpIHRoZW4NCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gTG9hZFBsYXllcih2KQ0KCQlpZiB2IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuDQoJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBIb2xkZXIpDQoJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUNCgkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpDQoJCQkJaWYgRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJcGNhbGwoTG9hZENoYXJhY3RlciwgdikNCgkJCQllbmQNCgkJCWVuZCkNCgkJCXYuQ2hhcmFjdGVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbigpDQoJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQ0KCQkJZW5kKQ0KCQkJTG9hZENoYXJhY3Rlcih2KQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIFVubG9hZFBsYXllcih2KQ0KCQlVbmxvYWRDaGFyYWN0ZXIodikNCgkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCWlmIHZIb2xkZXIgdGhlbg0KCQkJdkhvbGRlcjpEZXN0cm95KCkNCgkJZW5kDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKTpHZXRQbGF5ZXJzKCkpIGRvDQoJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQ0KCWVuZA0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQlwY2FsbChMb2FkUGxheWVyLCB2KQ0KCWVuZCkNCg0KCWdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLlBsYXllclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQ0KCWVuZCkNCg0KCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQ0KCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbg0KCQkJaWYgSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbg0KCQkJCVVubG9hZENoYXJhY3RlcihpKQ0KCQkJCXdhaXQoKQ0KCQkJCUxvYWRDaGFyYWN0ZXIoaSkNCgkJCWVuZA0KCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4NCgkJCWxvY2FsIHAgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKTpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQ0KCQkJaWYgcCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuDQoJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlVcGRhdGVGdW5jc1twXSgpDQoJCQkJZW5kKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCWZ1bmN0aW9uIHRvZ2dsZUVTUCgpDQoJCWlmIEVTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRVNQRW5hYmxlZCA9IHRydWUNCgkJCUVTUC5UZXh0ID0gIkVTUCAoT04pIFtCXSINCgkJCWZvciBpLHYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0UGxheWVycygpKSBkbw0KCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUVTUEVuYWJsZWQgPSBmYWxzZQ0KCQkJRVNQLlRleHQgPSAiRVNQIChPRkYpIFtCXSINCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChVbmxvYWRQbGF5ZXIsIHYpIGVuZCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCUVTUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlRVNQKQ0KDQoJLS0gVFAgdG8gRHJvcHMNCg0KCWxvY2FsIFRQU2hhcmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUFNoYXJkcy5OYW1lID0gIlRQU2hhcmRzIg0KCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUUFNoYXJkcykNCg0KCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCQ0KDQoJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBEaWFtb25kcy5OYW1lID0gIlRQRGlhbW9uZHMiDQoJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQ0KDQoJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgcGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCXBsYXRlLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlDQoJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkNCglwbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDEwMDAwMCwgMCkNCglwbGF0ZS5BbmNob3JlZCA9IHRydWUNCglwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQ0KCXBsYXRlLlRyYW5zcGFyZW5jeSA9IDAuNQ0KDQoJbG9jYWwgdGltZSA9IDANCglsb2NhbCBjYW5JbnZpcyA9IGZhbHNlDQoNCglmdW5jdGlvbiB0ZWxlcG9ydFRvRHJvcHMoKQ0KCQlsb2NhbCBocnAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5TZXJ2ZXJFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJTaGFyZCIgdGhlbg0KCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQ0KCQkJCXdhaXQoLjIpDQoJCQllbHNlaWYgVFBEaWFtb25kc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiRGlhbW9uZCIgdGhlbg0KCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQ0KCQkJCXdhaXQoLjIpDQoJCQllbmQNCg0KCQkJaWYgY2FuSW52aXMgdGhlbg0KCQkJCWlmIHRpbWUgPT0gNSB0aGVuIA0KCQkJCQlicmVhaw0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KDQoJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkNCg0KCQlyZXR1cm4gDQoJZW5kDQoNCg0KCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQ0KCQlsb2NhbCBocnAgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpDQoJCXdoaWxlIHdhaXQoKSBkbw0KCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4NCgkJCQlpZiB0aW1lIH49IDAgdGhlbiByZXR1cm4NCgkJCQllbHNlDQoJCQkJCWlmIGNhbkludmlzIHRoZW4NCgkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQkJd2FpdCgxKQ0KCQkJCQkJcmVwZWF0DQoJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkNCgkJCQkJCQl0aW1lID0gdGltZSArIDENCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQl1bnRpbCB0aW1lID09IDYNCgkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkNCgkJCQkJCXdhaXQoNy41KQ0KCQkJCQkJdGltZSA9IDANCgkJCQkJZWxzZQ0KCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCWlmIG5vdCBUUFNoYXJkc0VuYWJsZWQgYW5kIG5vdCBUUERpYW1vbmRzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCWJyZWFrDQoJCQkJCQkJZW5kDQoJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbHNlDQoJCQkJYnJlYWsNCgkJCWVuZA0KCQllbmQNCg0KCQlyZXR1cm4NCgllbmQNCg0KCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuDQoJCQljYW5JbnZpcyA9IHRydWUNCgkJZW5kDQoJCWlmIFRQU2hhcmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUFNoYXJkc0VuYWJsZWQgPSB0cnVlDQoJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT04pIg0KCQkJc3RhcnRUaW1lcigpDQoJCQl3aGlsZSBUUFNoYXJkc0VuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4NCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwDQoJCQkJCXN0YXJ0VGltZXIoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlDQoJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbg0KCQkJY2FuSW52aXMgPSB0cnVlDQoJCWVuZA0KCQlpZiBUUERpYW1vbmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IHRydWUNCgkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT04pIg0KCQkJc3RhcnRUaW1lcigpDQoJCQl3aGlsZSBUUERpYW1vbmRzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJc3RhcnRUaW1lcigpDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQ0KCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBSZWpvaW4gU2VydmVyIEZ1bmN0aW9uDQoNCgktLSBUaGlzIHdhcyBvbmx5IHByZXNlcnZlZCBhcyBJIGNvdWxkbid0IHRoaW5rIG9mIGFueSBvdGhlciBwbGFjZSB0byBwdXQgdGhlIGZ1bmN0aW9uIGZvciBub3cuDQoJLS0gTWlnaHQgZ2V0IG1vdmVkIGxhdGVyLCBpZHVubm8uDQoJZnVuY3Rpb24gcmVqb2luKCkNCgkJbG9jYWwgdHMgPSBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpDQoJCWxvY2FsIHAgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5Mb2NhbFBsYXllcg0KDQoJCXRzOlRlbGVwb3J0KGdhbWUuUGxhY2VJZCwgcCkNCgllbmQNCg0KCS0tIEdVSSBUd2Vha2luZw0KDQoJZm9yIGksIHYgaW4gcGFpcnMoYm9yZGVycykgZG8NCgkJdi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDEsIDAuNSkNCgkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJdi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC43NTANCgkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQl2LkJvcmRlclNpemVQaXhlbCA9IDANCgkJdi5TaXplQ29uc3RyYWludCA9IEVudW0uU2l6ZUNvbnN0cmFpbnQuUmVsYXRpdmVZWQ0KCQl2LkFjdGl2ZSA9IHRydWUNCgkJdi5QYXJlbnQgPSBlYmd1aQ0KCWVuZA0KDQoJZm9yIGksIHYgaW4gcGFpcnMoYnV0dG9ucykgZG8NCgkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjM2LCAyMCwgMTE1KQ0KCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMg0KCQl2LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQ0KCQl2LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCgkJdi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCgkJdi5UZXh0U2NhbGVkID0gdHJ1ZQ0KCQl2LlRleHRTaXplID0gMTQuMDAwDQoJCXYuVGV4dFdyYXBwZWQgPSB0cnVlDQoJCXYuTGF5b3V0T3JkZXIgPSBpDQoJCXYuUGFyZW50ID0gbWFpbmZyYW1lDQoJZW5kDQoNCgktLSBjb21tYW5kQm94DQoNCgl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCXRhcmdldFNldHRpbmcgPSAic2VsZWN0Ig0KCWxvb3BpbmcgPSBmYWxzZQ0KCXNtYXJ0QXR0YWNrID0gdHJ1ZQ0KCUhlYWxTZXR0aW5nID0gMQ0KCXN0dW5FbmFibGVkID0gdHJ1ZQ0KCUZQU0Ryb3BwaW5nID0gZmFsc2UNCglsb2NhbCBidXR0b25IZWlnaHQgPSAzMA0KCWxvY2FsIGJ1dHRvbkdhcCA9IDcNCiAgICBsb2NhbCBoZWxwMSA9IFtbfHwgQmVsb3cgaXMgYSBmdWxsLCBjb21wcmVoZW5zaXZlIGxpc3Qgb2YgZWFjaCBjb21tYW5kIEVCR1VJIGhhcyB0byBvZmZlci4gfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgKFByZWZpeCBpcyA7KQ0KDQogICAgICAgICAgICAgICAgImhlbHAgW251bV0iIC0gU2hvd3MgdGhpcyBjb21tYW5kcyBsaXN0ISBDaG9vc2UgYmV0d2VlbiBwYWdlcyAxIG9yIDIuDQogICAgICAgICAgICAgICAgImNoYW5nZWxvZyIgLSBTaG93cyBhIGxpbmsgdG8gdGhlIGNoYW5nZWxvZyBmb3IgRUJHVUkgYW5kIGl0cyBDYW5hcnkgYnJhbmNoLg0KICAgICAgICAgICAgICAgICJyZSIgLSBSZWZyZXNoZXMgeW91ciBjaGFyYWN0ZXIuIFRoaXMgd2lsbCB0ZW1wb3JhcmlseSB2YW5pc2ggeW91LCBhbmQgYnJpbmcgeW91IGJhY2sgd2l0aCBmdWxsIHN0YXRzLg0KICAgICAgICAgICAgICAgICJ0cCA8bWFwPiIgLSBUZWxlcG9ydHMgeW91IHRvIHRoZSBtYXAgb2YgeW91ciBjaG9pY2UuIEhlYXZlbiBkb2Vzbid0IHdvcmsgd2l0aG91dCB0aGUgZ2FtZXBhc3MuDQogICAgICAgICAgICAgICAgImRlY2x1dHRlciIgLSBDbGVhcnMgdGhlIGJhY2tncm91bmRzIG9mIHRoZSBtYWluIEdVSXMsIGFuZCBzaHJpbmtzIHRoZSBtb3Zlcy9zdGF0cy4NCiAgICAgICAgICAgICAgICAicmFpbiIgLSBFbmFibGVzIHRoZSByYWluIGZyb20gV2F0ZXIgbWFwLiBDYXJlZnVsLCB5b3UgaGF2ZSB0byByZWpvaW4gdG8gdHVybiBpdCBvZmYhDQogICAgICAgICAgICAgICAgImZpeCIgLSBSZW1vdmVzIHRoZSAiTE9BRElORyIgc2NyZWVuIHdoZW4gdGVsZXBvcnRpbmcgdG8gY2VydGFpbiBtYXBzLg0KICAgICAgICAgICAgICAgICJidXR0b25oZWlnaHQgPG51bT4iIC0gQ2hhbmdlcyB0aGUgaGVpZ2h0LCBpbiBwaXhlbHMsIG9mIEVCR1VJJ3MgYnV0dG9ucy4NCiAgICAgICAgICAgICAgICAiYnV0dG9uZ2FwIDxudW0+IiAtIENoYW5nZXMgdGhlIGdhcCwgaW4gcGl4ZWxzLCBiZXR3ZWVuIEVCR1VJJ3MgYnV0dG9ucy4NCiAgICAgICAgICAgICAgICAicmVqb2luIiAtIFJlam9pbnMgdGhlIHNlcnZlci4NCiAgICAgICAgICAgICAgICAiYXVyYS9vZmYiIC0gQW4gYWx0ZXJuYXRlIG1ldGhvZCBvZiBzaWxlbnRseSB0dXJuaW5nIG9mZiBhdXJhLg0KICAgICAgICAgICAgICAgICJ0YXJnZXRzZXR0aW5nIDxtb2RlPiIgLSBNb2RpZmllcyBob3cgRUJHVUkgc2VsZWN0cyB0YXJnZXRzLiBXb24ndCB0YXJnZXQgdGhvc2UgaW4gc2FmZXpvbmUsIGV4Y2VwdCBpbiAic2VsZWN0IiBtb2RlLg0KICAgICAgICAgICAgICAgICAgICAtLSAic2VsZWN0IiBhbGxvd3MgeW91IHRvIGNob29zZSBieSB0eXBpbmcgaW50byB0aGUgY29tbWFuZCBib3guIFNldCB0byB0aGlzIGJ5IGRlZmF1bHQuDQogICAgICAgICAgICAgICAgICAgIC0tICJjbG9zZXN0IiBzZWxlY3RzIHRoZSBwZXJzb24gY2xvc2VzdCB0byB5b3UuDQogICAgICAgICAgICAgICAgICAgIC0tICJmYXJ0aGVzdCIgc2VsZWN0cyB0aGUgcGVyc29uIGZhcnRoZXN0IGZyb20geW91Lg0KICAgICAgICAgICAgICAgICAgICAtLSAibG93aHAiIHNlbGVjdHMgdGhlIHBlcnNvbiB3aXRoIHRoZSBsb3dlc3QgSFAuDQogICAgICAgICAgICAgICAgICAgIC0tICJoaWdoaHAiIHNlbGVjdHMgdGhlIGNsb3Nlc3QgcGVyc29uIHdpdGggdGhlIGhpZ2hlc3QgSFAuXV0NCg0KICAgIGxvY2FsIGhlbHAyID0gW1sibG9vcCIgLSBMb29wcyB0aGUgdXNhZ2Ugb2YgZW5hYmxlZCBhdHRhY2sgZXhwbG9pdHMuDQogICAgICAgICAgICAgICAgImdyY2hhcmdlIDxudW0+IiAtIE11bHRpcGxpZXMgdGhlIHRpbWUgQW1wbGlmaWVkIEdlbmVzaXMgUmF5IGF0dGFjayBleHBsb2l0IHN0YXlzIGFsaXZlIGZvci4gRGVmYXVsdCwgMSwgbGFzdHMgNiBzZWNvbmRzLg0KICAgICAgICAgICAgICAgICJzcGVlZCA8bnVtPiIgLSBDaGFuZ2VzIHlvdXIgZGVmYXVsdCB3YWxrc3BlZWQuIERlZmF1bHQsIDY0LCBlcXVhbHMgbWF4LXNwZWVkIHNwcmludGluZy4NCiAgICAgICAgICAgICAgICAic21hcnRhdHRhY2siIC0gVG9nZ2xlcyBpZiBhdHRhY2sgZXhwbG9pdHMgd2lsbCBmaXJlIG9uIHBlb3BsZSB3aG8gYXJlIGluIHNhZmV6b25lLiBEZWZhdWx0IG9uLg0KICAgICAgICAgICAgICAgICJnYW1lY29sb3IgPG1vZGU+IiAtIENoYW5nZXMgdGhlIGNvbnRyYXN0IGFuZCBzYXR1cmF0aW9uIG9mIHRoZSBnYW1lLg0KICAgICAgICAgICAgICAgICAgICAtLSAibm9ybWFsIiB3aWxsIHJlc2V0IGV2ZXJ5dGhpbmcgdG8gbm9ybWFsLg0KICAgICAgICAgICAgICAgICAgICAtLSAiZ3JheXNjYWxlIiB0dXJucyBvZmYgdGhlIHNhdHVyYXRpb24gYW5kIG1ha2VzIGV2ZXJ5dGhpbmcgZ3JheS4NCiAgICAgICAgICAgICAgICAgICAgLS0gImludmVydGh1ZSIgaW52ZXJ0cyB0aGUgaHVlIG9mIGV2ZXJ5dGhpbmcuIEdyZWVuIGJlY29tZXMgcHVycGxlLCBibHVlIGJlY29tZXMgcmVkLg0KICAgICAgICAgICAgICAgICAgICAtLSAiaW52ZXJ0YWxsIiBpbnZlcnRzIHRoZSBodWUsIHNhdHVyYXRpb24sIGFuZCBjb250cmFzdCBvZiBldmVyeXRoaW5nLiBOZWdhdGl2ZSENCiAgICAgICAgICAgICAgICAiYmxhY2tjYXN0IiAtIENoYW5nZXMgYWxsIHRoZSBtZWRhbHMgdG8gYmxhY2sgd2hlbiBjYXN0aW5nIHNwZWxscy4NCiAgICAgICAgICAgICAgICAic3R1biIgLSBUb2dnbGVzIHdoZXRoZXIgeW91IHdhbnQgdG8gYmUgc3R1bm5lZCBvciBub3QuIE5vdCB2ZXJ5IGRpc2NyZWV0Lg0KICAgICAgICAgICAgICAgICJkcnVncyIgLSBSYW5kb21pemVzIHRoZSBjb2xvcnMgb2YgYWxsIG1hZ2ljIHNwZWxscy4gUmVxdWlyZXMgeW91IHRvIHJ1biAiY29sb3JzIiBmaXJzdC4NCiAgICAgICAgICAgICAgICAibWFnaWNjb2xvciA8cj4gPGc+IDxiPiIgLSBDaGFuZ2VzIHRoZSBjb2xvciBvZiBhbGwgbWFnaWMgc3BlbGxzIHRvIGFuIFJHQiB2YWx1ZS4gUmVxdWlyZXMgeW91IHRvIHJ1biAiY29sb3JzIiBmaXJzdC4NCiAgICAgICAgICAgICAgICAiY29sb3JzIiAtIEFsbG93cyB5b3UgdG8gcnVuICJkcnVncyIgYW5kICJtYWdpY2NvbG9yIi4NCiAgICAgICAgICAgICAgICAiaGVhbCA8cGxheWVyPiIgLSBQbGFjZXMgQmx1ZSBBcnNvbiBhbmQgR2xlYW1pbmcgSGFybW9ueSBhdCB0aGUgZmVldCBvZiBhIHBsYXllciBvZiB5b3VyIGNob2ljZS4NCiAgICAgICAgICAgICAgICAiZSA8bnVtIDEtMz4iIC0gQ2hhbmdlcyB0aGUgcGhhc2Ugb2YgdGhlIENvbnRyb2xsZWQgRWNob2VzIGF0dGFjayBleHBsb2l0Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiMSIgd2lsbCBjaGFuZ2UgaXQgdG8gUE9XLCBhbmQgaXMgdGhlIGRlZmF1bHQuDQogICAgICAgICAgICAgICAgICAgIC0tICIyIiB3aWxsIGNoYW5nZSBpdCB0byBCVVJOLg0KICAgICAgICAgICAgICAgICAgICAtLSAiMyIgd2lsbCBjaGFuZ2UgaXQgdG8gU1RVTi4NCiAgICAgICAgICAgICAgICAib3JpZ2luIiAtIENyZWF0ZXMgYSBzbWFsbCwgcmVkIGJsb2NrIGF0IDAsIDAsIDAgd2l0aGluIHRoZSB3b3JsZC5dXQ0KDQoJUlNSID0gZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlJlbW90ZXMiKQ0KDQoJbG9jYWwgc3R1bkNvbm5lY3Rpb24gPSBnZXRjb25uZWN0aW9ucyhSU1I6V2FpdEZvckNoaWxkKCJDb21iYXQiKS5PbkNsaWVudEV2ZW50KQ0KCWxvY2FsIGxhZ2dlcnMgPSB7DQoJCSIxQjBGOThCRS1FMTBCLTQ2NzQtOUZCNC02RjY1MTcxQTM0N0YiLCAtLSBsb2cNCgkJIjZBMzMxMDRBLTFGRTktNEZBOC05Mzc0LUMxNjREMjhGODM1MSIsIC0tIGJyaWFuDQoJCSI4Mzc3MzZBQS0wMTkyLTQ3RjktOThDNS04REQwREYxOEZFNzQiLCAtLSBqZXQNCgkJIjU1QzIwNDlELUM2QkQtNDUyMy04ODA0LUQ1MzlDMzg3OTJBMyIsIC0tIHBlbnRhcmFjdA0KCQkiOTQ2NEI2OEEtMzYzQy00MUY4LUJCN0QtQjRCRUQ4QUMwOTYzIiwgLS0gdmFzdG9yaW8NCgkJLS0gIjgzMEJENEU5LTVFQkUtNEExMy1CNDdCLTlCRTYwMDgzQjgzNiIsIC0tIGxvbG9rDQoJCS0tICI2M0IzOUUyNy1EQTFCLTQ4MkUtQjI4Qy02QTMzOThDOTVBNEMiLCAtLSBhbGV4DQoJCSI4NDZBNjVFMi1FOTYzLTRBMEEtOTAyNS1FOUI4RTk1ODk2MTMiLCAtLSBicmFtDQoJCSIzRjE2ODQ0MC1BNUMwLTRGNzEtOEU1MS0zRkRGOTAyNUY1MUIiLCAtLSB0b21law0KCQkiNkE5NzA1MkEtNjM0RS00N0UxLThEOTAtNUVFM0NBNEE5NkZBIiwgLS0gcmF2ZW4NCgkJIkY1OTc1RDdELTJBQzUtNDRBQS04MDFGLTgyNzYyNUQ2RDc2MyIsIC0tIGFsZXhpYQ0KCQkiNDgyODcxODItOUU3Ny00Rjk3LUE2NTQtOTcwNjlFRDgxNjZDIiwgLS0gamVzcw0KCQkiNzQ4OUNCQUUtNzk4Ni00NUE5LUJFNDAtQTIxOEVEQ0QwRjAxIiAtLSBjZXBoYXMNCgl9DQoNCglsb2NhbCBjbGllbnRpZCA9IGdhbWU6R2V0U2VydmljZSgiUmJ4QW5hbHl0aWNzU2VydmljZSIpOkdldENsaWVudElkKCk6bG93ZXIoKQ0KCWxvY2FsIGFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlDQoNCglmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbw0KCQl2ID0gdjpsb3dlcigpDQoNCgkJaWYgKHYgPT0gY2xpZW50aWQpIHRoZW4NCgkJCWFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gZ2V0SFJQKGNocikNCgkJbG9jYWwgSFJQID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0Iikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJUb3JzbyIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVXBwZXJUb3JzbyIpDQoJCXJldHVybiBIUlANCgllbmQNCg0KCWZ1bmN0aW9uIGdldEhVTShjaHIpDQoJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQ0KCQlyZXR1cm4gSFVNDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiByZXNwYXduKHBscikNCgkJbG9jYWwgY2hyID0gcGxyLkNoYXJhY3Rlcg0KDQoJCWlmIChjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpKSB0aGVuIGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIik6Q2hhbmdlU3RhdGUoMTUpIGVuZA0KCQljaHI6Q2xlYXJBbGxDaGlsZHJlbigpDQoNCgkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpDQoJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UNCgkJcGxyLkNoYXJhY3RlciA9IG5ld2Nocg0KDQoJCXdhaXQoKQ0KDQoJCXBsci5DaGFyYWN0ZXIgPSBjaHINCgkJbmV3Y2hyOkRlc3Ryb3koKQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpDQoJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpDQoJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lDQoJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUNCg0KCQlyZXNwYXduKHBscikNCg0KCQlzcGF3bihmdW5jdGlvbigpDQoJCQlwbHIuQ2hhcmFjdGVyQWRkZWQ6V2FpdCgpOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKS5Sb290UGFydC5DRnJhbWUsIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSA9IHBvcywgd2FpdCgpIGFuZCBwb3MxDQoJCWVuZCkNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQ0KCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpDQoJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQ0KDQoJCWZvciBpLCB2IGluIGlwYWlycyhjb21tYW5kKSBkbw0KCQkJdiA9IHN0cmluZy5nc3ViKHYsICIlcysiLCAiIikNCgkJCWlmIHYgPT0gIiIgdGhlbg0KCQkJCXRhYmxlLnJlbW92ZShjb21tYW5kLCBpKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybiBjb21tYW5kDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpDQoJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpDQoJCWxvY2FsIG1hdGNoZXMgPSB7fQ0KDQoJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKHBsYXllcnMpIGRvDQoJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUNCgkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkNCgkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkNCg0KCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZChuYW1lLCB0ZXh0KQ0KDQoJCQlpZiBtYXRjaCB0aGVuDQoJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQ0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybiBtYXRjaGVzDQoJZW5kDQoNCglsb2NhbCBkcnVnc0VuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGNvbG9yc0VuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGViZ3VpY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCWxvY2FsIGNvbG9yRXhjbHVkZSA9IHsiSGVhZCIsIlRvcnNvIiwiTGVmdCBBcm0iLCJMZWZ0IExlZyIsIlJpZ2h0IEFybSIsIlJpZ2h0IExlZyIsIlNoYXJkIiwiRGlhbW9uZCJ9DQoNCgktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQ0KCWxvY2FsIGNvbG9yMQ0KCWxvY2FsIGNvbG9yMg0KCWxvY2FsIGNvbG9yMw0KDQoJbG9jYWwgZnVuY3Rpb24gaW5wdXRCb3goKQ0KCQlsb2NhbCB0ZXh0ID0gY29tbWFuZEJveC5UZXh0DQoJCXdhaXQoKQ0KCQljb21tYW5kQm94LlRleHQgPSAiIg0KDQoJCWxvY2FsIHByZWZpeCA9ICI7Ig0KCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEpID09IChwcmVmaXgpIHRoZW4NCgkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkNCg0KCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpIHRoZW4NCgkJCQlyZWZyZXNoKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcikNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInRwIikgdGhlbg0KCQkJCWxvY2FsIHRlbGVwb3J0dG8NCiAgICAgICAgICAgICAgICBsb2NhbCB0cG5hbWUNCgkJCQlsb2NhbCBwbGFjZSA9IHN0cmluZy5zdWIodGV4dCwgNSkNCgkJCQlsb2NhbCBwbGFjZXMgPSB7DQoJCQkJCTU2NjM5OTI0NCwNCgkJCQkJMjU2OTYyNTgwOSwNCgkJCQkJNTcwMTU4MDgxLA0KCQkJCQk1Mzc2MDAyMDQsDQoJCQkJCTUyMDU2ODI0MCwNCgkJCQkJNTU0OTU1NTYwLA0KCQkJCQk2MDIwNDg1NTAsDQoJCQkJCTU3NTQ1NjY0NiwNCgkJCQkJMTcxMzk4NjExMiwNCgkJCQkJMTI0MzYxNTYxMiwNCgkJCQkJNjM4MDY1MzAyLA0KCQkJCQk2MzQyNDA4MjYsDQoJCQkJCTYzMzA0MjczMQ0KCQkJCX0NCg0KCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJzdGFuZGFyZDQwIiBvciBwbGFjZSA9PSAiMjU2OTYyNTgwOSIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzJdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJTdGFuZGFyZCINCgkJCQllbHNlaWYgcGxhY2UgPT0gImxpZ2h0IiBvciBwbGFjZSA9PSAiNTcwMTU4MDgxIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbM10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkxpZ2h0Ig0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiZmlyZSIgb3IgcGxhY2UgPT0gIjUzNzYwMDIwNCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzRdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJGaXJlIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAid2F0ZXIiIG9yIHBsYWNlID09ICI1MjA1NjgyNDAiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s1XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiV2F0ZXIiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJncmFzcyIgb3IgcGxhY2UgPT0gIjU1NDk1NTU2MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzZdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJHcmFzcyINCgkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzddDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJIZWF2ZW4iDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s4XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWluaWxvdmFuaWEiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJkZWZhdWx0IiBvciBwbGFjZSA9PSAidG91cm5hbWVudCIgb3IgcGxhY2UgPT0gIjE3MTM5ODYxMTIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s5XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiVG91cm5hbWVudCINCgkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEwXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiU3Vydml2YWwiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhc3RhbmRhcmQiIG9yIHBsYWNlID09ICJzdGFuZGFyZG1lZ2EiIG9yIHBsYWNlID09ICI2MzgwNjUzMDIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZmlyZSIgb3IgcGxhY2UgPT0gImZpcmVtZWdhIiBvciBwbGFjZSA9PSAiNjM0MjQwODI2IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNZWdhIEZpcmUiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJtZWdhZ3Jhc3MiIG9yIHBsYWNlID09ICJncmFzc21lZ2EiIG9yIHBsYWNlID09ICI2MzMwNDI3MzEiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxM10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgR3Jhc3MiDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhlIHBsYWNlIHdhcyBpbmNvcnJlY3RseSBzcGVjaWZpZWQhIg0KCQkJCWVuZA0KDQoJCQkJaWYgdGVsZXBvcnR0byB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUZWxlcG9ydGluZyB0byBQbGFjZSAiIC4uIHRwbmFtZSAuLiAiISINCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydCh0ZWxlcG9ydHRvKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAiZGVjbHV0dGVyIikgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uQ2hhcmFjdGVyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5Cb29rLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5TaG9wLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuU2l6ZSA9IFVEaW0yLm5ldygwLjM3NSwgMCwgMC4zNzUsIDApDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInJhaW4iKSB0aGVuDQoJCQkJbG9jYWwgY3VycmVudENBTSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhDQoJCQkJbG9jYWwgcmFpblNvdW5kID0gSW5zdGFuY2UubmV3KCJTb3VuZCIpDQoJCQkJcmFpblNvdW5kLkxvb3BlZCA9IHRydWUNCgkJCQlyYWluU291bmQuU291bmRJZCA9ICJyYnhhc3NldGlkOi8vMjgzMTY0NTkzIg0KCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxDQoJCQkJcmFpblNvdW5kLlBhcmVudCA9IHdvcmtzcGFjZQ0KCQkJCXJhaW5Tb3VuZDpQbGF5KCkNCg0KCQkJCWxvY2FsIHJhaW5QYXJ0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCgkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoMzAwLCAzMDAsIDMwMCkNCgkJCQlyYWluUGFydC5UcmFuc3BhcmVuY3kgPSAxDQoJCQkJcmFpblBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQkJcmFpblBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlDQoNCgkJCQlsb2NhbCByYWluRWZmZWN0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpOldhaXRGb3JDaGlsZCgiRWZmZWN0cyIpOldhaXRGb3JDaGlsZCgiUmFpbiIpDQoJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUNCgkJCQlyYWluRWZmZWN0LlBhcmVudCA9IHJhaW5QYXJ0DQoNCgkJCQlsb2NhbCBpZ25vcmUgPSB3b3Jrc3BhY2U6V2FpdEZvckNoaWxkKCIuSWdub3JlIikNCgkJCQlyYWluUGFydC5QYXJlbnQgPSBpZ25vcmU6V2FpdEZvckNoaWxkKCIuU2VydmVyRWZmZWN0cyIpDQoNCgkJCQlsb2NhbCBmb3YgPSAyICogbWF0aC50YW4obWF0aC5yYWQoY3VycmVudENBTS5GaWVsZE9mVmlldykgLyAyKQ0KCQkJCWxvY2FsIG5ld1JheSA9IFJheS5uZXcNCgkJCQlsb2NhbCBoZWlnaHQgPSBWZWN0b3IzLm5ldygwLCA1MCwgMCkNCgkJCQlsb2NhbCBkZXB0aCA9IENGcmFtZS5uZXcoMCwgZm92ICogNTAsIC02MCkNCg0KCQkJCWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpOkJpbmRUb1JlbmRlclN0ZXAoIlJhaW4iLCBFbnVtLlJlbmRlclByaW9yaXR5LkNhbWVyYS5WYWx1ZSwgZnVuY3Rpb24oKQ0KCQkJCQlsb2NhbCByYyA9IHdvcmtzcGFjZTpGaW5kUGFydE9uUmF5V2l0aElnbm9yZUxpc3QobmV3UmF5KGN1cnJlbnRDQU0uQ0ZyYW1lLnAsIGhlaWdodCksIHtpZ25vcmV9KQ0KDQoJCQkJCWlmIChyYykgdGhlbg0KCQkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gZmFsc2UNCgkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAwLjUNCgkJCQkJCXJldHVybg0KCQkJCQllbmQNCg0KCQkJCQlsb2NhbCB2aWV3cG9ydCA9IGN1cnJlbnRDQU0uVmlld3BvcnRTaXplDQoJDQoJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyhmb3YgKiB2aWV3cG9ydC54IC8gdmlld3BvcnQueSAqIDUwLCAwLjIsIDEwMCkNCgkJCQkJcmFpblBhcnQuQ0ZyYW1lID0gY3VycmVudENBTS5DRnJhbWUgKiBkZXB0aA0KCQ0KCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQ0KCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSB0cnVlDQoJDQoJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxDQoJCQkJZW5kKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNCkgPT0gKHByZWZpeCAuLiAiZml4IikgdGhlbg0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikgdGhlbg0KCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpLlZpc2libGUgPSBmYWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRml4aW5nIHRoZSBNZW51IEdVSSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMykgPT0gKHByZWZpeCAuLiAiYnV0dG9uaGVpZ2h0IikgdGhlbg0KCQkJCWJ1dHRvbkhlaWdodCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKQ0KCQkJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCBidXR0b25IZWlnaHQpDQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkNCg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gaGVpZ2h0IHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkgLi4gIiEiDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYnV0dG9uZ2FwIikgdGhlbg0KCQkJCWJ1dHRvbkdhcCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKQ0KCQkJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCBidXR0b25HYXApDQoJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkNCg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCdXR0b24gZ2FwIHdhcyBzZXQgdG8gIiAuLiB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkgLi4gIiEiDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSB0aGVuDQoJCQkJcmVqb2luKCkNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmVqb2luaW5nLi4uIg0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiYXVyYS9vZmYiKSB0aGVuDQoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikNCg0KCQkJCWlmIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIikgdGhlbg0KCQkJCQlnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpOkRlc3Ryb3koKQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBoYXMgYmVlbiByZW1vdmVkLiINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGRvZXMgbm90IGV4aXN0ISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDE0KSA9PSAocHJlZml4IC4uICJ0YXJnZXRzZXR0aW5nIikgdGhlbg0KCQkJCXRhcmdldFNldHRpbmcgPSBzdHJpbmcuc3ViKHRleHQsIDE2KQ0KDQoJCQkJcmVwZWF0DQoJCQkJCWlmIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gc2VsZWN0ISINCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGNsb3Nlc3QhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gZmFydGhlc3QhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGxvd2hwISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gaGlnaGhwISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImhpZ2hocCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0oZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0Ig0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIERpZCB5b3Ugc3BlY2lmeSBzZWxlY3QsIGNsb3Nlc3QsIGZhcnRoZXN0LCBsb3docCwgb3IgaGlnaGhwPyBTZXR0aW5nIGhhcyBiZWVuIHNldCB0byBzZWxlY3QuIg0KCQkJCQllbmQNCgkJCQl1bnRpbCB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiDQoNCgkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAibG9vcCIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgbG9vcGluZyA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWxvb3BpbmcgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RhcnRlZCBsb29waW5nIGF0dGFja3MhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJMb29waW5nIGF0dGFja3MgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlsb29waW5nID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGxvb3BpbmcgYXR0YWNrcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJbG9vcGluZyA9IG5vdCBsb29waW5nDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT04iDQoJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPRkYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBsb29waW5nIGF0dGFja3MgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoNCgkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCXdoaWxlIGxvb3BpbmcgZG8NCgkJCQkJCWV4cGxvaXQoKQ0KCQkJCQkJd2FpdCgpDQoJCQkJCWVuZA0KCQkJCQlyZXR1cm4NCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1bmJyZWFrIikgdGhlbg0KCQkJCWJyZWFrYWJsZSA9IGZhbHNlDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4NCgkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQ0KCQkJCXdhaXQoKQ0KCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbg0KCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkNCgkJCQl3YWl0KCkNCgkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlzbWFydEF0dGFjayA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCXNtYXJ0QXR0YWNrID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJc21hcnRBdHRhY2sgPSBub3Qgc21hcnRBdHRhY2sNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPRkYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuDQoJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4NCgkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiINCgkJCQkJd2FpdCgpDQoJCQkJZW5kDQoNCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNykgPT0gIm5vcm1hbCIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IDANCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IDANCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJldmVydGluZy4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJncmF5c2NhbGUiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0xDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJHcmF5c2NhbGluZy4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRodWUiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uU2F0dXJhdGlvbiA9IC0yDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgaHVlLi4uIg0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGFsbCIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5Db250cmFzdCA9IC0yDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZlcnRpbmcgYWxsLi4uIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29sb3IgbW9kZSAob3Igbm9uZSBzcGVjaWZpZWQpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJibGFja2Nhc3QiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlibGFja2Nhc3RFbmFibGVkID0gbm90IGJsYWNrY2FzdEVuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGJsYWNrIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJzdHVuIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlzdHVuRW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDkpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCXN0dW5FbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlzdHVuRW5hYmxlZCA9IG5vdCBzdHVuRW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9OIg0KCQkJCQlpZiBzdHVuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbw0KCQkJCQkJCWNvbm5lY3Rpb246RGlzYWJsZSgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvDQoJCQkJCQkJY29ubmVjdGlvbjpFbmFibGUoKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBzdHVuICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiZHJ1Z3MiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDkpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWRydWdzRW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZW5hYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgMTApID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWRydWdzRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlkcnVnc0VuYWJsZWQgPSBub3QgZHJ1Z3NFbmFibGVkDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT04iDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGRydWcgbW9kZSAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDExKSA9PSAocHJlZml4IC4uICJtYWdpY2NvbG9yIikgdGhlbg0KCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDEzKQ0KCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykNCg0KCQkJCWlmIChhcmdzWzFdID09ICJ0Iikgb3IgKGFyZ3NbMV0gPT0gIm9uIikgdGhlbg0KCQkJCQlpZiAoY29sb3IxIH49IG5pbCkgYW5kIChjb2xvcjIgfj0gbmlsKSBhbmQgKGNvbG9yMyB+PSBuaWwpIHRoZW4NCgkJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBlbmFibGVkISINCgkJCQkJCWVsc2UNCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb24hIg0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UgbXVzdCBoYXZlIGNvbG9ycyBzZXQgd2l0aCB0aGlzIGNvbW1hbmQgYmVmb3JlIHR1cm5pbmcgaXQgYmFjayBvbiEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiAoYXJnc1sxXSA9PSAiZiIpIG9yIChhcmdzWzFdID09ICJvZmYiKSB0aGVuDQoJCQkJCWlmIGNvbG9yc0VuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb2xvcnNFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZGlzYWJsZWQhIg0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlhcmdzWzFdID0gdG9udW1iZXIoYXJnc1sxXSkNCgkJCQkJYXJnc1syXSA9IHRvbnVtYmVyKGFyZ3NbMl0pDQoJCQkJCWFyZ3NbM10gPSB0b251bWJlcihhcmdzWzNdKQ0KDQoJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iDQoJCQkJCWVsc2UNCgkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbg0KCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlDQoNCgkJCQkJCQlmb3IgaSA9IDEsIDMsIDEgZG8NCgkJCQkJCQkJaWYgKGFyZ3NbaV0gPCAwKSBvciAoYXJnc1tpXSA+IDI1NSkgdGhlbg0KCQkJCQkJCQkJZXhlY3V0YWJsZSA9IGZhbHNlDQoJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCWlmIGV4ZWN1dGFibGUgPT0gdHJ1ZSB0aGVuDQoJCQkJCQkJCWNvbG9yMSA9IGFyZ3NbMV0NCgkJCQkJCQkJY29sb3IyID0gYXJnc1syXQ0KCQkJCQkJCQljb2xvcjMgPSBhcmdzWzNdDQoNCgkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISINCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiDQoJCQkJCQkJZW5kDQoJCQkJCQllbHNlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIg0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpDQoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbg0KCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkNCgkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApDQoJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQ0KCQkJCQkJCQkJCQl3YWl0KCkNCgkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCg0KCQkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJaWYgKGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4NCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbg0KCQkJCQkJCQkJCXYuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbHNlaWYgKGViZ3VpY2FzdEVuYWJsZWQgPT0gdHJ1ZSkgYW5kIChkLlBhcmVudCB+PSBuaWwpIHRoZW4NCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCQkJCQkJaWYgdjpJc0EoIkRlY2FsIikgdGhlbg0KCQkJCQkJCQkJCXYuVGV4dHVyZSA9ICJodHRwczovL3d3dy5yb2Jsb3guY29tL2Fzc2V0Lz9pZD04NjAzNzY1OTA0Ig0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kKQ0KCQkJCQllbmQpDQoNCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCWlmIGQ6SXNBKCJQYXJ0aWNsZUVtaXR0ZXIiKSB0aGVuCQkJDQoJCQkJCQkJCXdoaWxlIHRydWUgZG8NCgkJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuDQoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yU2VxdWVuY2UubmV3ew0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKSwNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMSwgQ29sb3IzLm5ldyhtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1KSkNCgkJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApDQoJCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7DQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpLA0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KGNvbG9yMS8yNTUsIGNvbG9yMi8yNTUsIGNvbG9yMy8yNTUpKQ0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCXdhaXQoKQ0KCQkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kKQ0KCQkJCQllbmQpDQoJCQkJZW5kKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAiaGVhbCIpIHRoZW4NCgkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCA3KQ0KCQkJCWxvY2FsIGFyZ3MgPSBzcGxpdEFyZ3Moc3RyaW5nYXJncykNCg0KCQkJCWlmIGFyZ3NbMV0gdGhlbgkJCQkNCgkJCQkJaWYgKCMoZmluZFBsYXllcihhcmdzWzFdKSkgPT0gMSkgdGhlbg0KCQkJCQkJd2FybigiYXR0ZW1wdGluZyBoZWFsIG9uICIgLi4gZmluZFBsYXllcihhcmdzWzFdKVsxXSkNCgkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdDQoJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyDQoNCgkJCQkJCWlmIGNociB0aGVuDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkhlYWxpbmcgIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdIC4uICIuLi4iDQoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IikNCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIpDQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDIpID09IChwcmVmaXggLi4gImUiKSB0aGVuDQoJCQkJbG9jYWwgcGhhc2UgPSBzdHJpbmcuc3ViKHRleHQsIDQpDQoNCgkJCQlpZiB0b251bWJlcihwaGFzZSkgfj0gbmlsIHRoZW4NCgkJCQkJcGhhc2UgPSBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkNCg0KCQkJCQlpZiAocGhhc2UgPT0gMSkgb3IgKHBoYXNlID09IDIpIG9yIChwaGFzZSA9PSAzKSB0aGVuDQoJCQkJCQlFY2hvZXNQaGFzZSA9IHBoYXNlDQoNCgkJCQkJCWxvY2FsIG1vZGUgPSAiIg0KDQoJCQkJCQlpZiBFY2hvZXNQaGFzZSA9PSAxIHRoZW4NCgkJCQkJCQltb2RlID0gIihTVEFSKSINCgkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAyIHRoZW4NCgkJCQkJCQltb2RlID0gIihGTEFNRSkiDQoJCQkJCQllbHNlaWYgRWNob2VzUGhhc2UgPT0gMyB0aGVuDQoJCQkJCQkJbW9kZSA9ICIoU0hPQ0spIg0KCQkJCQkJZW5kDQoNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgaGFzIGJlZW4gY2hhbmdlZCEgIiAuLiBtb2RlDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJQaGFzZSBpcyBpbnZhbGlkISBNdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgMy4iDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJjaGFuZ2Vsb2ciKSB0aGVuDQoJCQkJLS0gVGFnOiBDSE5HTEcNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRG9uZSEgSGl0IEN0cmwrRjkgdG8gdmlldy4iDQoJCQkJd2FybigiUm9ibG94IGlzIGR1bWIgYW5kIGRvZXNuJ3QgYWxsb3cgbWUgdG8gbG9hZCBhIHN0cmluZyB3aXRoIG11bHRpcGxlIGxpbmVzIGhlcmUuIikNCgkJCQlwcmludCgiQ2hlY2sgaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L2ZGRHBHTUFyIHRvIHNlZSB0aGUgY2hhbmdlbG9nLiIpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJvcmlnaW4iKSB0aGVuDQoJCQkJeHBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJbG9jYWwgb3JpZ2luID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCgkJCQkJb3JpZ2luLkFuY2hvcmVkID0gdHJ1ZQ0KCQkJCQlvcmlnaW4uUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXQ0KCQkJCQlvcmlnaW4uTmFtZSA9ICJPcmlnaW4iDQoJCQkJCW9yaWdpbi5NYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuTmVvbg0KCQkJCQlvcmlnaW4uQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJSZWFsbHkgcmVkIikNCgkJCQkJb3JpZ2luLlNpemUgPSBWZWN0b3IzLm5ldygwLjUsIDAuNSwgMC41KQ0KCQkJCQlvcmlnaW4uUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAwLCAwKQ0KCQkJCQl3YXJuKCJNYWRlIGEgYmxvY2sgYXQgdGhlIG9yaWdpbiEiKQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2VzcyEgQ2hlY2sgY29uc29sZSBmb3IgbW9yZSBpbmZvIg0KCQkJCWVuZCwgZnVuY3Rpb24oZSkNCgkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQ0KCQkJCQl3YXJuKCd0cmFjZWJhY2s6JywgZGVidWcudHJhY2ViYWNrKCkpDQoJCQkJZW5kKQ0KCQkJLS1bW2Vsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJlYmd1aWNhc3QiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDEzKSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBlYmd1aWNhc3RFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR1VJIGNhc3RpbmcgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCWViZ3VpY2FzdEVuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHVUkgY2FzdGluZyBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxNCkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGViZ3VpY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR1VJIGNhc3RpbmcgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQllYmd1aWNhc3RFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkdVSSBjYXN0aW5nIGRpc2FibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQllYmd1aWNhc3RFbmFibGVkID0gbm90IGViZ3VpY2FzdEVuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgZWJndWljYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIEVCR1VJIGNhc3RpbmcgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kXV0NCiAgICAgICAgICAgIGVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuDQogICAgICAgICAgICAgICAgd2FybigiUm9ibG94IGlzIGR1bWIgYW5kIGlzbid0IGZvcm1hdHRpbmcgbXVsdGlsaW5lIHN0cmluZ3MgcmlnaHQuIikNCiAgICAgICAgICAgICAgICBwcmludCgiRm9yIG5vdywgY2hlY2sgaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L1k3NEdpaEd5IHRvIHNlZSB0aGUgZnVsbCBsaXN0IG9mIGNvbW1hbmRzLiIpDQogICAgICAgICAgICAgICAgY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvbmUhIEhpdCBDdHJsK0Y5IHRvIHZpZXcuIg0KICAgICAgICAgICAgZW5kDQoNCgkJCXdhaXQoMS41KQ0KCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJZWxzZQ0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCWVuZA0KCQllbHNlDQoJCQlsb2NhbCBtYXRjaGVzID0gZmluZFBsYXllcih0ZXh0KQ0KDQoJCQlpZiAjbWF0Y2hlcyA9PSAxIHRoZW4NCgkJCQl0YXJnZXQgPSBtYXRjaGVzWzFdDQoJCQkJaWYgbWF0Y2hlc1sxXSA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIJCQkJCQkNCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gbWF0Y2hlc1sxXQ0KCQkJCWVuZA0KCQkJCXdhaXQoMSkNCgkJCWVsc2UNCgkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJCXdhcm4oIlRhcmdldCBub3QgZm91bmQhIERvIG11bHRpcGxlIHBsYXllcnMgaGF2ZSB0aGF0IHNhbWUgc3Vic3RyaW5nIGluIHRoZWlyIG5hbWVzPyIpDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgVGFyZ2V0ISBUeXBlIHRoZWlyIG5hbWUgYWdhaW4uIg0KCQkJCXdhaXQoMS41KQ0KCQkJCWlmIHRhcmdldCA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLlBsYXllclJlbW92aW5nOmNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQ0KCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbg0KCQkJdGFyZ2V0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUNCgkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChUYXJnZXQgUlFlZCEpIg0KCQllbmQNCgllbmQpDQoNCgljb21tYW5kQm94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKGVudGVyUHJlc3NlZCkNCgkJaWYgZW50ZXJQcmVzc2VkIHRoZW4NCgkJCWlmIGNvbW1hbmRCb3guVGV4dCB+PSAiIiB0aGVuDQoJCQkJaW5wdXRCb3goKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpDQoJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIChtYXRoLmNlaWwoI2J1dHRvbnMgKiAzNykgLyAyKSAtIDcpDQoJZW5kKSkNCg0KCS0tIEJyZWFraW5nIFNjcmlwdCBVc2Vycw0KDQoJYnJlYWthYmxlID0gdHJ1ZQ0KDQoJbG9jYWwgYnJlYWtVc2VycyA9IHsNCgkJMTg2NDM4MDU4MSwNCgkJMTgyMTMzMjkzLA0KCQkyOTc2MTUyMzEsDQoJCTExMjgxMTQ5NDQsDQoJCTE5NTY0MTMwNzksDQoJCTMxMTAyNzIwNCwNCgkJMTkwMzE2NTQwNSwNCgkJMTkzMzczNDk1NiwNCgkJMTgxMjA1MzYzMiwNCgkJMTkwNjMxMTkwMiwNCgkJMTk5MzIyNDcyNCwNCgkJMTk0NDUzMTY2NSwNCgkJMTA4MDQ1MDIzDQoJfQ0KDQoJbG9jYWwgb25jaGF0ID0gZnVuY3Rpb24ocGxyLCBtc2cpDQoJCWxvY2FsIGFsbG93ZWQgPSBmYWxzZQ0KCQlmb3IgXywgdXNlciBpbiBwYWlycyhicmVha1VzZXJzKSBkbw0KCQkJaWYgcGxyLk5hbWUgPT0gdXNlciB0aGVuDQoJCQkJYWxsb3dlZCA9IHRydWUNCgkJCWVuZA0KCQllbmQNCg0KCQlsb2NhbCBwcmVmaXggPSAiOyINCg0KCQlpZiBzdHJpbmcuc3ViKG1zZywgMSwgNykgPT0gKHByZWZpeCAuLiAiYnJlYWsgIikgdGhlbg0KCQkJbG9jYWwgbWF0Y2hlcyA9IHt9DQoNCgkJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJbG9jYWwgbmFtZSA9IFBsYXllci5OYW1lDQoJCQkJbXNnID0gc3RyaW5nLmxvd2VyKHN0cmluZy5zdWIobXNnLCA4KSkNCgkJCQluYW1lID0gc3RyaW5nLmxvd2VyKG5hbWUpDQoJCQkJbG9jYWwgdGVybSA9IHN0cmluZy5zdWIobmFtZSwgMSwgc3RyaW5nLmxlbihuYW1lKSkNCg0KCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQodGVybSwgbXNnKQ0KDQoJCQkJaWYgbWF0Y2ggdGhlbg0KCQkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpDQoJCQkJZW5kDQoJCQllbmQNCg0KCQkJaWYgbWF0Y2hlc1sxXSA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSBhbmQgYnJlYWthYmxlIGFuZCBhbGxvd2VkIHRoZW4NCgkJCQl3aGlsZSB0cnVlIGRvDQoNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWZvciBpLCB2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldFBsYXllcnMoKSkgZG8NCgkJdi5DaGF0dGVkOkNvbm5lY3QoZnVuY3Rpb24obXNnKQ0KCQkJb25jaGF0KHYsIG1zZykNCgkJZW5kKQ0KCWVuZA0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpDQoJCQlvbmNoYXQodiwgbXNnKQ0KCQllbmQpDQoJZW5kKQ0KDQoJLS0gRXhwbG9pdHMNCg0KCWxvY2FsIGZ1bmN0aW9uIGZmKCkNCgkJaWYgc21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuDQoJCQlpZiBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJcmV0dXJuIGZhbHNlDQoJCQllbHNlDQoJCQkJcmV0dXJuIHRydWUNCgkJCWVuZA0KCQllbHNlDQoJCQlyZXR1cm4gdHJ1ZQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIGV4cGxvaXQoKQ0KCQktLSBFeHBsb2l0IGZ1bmN0aW9uLiBXaGVuIEMgaXMgcHJlc3NlZCBhbmQgb25lIG9mIHRoZXNlIGFyZSAidHJ1ZSIsIGl0IHdpbGwgZmlyZSBpdC4NCgkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyDQoNCgkJaWYgSHlwZXJhbmdFbmFibGVkIHRoZW4NCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIpDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgRGFya0FvZUVuYWJsZWQgdGhlbg0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIpDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiLCB7bGFzdE1vdXNlUG9zaXRpb24gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKX0pDQoJCWVuZA0KDQoJCWlmIERpc3BlcnNpb25FbmFibGVkIHRoZW4NCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iKQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlN0b3JtIiwgIkxpZ2h0bmluZyBEaXNwZXJzaW9uIiwge0dyb3VuZGVkID0gdHJ1ZX0pDQoJCWVuZA0KDQoJCWlmIERvdWJsZVJheUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTb2xhciIsDQoJCQkJWzJdID0gIkRvdWJsZSBSYXkiDQoJCQl9CQkJDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU29sYXIiLA0KCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwNCgkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkNCgkJCX0JCQkNCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgU3Rvcm1CdWxsZXRzRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlN0b3JtIiwNCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiDQoJCQl9CQkJDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIsDQoJCQkJWzNdID0gew0KCQkJCQlbIkRpcmVjdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApDQoJCQkJfQ0KCQkJfQkJCQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBPcmJpdGFsSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwNCgkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiDQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiVGVjaG5vbG9neSIsDQoJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwNCgkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJfQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBWaWdvckhhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Bpcml0IiwNCgkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iDQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Bpcml0IiwNCgkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iLA0KCQkJCVszXSA9IHsNCgkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQl9DQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGFjZSIsDQoJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiDQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3BhY2UiLA0KCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IiwNCgkJCQlbM10gPSB7DQoJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJfQ0KCQkJfQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJZW5kDQoNCgkJaWYgVmluZVRyYXBFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQllbmQNCg0KCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCWVuZA0KDQoJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pDQoJCWVuZA0KDQoJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkNCgkJZW5kDQoNCgkJaWYgR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDE1LCAwKSkNCgkJZW5kDQoNCgkJaWYgQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50Iiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pDQoJCWVuZA0KDQoJCWlmIEFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiLCB7T3JpZ2luID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAyNSwgMCksIG9yYlBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTAsIDApfSkNCgkJZW5kDQoNCgkJaWYgVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciLCB7cG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxNTAsIDApfSkNCgkJZW5kDQoNCgkJaWYgU2tlbGV0b25HcmFiRW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBHZW5lc2lzUmF5RW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5IiwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5Iiwge2x2ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIGNoYXJnZSA9IEdSQ2hhcmdlfSkNCgkJZW5kDQoNCgkJaWYgVGhlV29ybGRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB7cmhpdCA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LCBub3JtID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIHJwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pDQoJCWVuZA0KDQoJCWlmIFBvbGFyaXNFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgYW5kIEVjaG9lc1BoYXNlIH49IG5pbCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIG1vdXNlLkhpdC5wfSkNCgkJZW5kDQoNCgkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIElsbHVzaXZlQXRha2VFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgRXRoZXJlYWxBY3VtZW5FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRHJhZ29uIiwgIkZvcm1pZGFibGUgUm9hciIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIDE3NX0pDQoJCWVuZA0KDQoJCWlmIFRveGljQmFzaWxpc2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siLCB7RGlyZWN0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCBGbG9vciA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZX0pDQoJCQl3YWl0KDE3LjUpDQoJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQ0KCQkJZW5kDQoJCWVuZA0KDQoJCWlmIEFyY2FuZUd1YXJkaWFuRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIsIHtQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgNTAsIDApfSkNCgkJZW5kDQoNCgkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU3BsaXR0aW5nIFNsaW1lIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMjAsIDApKQ0KCQllbmQNCg0KCQlpZiBWaXJ0dWFsWm9uZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLCBWZWN0b3IzLm5ldygwLCAwLCAwKX0pDQoJCWVuZA0KCWVuZA0KDQoJLS0gVUlTDQoNCglsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQ0KCWxvY2FsIHRlcm1pbmF0ZXVpcyA9IGZhbHNlDQoNCglVSVMuSW5wdXRCZWdhbjpjb25uZWN0KGZ1bmN0aW9uKGlucHV0LCBncCkNCgkJaWYgbm90IHRlcm1pbmF0ZXVpcyB0aGVuDQoJCQlpZiBub3QgZ3AgdGhlbg0KCQkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlcg0KDQoJCQkJaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja1NsYXNoIHRoZW4NCgkJCQkJY29tbWFuZEJveDpDYXB0dXJlRm9jdXMoKQ0KCQkJCQl3YWl0KCkNCgkJCQkJaWYgc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpKSA9PSAiXFwiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3guVGV4dCA9IHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCAxLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkgLSAxKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQyB0aGVuDQoJCQkJCWV4cGxvaXQoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5VIHRoZW4NCgkJCQkJVFBUb1RhcmdldCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLksgdGhlbg0KCQkJCQlBbnRpQmxpbmRGdW5jKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVCB0aGVuDQoJCQkJCWJlZ2luU3BlZWQoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5YIHRoZW4NCgkJCQkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCB0aGVuDQoJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpDQoJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlAgdGhlbg0KCQkJCQlpZiBTYW5zVGVsZXBvcnRFbmFibGVkIHRoZW4NCgkJCQkJCWlmIGdhbWUuUGxhY2VJZCA9PSA1NjYzOTkyNDQgb3IgZ2FtZS5QbGFjZUlkID09IDI1Njk2MjU4MDkgdGhlbg0KCQkJCQkJCWxvY2FsIFNhbnNQb3MgPSBDRnJhbWUubmV3KC0xNjg1LjkxMDUyLCAyMzAuMDM1MTI2LCAtMTgxLjc5ODI2NCkNCgkJCQkJCQlsb2NhbCBTYW5zQW5nbGVzID0gQ0ZyYW1lLkFuZ2xlcygwLCBtYXRoLnJhZCgyMCksIDApDQoNCgkJCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gU2Fuc1BvcyAqIFNhbnNBbmdsZXMNCgkJCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkOkNoYW5nZVN0YXRlKEVudW0uSHVtYW5vaWRTdGF0ZVR5cGUuQ2xpbWJpbmcpDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCQlpZiBub3QgRnJlZXplRW5hYmxlZCB0aGVuDQoJCQkJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlogdGhlbg0KCQkJCQliZWdpbk51bGxpZnlGb3JjZXMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5HIHRoZW4NCgkJCQkJQW50aUdyYXZpdHlGdW5jKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSiB0aGVuDQoJCQkJCWlmIENsaWNrVFBFbmFibGVkIHRoZW4NCgkJCQkJCWNsaWNrdHAobW91c2UuSGl0KQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRiB0aGVuDQoJCQkJCUZyZWV6ZUZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrcXVvdGUgdGhlbg0KCQkJCQlpZiBGbGFzaEVuYWJsZWQgdGhlbg0KCQkJCQkJbG9uZ2ZsYXNoKCkNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlYgdGhlbg0KCQkJCQl2aWV3KCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQiB0aGVuDQoJCQkJCXRvZ2dsZUVTUCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRCcmFja2V0IHRoZW4NCgkJCQkJaWYgbm90IGNsb3NlZGZvcmV2ZXIgdGhlbg0KCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuDQoJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQ0KCQkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQ0KCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLA0KCQkJCQkJCQkJIk91dCIsDQoJCQkJCQkJCQkiU2luZSIsDQoJCQkJCQkJCQkuNSwNCgkJCQkJCQkJCXRydWUNCgkJCQkJCQkJKQ0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlDQoJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksDQoJCQkJCQkJCQkiSW4iLA0KCQkJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCQkJLjUsDQoJCQkJCQkJCQl0cnVlDQoJCQkJCQkJCSkNCgkJCQkJCQllbmQNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4NCgkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQ0KCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiT3V0IiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksDQoJCQkJCQkJIkluIiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQllbmQNCgkJCQkJd2FpdCgxKQ0KCQkJCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQ0KCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4NCgkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLA0KCQkJCQkJCSJJbiIsDQoJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCS41LA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiSW4iLA0KCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkuNSwNCgkJCQkJCQl0cnVlDQoJCQkJCQkpDQoJCQkJCQl3YWl0KDEpDQoJCQkJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJCQkJdGVybWluYXRldWlzID0gdHJ1ZQ0KCQkJCQkJZWJndWk6RGVzdHJveSgpDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNjcmlwdHMgYW5kIEZ1bmN0aW9ucyBFTkQNCg0KCS0tIEVudHJhbmNlIEFuaW1hdGlvbg0KDQoJd2FpdCgwLjUpDQoNCglidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksDQoJCSJPdXQiLA0KCQkiU2luZSIsDQoJCS41LA0KCQl0cnVlDQoJKQ0KDQoJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwNCgkJIk91dCIsDQoJCSJTaW5lIiwNCgkJLjUsDQoJCXRydWUNCgkpDQoNCgktLSBJbmZvDQoNCgl3YXJuKCJHVUkgc3VjY2Vzc2Z1bGx5IGxvYWRlZCEiKQ0KZW5k"