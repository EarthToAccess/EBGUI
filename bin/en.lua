encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbg0KCWdhbWUuTG9hZGVkOldhaXQoKQ0KZW5kDQoNCmlmIChnYW1lLkNvcmVHdWk6RmluZEZpcnN0Q2hpbGQoImViZ3VpIikpIHRoZW4NCglnYW1lLkNvcmVHdWkuZWJndWk6RGVzdHJveSgpDQplbmQNCg0KbG9jYWwgYmxvY2tsaXN0ID0gew0KfQ0KDQpsb2NhbCBtYXN0ZXJsaXN0ID0gew0KCTMyNTczMzM0DQp9DQoNCmxvY2FsIGdvbGRsaXN0ID0gew0KCSJnb2xkX0VsZW1lbnRhbEZpcnN0XzM5NzY3OCINCn0NCg0KbG9jYWwgcGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpDQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyDQpsb2NhbCBJRCA9IHBsYXllci5Vc2VySWQNCmxvY2FsIGlzQmxvY2tlZCA9IGZhbHNlDQpsb2NhbCBpc01hc3RlciA9IGZhbHNlDQpsb2NhbCBpc0dvbGQgPSBmYWxzZQ0KDQpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQ0KICAgICAgICBicmVhaw0KICAgIGVuZA0KZW5kDQoNCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlDQogICAgICAgIGJyZWFrDQogICAgZW5kDQplbmQNCg0KaWYgaXNCbG9ja2VkIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICBUaGlzIGFjY291bnQgaGFzIGJlZW4gYmxvY2tlZC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2VpZiBub3QgRUJHdWlLZXkgYW5kIG5vdCBpc0Jsb2NrZWQgYW5kIG5vdCBpc01hc3RlciB0aGVuDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpDQplbHNlaWYgRUJHdWlLZXkgfj0gInNjcmlwdF9FbGVtZW50YWwwODIwMjJfMjIwNTAzIiBhbmQgbm90IGlzQmxvY2tlZCBhbmQgbm90IGlzTWFzdGVyIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2UNCglsb2Fkc3RyaW5nKGdhbWU6SHR0cEdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0VhcnRoVG9BY2Nlc3MvRUJHdWkvbWFpbi9iaW4vaW5mby5sdWEnKSkoKQ0KCWxvY2FsIHZlck51bSA9ICJ2Mi43LjIiDQoJbG9jYWwgZHVtYlF1b3RlcyA9IHsNCgkJIkplZXosIHdoZW4nZCBpdCBnZXQgc28gaG90IGluIGhlcmU/IiwNCgkJIklzIGl0IGp1c3QgbWUgb3IgaXMgdGhhdCAqdG9vKiBibHVlPyIsDQoJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLA0KCQkiRGVleiBudXRzIGFyZSB0b28gc3F1YXJlISIsDQoJCSJBbHNvIHRyeSBNaW5lY3JhZnQhIiwNCgkJIkFsc28gdHJ5IFRlcnJhcmlhISIsDQoJCSJNZWgsIEkgbGlrZWQgUmlzayBvZiBSYWluIDIgYmV0dGVyLiIsDQoJCSJZb3UgbmVlZCBhIGZhaXJseSBoaWdoIElRIHRvIHVuZGVyc3RhbmQgRUJHdWkuIiwNCgkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwNCgkJIldoYXQgd291bGQgKnlvdSogZG8gZm9yIGEgS2xvbmRpa2UgYmFyPyIsDQoJCSJOb3cgd2l0aCAxMDAlIG1vcmUgR29sZCEiLA0KCQkiTWFkZSBpbiBMdWEhIiwNCgkJIklGICVFUlJPUkxFVkVMJSBFUVUgMSBHT1RPOkVPRiIsDQoJCSJicnVoIG5lcmYgc29sYXIgYWxyZWFkeSIsDQoJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsDQoJCSJQZXRpdGlvbiBZT1VSIGxvY2FsIGRldmVsb3BlciBmb3IgbW9yZSB1cGRhdGVzISIsDQoJCSJ3aHkgYXJlIHlvdSBidXlpbmcgY2xvdGhlcyBhdCB0aGUgc291cCBzdG9yZSIsDQoJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiINCgl9DQoNCiAgICB3YXJuKFtbX19fX19fIF9fX19fIF9fX19fICAgICAgIF8gDQogICAgICAgICAgICB8ICBfX198IF9fXyBcICBfXyBcICAgICAoXykNCiAgICAgICAgICAgIHwgfF9fIHwgfF8vIC8gfCAgXC9fICAgXyBfIA0KICAgICAgICAgICAgfCAgX198fCBfX18gXCB8IF9ffCB8IHwgfCB8DQogICAgICAgICAgICB8IHxfX198IHxfLyAvIHxfXCBcIHxffCB8IHwNCiAgICAgICAgICAgIFxfX19fL1xfX19fLyBcX19fXy9cX18sX3xffCBdXSAuLiB2ZXJOdW0pDQoJcHJpbnQoIiAiKQ0KCXByaW50KGR1bWJRdW90ZXNbbWF0aC5yYW5kb20oMSwxOCldKQ0KCXByaW50KCIgIikNCgl3YXJuKCJXZWxjb21lIHRvIEVCR3VpLCAiIC4uIHBsYXllci5OYW1lIC4uICIhIikNCgl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQ0KCXdhcm4oIlF1ZXN0aW9ucyBvciBjb25jZXJucz8gTGV0IHVzIGtub3cgaW4gdGhlIERpc2NvcmQsIikNCgl3YXJuKCJvciBlbWFpbCBFYXJ0aCBoaW1zZWxmIGF0IGVhcnRodG9hY2Nlc3NAZ21haWwuY29tISIpDQoJd2FpdCgwLjUpDQoJDQoJaWYgaXNNYXN0ZXIgdGhlbg0KCQl3YXJuKFtbICAgDQoJCQlMb2FkZWQgaW4gdXNpbmcgdGhlIE1hc3RlciBMaXN0ISBPdmVycmlkaW5nIGFjY2VzcyBnaXZlbi4NCgkJCSAgXV0pDQoJZW5kDQoNCglmb3IgaSx2IGluIHBhaXJzKGdvbGRsaXN0KSBkbw0KCQlpZiBub3QgRUJHdWlHb2xkIHRoZW4gZWxzZWlmIEVCR3VpR29sZCA9PSB2IHRoZW4NCgkJCWlzR29sZCA9IHRydWUNCgkJCXByaW50KFtbCQkJCV9fX18gICAgICAgICAgICAgX19fICAgICAgX19fIA0KCQkJICAgICAgICAgICA2TU1NTWIvICAgICAgICAgICBgTU0gICAgICBgTU0gDQoJCQkgICAgICAgICAgOFAgICAgWU0gICAgICAgICAgICBNTSAgICAgICBNTSANCgkJCSAgICAgICAgIDZNICAgICAgWSAgIF9fX19fICAgIE1NICAgX19fX01NIA0KCQkJICAgICAgICAgTU0gICAgICAgICA2TU1NTU1iICAgTU0gIDZNTU1NTU0gDQoJCQkgICAgICAgICBNTSAgICAgICAgNk0nICAgYE1iICBNTSA2TScgIGBNTSANCgkJCSAgICAgICAgIE1NICAgICBfX19NTSAgICAgTU0gIE1NIE1NICAgIE1NIA0KCQkJICAgICAgICAgTU0gICAgIGBNJ01NICAgICBNTSAgTU0gTU0gICAgTU0gDQoJCQkgICAgICAgICBZTSAgICAgIE0gTU0gICAgIE1NICBNTSBNTSAgICBNTSANCgkJCSAgICAgICAgICA4YiAgICBkOSBZTS4gICAsTTkgIE1NIFlNLiAgLE1NIA0KCQkJICAgICAgICAgICBZTU1NTTkgICBZTU1NTU05ICBfTU1fIFlNTU1NTU1fXV0pDQoJCQl3YXJuKCJUaGFuayB5b3UgZm9yIGJlaW5nIGEgR09MREVOIG1lbWJlciEiKQ0KCQkJd2FybignRW5qb3kgdGhlIHZhcmlvdXMgIm92ZXJwb3dlcmVkIiBzY3JpcHRzIHdlIGhhdmUgaW4gc3RvcmUhJykNCgkJCWJyZWFrDQoJCWVsc2UgZW5kDQoJZW5kDQoNCgktLSBHVUkgSW5zdGFuY2VzLCBFdmVudHMgYW5kIEZ1bmN0aW9ucw0KDQoJbG9jYWwgZWJndWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpDQoJZWJndWkuTmFtZSA9ICJlYmd1aSINCgllYmd1aS5QYXJlbnQgPSBnYW1lOldhaXRGb3JDaGlsZCgiQ29yZUd1aSIpDQoNCglnYW1lLkNvcmVHdWkuQ2hpbGRSZW1vdmVkOmNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpDQoJCWlmIGNoaWxkLk5hbWUgPT0gImViZ3VpIiB0aGVuDQoJCQljbG9zZWRmb3JldmVyID0gdHJ1ZQ0KCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlDQoJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlDQoJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlDQoJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlDQoJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlDQoJCQlVSVMgPSBuaWwNCgkJCWJyZWFrYWJsZSA9IHRydWUNCgkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IG5pbA0KCQkJVmluZVRyYXBFbmFibGVkID0gbmlsDQoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gbmlsDQoJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gbmlsDQoJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gbmlsDQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IG5pbA0KCQkJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBuaWwNCgkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBuaWwNCgkJCVNrZWxldG9uR3JhYkVuYWJsZWQgPSBuaWwNCgkJCVRoZVdvcmxkRW5hYmxlZCA9IG5pbA0KCQkJUG9sYXJpc0VuYWJsZWQgPSBuaWwNCgkJCUxhZ1NlcnZlckVuYWJsZWQgPSBuaWwNCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBuaWwNCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gbmlsDQoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBuaWwNCgkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IG5pbA0KCQkJU2V3ZXJCdXJzdEVuYWJsZWQgPSBuaWwNCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gbmlsDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBuaWwNCgkJCVZpcnR1YWxab25lRW5hYmxlZCA9IG5pbA0KCQkJQW50aUJsaW5kRW5hYmxlZCA9IG5pbA0KCQkJQW50aUxhZ0VuYWJsZWQgPSBuaWwNCgkJCVNwZWVkaGFja0VuYWJsZWQgPSBuaWwNCgkJCUhvbG9iZWFtRW5hYmxlZCA9IG5pbA0KCQkJU2V0U3BlZWQgPSBuaWwNCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gbmlsDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwNCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IG5pbA0KCQkJQ2xpY2tUUEVuYWJsZWQgPSBuaWwNCgkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwNCgkJCVRocnVzdEVuYWJsZWQgPSBuaWwNCgkJCVRocnVzdFBvd2VyID0gbmlsDQoJCQl2aWV3aW5nID0gbmlsDQoJCQlUUFRhcmdldEVuYWJsZWQgPSBuaWwNCgkJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBuaWwNCgkJCUVTUEVuYWJsZWQgPSBuaWwNCgkJCVRQU2hhcmRzRW5hYmxlZCA9IG5pbA0KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBuaWwNCgkJCUZQU0Ryb3BwaW5nID0gbmlsDQoJCQlzYW5zS2lsbGVkID0gIndpcCINCgkJCUFzdGVyb2lkQmVsdEVuYWJsZWQgPSBuaWwNCgkJCVZpZ29ySGFja0VuYWJsZWQgPSBuaWwNCgkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IG5pbA0KCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IG5pbA0KCQkJRG91YmxlUmF5RW5hYmxlZCA9IG5pbA0KCQkJRGlzcGVyc2lvbkVuYWJsZWQgPSBuaWwNCgkJCURhcmtBb2VFbmFibGVkID0gbmlsDQoJCQlIeXBlcmFuZ0VuYWJsZWQgPSBuaWwNCgkJCUNyZWF0aW9uSG9sZEVuYWJsZWQgPSBuaWwNCgkJCVJlYXBlclVsdEVuYWJsZWQgPSBuaWwNCgkJZW5kDQoJZW5kKQ0KDQoJbG9jYWwgbW91c2UgPSBwbGF5ZXI6R2V0TW91c2UoKQ0KDQoJbG9jYWwgYm9yZGVycyA9IHt9DQoNCglsb2NhbCBidXR0b25zbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWJ1dHRvbnNtYWluLk5hbWUgPSAiYnV0dG9uc21haW4iDQoJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkNCglidXR0b25zbWFpbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC4yMjUsIDApDQoJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGJ1dHRvbnNtYWluKQ0KDQoJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UNCglidXR0b25zb3BlbmVkID0gdHJ1ZQ0KDQoNCgktLWlmIChpbml0aWF0aW9uTW9kZSA9PSAiTW9kZXJuIikgdGhlbg0KCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWNvbW1hbmRzbWFpbi5OYW1lID0gImNvbW1hbmRzbWFpbiINCgljb21tYW5kc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCkNCgljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQ0KCXRhYmxlLmluc2VydChib3JkZXJzLCBjb21tYW5kc21haW4pDQoJLS1lbmQNCg0KCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlDQoJY29tbWFuZHNvcGVuZWQgPSB0cnVlDQoNCgljbG9zZWRmb3JldmVyID0gZmFsc2UNCg0KCWxvY2FsIGZyYW1lcyA9IHt9DQoNCgktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBidXR0b25zLg0KCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQ0KCWJ1dHRvbnNmcmFtZS5OYW1lID0gImJ1dHRvbnNmcmFtZSINCglidXR0b25zZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQ0KCWJ1dHRvbnNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWJ1dHRvbnNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJYnV0dG9uc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJYnV0dG9uc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCWJ1dHRvbnNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkNCgl0YWJsZS5pbnNlcnQoZnJhbWVzLCBidXR0b25zZnJhbWUpDQoJYnV0dG9uc2ZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluDQoNCgktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBjb21tYW5kIGJveC4NCglsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJY29tbWFuZHNmcmFtZS5OYW1lID0gImNvbW1hbmRzZnJhbWUiDQoJY29tbWFuZHNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE4LCA1NCwgMTc5KQ0KCWNvbW1hbmRzZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgljb21tYW5kc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCgljb21tYW5kc2ZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCWNvbW1hbmRzZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApDQoJdGFibGUuaW5zZXJ0KGZyYW1lcywgY29tbWFuZHNmcmFtZSkNCgljb21tYW5kc2ZyYW1lLlBhcmVudCA9IGNvbW1hbmRzbWFpbg0KDQoJLS0gQ29tbWFuZCBib3guIFRoaXMgaXMgd2hlcmUgdXNlcnMgdHlwZSBpbiBjb21tYW5kcyBhbmQgdGFyZ2V0cy4NCglsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikNCgljb21tYW5kQm94Lk5hbWUgPSAiY29tbWFuZEJveCINCgljb21tYW5kQm94LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkNCgljb21tYW5kQm94LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJY29tbWFuZEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkNCgljb21tYW5kQm94LlNpemUgPSBVRGltMi5uZXcoMC44NSwgMCwgMC4yMCwgMCkNCgljb21tYW5kQm94LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCgljb21tYW5kQm94LlRleHQgPSAiIg0KCWNvbW1hbmRCb3guVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJY29tbWFuZEJveC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3guVGV4dFNpemUgPSAxNC4wMDANCgljb21tYW5kQm94LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3guQ2xlYXJUZXh0T25Gb2N1cyA9IGZhbHNlDQoJY29tbWFuZEJveC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCglsb2NhbCBsYWJlbHMgPSB7fQ0KDQoJLS0gVGhlIG91dHB1dCBmb3IgdGhlIGNvbW1hbmQgYm94LCBBS0EgdGhlIHdoaXRlIHRleHQgYmVsb3cgdGhhdCBsaXN0cyB5b3VyIHRhcmdldC4NCglsb2NhbCBjb21tYW5kQm94T3V0cHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCWNvbW1hbmRCb3hPdXRwdXQuTmFtZSA9ICJjb21tYW5kQm94T3V0cHV0Ig0KCWNvbW1hbmRCb3hPdXRwdXQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCgljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCWNvbW1hbmRCb3hPdXRwdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjYsIDApDQoJY29tbWFuZEJveE91dHB1dC5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yLCAwKQ0KCWNvbW1hbmRCb3hPdXRwdXQuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgljb21tYW5kQm94T3V0cHV0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNjYWxlZCA9IHRydWUNCgljb21tYW5kQm94T3V0cHV0LlRleHRTaXplID0gMTQuMDAwDQoJY29tbWFuZEJveE91dHB1dC5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBjb21tYW5kQm94T3V0cHV0KQ0KCWNvbW1hbmRCb3hPdXRwdXQuUGFyZW50ID0gY29tbWFuZHNmcmFtZQ0KDQoJLS0gVGhlIGluZm9ybWF0aW9uIGFib3ZlIHRoZSBidXR0b25zLCBlLmcuIHVzZXIncyBuYW1lLCBjaGFubmVsDQoJbG9jYWwgRGV0YWlscyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzLk5hbWUgPSAiRGV0YWlscyINCglEZXRhaWxzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlscy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCURldGFpbHMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wMTQxNDE0MTQzLCAwKQ0KCURldGFpbHMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCWlmIG5vdCBpc0dvbGQgdGhlbg0KCQlEZXRhaWxzLlRleHQgPSBwbGF5ZXIuTmFtZSAuLiAiIHwgRUJHdWkgfCBTdGFibGUiDQoJZWxzZQ0KCQlEZXRhaWxzLlRleHQgPSBwbGF5ZXIuTmFtZSAuLiAiIHwgRUJHdWkgR29sZCB8IFN0YWJsZSINCgllbmQNCglEZXRhaWxzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMuVGV4dFNjYWxlZCA9IHRydWUNCglEZXRhaWxzLlpJbmRleCA9IDUNCglEZXRhaWxzLlRleHRTaXplID0gMTQuMDAwDQoJRGV0YWlscy5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzKQ0KCURldGFpbHMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lDQoNCgktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgY29tbWFuZCBib3guDQoJbG9jYWwgRGV0YWlsczIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlsczIuTmFtZSA9ICJEZXRhaWxzMiINCglEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCURldGFpbHMyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjksIDApDQoJRGV0YWlsczIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMyLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzMi5UZXh0ID0gIlByZXNzIF0gdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIg0KCURldGFpbHMyLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMyLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczIuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzMi5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMikNCglEZXRhaWxzMi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCgktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgYnV0dG9ucy4NCglsb2NhbCBEZXRhaWxzMyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzMy5OYW1lID0gIkRldGFpbHMzIg0KCURldGFpbHMzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC44NzUsIDApDQoJRGV0YWlsczMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMzLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIg0KCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykNCglEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCS0tIFNjcmlwdCB0ZXJtaW5hdGlvbiBpbnN0cnVjdGlvbnMuDQoJbG9jYWwgRGV0YWlsczQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlsczQuTmFtZSA9ICJEZXRhaWxzNCINCglEZXRhaWxzNC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglEZXRhaWxzNC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglEZXRhaWxzNC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCURldGFpbHM0LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDEuMSwgMCkNCglEZXRhaWxzNC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTc1LCAwKQ0KCURldGFpbHM0LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzNC5UZXh0ID0gIkhvbGQgdGhlIExlZnQgYW5kIFJpZ2h0IGFycm93IGtleXMsIHRoZW4gcHJlc3MgYW55IGtleSB0byBxdWl0IEVCR3VpLiINCglEZXRhaWxzNC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglEZXRhaWxzNC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHM0LlRleHRTaXplID0gMTQuMDAwDQoJRGV0YWlsczQuVGV4dFdyYXBwZWQgPSB0cnVlDQoJRGV0YWlsczQuUGFyZW50ID0gYnV0dG9uc2ZyYW1lDQoNCgktLSBUaGUgdmVyc2lvbiBudW1iZXIgYWJvdmUgdGhlIGNvbW1hbmQgYm94Lg0KCWxvY2FsIFZlcnNpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJVmVyc2lvbi5OYW1lID0gIlZlcnNpb24iDQoJVmVyc2lvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglWZXJzaW9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCVZlcnNpb24uQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglWZXJzaW9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDUsIDApDQoJVmVyc2lvbi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMSwgMCkNCglWZXJzaW9uLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglWZXJzaW9uLlRleHQgPSAiVmVyc2lvbiAiIC4uIHZlck51bQ0KCVZlcnNpb24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJVmVyc2lvbi5UZXh0U2NhbGVkID0gdHJ1ZQ0KCVZlcnNpb24uVGV4dFNpemUgPSAxNC4wMDANCglWZXJzaW9uLlRleHRXcmFwcGVkID0gdHJ1ZQ0KCXRhYmxlLmluc2VydChsYWJlbHMsIFZlcnNpb24pDQoJVmVyc2lvbi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCgktLSBUaGUgYmFja2dyb3VuZCBmb3IgdGhlIFVJLg0KCWxvY2FsIG1haW5mcmFtZSA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQ0KCW1haW5mcmFtZS5OYW1lID0gIm1haW5mcmFtZSINCgltYWluZnJhbWUuQWN0aXZlID0gdHJ1ZQ0KCW1haW5mcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDksIDgzLCA4OSkNCgltYWluZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgltYWluZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMg0KCW1haW5mcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkNCgltYWluZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCgltYWluZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjg2Nzc2ODU4NiwgMCwgMC42LCAwKQ0KCW1haW5mcmFtZS5TY3JvbGxCYXJUaGlja25lc3MgPSA2DQoJbWFpbmZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluDQoNCgktLSBHcmlkIGxheW91dCBmb3IgdGhlIGJ1dHRvbnMuDQoJbG9jYWwgVUlHcmlkTGF5b3V0ID0gSW5zdGFuY2UubmV3KCJVSUdyaWRMYXlvdXQiKQ0KCVVJR3JpZExheW91dC5GaWxsRGlyZWN0aW9uID0gRW51bS5GaWxsRGlyZWN0aW9uLkhvcml6b250YWwNCglVSUdyaWRMYXlvdXQuSG9yaXpvbnRhbEFsaWdubWVudCA9IEVudW0uSG9yaXpvbnRhbEFsaWdubWVudC5DZW50ZXINCglVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgNykNCglVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgMzApDQoJVUlHcmlkTGF5b3V0LlNvcnRPcmRlciA9IEVudW0uU29ydE9yZGVyLkxheW91dE9yZGVyDQoJVUlHcmlkTGF5b3V0LlBhcmVudCA9IG1haW5mcmFtZQ0KDQoJbG9jYWwgYnV0dG9ucyA9IHt9DQoNCgktLS0tLS0gQnV0dG9ucyBmb3IgaGFja3MuDQoNCgktLS0tIEFvRXMNCgktLSBJbnN0YW50IEJsYXplIENvbHVtbg0KDQoJbG9jYWwgQmxhemVDb2x1bW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUJsYXplQ29sdW1uLk5hbWUgPSAiQmxhemVDb2x1bW4iDQoJQmxhemVDb2x1bW4uVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmxhemVDb2x1bW4pDQoNCglCbGF6ZUNvbHVtbkVuYWJsZWQgPSBmYWxzZQ0KDQoJQmxhemVDb2x1bW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQmxhemVDb2x1bW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IHRydWUNCgkJCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9uKSINCgkJZWxzZQ0KCQkJQmxhemVDb2x1bW5FbmFibGVkID0gZmFsc2UNCgkJCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFtcGxpZmllZCBHZW5lc2lzIFJheQ0KDQoJbG9jYWwgR2VuZXNpc1JheSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJR2VuZXNpc1JheS5OYW1lID0gIkdlbmVzaXNSYXkiDQoJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR2VuZXNpc1JheSkNCg0KCWxvY2FsIEdlbmVzaXNSYXlFbmFibGVkID0gZmFsc2UNCglsb2NhbCBHUkNoYXJnZSA9IDEgLS0gMTAwMDAwMA0KDQoJR2VuZXNpc1JheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBHZW5lc2lzUmF5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IHRydWUNCgkJCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9uKSINCgkJZWxzZQ0KCQkJR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQ0KCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQ3JlYXRpb24gSG9sZCBIYWNrDQoNCglsb2NhbCBDaGFpbkhvbGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUNoYWluSG9sZC5OYW1lID0gIkNoYWluSG9sZCINCglDaGFpbkhvbGQuVGV4dCA9ICIoRykgSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBDaGFpbkhvbGQpDQoNCglsb2NhbCBDcmVhdGlvbkhvbGRFbmFibGVkID0gZmFsc2UNCg0KCUNoYWluSG9sZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgbm90IENyZWF0aW9uSG9sZEVuYWJsZWQgdGhlbg0KCQkJCUNyZWF0aW9uSG9sZEVuYWJsZWQgPSB0cnVlDQoJCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT24pIg0KCQkJZWxzZQ0KCQkJCUNyZWF0aW9uSG9sZEVuYWJsZWQgPSBmYWxzZQ0KCQkJCUNoYWluSG9sZC5UZXh0ID0gIihHKSBJbnN0YW50IENoYWluIEhhY2sgKE9mZikiDQoJCQllbmQNCgkJZWxzZQ0KCQkJQ2hhaW5Ib2xkLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJQ2hhaW5Ib2xkLlRleHQgPSAiKEcpIEluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBWaW5lIFRyYXANCg0KCWxvY2FsIFZpbmVUcmFwID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaW5lVHJhcC5OYW1lID0gIlZpbmVUcmFwIg0KCVZpbmVUcmFwLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpbmVUcmFwKQ0KDQoJVmluZVRyYXBFbmFibGVkID0gZmFsc2UNCg0KCVZpbmVUcmFwLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFZpbmVUcmFwRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlWaW5lVHJhcEVuYWJsZWQgPSB0cnVlDQoJCQlWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPbikiDQoJCWVsc2UNCgkJCVZpbmVUcmFwRW5hYmxlZCA9IGZhbHNlDQoJCQlWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbGx1c2l2ZSBBdGFrZSBIYWNrDQoNCglsb2NhbCBJbGx1c2l2ZUF0YWtlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJbGx1c2l2ZUF0YWtlLk5hbWUgPSAiSWxsdXNpdmVBdGFrZSINCglJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWxsdXNpdmVBdGFrZSkNCg0KCUlsbHVzaXZlQXRha2VFbmFibGVkID0gZmFsc2UNCg0KCUlsbHVzaXZlQXRha2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSB0cnVlDQoJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT24pIg0KCQllbHNlDQoJCQlJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlDQoJCQlJbGx1c2l2ZUF0YWtlLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBNdXJreSBNaXNzaWxlcw0KDQoJbG9jYWwgRGFya0FvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRGFya0FvZS5OYW1lID0gIkRhcmtBb2UiDQoJRGFya0FvZS5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERhcmtBb2UpDQoNCglsb2NhbCBEYXJrQW9lRW5hYmxlZCA9IGZhbHNlDQoNCglEYXJrQW9lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIG5vdCBEYXJrQW9lRW5hYmxlZCB0aGVuDQoJCQlEYXJrQW9lRW5hYmxlZCA9IHRydWUNCgkJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPbikiDQoJCWVsc2UNCgkJCURhcmtBb2VFbmFibGVkID0gZmFsc2UNCgkJCURhcmtBb2UuVGV4dCA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIg0KCQllbmQNCgllbmQpDQoJDQoJLS0gSW5zdGFudCBBaXIgRGlzcGVyc2lvbg0KDQoJbG9jYWwgU3Rvcm1Bb2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVN0b3JtQW9lLk5hbWUgPSAiU3Rvcm1Bb2UiDQoJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFN0b3JtQW9lKQ0KDQoJbG9jYWwgRGlzcGVyc2lvbkVuYWJsZWQgPSBmYWxzZQ0KDQoJU3Rvcm1Bb2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBEaXNwZXJzaW9uRW5hYmxlZCB0aGVuDQoJCQkJRGlzcGVyc2lvbkVuYWJsZWQgPSB0cnVlDQoJCQkJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9uKSINCgkJCWVsc2UNCgkJCQlEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlDQoJCQkJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiDQoJCQllbmQJDQoJCWVsc2UNCgkJCVN0b3JtQW9lLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIg0KCQkJd2FpdCgxKQ0KCQkJU3Rvcm1Bb2UuVGV4dCA9ICIoRykgSW5zdGFudCBTdG9ybSBBb0UgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFNwbGl0dGluZyBTbGltZSBIYWNrDQoNCglsb2NhbCBTcGxpdHRpbmdTbGltZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU3BsaXR0aW5nU2xpbWUuTmFtZSA9ICJTcGxpdHRpbmdTbGltZSINCglTcGxpdHRpbmdTbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGxpdHRpbmdTbGltZSkNCg0KCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IGZhbHNlDQoNCglTcGxpdHRpbmdTbGltZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTcGxpdHRpbmdTbGltZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gdHJ1ZQ0KCQkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT24pIg0KCQllbHNlDQoJCQlTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBmYWxzZQ0KCQkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW1hdXJvdGljIExhbWJlbnQgSGFjaw0KDQoJbG9jYWwgQW1hdXJvdGljTGFtYmVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW1hdXJvdGljTGFtYmVudC5OYW1lID0gIkFtYXVyb3RpY0xhbWJlbnQiDQoJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFtYXVyb3RpY0xhbWJlbnQpDQoNCglBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IGZhbHNlDQoNCglBbWF1cm90aWNMYW1iZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gdHJ1ZQ0KCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBmYWxzZQ0KCQkJQW1hdXJvdGljTGFtYmVudC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEluc3RhbnQgUGxhc21hIEltcGxvc2lvbg0KDQoJbG9jYWwgUGxhc21hSW1wbG9zaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglQbGFzbWFJbXBsb3Npb24uTmFtZSA9ICJQbGFzbWFJbXBsb3Npb24iDQoJUGxhc21hSW1wbG9zaW9uLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBQbGFzbWFJbXBsb3Npb24pDQoNCglQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UNCg0KCVBsYXNtYUltcGxvc2lvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSB0cnVlDQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9uKSINCgkJZWxzZQ0KCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEZvcm1pZGFibGUgUm9hciBIYWNrDQoNCglsb2NhbCBGb3JtaWRhYmxlUm9hciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRm9ybWlkYWJsZVJvYXIuTmFtZSA9ICJGb3JtaWRhYmxlUm9hciINCglGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikNCg0KCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlDQoNCglGb3JtaWRhYmxlUm9hci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBGb3JtaWRhYmxlUm9hckVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gdHJ1ZQ0KCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT24pIg0KCQllbHNlDQoJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSBmYWxzZQ0KCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBTa2VsZXRvbiBHcmFiDQoNCglsb2NhbCBTa2VsZXRvbkdyYWIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNrZWxldG9uR3JhYi5OYW1lID0gIlNrZWxldG9uR3JhYiINCglTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2tlbGV0b25HcmFiKQ0KDQoJU2tlbGV0b25HcmFiRW5hYmxlZCA9IGZhbHNlDQoNCglTa2VsZXRvbkdyYWIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2tlbGV0b25HcmFiRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gdHJ1ZQ0KCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPbikgW0FJTUVEXSINCgkJZWxzZQ0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IGZhbHNlDQoJCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrDQoNCglsb2NhbCBHcmF2aXRhdGlvbmFsRmllbGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUdyYXZpdGF0aW9uYWxGaWVsZC5OYW1lID0gIkdyYXZpdGF0aW9uYWxGaWVsZCINCglHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGF0aW9uYWxGaWVsZCkNCg0KCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSBmYWxzZQ0KDQoJR3Jhdml0YXRpb25hbEZpZWxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IHRydWUNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT24pIg0KCQllbHNlDQoJCQlHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gZmFsc2UNCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBSb2NrIEFybW9yDQoNCglsb2NhbCBSb2NrQXJtb3IgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVJvY2tBcm1vci5OYW1lID0gIlJvY2tBcm1vciINCglSb2NrQXJtb3IuVGV4dCA9ICJJbnN0YW50IFJvY2sgQXJtb3IiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikNCg0KCVJvY2tBcm1vci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJCb2R5IENvbG9ycyIpIHRoZW4NCgkJCXBsYXllci5DaGFyYWN0ZXJbIkJvZHkgQ29sb3JzIl06RGVzdHJveSgpDQoJCWVuZA0KCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikNCgkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFYXJ0aCIsICJSb2NrIEFybW9yIikNCgllbmQpDQoNCgktLS0tIFBsYXllciBtb2RpZmljYXRpb25zDQoJLS0gU2xpbWUgQnVkZGllcyBIYWNrDQoNCglsb2NhbCBTbGltZUJ1ZGRpZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNsaW1lQnVkZGllcy5OYW1lID0gIlNsaW1lQnVkZGllcyINCglTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTbGltZUJ1ZGRpZXMpDQoNCglsb2NhbCBTbGltZUJ1ZGRpZXNFbmFibGVkID0gZmFsc2UNCg0KCVNsaW1lQnVkZGllcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbg0KCQkJaWYgU2xpbWVCdWRkaWVzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IHRydWUNCgkJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPbikiDQoJCQllbHNlDQoJCQkJU2xpbWVCdWRkaWVzRW5hYmxlZCA9IGZhbHNlDQoJCQkJU2xpbWVCdWRkaWVzLlRleHQgPSAiKEcpIFNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiDQoJCQl3YWl0KDEpDQoJCQlTbGltZUJ1ZGRpZXMuVGV4dCA9ICIoRykgU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbmVydGlhIEdyYXZpdHkNCg0KCWxvY2FsIEluZXJ0aWFHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Ig0KCUluZXJ0aWFHcmF2aXR5LlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbmVydGlhR3Jhdml0eSkNCg0KCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoNCglJbmVydGlhR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBJbmVydGlhR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gdHJ1ZQ0KCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9uKSINCgkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikNCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiDQoJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCAxNjM4LCAwKQ0KCQllbHNlDQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQ0KCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiDQoJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQ6RmluZEZpcnN0Q2hpbGQoIkluZXJ0aWFHcmF2aXR5Rm9yY2UiKSB0aGVuDQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkluZXJ0aWFHcmF2aXR5Rm9yY2U6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU3BlY3RyYWwgRW1ib2RpbWVudA0KDQoJbG9jYWwgU3BlY3RyYWxFbWJvZGltZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTcGVjdHJhbEVtYm9kaW1lbnQuTmFtZSA9ICJTcGVjdHJhbEVtYm9kaW1lbnQiDQoJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlY3RyYWxFbWJvZGltZW50KQ0KDQoJU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9IGZhbHNlDQoNCglTcGVjdHJhbEVtYm9kaW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU3BlY3RyYWxFbWJvZGltZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gdHJ1ZQ0KCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPbikgW1hdIg0KCQllbHNlDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UNCgkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFudGktQmxpbmQNCg0KCWxvY2FsIEFudGlCbGluZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIg0KCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9mZikgW0tdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpQmxpbmQpDQoNCglBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIG5vcm1hbEZvZ0NvbG9yID0gZ2FtZS5MaWdodGluZy5Gb2dDb2xvcg0KCWxvY2FsIG5vcm1hbEZvZ0VuZCA9IGdhbWUuTGlnaHRpbmcuRm9nRW5kDQoJbG9jYWwgbm9ybWFsQnJpZ2h0bmVzcyA9IGdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcw0KCWxvY2FsIG5vcm1hbENsb2NrVGltZSA9IGdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lDQoNCglsb2NhbCBmdW5jdGlvbiBBbnRpQmxpbmRGdW5jKCkNCgkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpQmxpbmRFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT24pIFtLXSINCgkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yID0gbm9ybWFsRm9nQ29sb3INCgkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZA0KCQkJCWdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcyA9IG5vcm1hbEJyaWdodG5lc3MNCgkJCQlnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZSA9IG5vcm1hbENsb2NrVGltZQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iDQoJCWVuZA0KCWVuZA0KDQoJQW50aUJsaW5kLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpQmxpbmRGdW5jKQ0KDQoJcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkNCgkJaWYgQW50aUJsaW5kRW5hYmxlZCB0aGVuDQoJCQlpZiBkLk5hbWUgPT0gIlNjcmVlbkd1aSIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuU2NyZWVuR3VpOkRlc3Ryb3koKQ0KCQkJZWxzZWlmIGQuTmFtZSA9PSAiRGlzdG9ydCIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuRGlzdG9ydDpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBTcGVlZCBoYWNrDQoNCglsb2NhbCBTcGVlZGhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNwZWVkaGFjay5OYW1lID0gIlNwZWVkaGFjayINCglTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlZWRoYWNrKQ0KDQoJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlDQoJU2V0U3BlZWQgPSA2NA0KDQoJZnVuY3Rpb24gbW9kaWZ5U3BlZWQoKQ0KCQlwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkNoYW5nZWQ6Y29ubmVjdChmdW5jdGlvbigpDQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbg0KCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQNCgkJCWVsc2UNCgkJCQlyZXR1cm4NCgkJCWVuZA0KCQllbmQpDQoJZW5kDQoNCglmdW5jdGlvbiBiZWdpblNwZWVkKCkNCgkJaWYgU3BlZWRoYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGVlZGhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT24pIFtUXSINCgkJCW1vZGlmeVNwZWVkKCkNCgkJCXdhaXQoKQ0KCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJd2hpbGUgU3BlZWRoYWNrRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJbW9kaWZ5U3BlZWQoKQ0KCQkJCQl3YWl0KCkNCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT2ZmKSBbVF0iDQoJCWVuZA0KCWVuZA0KDQoJU3BlZWRoYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpblNwZWVkKQ0KDQoJLS0tLSBCdWxsZXRzDQoJLS0gSHlwZXJhbmcgSGFjaw0KDQoJbG9jYWwgVGVjaFJhbmcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRlY2hSYW5nLk5hbWUgPSAiVGVjaFJhbmciDQoJVGVjaFJhbmcuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUZWNoUmFuZykNCg0KCWxvY2FsIEh5cGVyYW5nRW5hYmxlZCA9IGZhbHNlDQoNCglUZWNoUmFuZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBub3QgSHlwZXJhbmdFbmFibGVkIHRoZW4NCgkJCUh5cGVyYW5nRW5hYmxlZCA9IHRydWUNCgkJCVRlY2hSYW5nLlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT24pIg0KCQllbHNlDQoJCQlIeXBlcmFuZ0VuYWJsZWQgPSBmYWxzZQ0KCQkJVGVjaFJhbmcudGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBc3Rlcm9pZCBCZWx0IEhhY2sNCg0KCWxvY2FsIEFzdGVyb2lkQmVsdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFzdGVyb2lkQmVsdEhhY2suTmFtZSA9ICJBc3Rlcm9pZEJlbHRIYWNrIg0KCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFzdGVyb2lkQmVsdEhhY2spDQoJDQoJbG9jYWwgQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IGZhbHNlDQoJDQoJQXN0ZXJvaWRCZWx0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBc3Rlcm9pZEJlbHRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFzdGVyb2lkQmVsdEVuYWJsZWQgPSB0cnVlDQoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSAiQXN0ZXJvaWQgQmVsdCBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUFzdGVyb2lkQmVsdEVuYWJsZWQgPSBmYWxzZQ0KCQkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVmlnb3IgR3lyYXRpb24gSGFjaw0KDQoJbG9jYWwgVmlnR3lyYXRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaWdHeXJhdEhhY2suTmFtZSA9ICJWaWdHeXJhdEhhY2siDQoJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlnR3lyYXRIYWNrKQ0KCQ0KCWxvY2FsIFZpZ29ySGFja0VuYWJsZWQgPSBmYWxzZQ0KCQ0KCVZpZ0d5cmF0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWaWdvckhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpZ29ySGFja0VuYWJsZWQgPSB0cnVlDQoJCQlWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVZpZ29ySGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gTGlnaHRuaW5nIEJhcnJhZ2UgSGFjaw0KDQoJbG9jYWwgQmFycmFnZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQmFycmFnZS5OYW1lID0gIkJhcnJhZ2UiDQoJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmFycmFnZSkNCg0KCUJhcnJhZ2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IFN0b3JtQnVsbGV0c0VuYWJsZWQgdGhlbg0KCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IHRydWUNCgkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IGZhbHNlDQoJCQlCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLS0tIEJsYXN0cw0KCS0tIE9yYml0YWwgU3RyaWtlIEhhY2sNCg0KCWxvY2FsIE9yYml0YWwgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCU9yYml0YWwuTmFtZSA9ICJPcmlidGFsIg0KCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgT3JiaXRhbCkNCg0KCWxvY2FsIE9yYml0YWxIYWNrRW5hYmxlZCA9IGZhbHNlDQoNCglPcmJpdGFsLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuDQoJCQlpZiBub3QgT3JiaXRhbEhhY2tFbmFibGVkIHRoZW4NCgkJCQlPcmJpdGFsSGFja0VuYWJsZWQgPSB0cnVlDQoJCQkJT3JiaXRhbC5UZXh0ID0gIihHKSBPcmJpdGFsIFN0cmlrZSBIYWNrIChPbikiDQoJCQllbHNlDQoJCQkJT3JiaXRhbEhhY2tFbmFibGVkID0gZmFsc2UNCgkJCQlPcmJpdGFsLlRleHQgPSAiKEcpIE9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiDQoJCQllbmQNCgkJZWxzZQ0KCQkJT3JiaXRhbC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMSkNCgkJCU9yYml0YWwuVGV4dCA9ICIoRykgT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRG91YmxlIFJheSBIYWNrDQoNCglsb2NhbCBEb3VibGVSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCURvdWJsZVJheS5OYW1lID0gIkRvdWJsZVJheSINCglEb3VibGVSYXkuVGV4dCA9ICIoRykgRG91YmxlIFJheSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpDQoNCglEb3VibGVSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIG5vdCBEb3VibGVSYXlFbmFibGVkIHRoZW4NCgkJCQlEb3VibGVSYXlFbmFibGVkID0gdHJ1ZQ0KCQkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9uKSINCgkJCWVsc2UNCgkJCQlEb3VibGVSYXlFbmFibGVkID0gZmFsc2UNCgkJCQlEb3VibGVSYXkuVGV4dCA9ICIoRykgRG91YmxlIFJheSBIYWNrIChPZmYpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCURvdWJsZVJheS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMSkNCgkJCURvdWJsZVJheS5UZXh0ID0gIihHKSBEb3VibGUgUmF5IEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEhvbG9iZWFtIENhbWVyYSBBdHRhY2gNCg0KCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIg0KCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSG9sb2JlYW0pDQoNCglIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKHYpDQoJCWlmICh2IH49IG5pbCkgdGhlbg0KCQkJaWYgbm90KHZpZXdpbmcpIGFuZCAodi5OYW1lID09ICJIb2xvYmVhbSIpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ11bdi5OYW1lXQ0KCQkJZWxzZQ0KCQkJCXY6RGVzdHJveSgpDQoJCQkJcmV0dXJuDQoJCQllbmQNCgkJCQ0KCQkJdi5UcmFuc3BhcmVuY3kgPSAwDQoNCgkJCXdhaXQoNCkNCgkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCWVuZA0KCQkJDQoJCQl2OkRlc3Ryb3koKQ0KCQllbmQNCgllbmQNCgkNCglnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCWlmIEhvbG9iZWFtRW5hYmxlZCB0aGVuDQoJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kIChwbGF5ZXIuQ2hhcmFjdGVyKSB0aGVuDQoJCQkJbG9jYWwgZGlzdGFuY2UgPSAocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gdi5Qb3NpdGlvbikuTWFnbml0dWRlDQoJCQkJDQoJCQkJaWYgKHYuU2l6ZSA9PSBWZWN0b3IzLm5ldyg1LCA1LCA1KSkgYW5kIChkaXN0YW5jZSA8IDEwKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4NCgkJCQkNCgkJCQkJdi5OYW1lID0gIkhvbG9iZWFtIg0KCQkJCQ0KCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKSANCgkJCQkJCQlhdHRhY2hDYW1lcmEodikgDQoJCQkJCQllbmQpKQ0KCQkJCQllbmQpDQoJCQkJCQ0KCQkJCQlsb2NhbCBndWkgPSBwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyDQoJCQkJCQ0KCQkJCQl3YWl0KDAuNSkNCgkJCQkJDQoJCQkJCXdoaWxlIHdhaXQoKSBkbw0KCQkJCQkJaWYgbm90KGd1aVsnMSddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWycyJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzMnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNCddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc1J10uQ0QuVGV4dCA9PSAiLi4uIikgdGhlbg0KCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbg0KCQkJCQkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQkJCQkJCWVuZA0KCQkJDQoJCQkJCQkJCXY6RGVzdHJveSgpDQoJCQkJCQkJZW5kKQ0KCQkJCQkJCQ0KCQkJCQkJCWJyZWFrDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgSG9sb2JlYW1FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUhvbG9iZWFtRW5hYmxlZCA9IHRydWUNCgkJCUhvbG9iZWFtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT24pIg0KCQkJDQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbiB2OkRlc3Ryb3koKSBlbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlIb2xvYmVhbUVuYWJsZWQgPSBmYWxzZQ0KCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBDb250cm9sbGVkIEVjaG9lcw0KDQoJbG9jYWwgRWNob2VzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglFY2hvZXMuTmFtZSA9ICJFY2hvZXMiDQoJRWNob2VzLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVjaG9lcykNCg0KCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gZmFsc2UNCglFY2hvZXNQaGFzZSA9IDENCg0KCUVjaG9lcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9IHRydWUNCgkJCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPbikiDQoJCWVsc2UNCgkJCUNvbnRyb2xsZWRFY2hvZXNFbmFibGVkID0gZmFsc2UNCgkJCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLS0tIFNoaWVsZHMNCgktLSBDcnlzdGFsIEFybWFtZW50IEhhY2sNCg0KCWxvY2FsIENyeXN0YWxBcm1hbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ3J5c3RhbEFybWFtZW50Lk5hbWUgPSAiQ3J5c3RhbEFybWFtZW50Ig0KCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ3J5c3RhbEFybWFtZW50KQ0KDQoJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlDQoNCglDcnlzdGFsQXJtYW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gdHJ1ZQ0KCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPbikiDQoJCWVsc2UNCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQ0KCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBHcmF2aXRhbCBHbG9iZSBIYWNrDQoNCglsb2NhbCBHcmF2aXRhbEdsb2JlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglHcmF2aXRhbEdsb2JlLk5hbWUgPSAiR3Jhdml0YWxHbG9iZSINCglHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YWxHbG9iZSkNCg0KCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gZmFsc2UNCg0KCUdyYXZpdGFsR2xvYmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSB0cnVlDQoJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT24pIg0KCQllbHNlDQoJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlDQoJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0tLSBVbHRzDQoJLS0gUmVhcGVyJ3MgUmFnZQ0KCWxvY2FsIFJlYXBlclVsdCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUmVhcGVyVWx0Lk5hbWUgPSAiUmVhcGVyVWx0Ig0KCVJlYXBlclVsdC5UZXh0ID0gIihHKSBSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJlYXBlclVsdCkNCg0KCWxvY2FsIFJlYXBlclVsdEVuYWJsZWQgPSBmYWxzZQ0KDQoJUmVhcGVyVWx0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuDQoJCQlpZiBub3QgUmVhcGVyVWx0RW5hYmxlZCB0aGVuDQoJCQkJUmVhcGVyVWx0RW5hYmxlZCA9IHRydWUNCgkJCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPbikiDQoJCQllbHNlDQoJCQkJUmVhcGVyVWx0RW5hYmxlZCA9IGZhbHNlDQoJCQkJUmVhcGVyVWx0LlRleHQgPSAiKEcpIFJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSINCgkJCWVuZA0KCQllbHNlDQoJCQlSZWFwZXJVbHQuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiDQoJCQl3YWl0KDEpDQoJCQlSZWFwZXJVbHQuVGV4dCA9ICIoRykgUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBYmxhemUgSnVkZ2VtZW50IEhhY2sNCg0KCWxvY2FsIEFibGF6ZUp1ZGdlbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQWJsYXplSnVkZ2VtZW50Lk5hbWUgPSAiQWJsYXplSnVkZ2VtZW50Ig0KCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWJsYXplSnVkZ2VtZW50KQ0KDQoJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBmYWxzZQ0KDQoJQWJsYXplSnVkZ2VtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPbikiDQoJCWVsc2UNCgkJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gZmFsc2UNCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVm9pZCBPcGVuaW5nIEhhY2sNCg0KCWxvY2FsIFZvaWRPcGVuaW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWb2lkT3BlbmluZy5OYW1lID0gIlZvaWRPcGVuaW5nIg0KCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZvaWRPcGVuaW5nKQ0KDQoJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IGZhbHNlDQoNCglWb2lkT3BlbmluZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSB0cnVlDQoJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVGhlIFdvcmxkIEhhY2sNCg0KCWxvY2FsIFRoZVdvcmxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUaGVXb3JsZC5OYW1lID0gIlRoZVdvcmxkIg0KCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRoZVdvcmxkKQ0KDQoJVGhlV29ybGRFbmFibGVkID0gZmFsc2UNCg0KCVRoZVdvcmxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRoZVdvcmxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUaGVXb3JsZEVuYWJsZWQgPSB0cnVlDQoJCQlUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVRoZVdvcmxkRW5hYmxlZCA9IGZhbHNlDQoJCQlUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBQb2xhcmlzIEhhY2sNCg0KCWxvY2FsIFBvbGFyaXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVBvbGFyaXMuTmFtZSA9ICJQb2xhcmlzIg0KCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBvbGFyaXMpDQoNCglQb2xhcmlzRW5hYmxlZCA9IGZhbHNlDQoNCglQb2xhcmlzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFBvbGFyaXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVBvbGFyaXNFbmFibGVkID0gdHJ1ZQ0KCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT24pIg0KCQllbHNlDQoJCQlQb2xhcmlzRW5hYmxlZCA9IGZhbHNlDQoJCQlQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24NCg0KCWxvY2FsIFNoYXR0ZXJpbmdFcnVwdGlvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJU2hhdHRlcmluZ0VydXB0aW9uLk5hbWUgPSAiU2hhdHRlcmluZ0VydXB0aW9uIg0KCVNoYXR0ZXJpbmdFcnVwdGlvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2hhdHRlcmluZ0VydXB0aW9uKQ0KDQoJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IGZhbHNlDQoNCglTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gdHJ1ZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPbikiDQoJCWVsc2UNCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBmYWxzZQ0KCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBFdGhlcmVhbCBBY3VtZW4gSGFjaw0KDQoJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUV0aGVyZWFsQWN1bWVuLk5hbWUgPSAiRXRoZXJlYWxBY3VtZW4iDQoJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXRoZXJlYWxBY3VtZW4pDQoNCglFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQ0KDQoJRXRoZXJlYWxBY3VtZW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgRXRoZXJlYWxBY3VtZW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IHRydWUNCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gZmFsc2UNCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFRveGljIEJhc2lsaXNrIEhhY2sNCg0KCWxvY2FsIFRveGljQmFzaWxpc2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRveGljQmFzaWxpc2suTmFtZSA9ICJUb3hpY0Jhc2lsaXNrIg0KCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUb3hpY0Jhc2lsaXNrKQ0KDQoJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBmYWxzZQ0KDQoJVG94aWNCYXNpbGlzay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IHRydWUNCgkJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPbikiDQoJCWVsc2UNCgkJCVRveGljQmFzaWxpc2tFbmFibGVkID0gZmFsc2UNCgkJCVRveGljQmFzaWxpc2suVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBcmNhbmUgR3VhcmRpYW4gSGFjaw0KDQoJbG9jYWwgQXJjYW5lR3VhcmRpYW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFyY2FuZUd1YXJkaWFuLk5hbWUgPSAiQXJjYW5lR3VhcmRpYW4iDQoJQXJjYW5lR3VhcmRpYW4uVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXJjYW5lR3VhcmRpYW4pDQoNCglBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSBmYWxzZQ0KDQoJQXJjYW5lR3VhcmRpYW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IHRydWUNCgkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9uKSINCgkJZWxzZQ0KCQkJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gZmFsc2UNCgkJCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFZpcnR1YWwgWm9uZSBIYWNrDQoNCglsb2NhbCBWaXJ0dWFsWm9uZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVmlydHVhbFpvbmUuTmFtZSA9ICJWaXJ0dWFsWm9uZSINCglWaXJ0dWFsWm9uZS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaXJ0dWFsWm9uZSkNCg0KCVZpcnR1YWxab25lRW5hYmxlZCA9IGZhbHNlDQoNCglWaXJ0dWFsWm9uZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWaXJ0dWFsWm9uZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gdHJ1ZQ0KCQkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT24pIg0KCQllbHNlDQoJCQlWaXJ0dWFsWm9uZUVuYWJsZWQgPSBmYWxzZQ0KCQkJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0tLSBNaXNjZWxsYW5lb3VzDQoJLS0gU2hhcmQgQ29sb3JzDQoNCglsb2NhbCBSYW5kb21Db2xvcnMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyINCglSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBSYW5kb21Db2xvcnMpDQoNCglsb2NhbCBDb2xvcnNMaXN0ID0geyJSZWFsbHkgcmVkIiwgIlJlYWxseSBibHVlIiwgIk5ldyBZZWxsZXIiLCAiSG90IHBpbmsiLCAiUm95YWwgcHVycGxlIiwgIkxpbWUgZ3JlZW4iLCAiRGVlcCBvcmFuZ2UiLCAiVG9vdGhwYXN0ZSIsICJJbnN0aXR1dGlvbmFsIHdoaXRlIn0NCglsb2NhbCBTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBmdW5jdGlvbiBzaGFyZFJhbmRvbWl6ZXIoKQ0KCQlmb3IgaSwgY2hpbGQgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgbm90IGNoaWxkLk5hbWUgPT0gIlNoYXJkIiB0aGVuIHByaW50KCJDaGlsZCBub3QgYSBTaGFyZCIpDQoJCQllbHNlaWYgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIGFuZCBub3QgY2hpbGQ6RmluZEZpcnN0Q2hpbGQoIkNDQm9vbCIpIHRoZW4NCgkJCQl4cGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQljaGlsZC5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkNCgkJCQllbmQsIGZ1bmN0aW9uKGUpDQoJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkNCgkJCQkJd2FybigiW3RyYWNlYmFja10gIiwgZGVidWcudHJhY2ViYWNrKCkpDQoJCQkJZW5kKQ0KCQkJCWxvY2FsIENDQm9vbCA9IEluc3RhbmNlLm5ldygiQm9vbFZhbHVlIikNCgkJCQlDQ0Jvb2wuTmFtZSA9ICJDQ0Jvb2wiDQoJCQkJQ0NCb29sLlBhcmVudCA9IGNoaWxkDQoJCQkJQ0NCb29sLlZhbHVlID0gdHJ1ZQ0KCQkJZWxzZWlmIGNoaWxkLk5hbWUgPT0gIlNoYXJkIiBhbmQgY2hpbGQ6RmluZEZpcnN0Q2hpbGQoIkNDQm9vbCIpLlZhbHVlIHRoZW4gZW5kDQoJCWVuZA0KCWVuZA0KDQoJUmFuZG9tQ29sb3JzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNoYXJkQ29sb3JFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNoYXJkQ29sb3JFbmFibGVkID0gdHJ1ZQ0KCQkJcHJpbnQoIlR1cm5lZCBvbiBSYW5kb20gU2hhcmQgQ29sb3JzIikNCgkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9uKSINCgkJCXdoaWxlIFNoYXJkQ29sb3JFbmFibGVkIGRvDQoJCQkJc2hhcmRSYW5kb21pemVyKCkNCgkJCQl3YWl0KDEpDQoJCQllbmQNCgkJZWxzZQ0KCQkJU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQ0KCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSINCgkJZW5kCQ0KCWVuZCkNCg0KCS0tIEFudGktTGFnDQoNCglsb2NhbCBBbnRpTGFnID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBbnRpTGFnLk5hbWUgPSAiQW50aUxhZyINCglBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlMYWcpDQoNCglBbnRpTGFnRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiByZW1vdmVMYWcoKQ0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuTG9jYWxFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuDQoJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbg0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiQmFja0RlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWxNZXNoIikgdGhlbg0KCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiAodi5OYW1lID09ICJMaWdodERpc2MiKSB0aGVuDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbg0KCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQlmb3IgXywgeCBpbiBwYWlycyh2LkNoYXJhY3RlcjpHZXRDaGlsZHJlbigpKSBkbw0KCQkJCWlmIHguTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbg0KCQkJCQl4OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikNCgkJaWYgQW50aUxhZ0VuYWJsZWQgdGhlbg0KCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4NCgkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmIHYuTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIHRoZW4NCgkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbg0KCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBbnRpTGFnRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpTGFnRW5hYmxlZCA9IHRydWUNCgkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT24pIg0KCQkJcmVtb3ZlTGFnKCkNCgkJZWxzZQ0KCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJZ25vcmUgUGh5c2ljcw0KDQoJbG9jYWwgSWdub3JlUGh5c2ljcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJSWdub3JlUGh5c2ljcy5OYW1lID0gImZJZ25vcmVQaHlzaWNzIg0KCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT2ZmKSBbWl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElnbm9yZVBoeXNpY3MpDQoNCglJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBmdW5jdGlvbiBpbml0aWFsTnVsbGlmeUZvcmNlcygpDQoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoNCgkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5GbGlwc0hvbGRlcjpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQ0KCQlwbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpDQoJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuDQoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQpDQoJZW5kDQoNCglmdW5jdGlvbiBiZWdpbk51bGxpZnlGb3JjZXMoKQ0KCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IHRydWUNCgkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT24pIFtaXSINCgkJCWluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkNCgkJCUFmdGVyTnVsbGlmeUZvcmNlcygpDQoJCQl3aGlsZSBJZ25vcmVQaHlzaWNzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlDQoJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIFBoeXNpY3MgKE9mZikgW1pdIg0KCQllbmQNCgllbmQNCg0KCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykNCg0KCS0tIEFudGktR3Jhdml0eQ0KDQoJbG9jYWwgQW50aUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFudGlHcmF2aXR5Lk5hbWUgPSAiQW50aUdyYXZpdHkiDQoJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpR3Jhdml0eSkNCg0KCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBBbnRpR3Jhdml0eUZ1bmMoKQ0KCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW50aUdyYXZpdHlFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9uKSBbR10iDQoJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpDQoJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0DQoJCQlCb2R5Rm9yY2UuTmFtZSA9ICJBbnRpR3Jhdml0eUZvcmNlIg0KCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkNCgkJZWxzZQ0KCQkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCgkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSINCgkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQW50aUdyYXZpdHlGb3JjZSIpIHRoZW4NCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW50aUdyYXZpdHlGb3JjZTpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCUFudGlHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpR3Jhdml0eUZ1bmMpDQoNCgktLSBDbGljay1UUA0KDQoJbG9jYWwgQ2xpY2tUUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiDQoJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIHRwIHRvIG1vdXNlXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2xpY2tUUCkNCg0KCUNsaWNrVFBFbmFibGVkID0gZmFsc2UNCg0KCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQ2xpY2tUUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlDQoJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gQ2xpY2stVFBdIg0KCQllbHNlDQoJCQlDbGlja1RQRW5hYmxlZCA9IHRydWUNCgkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT24pIFtKIHRvIENsaWNrLVRQXSINCgkJZW5kDQoJZW5kKQ0KDQoJZnVuY3Rpb24gY2xpY2t0cChwb3NpdGlvbikNCgkJaWYgcGxheWVyID09IG5pbCBvciBwbGF5ZXIuQ2hhcmFjdGVyID09IG5pbCB0aGVuIHJldHVybiBlbmQNCgkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDMsIHBvc2l0aW9uLnopKQ0KCWVuZA0KDQoJLS0gRnJlZXplDQoNCglsb2NhbCBGcmVlemUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUZyZWV6ZS5OYW1lID0gIkZyZWV6ZSINCglGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBGcmVlemUpDQoNCglGcmVlemVFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIEZyZWV6ZUZ1bmMoKQ0KCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUZyZWV6ZUVuYWJsZWQgPSB0cnVlDQoJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9uKSBbRl0iDQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCWVsc2UNCgkJCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQ0KCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPZmYpIFtGXSINCgkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlDQoJCWVuZA0KCWVuZA0KDQoJRnJlZXplLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChGcmVlemVGdW5jKQ0KDQoJLS0gSW5maW5pdGUgU3ByaW50DQoNCglsb2NhbCBJbmZTcHJpbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUluZlNwcmludC5OYW1lID0gIkluZlNwcmludCINCglJbmZTcHJpbnQuVGV4dCA9ICIoRykgSW5maW5pdGUgU3ByaW50IChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBJbmZTcHJpbnQpDQoNCglsb2NhbCBJbmZTcHJpbnRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIFNwcmludFJlbW90ZSgpDQoJCXdoaWxlIHdhaXQoLjUpIGRvDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJSdW5uaW5nIiwNCgkJCQlbMl0gPSBmYWxzZSwNCgkJCX0NCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KCWVuZA0KDQoJSW5mU3ByaW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuDQoJCQlpZiBub3QgSW5mU3ByaW50RW5hYmxlZCB0aGVuDQoJCQkJSW5mU3ByaW50RW5hYmxlZCA9IHRydWUNCgkJCQlJbmZTcHJpbnQuVGV4dCA9ICIoRykgSW5maW5pdGUgU3ByaW50IChPbikiDQoJCQkJU3ByaW50UmVtb3RlKCkNCgkJCWVsc2UNCgkJCQlJbmZTcHJpbnRFbmFibGVkID0gZmFsc2UNCgkJCQlJbmZTcHJpbnQuVGV4dCA9ICIoRykgSW5maW5pdGUgU3ByaW50IChPZmYpIg0KCQkJZW5kCQkJCQ0KCQllbmQNCgllbmQpDQoNCgktLSBMb25nIEZsYXNoDQoNCglsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUxGbGFzaC5OYW1lID0gIkZsYXNoIg0KCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTEZsYXNoKQ0KDQoJRmxhc2hFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIGxvbmdmbGFzaCgpDQoJCWxvY2FsIG1vdXNlcG9zID0gbW91c2UuSGl0LnANCgkJbG9jYWwgYXJncyA9IHsNCgkJCVsxXSA9ICJTdG9ybSIsDQoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIg0KCQl9DQoJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQlsb2NhbCBhcmdzID0gew0KCQkJWzFdID0gIlN0b3JtIiwNCgkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giLA0KCQkJWzNdID0gew0KCQkJCVsiRW5kIl0gPSBtb3VzZXBvcywNCgkJCQlbIk9yaWdpbiJdID0gcGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUucA0KCQkJfQ0KCQl9DQoJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJZW5kDQoNCglMRmxhc2guTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgRmxhc2hFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUZsYXNoRW5hYmxlZCA9IHRydWUNCgkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9uKSBbYCB0byB1c2VdIg0KCQllbHNlDQoJCQlGbGFzaEVuYWJsZWQgPSBmYWxzZQ0KCQkJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIg0KCQllbmQNCgllbmQpDQoNCgktLSBWaWV3IFRhcmdldA0KDQoJbG9jYWwgVmlld1RhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVmlld1RhcmdldC5OYW1lID0gIlZpZXdUYXJnZXQiDQoJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlld1RhcmdldCkNCg0KCXZpZXdpbmcgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gdmlldygpDQoJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQlpZiB2aWV3aW5nID09IGZhbHNlIHRoZW4NCgkJCQl2aWV3aW5nID0gdHJ1ZQ0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPbikgW1ZdIg0KCQkJZWxzZQ0KCQkJCXZpZXdpbmcgPSBmYWxzZQ0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iDQoJCQllbmQNCgkJZWxzZWlmIHZpZXdpbmcgPT0gdHJ1ZSB0aGVuIA0KCQkJdmlld2luZyA9IGZhbHNlDQoJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iDQoJCWVuZA0KCWVuZA0KDQoJVmlld1RhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodmlldykNCg0KCS0tIFRlbGVwb3J0IHRvIFRhcmdldA0KDQoJbG9jYWwgVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRQVGFyZ2V0Lk5hbWUgPSAiVFBUYXJnZXQiDQoJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUUFRhcmdldCkNCg0KCVRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBmdW5jdGlvbiBUUFRvVGFyZ2V0KCkNCgkJaWYgVFBUYXJnZXRFbmFibGVkIGFuZCB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbg0KCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpDQoNCgkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5DRnJhbWUgPSBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKS5DRnJhbWUNCgkJZW5kDQoJZW5kDQoNCglUUFRhcmdldC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQ0KCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9uKSBbVV0iDQoJCWVsc2UNCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlDQoJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIExvb3AgVGVsZXBvcnQgdG8gVGFyZ2V0DQoNCglsb2NhbCBMb29wVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUxvb3BUUFRhcmdldC5OYW1lID0gIkxvb3BUUFRhcmdldCINCglMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTG9vcFRQVGFyZ2V0KQ0KDQoJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlDQoNCglMb29wVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgTG9vcFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQ0KCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9uKSINCgkJCXdoaWxlIExvb3BUUFRhcmdldEVuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlUUFRvVGFyZ2V0KCkNCgkJCWVuZA0KCQllbHNlDQoJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UNCgkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBTdGFuZGFyZCBFU1ANCg0KCWxvY2FsIEVTUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRVNQLk5hbWUgPSAiRVNQIg0KCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVTUCkNCg0KCUVTUEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpDQoJSG9sZGVyLk5hbWUgPSAiRVNQIg0KDQoJbG9jYWwgVXBkYXRlRnVuY3MgPSB7fQ0KDQoJbG9jYWwgQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQ0KCUJveC5OYW1lID0gIm5pbEJveCINCglCb3guU2l6ZSA9IFZlY3RvcjMubmV3KDQsIDcsIDQpDQoJQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkNCglCb3guVHJhbnNwYXJlbmN5ID0gMC43DQoJQm94LlpJbmRleCA9IDANCglCb3guQWx3YXlzT25Ub3AgPSB0cnVlDQoJQm94LlZpc2libGUgPSB0cnVlDQoNCglsb2NhbCBOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQ0KCU5hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnIg0KCU5hbWVUYWcuRW5hYmxlZCA9IHRydWUNCglOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkNCglOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQ0KCU5hbWVUYWcuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLCAzLjYsIDApDQoNCglsb2NhbCBUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE5hbWVUYWcpDQoJVGFnLk5hbWUgPSAiVGFnIg0KCVRhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQ0KCVRhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIDApDQoJVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkNCglUYWcuVGV4dFNpemUgPSAyMA0KCVRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQ0KCVRhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQ0KCVRhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40DQoJVGFnLlRleHQgPSAibmlsIg0KCVRhZy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJVGFnLlRleHRTY2FsZWQgPSBmYWxzZQ0KCVRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMA0KDQoJZnVuY3Rpb24gTG9hZENoYXJhY3Rlcih2KQ0KCQlpZiB2IH49IHBsYXllciB0aGVuDQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbA0KCQkJdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpDQoJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpDQoNCgkJCWxvY2FsIGIgPSBCb3g6Q2xvbmUoKQ0KCQkJYi5OYW1lID0gdi5OYW1lIC4uICJCb3giDQoJCQliLkFkb3JuZWUgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0DQoJCQliLlBhcmVudCA9IHZIb2xkZXINCg0KCQkJbG9jYWwgdCA9IE5hbWVUYWc6Q2xvbmUoKQ0KCQkJdC5OYW1lID0gdi5OYW1lIC4uICJOYW1lVGFnIg0KCQkJdC5QYXJlbnQgPSB2SG9sZGVyDQoJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQ0KCQkJaWYgbm90IHQuQWRvcm5lZSB0aGVuDQoJCQkJcmV0dXJuIFVubG9hZENoYXJhY3Rlcih2KQ0KCQkJZW5kDQoJCQl0LlRhZy5UZXh0ID0gdi5OYW1lDQoJCQl0LkVuYWJsZWQgPSB0cnVlDQoJCQl3YWl0KCkNCg0KCQkJbG9jYWwgZnVuY3Rpb24gVXBkYXRlTmFtZVRhZygpDQoJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lDQoJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQ0KCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkNCgkJCQkJCXQuVGFnLlRleHQgPSB2Lk5hbWUgLi4gIlxuIiAuLiAoKG1heGggfj0gMCBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKChoIC8gbWF4aCkgKiAxMDApKSkgb3IgIjAiKSAuLiAiJSAgIiAuLiB0b3N0cmluZyhoKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4aCkNCgkJCQkJCWlmIEVTUEVuYWJsZWQgdGhlbg0KCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwDQoJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcNCgkJCQkJCWVsc2UNCgkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQ0KCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCQkJZW5kDQoJCQkJCQlpZiBoIC8gbWF4aCA9PSAxIHRoZW4NCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuDQoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQkJCQkJZWxzZQ0KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkNCgkJCQkJCWVuZA0KCQkJCQllbmQpIHRoZW4NCgkJCQkJVXBkYXRlRnVuY3Nbdl0gPSBuaWwNCgkJCQllbmQNCgkJCWVuZA0KCQkJVXBkYXRlTmFtZVRhZygpDQoJCQlVcGRhdGVGdW5jc1t2XSA9IFVwZGF0ZU5hbWVUYWcNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBVbmxvYWRDaGFyYWN0ZXIodikNCgkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCWlmIHZIb2xkZXIgYW5kICh2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiQm94Iikgfj0gbmlsIG9yIHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJOYW1lVGFnIikgfj0gbmlsKSB0aGVuDQoJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIExvYWRQbGF5ZXIodikNCgkJaWYgdiB+PSBwbGF5ZXIgdGhlbg0KCQkJbG9jYWwgdkhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgSG9sZGVyKQ0KCQkJdkhvbGRlci5OYW1lID0gdi5OYW1lDQoJCQl2LkNoYXJhY3RlckFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oKQ0KCQkJCWlmIEVTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCXBjYWxsKExvYWRDaGFyYWN0ZXIsIHYpDQoJCQkJZW5kDQoJCQllbmQpDQoJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQ0KCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikNCgkJCWVuZCkNCgkJCUxvYWRDaGFyYWN0ZXIodikNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBVbmxvYWRQbGF5ZXIodikNCgkJVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQlpZiB2SG9sZGVyIHRoZW4NCgkJCXZIb2xkZXI6RGVzdHJveSgpDQoJCWVuZA0KCWVuZA0KDQoJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoTG9hZFBsYXllciwgdikgZW5kKQ0KCWVuZA0KDQoJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXBjYWxsKExvYWRQbGF5ZXIsIHYpDQoJZW5kKQ0KDQoJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXBjYWxsKFVubG9hZFBsYXllciwgdikNCgllbmQpDQoNCglnYW1lLkl0ZW1DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkNCgkJaWYgaTpJc0EoIlBsYXllciIpIHRoZW4NCgkJCWlmIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChpLk5hbWUpIHRoZW4NCgkJCQlVbmxvYWRDaGFyYWN0ZXIoaSkNCgkJCQl3YWl0KCkNCgkJCQlMb2FkQ2hhcmFjdGVyKGkpDQoJCQllbmQNCgkJZWxzZWlmIGk6SXNBKCJIdW1hbm9pZCIpIGFuZCBpLlBhcmVudCB0aGVuDQoJCQlsb2NhbCBwID0gcGxheWVyczpHZXRQbGF5ZXJGcm9tQ2hhcmFjdGVyKGkuUGFyZW50KQ0KCQkJaWYgcCB+PSBwbGF5ZXIgYW5kIHAgfj0gbmlsIGFuZCBIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuDQoJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlVcGRhdGVGdW5jc1twXSgpDQoJCQkJZW5kKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCWZ1bmN0aW9uIHRvZ2dsZUVTUCgpDQoJCWlmIEVTUEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJaWYgR0VTUEVuYWJsZWQgdGhlbg0KCQkJCUdFU1BFbmFibGVkID0gZmFsc2UNCgkJCQlFU1BFbmFibGVkID0gdHJ1ZQ0KCQkJCUVTUEdvbGQuVGV4dCA9ICJTdGFuZGFyZCBFU1AgRW5hYmxlZCINCgkJCQl3YWl0KDEpDQoJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9mZikgW01dIg0KCQkJZWxzZQ0KCQkJCUVTUEVuYWJsZWQgPSB0cnVlDQoJCQllbmQNCgkJCUVTUC5UZXh0ID0gIkVTUCAoT24pIFtCXSINCgkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpDQoJCQllbmQNCgkJZWxzZQ0KCQkJRVNQRW5hYmxlZCA9IGZhbHNlDQoJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIg0KCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJRVNQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1ApDQoNCgktLSBHb2xkIEVTUA0KDQoJbG9jYWwgRVNQR29sZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRVNQR29sZC5OYW1lID0gIkVTUEdvbGQiDQoJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJR0VTUEVuYWJsZWQgPSB0cnVlDQoJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPbikgW01dIg0KCWVsc2UNCgkJR0VTUEVuYWJsZWQgPSBmYWxzZQ0KCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iDQoJZW5kDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEVTUEdvbGQpDQoNCglsb2NhbCBHSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpDQoJR0hvbGRlci5OYW1lID0gIkVTUEdvbGQiDQoNCglsb2NhbCBHVXBkYXRlRnVuY3MgPSB7fQ0KDQoJbG9jYWwgR0JveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikNCglHQm94Lk5hbWUgPSAibmlsQm94Ig0KCUdCb3guU2l6ZSA9IFZlY3RvcjMubmV3KDQsIDcsIDQpDQoJR0JveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpDQoJR0JveC5UcmFuc3BhcmVuY3kgPSAwLjcNCglHQm94LlpJbmRleCA9IDANCglHQm94LkFsd2F5c09uVG9wID0gdHJ1ZQ0KCUdCb3guVmlzaWJsZSA9IHRydWUNCg0KCWxvY2FsIEdOYW1lVGFnID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiKQ0KCUdOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZyINCglHTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQ0KCUdOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkNCglHTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUNCglHTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkNCg0KCWxvY2FsIEdUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEdOYW1lVGFnKQ0KCUdUYWcuTmFtZSA9ICJHVGFnIg0KCUdUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDENCglHVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkNCglHVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMzAwLCAwLCAyMCkNCglHVGFnLlRleHRTaXplID0gMjANCglHVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpDQoJR1RhZy5UZXh0U3Ryb2tlQ29sb3IzID0gQ29sb3IzLm5ldygwIC8gMjU1LCAwIC8gMjU1LCAwIC8gMjU1KQ0KCUdUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNA0KCUdUYWcuVGV4dCA9ICJuaWwiDQoJR1RhZy5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJR1RhZy5UZXh0U2NhbGVkID0gZmFsc2UNCglHVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwDQoNCglmdW5jdGlvbiBHTG9hZENoYXJhY3Rlcih2KQ0KCQkNCgkJbG9jYWwgdGJsUGxheWVyRGF0YSA9IHt9DQoJCVJTUjpXYWl0Rm9yQ2hpbGQoIlBsYXllckRhdGEiKS5PbkNsaWVudEV2ZW50OkNvbm5lY3QoZnVuY3Rpb24odiwgdGJsRGF0YSkNCgkJCXRibFBsYXllckRhdGFbdl0gPSB0YmxEYXRhDQoJCWVuZCkNCgkJDQoJCWlmIHYgfj0gcGxheWVyIHRoZW4NCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgdi5DaGFyYWN0ZXIgfj0gbmlsDQoJCQl2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikNCgkJCWxvY2FsIHZIb2xkZXIgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpDQoNCgkJCWxvY2FsIGIgPSBHQm94OkNsb25lKCkNCgkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiR0JveCINCgkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCWIuUGFyZW50ID0gdkhvbGRlcg0KDQoJCQlsb2NhbCB0ID0gR05hbWVUYWc6Q2xvbmUoKQ0KCQkJdC5OYW1lID0gdi5OYW1lIC4uICJHTmFtZVRhZyINCgkJCXQuUGFyZW50ID0gdkhvbGRlcg0KCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkNCgkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbg0KCQkJCXJldHVybiBHVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCQllbmQNCgkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lDQoJCQl0LkVuYWJsZWQgPSB0cnVlDQoJCQl3YWl0KCkNCg0KCQkJbG9jYWwgZnVuY3Rpb24gR1VwZGF0ZU5hbWVUYWcoKQ0KCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpDQoJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQ0KCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkNCgkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApDQoJCQkJCQlsb2NhbCBzdHJoID0gIkg6ICIgLi4gKG5vdChtYXhoID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogaCAvIG1heGgpKSBvciAwKSAuLiAiJSBbIiAuLiB0b3N0cmluZyhoKSAuLiAifCIgLi4gdG9zdHJpbmcobWF4aCkgLi4gIl0iDQoJCQkJCQktLQ0KCQkJCQkJbG9jYWwgbWF4bSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heE1hbmEgKiAxMCkgb3IgMTAwMA0KCQkJCQkJbG9jYWwgbSA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1hbmEgKiAxMCkgb3IgMTAwMA0KCQkJCQkJbG9jYWwgc3RybSA9ICJNOiAiIC4uIChub3QobWF4bSA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIG0gLyBtYXhtKSkgb3IgMCkgLi4gIiUgWyIgLi4gdG9zdHJpbmcobSkgLi4gInwiIC4uIHRvc3RyaW5nKG1heG0pIC4uICJdIg0KCQkJCQkJLS0NCgkJCQkJCWxvY2FsIG1heHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYXhTdGFtaW5hICogMTApIG9yIDEwMDANCgkJCQkJCWxvY2FsIHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5TdGFtaW5hICogMTApIG9yIDEwMDANCgkJCQkJCWxvY2FsIHN0cnMgPSAgIlM6ICIgLi4gKG5vdChtYXhzID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogcyAvIG1heHMpKSBvciAwKSAuLiAiJSBbIiAuLiB0b3N0cmluZyhzKSAuLiAifCIgLi4gdG9zdHJpbmcobWF4cykgLi4gIl0iDQoNCgkJCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lIC4uICgiXG4iIC4uIHN0cmgpIC4uICgiXG4iIC4uIHN0cm0pIC4uICgiXG4iIC4uIHN0cnMpDQoJCQkJCQkNCgkJCQkJCWlmIEdFU1BFbmFibGVkIHRoZW4NCgkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDANCgkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDAuNw0KCQkJCQkJZWxzZQ0KCQkJCQkJCXQuR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQ0KCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCQkJZW5kDQoJCQkJCQlpZiBoIC8gbWF4aCA9PSAxIHRoZW4NCgkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbg0KCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQllbHNlDQoJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkNCgkJCQkJCWVuZA0KCQkJCQllbmQpIHRoZW4NCgkJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gbmlsDQoJCQkJZW5kDQoJCQllbmQNCgkJCUdVcGRhdGVOYW1lVGFnKCkNCgkJCUdVcGRhdGVGdW5jc1t2XSA9IEdVcGRhdGVOYW1lVGFnDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gR1VubG9hZENoYXJhY3Rlcih2KQ0KCQlsb2NhbCB2SG9sZGVyID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCWlmIHZIb2xkZXIgYW5kICh2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR0JveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR05hbWVUYWciKSB+PSBuaWwpIHRoZW4NCgkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gR0xvYWRQbGF5ZXIodikNCgkJaWYgdiB+PSBwbGF5ZXIgdGhlbg0KCQkJbG9jYWwgdkhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgR0hvbGRlcikNCgkJCXZIb2xkZXIuTmFtZSA9IHYuTmFtZQ0KCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkNCgkJCQlpZiBHRVNQRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJcGNhbGwoR0xvYWRDaGFyYWN0ZXIsIHYpDQoJCQkJZW5kDQoJCQllbmQpDQoJCQl2LkNoYXJhY3RlclJlbW92aW5nOkNvbm5lY3QoZnVuY3Rpb24oKQ0KCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpDQoJCQllbmQpDQoJCQlHTG9hZENoYXJhY3Rlcih2KQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIEdVbmxvYWRQbGF5ZXIodikNCgkJR1VubG9hZENoYXJhY3Rlcih2KQ0KCQlsb2NhbCB2SG9sZGVyID0gR0hvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCWlmIHZIb2xkZXIgdGhlbg0KCQkJdkhvbGRlcjpEZXN0cm95KCkNCgkJZW5kDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHTG9hZFBsYXllciwgdikgZW5kKQ0KCWVuZA0KDQoJcGxheWVycy5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXBjYWxsKEdMb2FkUGxheWVyLCB2KQ0KCWVuZCkNCg0KCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQ0KCWVuZCkNCg0KCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQ0KCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbg0KCQkJaWYgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChpLk5hbWUpIHRoZW4NCgkJCQlHVW5sb2FkQ2hhcmFjdGVyKGkpDQoJCQkJd2FpdCgpDQoJCQkJR0xvYWRDaGFyYWN0ZXIoaSkNCgkJCWVuZA0KCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4NCgkJCWxvY2FsIHAgPSBwbGF5ZXJzOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpDQoJCQlpZiBwIH49IHBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuDQoJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlHVXBkYXRlRnVuY3NbcF0oKQ0KCQkJCWVuZCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCglmdW5jdGlvbiB0b2dnbGVFU1BHb2xkKCkNCgkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4NCgkJCWlmIEdFU1BFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQlpZiBFU1BFbmFibGVkIHRoZW4NCgkJCQkJRVNQRW5hYmxlZCA9IGZhbHNlDQoJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQ0KCQkJCQlFU1AuVGV4dCA9ICJEZXRhaWxlZCBFU1AgRW5hYmxlZCINCgkJCQkJd2FpdCgxKQ0KCQkJCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIg0KCQkJCWVsc2UNCgkJCQkJR0VTUEVuYWJsZWQgPSB0cnVlDQoJCQkJZW5kDQoJCQkJRVNQR29sZC5UZXh0ID0gIihHKSBEZXRhaWxlZCBFU1AgKE9uKSBbTV0iDQoJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHTG9hZFBsYXllciwgdikgZW5kKQ0KCQkJCWVuZA0KCQkJZWxzZQ0KCQkJCUdFU1BFbmFibGVkID0gZmFsc2UNCgkJCQlFU1BHb2xkLlRleHQgPSAiKEcpIERldGFpbGVkIEVTUCAoT2ZmKSBbTV0iDQoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChHVW5sb2FkUGxheWVyLCB2KSBlbmQpDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJRVNQR29sZC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCINCgkJCXdhaXQoMykNCgkJCUVTUEdvbGQuVGV4dCA9ICIoRykgRGV0YWlsZWQgRVNQIChPZmYpIFtNXSINCgkJZW5kDQoJZW5kDQoNCglFU1BHb2xkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1BHb2xkKQ0KDQoJLS0gVFAgdG8gRHJvcHMNCg0KCWxvY2FsIFRQU2hhcmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUFNoYXJkcy5OYW1lID0gIlRQU2hhcmRzIg0KCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUUFNoYXJkcykNCg0KCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCQ0KDQoJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVFBEaWFtb25kcy5OYW1lID0gIlRQRGlhbW9uZHMiDQoJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQ0KDQoJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgcGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCXBsYXRlLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlDQoJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkNCglwbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDEwMDAwMCwgMCkNCglwbGF0ZS5BbmNob3JlZCA9IHRydWUNCglwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQ0KCXBsYXRlLlRyYW5zcGFyZW5jeSA9IDAuNQ0KDQoJbG9jYWwgdGltZSA9IDANCglsb2NhbCBjYW5JbnZpcyA9IGZhbHNlDQoNCglmdW5jdGlvbiB0ZWxlcG9ydFRvRHJvcHMoKQ0KCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpDQoJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5TZXJ2ZXJFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJTaGFyZCIgdGhlbg0KCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQ0KCQkJCXdhaXQoLjIpDQoJCQllbHNlaWYgVFBEaWFtb25kc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiRGlhbW9uZCIgdGhlbg0KCQkJCWhycC5DRnJhbWUgPSB2LkNGcmFtZQ0KCQkJCXdhaXQoLjIpDQoJCQllbmQNCg0KCQkJaWYgY2FuSW52aXMgdGhlbg0KCQkJCWlmIHRpbWUgPT0gNSB0aGVuIA0KCQkJCQlicmVhaw0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KDQoJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkNCg0KCQlyZXR1cm4gDQoJZW5kDQoNCg0KCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQ0KCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpDQoJCXdoaWxlIHdhaXQoKSBkbw0KCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4NCgkJCQlpZiB0aW1lIH49IDAgdGhlbiByZXR1cm4NCgkJCQllbHNlDQoJCQkJCWlmIGNhbkludmlzIHRoZW4NCgkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQkJd2FpdCgxKQ0KCQkJCQkJcmVwZWF0DQoJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkNCgkJCQkJCQl0aW1lID0gdGltZSArIDENCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQl1bnRpbCB0aW1lID09IDYNCgkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkNCgkJCQkJCXdhaXQoNy41KQ0KCQkJCQkJdGltZSA9IDANCgkJCQkJZWxzZQ0KCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCWlmIG5vdCBUUFNoYXJkc0VuYWJsZWQgYW5kIG5vdCBUUERpYW1vbmRzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCWJyZWFrDQoJCQkJCQkJZW5kDQoJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkNCgkJCQkJCQl3YWl0KDEpDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbHNlDQoJCQkJYnJlYWsNCgkJCWVuZA0KCQllbmQNCg0KCQlyZXR1cm4NCgllbmQNCg0KCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuDQoJCQljYW5JbnZpcyA9IHRydWUNCgkJZW5kDQoJCWlmIFRQU2hhcmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUFNoYXJkc0VuYWJsZWQgPSB0cnVlDQoJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT24pIg0KCQkJc3RhcnRUaW1lcigpDQoJCQl3aGlsZSBUUFNoYXJkc0VuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4NCgkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwDQoJCQkJCXN0YXJ0VGltZXIoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlDQoJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSINCgkJZW5kDQoJZW5kKQ0KDQoJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbg0KCQkJY2FuSW52aXMgPSB0cnVlDQoJCWVuZA0KCQlpZiBUUERpYW1vbmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IHRydWUNCgkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT24pIg0KCQkJc3RhcnRUaW1lcigpDQoJCQl3aGlsZSBUUERpYW1vbmRzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJc3RhcnRUaW1lcigpDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQ0KCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBSZWpvaW4gU2VydmVyIEZ1bmN0aW9uDQoNCgktLSBUaGlzIHdhcyBvbmx5IHByZXNlcnZlZCBhcyBJIGNvdWxkbid0IHRoaW5rIG9mIGFueSBvdGhlciBwbGFjZSB0byBwdXQgdGhlIGZ1bmN0aW9uIGZvciBub3cuDQoJLS0gTWlnaHQgZ2V0IG1vdmVkIGxhdGVyLCBpZHVubm8uDQoJZnVuY3Rpb24gcmVqb2luKCkNCgkJbG9jYWwgdHMgPSBnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpDQoJCWxvY2FsIHAgPSBwbGF5ZXJzLkxvY2FsUGxheWVyDQoNCgkJdHM6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBwKQ0KCWVuZA0KDQoJLS0gR1VJIFR3ZWFraW5nDQoNCglmb3IgaSwgdiBpbiBwYWlycyhib3JkZXJzKSBkbw0KCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQ0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MA0KCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZDQoJCXYuQWN0aXZlID0gdHJ1ZQ0KCQl2LlBhcmVudCA9IGViZ3VpDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbw0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDIwLCAxMTUpDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCQl2LlRleHRTY2FsZWQgPSB0cnVlDQoJCXYuVGV4dFNpemUgPSAxNC4wMDANCgkJdi5UZXh0V3JhcHBlZCA9IHRydWUNCgkJdi5MYXlvdXRPcmRlciA9IGkNCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUNCgllbmQNCg0KCS0tW1tmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbw0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDE3NSwgMjApDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCQl2LlRleHRTY2FsZWQgPSB0cnVlDQoJCXYuVGV4dFNpemUgPSAxNC4wMDANCgkJdi5UZXh0V3JhcHBlZCA9IHRydWUNCgkJdi5MYXlvdXRPcmRlciA9IGkNCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUNCgllbmRdXQ0KDQoJLS0gY29tbWFuZEJveA0KDQoJdGFyZ2V0ID0gcGxheWVyLk5hbWUNCgl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCINCglsb29waW5nID0gZmFsc2UNCglzbWFydEF0dGFjayA9IHRydWUNCglIZWFsU2V0dGluZyA9IDENCglzdHVuRW5hYmxlZCA9IHRydWUNCglGUFNEcm9wcGluZyA9IGZhbHNlDQoJbG9jYWwgYnV0dG9uSGVpZ2h0ID0gMzANCglsb2NhbCBidXR0b25HYXAgPSA3DQogICAgbG9jYWwgaGVscDEgPSBbW3x8IEJlbG93IGlzIGEgZnVsbCwgY29tcHJlaGVuc2l2ZSBsaXN0IG9mIGVhY2ggY29tbWFuZCBFQkdVSSBoYXMgdG8gb2ZmZXIuIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIChQcmVmaXggaXMgOykNCg0KICAgICAgICAgICAgICAgICJoZWxwIFtudW1dIiAtIFNob3dzIHRoaXMgY29tbWFuZHMgbGlzdCEgQ2hvb3NlIGJldHdlZW4gcGFnZXMgMSBvciAyLg0KICAgICAgICAgICAgICAgICJjaGFuZ2Vsb2ciIC0gU2hvd3MgYSBsaW5rIHRvIHRoZSBjaGFuZ2Vsb2cgZm9yIEVCR1VJIGFuZCBpdHMgQ2FuYXJ5IGJyYW5jaC4NCiAgICAgICAgICAgICAgICAicmUiIC0gUmVmcmVzaGVzIHlvdXIgY2hhcmFjdGVyLiBUaGlzIHdpbGwgdGVtcG9yYXJpbHkgdmFuaXNoIHlvdSwgYW5kIGJyaW5nIHlvdSBiYWNrIHdpdGggZnVsbCBzdGF0cy4NCiAgICAgICAgICAgICAgICAidHAgPG1hcD4iIC0gVGVsZXBvcnRzIHlvdSB0byB0aGUgbWFwIG9mIHlvdXIgY2hvaWNlLiBIZWF2ZW4gZG9lc24ndCB3b3JrIHdpdGhvdXQgdGhlIGdhbWVwYXNzLg0KICAgICAgICAgICAgICAgICJkZWNsdXR0ZXIiIC0gQ2xlYXJzIHRoZSBiYWNrZ3JvdW5kcyBvZiB0aGUgbWFpbiBHVUlzLCBhbmQgc2hyaW5rcyB0aGUgbW92ZXMvc3RhdHMuDQogICAgICAgICAgICAgICAgInJhaW4iIC0gRW5hYmxlcyB0aGUgcmFpbiBmcm9tIFdhdGVyIG1hcC4gQ2FyZWZ1bCwgeW91IGhhdmUgdG8gcmVqb2luIHRvIHR1cm4gaXQgb2ZmIQ0KICAgICAgICAgICAgICAgICJmaXgiIC0gUmVtb3ZlcyB0aGUgIkxPQURJTkciIHNjcmVlbiB3aGVuIHRlbGVwb3J0aW5nIHRvIGNlcnRhaW4gbWFwcy4NCiAgICAgICAgICAgICAgICAiYnV0dG9uaGVpZ2h0IDxudW0+IiAtIENoYW5nZXMgdGhlIGhlaWdodCwgaW4gcGl4ZWxzLCBvZiBFQkdVSSdzIGJ1dHRvbnMuDQogICAgICAgICAgICAgICAgImJ1dHRvbmdhcCA8bnVtPiIgLSBDaGFuZ2VzIHRoZSBnYXAsIGluIHBpeGVscywgYmV0d2VlbiBFQkdVSSdzIGJ1dHRvbnMuDQogICAgICAgICAgICAgICAgInJlam9pbiIgLSBSZWpvaW5zIHRoZSBzZXJ2ZXIuDQogICAgICAgICAgICAgICAgImF1cmEvb2ZmIiAtIEFuIGFsdGVybmF0ZSBtZXRob2Qgb2Ygc2lsZW50bHkgdHVybmluZyBvZmYgYXVyYS4NCiAgICAgICAgICAgICAgICAidGFyZ2V0c2V0dGluZyA8bW9kZT4iIC0gTW9kaWZpZXMgaG93IEVCR1VJIHNlbGVjdHMgdGFyZ2V0cy4gV29uJ3QgdGFyZ2V0IHRob3NlIGluIHNhZmV6b25lLCBleGNlcHQgaW4gInNlbGVjdCIgbW9kZS4NCiAgICAgICAgICAgICAgICAgICAgLS0gInNlbGVjdCIgYWxsb3dzIHlvdSB0byBjaG9vc2UgYnkgdHlwaW5nIGludG8gdGhlIGNvbW1hbmQgYm94LiBTZXQgdG8gdGhpcyBieSBkZWZhdWx0Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiY2xvc2VzdCIgc2VsZWN0cyB0aGUgcGVyc29uIGNsb3Nlc3QgdG8geW91Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiZmFydGhlc3QiIHNlbGVjdHMgdGhlIHBlcnNvbiBmYXJ0aGVzdCBmcm9tIHlvdS4NCiAgICAgICAgICAgICAgICAgICAgLS0gImxvd2hwIiBzZWxlY3RzIHRoZSBwZXJzb24gd2l0aCB0aGUgbG93ZXN0IEhQLg0KICAgICAgICAgICAgICAgICAgICAtLSAiaGlnaGhwIiBzZWxlY3RzIHRoZSBjbG9zZXN0IHBlcnNvbiB3aXRoIHRoZSBoaWdoZXN0IEhQLl1dDQoNCiAgICBsb2NhbCBoZWxwMiA9IFtbImxvb3AiIC0gTG9vcHMgdGhlIHVzYWdlIG9mIGVuYWJsZWQgYXR0YWNrIGV4cGxvaXRzLg0KICAgICAgICAgICAgICAgICJncmNoYXJnZSA8bnVtPiIgLSBNdWx0aXBsaWVzIHRoZSB0aW1lIEFtcGxpZmllZCBHZW5lc2lzIFJheSBhdHRhY2sgZXhwbG9pdCBzdGF5cyBhbGl2ZSBmb3IuIERlZmF1bHQsIDEsIGxhc3RzIDYgc2Vjb25kcy4NCiAgICAgICAgICAgICAgICAic3BlZWQgPG51bT4iIC0gQ2hhbmdlcyB5b3VyIGRlZmF1bHQgd2Fsa3NwZWVkLiBEZWZhdWx0LCA2NCwgZXF1YWxzIG1heC1zcGVlZCBzcHJpbnRpbmcuDQogICAgICAgICAgICAgICAgInNtYXJ0YXR0YWNrIiAtIFRvZ2dsZXMgaWYgYXR0YWNrIGV4cGxvaXRzIHdpbGwgZmlyZSBvbiBwZW9wbGUgd2hvIGFyZSBpbiBzYWZlem9uZS4gRGVmYXVsdCBvbi4NCiAgICAgICAgICAgICAgICAiZ2FtZWNvbG9yIDxtb2RlPiIgLSBDaGFuZ2VzIHRoZSBjb250cmFzdCBhbmQgc2F0dXJhdGlvbiBvZiB0aGUgZ2FtZS4NCiAgICAgICAgICAgICAgICAgICAgLS0gIm5vcm1hbCIgd2lsbCByZXNldCBldmVyeXRoaW5nIHRvIG5vcm1hbC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImdyYXlzY2FsZSIgdHVybnMgb2ZmIHRoZSBzYXR1cmF0aW9uIGFuZCBtYWtlcyBldmVyeXRoaW5nIGdyYXkuDQogICAgICAgICAgICAgICAgICAgIC0tICJpbnZlcnRodWUiIGludmVydHMgdGhlIGh1ZSBvZiBldmVyeXRoaW5nLiBHcmVlbiBiZWNvbWVzIHB1cnBsZSwgYmx1ZSBiZWNvbWVzIHJlZC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImludmVydGFsbCIgaW52ZXJ0cyB0aGUgaHVlLCBzYXR1cmF0aW9uLCBhbmQgY29udHJhc3Qgb2YgZXZlcnl0aGluZy4gTmVnYXRpdmUhDQogICAgICAgICAgICAgICAgImJsYWNrY2FzdCIgLSBDaGFuZ2VzIGFsbCB0aGUgbWVkYWxzIHRvIGJsYWNrIHdoZW4gY2FzdGluZyBzcGVsbHMuDQogICAgICAgICAgICAgICAgInN0dW4iIC0gVG9nZ2xlcyB3aGV0aGVyIHlvdSB3YW50IHRvIGJlIHN0dW5uZWQgb3Igbm90LiBOb3QgdmVyeSBkaXNjcmVldC4NCiAgICAgICAgICAgICAgICAiZHJ1Z3MiIC0gUmFuZG9taXplcyB0aGUgY29sb3JzIG9mIGFsbCBtYWdpYyBzcGVsbHMuIFJlcXVpcmVzIHlvdSB0byBydW4gImNvbG9ycyIgZmlyc3QuDQogICAgICAgICAgICAgICAgIm1hZ2ljY29sb3IgPHI+IDxnPiA8Yj4iIC0gQ2hhbmdlcyB0aGUgY29sb3Igb2YgYWxsIG1hZ2ljIHNwZWxscyB0byBhbiBSR0IgdmFsdWUuIFJlcXVpcmVzIHlvdSB0byBydW4gImNvbG9ycyIgZmlyc3QuDQogICAgICAgICAgICAgICAgImNvbG9ycyIgLSBBbGxvd3MgeW91IHRvIHJ1biAiZHJ1Z3MiIGFuZCAibWFnaWNjb2xvciIuDQogICAgICAgICAgICAgICAgImhlYWwgPHBsYXllcj4iIC0gUGxhY2VzIEJsdWUgQXJzb24gYW5kIEdsZWFtaW5nIEhhcm1vbnkgYXQgdGhlIGZlZXQgb2YgYSBwbGF5ZXIgb2YgeW91ciBjaG9pY2UuDQogICAgICAgICAgICAgICAgImUgPG51bSAxLTM+IiAtIENoYW5nZXMgdGhlIHBoYXNlIG9mIHRoZSBDb250cm9sbGVkIEVjaG9lcyBhdHRhY2sgZXhwbG9pdC4NCiAgICAgICAgICAgICAgICAgICAgLS0gIjEiIHdpbGwgY2hhbmdlIGl0IHRvIFBPVywgYW5kIGlzIHRoZSBkZWZhdWx0Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiMiIgd2lsbCBjaGFuZ2UgaXQgdG8gQlVSTi4NCiAgICAgICAgICAgICAgICAgICAgLS0gIjMiIHdpbGwgY2hhbmdlIGl0IHRvIFNUVU4uDQogICAgICAgICAgICAgICAgIm9yaWdpbiIgLSBDcmVhdGVzIGEgc21hbGwsIHJlZCBibG9jayBhdCAwLCAwLCAwIHdpdGhpbiB0aGUgd29ybGQuXV0NCg0KCVJTUiA9IGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJSZW1vdGVzIikNCg0KCWxvY2FsIHN0dW5Db25uZWN0aW9uID0gZ2V0Y29ubmVjdGlvbnMoUlNSOldhaXRGb3JDaGlsZCgiQ29tYmF0IikuT25DbGllbnRFdmVudCkNCglsb2NhbCBsYWdnZXJzID0gew0KCQkiMUIwRjk4QkUtRTEwQi00Njc0LTlGQjQtNkY2NTE3MUEzNDdGIiwgLS0gbG9nDQoJCSI2QTMzMTA0QS0xRkU5LTRGQTgtOTM3NC1DMTY0RDI4RjgzNTEiLCAtLSBicmlhbg0KCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0DQoJCSI1NUMyMDQ5RC1DNkJELTQ1MjMtODgwNC1ENTM5QzM4NzkyQTMiLCAtLSBwZW50YXJhY3QNCgkJIjk0NjRCNjhBLTM2M0MtNDFGOC1CQjdELUI0QkVEOEFDMDk2MyIsIC0tIHZhc3RvcmlvDQoJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvaw0KCQktLSAiNjNCMzlFMjctREExQi00ODJFLUIyOEMtNkEzMzk4Qzk1QTRDIiwgLS0gYWxleA0KCQkiODQ2QTY1RTItRTk2My00QTBBLTkwMjUtRTlCOEU5NTg5NjEzIiwgLS0gYnJhbQ0KCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsNCgkJIjZBOTcwNTJBLTYzNEUtNDdFMS04RDkwLTVFRTNDQTRBOTZGQSIsIC0tIHJhdmVuDQoJCSJGNTk3NUQ3RC0yQUM1LTQ0QUEtODAxRi04Mjc2MjVENkQ3NjMiLCAtLSBhbGV4aWENCgkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MNCgkJIjc0ODlDQkFFLTc5ODYtNDVBOS1CRTQwLUEyMThFRENEMEYwMSIgLS0gY2VwaGFzDQoJfQ0KDQoJbG9jYWwgY2xpZW50aWQgPSBnYW1lOkdldFNlcnZpY2UoIlJieEFuYWx5dGljc1NlcnZpY2UiKTpHZXRDbGllbnRJZCgpOmxvd2VyKCkNCglsb2NhbCBhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQ0KDQoJZm9yIGksIHYgaW4gcGFpcnMobGFnZ2VycykgZG8NCgkJdiA9IHY6bG93ZXIoKQ0KDQoJCWlmICh2ID09IGNsaWVudGlkKSB0aGVuDQoJCQlhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIGdldEhSUChjaHIpDQoJCWxvY2FsIEhSUCA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQ0KCQlyZXR1cm4gSFJQDQoJZW5kDQoNCglmdW5jdGlvbiBnZXRIVU0oY2hyKQ0KCQlsb2NhbCBIVU0gPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikNCgkJcmV0dXJuIEhVTQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gcmVzcGF3bihwbHIpDQoJCWxvY2FsIGNociA9IHBsci5DaGFyYWN0ZXINCg0KCQlpZiAoY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSkgdGhlbiBjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpOkNoYW5nZVN0YXRlKDE1KSBlbmQNCgkJY2hyOkNsZWFyQWxsQ2hpbGRyZW4oKQ0KDQoJCWxvY2FsIG5ld2NociA9IEluc3RhbmNlLm5ldygiTW9kZWwiKQ0KCQluZXdjaHIuUGFyZW50ID0gd29ya3NwYWNlDQoJCXBsci5DaGFyYWN0ZXIgPSBuZXdjaHINCg0KCQl3YWl0KCkNCg0KCQlwbHIuQ2hhcmFjdGVyID0gY2hyDQoJCW5ld2NocjpEZXN0cm95KCkNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIHJlZnJlc2gocGxyKQ0KCQlsb2NhbCBodW0gPSBwbHIuQ2hhcmFjdGVyIGFuZCBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiLCB0cnVlKQ0KCQlsb2NhbCBwb3MgPSBodW0gYW5kIGh1bS5Sb290UGFydCBhbmQgaHVtLlJvb3RQYXJ0LkNGcmFtZQ0KCQlsb2NhbCBwb3MxID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lDQoNCgkJcmVzcGF3bihwbHIpDQoNCgkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJcGxyLkNoYXJhY3RlckFkZGVkOldhaXQoKTpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuUm9vdFBhcnQuQ0ZyYW1lLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUgPSBwb3MsIHdhaXQoKSBhbmQgcG9zMQ0KCQllbmQpDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiBzcGxpdEFyZ3MoY29tbWFuZCkNCgkJY29tbWFuZCA9IHN0cmluZy5nc3ViKGNvbW1hbmQsICIsIiwgIiAiKQ0KCQljb21tYW5kID0gc3RyaW5nLnNwbGl0KGNvbW1hbmQsICIgIikNCg0KCQlmb3IgaSwgdiBpbiBpcGFpcnMoY29tbWFuZCkgZG8NCgkJCXYgPSBzdHJpbmcuZ3N1Yih2LCAiJXMrIiwgIiIpDQoJCQlpZiB2ID09ICIiIHRoZW4NCgkJCQl0YWJsZS5yZW1vdmUoY29tbWFuZCwgaSkNCgkJCWVuZA0KCQllbmQNCg0KCQlyZXR1cm4gY29tbWFuZA0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gZmluZFBsYXllcih0ZXh0KQ0KCQlsb2NhbCBwbGF5ZXJzID0gZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKQ0KCQlsb2NhbCBtYXRjaGVzID0ge30NCg0KCQlmb3IgaSwgUGxheWVyIGluIGlwYWlycyhwbGF5ZXJzKSBkbw0KCQkJbG9jYWwgbmFtZSA9IFBsYXllci5OYW1lDQoJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpDQoJCQluYW1lID0gc3RyaW5nLmxvd2VyKG5hbWUpDQoNCgkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQobmFtZSwgdGV4dCkNCg0KCQkJaWYgbWF0Y2ggdGhlbg0KCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkNCgkJCWVuZA0KCQllbmQNCg0KCQlyZXR1cm4gbWF0Y2hlcw0KCWVuZA0KDQoJbG9jYWwgZHJ1Z3NFbmFibGVkID0gZmFsc2UNCglsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UNCglsb2NhbCBibGFja2Nhc3RFbmFibGVkID0gZmFsc2UNCglsb2NhbCBjb2xvckV4Y2x1ZGUgPSB7IkhlYWQiLCJUb3JzbyIsIkxlZnQgQXJtIiwiTGVmdCBMZWciLCJSaWdodCBBcm0iLCJSaWdodCBMZWciLCJTaGFyZCIsIkRpYW1vbmQifQ0KDQoJLS1bWzk4LzI1NSwgMzcvMjU1LCAyMDkvMjU1XV0NCglsb2NhbCBjb2xvcjENCglsb2NhbCBjb2xvcjINCglsb2NhbCBjb2xvcjMNCg0KCWxvY2FsIGZ1bmN0aW9uIHRlcm1FQkd1aSgpDQoJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksDQoJCQkiSW4iLA0KCQkJIlNpbmUiLA0KCQkJLjUsDQoJCQl0cnVlDQoJCSkNCgkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksDQoJCQkiSW4iLA0KCQkJIlNpbmUiLA0KCQkJLjUsDQoJCQl0cnVlDQoJCSkNCgkJd2FpdCgxKQ0KCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQ0KCQllYmd1aTpEZXN0cm95KCkNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIGlucHV0Qm94KCkNCgkJbG9jYWwgdGV4dCA9IGNvbW1hbmRCb3guVGV4dA0KCQl3YWl0KCkNCgkJY29tbWFuZEJveC5UZXh0ID0gIiINCg0KCQlsb2NhbCBwcmVmaXggPSAiOyINCgkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxKSA9PSAocHJlZml4KSB0aGVuDQoJCQl0ZXh0ID0gc3RyaW5nLmxvd2VyKHRleHQpDQoNCgkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAicmUiKSB0aGVuDQoJCQkJcmVmcmVzaChwbGF5ZXIpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpIHRoZW4NCgkJCQlsb2NhbCB0ZWxlcG9ydHRvDQogICAgICAgICAgICAgICAgbG9jYWwgdHBuYW1lDQoJCQkJbG9jYWwgcGxhY2UgPSBzdHJpbmcuc3ViKHRleHQsIDUpDQoJCQkJbG9jYWwgcGxhY2VzID0gew0KCQkJCQk1NjYzOTkyNDQsDQoJCQkJCTI1Njk2MjU4MDksDQoJCQkJCTU3MDE1ODA4MSwNCgkJCQkJNTM3NjAwMjA0LA0KCQkJCQk1MjA1NjgyNDAsDQoJCQkJCTU1NDk1NTU2MCwNCgkJCQkJNjAyMDQ4NTUwLA0KCQkJCQk1NzU0NTY2NDYsDQoJCQkJCTE3MTM5ODYxMTIsDQoJCQkJCTEyNDM2MTU2MTIsDQoJCQkJCTYzODA2NTMwMiwNCgkJCQkJNjM0MjQwODI2LA0KCQkJCQk2MzMwNDI3MzENCgkJCQl9DQoNCgkJCQlpZiBwbGFjZSA9PSAic3RhbmRhcmRsb3ciIG9yIHBsYWNlID09ICI1NjYzOTkyNDQiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTG93YmllIFN0YW5kYXJkIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAic3RhbmRhcmQ0MCIgb3IgcGxhY2UgPT0gIjI1Njk2MjU4MDkiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1syXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiU3RhbmRhcmQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJsaWdodCIgb3IgcGxhY2UgPT0gIjU3MDE1ODA4MSIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzNdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJMaWdodCINCgkJCQllbHNlaWYgcGxhY2UgPT0gImZpcmUiIG9yIHBsYWNlID09ICI1Mzc2MDAyMDQiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s0XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiRmlyZSINCgkJCQllbHNlaWYgcGxhY2UgPT0gIndhdGVyIiBvciBwbGFjZSA9PSAiNTIwNTY4MjQwIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIldhdGVyIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiZ3Jhc3MiIG9yIHBsYWNlID09ICI1NTQ5NTU1NjAiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s2XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiR3Jhc3MiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJoZWF2ZW4iIG9yIHBsYWNlID09ICI2MDIwNDg1NTAiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1s3XQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiSGVhdmVuIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWluaWxvdmFuaWEiIG9yIHBsYWNlID09ICJzYW5zIiBvciBwbGFjZSA9PSAiNTc1NDU2NjQ2IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOF0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1pbmlsb3ZhbmlhIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiZGVmYXVsdCIgb3IgcGxhY2UgPT0gInRvdXJuYW1lbnQiIG9yIHBsYWNlID09ICIxNzEzOTg2MTEyIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbOV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIlRvdXJuYW1lbnQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJzdXJ2aXZhbCIgb3IgcGxhY2UgPT0gIjEyNDM2MTU2MTIiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMF0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIlN1cnZpdmFsIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYXN0YW5kYXJkIiBvciBwbGFjZSA9PSAic3RhbmRhcmRtZWdhIiBvciBwbGFjZSA9PSAiNjM4MDY1MzAyIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTFdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNZWdhIFN0YW5kYXJkIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWZpcmUiIG9yIHBsYWNlID09ICJmaXJlbWVnYSIgb3IgcGxhY2UgPT0gIjYzNDI0MDgyNiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzExXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBGaXJlIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibWVnYWdyYXNzIiBvciBwbGFjZSA9PSAiZ3Jhc3NtZWdhIiBvciBwbGFjZSA9PSAiNjMzMDQyNzMxIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTNdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNZWdhIEdyYXNzIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoZSBwbGFjZSB3YXMgaW5jb3JyZWN0bHkgc3BlY2lmaWVkISINCgkJCQllbmQNCg0KCQkJCWlmIHRlbGVwb3J0dG8gdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGVsZXBvcnRpbmcgdG8gIiAuLiB0cG5hbWUgLi4gIiEiDQoJCQkJCWdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQodGVsZXBvcnR0bykNCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gImRlY2x1dHRlciIpIHRoZW4NCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkNoYXJhY3Rlci5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQm9vay5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2hvcC5JbWFnZVRyYW5zcGFyZW5jeSA9IDENCgkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQ0KCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJyYWluIikgdGhlbg0KCQkJCWxvY2FsIGN1cnJlbnRDQU0gPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQ0KCQkJCWxvY2FsIHJhaW5Tb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQ0KCQkJCXJhaW5Tb3VuZC5Mb29wZWQgPSB0cnVlDQoJCQkJcmFpblNvdW5kLlNvdW5kSWQgPSAicmJ4YXNzZXRpZDovLzI4MzE2NDU5MyINCgkJCQlyYWluU291bmQuVm9sdW1lID0gMQ0KCQkJCXJhaW5Tb3VuZC5QYXJlbnQgPSB3b3Jrc3BhY2UNCgkJCQlyYWluU291bmQ6UGxheSgpDQoNCgkJCQlsb2NhbCByYWluUGFydCA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KDMwMCwgMzAwLCAzMDApDQoJCQkJcmFpblBhcnQuVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCXJhaW5QYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQkJCXJhaW5QYXJ0LkNhbkNvbGxpZGUgPSBmYWxzZQ0KDQoJCQkJbG9jYWwgcmFpbkVmZmVjdCA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKTpXYWl0Rm9yQ2hpbGQoIkVmZmVjdHMiKTpXYWl0Rm9yQ2hpbGQoIlJhaW4iKQ0KCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlDQoJCQkJcmFpbkVmZmVjdC5QYXJlbnQgPSByYWluUGFydA0KDQoJCQkJbG9jYWwgaWdub3JlID0gd29ya3NwYWNlOldhaXRGb3JDaGlsZCgiLklnbm9yZSIpDQoJCQkJcmFpblBhcnQuUGFyZW50ID0gaWdub3JlOldhaXRGb3JDaGlsZCgiLlNlcnZlckVmZmVjdHMiKQ0KDQoJCQkJbG9jYWwgZm92ID0gMiAqIG1hdGgudGFuKG1hdGgucmFkKGN1cnJlbnRDQU0uRmllbGRPZlZpZXcpIC8gMikNCgkJCQlsb2NhbCBuZXdSYXkgPSBSYXkubmV3DQoJCQkJbG9jYWwgaGVpZ2h0ID0gVmVjdG9yMy5uZXcoMCwgNTAsIDApDQoJCQkJbG9jYWwgZGVwdGggPSBDRnJhbWUubmV3KDAsIGZvdiAqIDUwLCAtNjApDQoNCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKTpCaW5kVG9SZW5kZXJTdGVwKCJSYWluIiwgRW51bS5SZW5kZXJQcmlvcml0eS5DYW1lcmEuVmFsdWUsIGZ1bmN0aW9uKCkNCgkJCQkJbG9jYWwgcmMgPSB3b3Jrc3BhY2U6RmluZFBhcnRPblJheVdpdGhJZ25vcmVMaXN0KG5ld1JheShjdXJyZW50Q0FNLkNGcmFtZS5wLCBoZWlnaHQpLCB7aWdub3JlfSkNCg0KCQkJCQlpZiAocmMpIHRoZW4NCgkJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMC41DQoJCQkJCQlyZXR1cm4NCgkJCQkJZW5kDQoNCgkJCQkJbG9jYWwgdmlld3BvcnQgPSBjdXJyZW50Q0FNLlZpZXdwb3J0U2l6ZQ0KCQ0KCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoZm92ICogdmlld3BvcnQueCAvIHZpZXdwb3J0LnkgKiA1MCwgMC4yLCAxMDApDQoJCQkJCXJhaW5QYXJ0LkNGcmFtZSA9IGN1cnJlbnRDQU0uQ0ZyYW1lICogZGVwdGgNCgkNCgkJCQkJcmFpbkVmZmVjdC5SYXRlID0gcmFpblBhcnQuU2l6ZS5tYWduaXR1ZGUNCgkJCQkJcmFpbkVmZmVjdC5FbmFibGVkID0gdHJ1ZQ0KCQ0KCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQ0KCQkJCWVuZCkNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDQpID09IChwcmVmaXggLi4gImZpeCIpIHRoZW4NCgkJCQlpZiBwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpIHRoZW4NCgkJCQkJcGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKS5WaXNpYmxlID0gZmFsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZpeGluZyB0aGUgTWVudSBHVUkhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTMpID09IChwcmVmaXggLi4gImJ1dHRvbmhlaWdodCIpIHRoZW4NCgkJCQlidXR0b25IZWlnaHQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDE1KSkNCgkJCQlVSUdyaWRMYXlvdXQuQ2VsbFNpemUgPSBVRGltMi5uZXcoMC40NSwgMCwgMCwgYnV0dG9uSGVpZ2h0KQ0KCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApDQoNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGhlaWdodCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpIC4uICIhIg0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJ1dHRvbmdhcCIpIHRoZW4NCgkJCQlidXR0b25HYXAgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDEyKSkNCgkJCQlVSUdyaWRMYXlvdXQuQ2VsbFBhZGRpbmcgPSBVRGltMi5uZXcoMCwgNywgMCwgYnV0dG9uR2FwKQ0KCQkJCW1haW5mcmFtZS5DYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIG1hdGguY2VpbCgjYnV0dG9ucyAvIDIpICogKGJ1dHRvbkhlaWdodCArIGJ1dHRvbkdhcCkgLSBidXR0b25HYXApDQoNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGdhcCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpIC4uICIhIg0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAicmVqb2luIikgdGhlbg0KCQkJCXJlam9pbigpDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlJlam9pbmluZy4uLiINCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImF1cmEvb2ZmIikgdGhlbg0KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpDQoNCgkJCQlpZiBnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpIHRoZW4NCgkJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKTpEZXN0cm95KCkNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgaGFzIGJlZW4gcmVtb3ZlZC4iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBkb2VzIG5vdCBleGlzdCEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxNCkgPT0gKHByZWZpeCAuLiAidGFyZ2V0c2V0dGluZyIpIHRoZW4NCgkJCQl0YXJnZXRTZXR0aW5nID0gc3RyaW5nLnN1Yih0ZXh0LCAxNikNCg0KCQkJCXJlcGVhdA0KCQkJCQlpZiB0YXJnZXRTZXR0aW5nID09ICJzZWxlY3QiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIHNlbGVjdCEiDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBjbG9zZXN0ISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImNsb3Nlc3QiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGZhcnRoZXN0ISINCgkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBwbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIHBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBsb3docCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIVU0odi5DaGFyYWN0ZXIpIGFuZCBnZXRIVU0ocGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gcGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdIDwgYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGhpZ2hocCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJoaWdoaHAiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgcGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQl0YXJnZXRTZXR0aW5nID0gInNlbGVjdCINCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIHRhcmdldCBzZXR0aW5nISBEaWQgeW91IHNwZWNpZnkgc2VsZWN0LCBjbG9zZXN0LCBmYXJ0aGVzdCwgbG93aHAsIG9yIGhpZ2hocD8gU2V0dGluZyBoYXMgYmVlbiBzZXQgdG8gc2VsZWN0LiINCgkJCQkJZW5kDQoJCQkJdW50aWwgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0Ig0KDQoJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGxvb3BpbmcgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlsb29waW5nID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJbG9vcGluZyA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBsb29waW5nIGF0dGFja3MhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWxvb3BpbmcgPSBub3QgbG9vcGluZw0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KDQoJCQkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJCQl3aGlsZSBsb29waW5nIGRvDQoJCQkJCQlleHBsb2l0KCkNCgkJCQkJCXdhaXQoKQ0KCQkJCQllbmQNCgkJCQkJcmV0dXJuDQoJCQkJZW5kKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAidW5icmVhayIpIHRoZW4NCgkJCQlicmVha2FibGUgPSBmYWxzZQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAiZ3JjaGFyZ2UiKSB0aGVuDQoJCQkJR1JDaGFyZ2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDExKSkNCgkJCQl3YWl0KCkNCgkJCQlpZiBHUkNoYXJnZSA9PSBuaWwgdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgY2hhcmdlIHRvICIgLi4gR1JDaGFyZ2UgLi4gIiEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJzcGVlZCIpIHRoZW4NCgkJCQlTZXRTcGVlZCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgOCkpDQoJCQkJd2FpdCgpDQoJCQkJaWYgU2V0U3BlZWQgPT0gbmlsIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/Ig0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIHNwZWVkIHRvICIgLi4gU2V0U3BlZWQgLi4gIiEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMikgPT0gKHByZWZpeCAuLiAic21hcnRhdHRhY2siKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE1KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBzbWFydEF0dGFjayA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJc21hcnRBdHRhY2sgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm93IGRldGVjdGluZyBmb3JjZWZpZWxkcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTYpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBzbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlzbWFydEF0dGFjayA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCXNtYXJ0QXR0YWNrID0gbm90IHNtYXJ0QXR0YWNrDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iDQoJCQkJCWlmIHNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT2ZmIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZm9yY2VmaWVsZCBkZXRlY3Rpb24gKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiZ2FtZWNvbG9yIikgdGhlbg0KCQkJCWlmIG5vdCBnYW1lLkxpZ2h0aW5nOkZpbmRGaXJzdENoaWxkKCJFQkdHdWlDb2xvckNvcnJlY3Rpb24iKSB0aGVuDQoJCQkJCUluc3RhbmNlLm5ldygiQ29sb3JDb3JyZWN0aW9uRWZmZWN0IiwgZ2FtZS5MaWdodGluZykuTmFtZSA9ICJFQkdHdWlDb2xvckNvcnJlY3Rpb24iDQoJCQkJCXdhaXQoKQ0KCQkJCWVuZA0KDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTcpID09ICJub3JtYWwiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uQ29udHJhc3QgPSAwDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAwDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZXZlcnRpbmcuLi4iDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiZ3JheXNjYWxlIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAtMQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiR3JheXNjYWxpbmcuLi4iDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0aHVlIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLlNhdHVyYXRpb24gPSAtMg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGh1ZS4uLiINCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMjApID09ICJpbnZlcnRhbGwiIHRoZW4NCgkJCQkJZ2FtZS5MaWdodGluZy5FQkdHdWlDb2xvckNvcnJlY3Rpb24uQ29udHJhc3QgPSAtMg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52ZXJ0aW5nIGFsbC4uLiINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIGNvbG9yIG1vZGUgKG9yIG5vbmUgc3BlY2lmaWVkKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiYmxhY2tjYXN0IikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDEyKSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMykgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlibGFja2Nhc3RFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZW5hYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTQpID09ICgib2ZmIikgdGhlbg0KCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBkaXNhYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IG5vdCBibGFja2Nhc3RFbmFibGVkDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iDQoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBibGFjayBjYXN0aW5nICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAic3R1biIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOCkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJc3R1bkVuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlzdHVuRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3R1biBkaXNhYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJc3R1bkVuYWJsZWQgPSBub3Qgc3R1bkVuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiINCgkJCQkJaWYgc3R1bkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8NCgkJCQkJCQljb25uZWN0aW9uOkRpc2FibGUoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2UNCgkJCQkJCWZvciBpLCBjb25uZWN0aW9uIGluIHBhaXJzKHN0dW5Db25uZWN0aW9uKSBkbw0KCQkJCQkJCWNvbm5lY3Rpb246RW5hYmxlKCkNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgc3R1biAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImRydWdzIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCA5KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb24hIg0KCQkJCQllbHNlDQoJCQkJCQlkcnVnc0VuYWJsZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCA4LCA4KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDgsIDEwKSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbHNlDQoJCQkJCQlkcnVnc0VuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBkaXNhYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJZHJ1Z3NFbmFibGVkID0gbm90IGRydWdzRW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIg0KCQkJCQlpZiBkcnVnc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJT25Pck9mZiA9ICJPZmYiDQoJCQkJCWVuZA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBkcnVnIG1vZGUgKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMSkgPT0gKHByZWZpeCAuLiAibWFnaWNjb2xvciIpIHRoZW4NCgkJCQlsb2NhbCBzdHJpbmdhcmdzID0gc3RyaW5nLnN1Yih0ZXh0LCAxMykNCgkJCQlsb2NhbCBhcmdzID0gc3BsaXRBcmdzKHN0cmluZ2FyZ3MpDQoNCgkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4NCgkJCQkJaWYgKGNvbG9yMSB+PSBuaWwpIGFuZCAoY29sb3IyIH49IG5pbCkgYW5kIChjb2xvcjMgfj0gbmlsKSB0aGVuDQoJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZW5hYmxlZCEiDQoJCQkJCQllbHNlDQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISINCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgKGFyZ3NbMV0gPT0gImYiKSBvciAoYXJnc1sxXSA9PSAib2ZmIikgdGhlbg0KCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29sb3JzRW5hYmxlZCA9IGZhbHNlDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGRpc2FibGVkISINCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVuZA0KCQkJCWVsc2UNCgkJCQkJYXJnc1sxXSA9IHRvbnVtYmVyKGFyZ3NbMV0pDQoJCQkJCWFyZ3NbMl0gPSB0b251bWJlcihhcmdzWzJdKQ0KCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkNCg0KCQkJCQlpZiBub3QgYXJnc1szXSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3Ugc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXM/Ig0KCQkJCQllbHNlDQoJCQkJCQlpZiAoYXJnc1sxXSB+PSBuaWwpIGFuZCAoYXJnc1syXSB+PSBuaWwpIGFuZCAoYXJnc1szXSB+PSBuaWwpIHRoZW4NCgkJCQkJCQlsb2NhbCBleGVjdXRhYmxlID0gdHJ1ZQ0KDQoJCQkJCQkJZm9yIGkgPSAxLCAzLCAxIGRvDQoJCQkJCQkJCWlmIChhcmdzW2ldIDwgMCkgb3IgKGFyZ3NbaV0gPiAyNTUpIHRoZW4NCgkJCQkJCQkJCWV4ZWN1dGFibGUgPSBmYWxzZQ0KCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbg0KCQkJCQkJCQljb2xvcjEgPSBhcmdzWzFdDQoJCQkJCQkJCWNvbG9yMiA9IGFyZ3NbMl0NCgkJCQkJCQkJY29sb3IzID0gYXJnc1szXQ0KDQoJCQkJCQkJCWNvbG9yc0VuYWJsZWQgPSB0cnVlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3Igd2FzIHNldCB0byAiIC4uIGNvbG9yMSAuLiAiLCAiIC4uIGNvbG9yMiAuLiAiLCBhbmQgIiAuLiBjb2xvcjMgLi4gIiEiDQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFRoZSBudW1iZXJzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNTUhIg0KCQkJCQkJCWVuZA0KCQkJCQkJZWxzZQ0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgUGxlYXNlIHVzZSBudW1iZXJzIHRvIHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzLiINCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImNvbG9ycyIpIHRoZW4NCgkJCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Q29ubmVjdChmdW5jdGlvbihkKQ0KCQkJCQlzcGF3bihmdW5jdGlvbigpIA0KCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCXdoaWxlIHRydWUgZG8NCgkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4NCgkJCQkJCQkJCWlmIGRydWdzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSksIG1hdGgucmFuZG9tKDAsIDI1NSkpDQoJCQkJCQkJCQkJd2FpdCgobWF0aC5yYW5kb20oMSwgNSkpLzEwKQ0KCQkJCQkJCQkJZWxzZWlmIGNvbG9yc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB0YWJsZS5maW5kKGNvbG9yRXhjbHVkZSwgZC5OYW1lKSB0aGVuIA0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IoY29sb3IxLCBjb2xvcjIsIGNvbG9yMykNCgkJCQkJCQkJCQkJd2FpdCgpDQoJCQkJCQkJCQkJZWxzZSBicmVhayBlbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kKQ0KCQkJCQllbmQpDQoNCgkJCQkJc3Bhd24oZnVuY3Rpb24oKQ0KCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCWlmIChibGFja2Nhc3RFbmFibGVkID09IHRydWUpIGFuZCAoZC5QYXJlbnQgfj0gbmlsKSB0aGVuDQoJCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGQ6R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCQkJCQkJCWlmIHY6SXNBKCJEZWNhbCIpIHRoZW4NCgkJCQkJCQkJCQl2LkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCg0KCQkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkNCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4NCgkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7DQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLA0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQ0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkNCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksDQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpDQoJCQkJCQkJCQkJCX0NCgkJCQkJCQkJCQkJd2FpdCgpDQoJCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbg0KCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpDQoJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQ0KDQoJCQkJaWYgYXJnc1sxXSB0aGVuCQkJCQ0KCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuDQoJCQkJCQlsb2NhbCBoZWFsaW5nUGxheWVyID0gZmluZFBsYXllcihhcmdzWzFdKVsxXQ0KCQkJCQkJbG9jYWwgY2hyID0gZ2FtZS5QbGF5ZXJzW2hlYWxpbmdQbGF5ZXJdLkNoYXJhY3Rlcg0KDQoJCQkJCQlpZiBjaHIgdGhlbg0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJIZWFsaW5nICIgLi4gZmluZFBsYXllcihhcmdzWzFdKVsxXSAuLiAiLi4uIg0KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiR2xlYW1pbmcgSGFybW9ueSIpDQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiLCBjaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJQaG9lbml4IiwgIkJsdWUgQXJzb24iKQ0KCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJCQkJaWYgY2hyID09IHBsYXllci5DaGFyYWN0ZXIgdGhlbg0KCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBbmdlbCIsIkFuZ2VsaWMgQXVyYSIpDQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQ0KCQkJCQkJCWVuZA0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMikgPT0gKHByZWZpeCAuLiAiZSIpIHRoZW4NCgkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgNCkNCg0KCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbg0KCQkJCQlwaGFzZSA9IG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKQ0KDQoJCQkJCWlmIChwaGFzZSA9PSAxKSBvciAocGhhc2UgPT0gMikgb3IgKHBoYXNlID09IDMpIHRoZW4NCgkJCQkJCUVjaG9lc1BoYXNlID0gcGhhc2UNCg0KCQkJCQkJbG9jYWwgbW9kZSA9ICIiDQoNCgkJCQkJCWlmIEVjaG9lc1BoYXNlID09IDEgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKFNUQVIpIg0KCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDIgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKEZMQU1FKSINCgkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAzIHRoZW4NCgkJCQkJCQltb2RlID0gIihTSE9DSykiDQoJCQkJCQllbmQNCg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBoYXMgYmVlbiBjaGFuZ2VkISAiIC4uIG1vZGUNCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImNoYW5nZWxvZyIpIHRoZW4NCgkJCQktLSBUYWc6IENITkdMRw0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb25lISBIaXQgQ3RybCtGOSB0byB2aWV3LiINCgkJCQl3YXJuKCJSb2Jsb3ggaXMgZHVtYiBhbmQgZG9lc24ndCBhbGxvdyBtZSB0byBsb2FkIGEgc3RyaW5nIHdpdGggbXVsdGlwbGUgbGluZXMgaGVyZS4iKQ0KCQkJCXByaW50KCJDaGVjayBodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvZkZEcEdNQXIgdG8gc2VlIHRoZSBjaGFuZ2Vsb2cuIikNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gIm9yaWdpbiIpIHRoZW4NCgkJCQl4cGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlsb2NhbCBvcmlnaW4gPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCQkJCQlvcmlnaW4uQW5jaG9yZWQgPSB0cnVlDQoJCQkJCW9yaWdpbi5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdDQoJCQkJCW9yaWdpbi5OYW1lID0gIk9yaWdpbiINCgkJCQkJb3JpZ2luLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uDQoJCQkJCW9yaWdpbi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIlJlYWxseSByZWQiKQ0KCQkJCQlvcmlnaW4uU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpDQoJCQkJCW9yaWdpbi5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApDQoJCQkJCXdhcm4oIk1hZGUgYSBibG9jayBhdCB0aGUgb3JpZ2luISIpDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzISBDaGVjayBjb25zb2xlIGZvciBtb3JlIGluZm8iDQoJCQkJZW5kLCBmdW5jdGlvbihlKQ0KCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpDQoJCQkJCXdhcm4oJ3RyYWNlYmFjazonLCBkZWJ1Zy50cmFjZWJhY2soKSkNCgkJCQllbmQpDQogICAgICAgICAgICBlbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJoZWxwIikgdGhlbg0KICAgICAgICAgICAgICAgIHdhcm4oIlJvYmxveCBpcyBkdW1iIGFuZCBpc24ndCBmb3JtYXR0aW5nIG11bHRpbGluZSBzdHJpbmdzIHJpZ2h0LiIpDQogICAgICAgICAgICAgICAgcHJpbnQoIkZvciBub3csIGNoZWNrIGh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9ZNzRHaWhHeSB0byBzZWUgdGhlIGZ1bGwgbGlzdCBvZiBjb21tYW5kcy4iKQ0KICAgICAgICAgICAgICAgIGNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb25lISBIaXQgQ3RybCtGOSB0byB2aWV3LiINCgkJCS0tW1tlbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJmYXJtIikgdGhlbg0KCQkJCWxvY2FsIEZhcm1BbmNob3IgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCQkJCUZhcm1BbmNob3IuQW5jaG9yZWQgPSB0cnVlDQoJCQkJRmFybUFuY2hvci5DYW5Db2xsaWRlID0gdHJ1ZQ0KCQkJCUZhcm1BbmNob3IuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLDE1MDAwMCwwKQ0KCQkJCUZhcm1BbmNob3IuUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2UNCgkJCQlGYXJtQW5jaG9yLk5hbWUgPSAiRmFybUFuY2hvciINCgkJCQlGYXJtQW5jaG9yLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiVG9vdGhwYXN0ZSIpDQoJCQkJRmFybUFuY2hvci5TaXplID0gVmVjdG9yMy5uZXcoLjUsLjUsLjUpDQoJCQkJRmFybUFuY2hvci5NYXRlcmlhbCA9IEVudW0uTWF0ZXJpYWwuTmVvbg0KCQkJCUZhcm1BbmNob3IuU2hhcGUgPSBFbnVtLlBhcnRUeXBlLkJhbGwNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUHJlcGFyaW5nIGZvciB0ZWxlcG9ydC4uLiINCgkJCQl3YWl0KDMpDQoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwxMDAwMDMsMCkpXV0NCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImluZm8iKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAic3RhdHVzIiB0aGVuDQoJCQkJCXByaW50KCJUaGUgY3VycmVudCBzdGF0dXMgb2YgRUJHdWkgaXMgIiAuLiBzdGF0dXMpDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkd1aSBTdGF0dXM6ICIgLi4gc3RhdHVzDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInJlcG8iIG9yIHN0cmluZy5zdWIodGV4dCwgNykgPT0gImdpdGh1YiIgdGhlbg0KCQkJCQlwcmludCgiVGhlIEdpdEh1YiByZXBvc2l0b3J5IGxpbmsgaXMgIiAuLiByZXBvKQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1cGRhdGUiKSB0aGVuDQoJCQkJaWYgdmVyTnVtID09IHZlcnNpb24gdGhlbg0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTm8gdXBkYXRlIHJlcXVpcmVkISINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJWZXJzaW9uIG91dGRhdGVkISBSZWNlbnQ6ICIgLi4gdmVyc2lvbg0KCQkJCWVuZA0KICAgICAgICAgICAgZW5kDQoNCgkJCXdhaXQoMS41KQ0KCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4NCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJZWxzZQ0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCWVuZA0KCQllbHNlDQoJCQlsb2NhbCBtYXRjaGVzID0gZmluZFBsYXllcih0ZXh0KQ0KDQoJCQlpZiAjbWF0Y2hlcyA9PSAxIHRoZW4NCgkJCQl0YXJnZXQgPSBtYXRjaGVzWzFdDQoJCQkJaWYgbWF0Y2hlc1sxXSA9PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIJCQkJCQkNCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gbWF0Y2hlc1sxXQ0KCQkJCWVuZA0KCQkJCXdhaXQoMSkNCgkJCWVsc2UNCgkJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQ0KCQkJCXdhcm4oIlRhcmdldCBub3QgZm91bmQhIERvIG11bHRpcGxlIHBsYXllcnMgaGF2ZSB0aGF0IHNhbWUgc3Vic3RyaW5nIGluIHRoZWlyIG5hbWVzPyIpDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgVGFyZ2V0ISBUeXBlIHRoZWlyIG5hbWUgYWdhaW4uIg0KCQkJCXdhaXQoMS41KQ0KCQkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Y29ubmVjdChmdW5jdGlvbihwbGF5ZXIpDQoJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKFRhcmdldCBSUWVkISkiDQoJCWVuZA0KCWVuZCkNCg0KCWNvbW1hbmRCb3guRm9jdXNMb3N0OkNvbm5lY3QoZnVuY3Rpb24oZW50ZXJQcmVzc2VkKQ0KCQlpZiBlbnRlclByZXNzZWQgdGhlbg0KCQkJaWYgY29tbWFuZEJveC5UZXh0IH49ICIiIHRoZW4NCgkJCQlpbnB1dEJveCgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkNCgkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgKG1hdGguY2VpbCgjYnV0dG9ucyAqIDM3KSAvIDIpIC0gNykNCgllbmQpKQ0KDQoJLS0gQnJlYWtpbmcgU2NyaXB0IFVzZXJzDQoNCglicmVha2FibGUgPSB0cnVlDQoNCglsb2NhbCBicmVha1VzZXJzID0gew0KCQkxODY0MzgwNTgxLA0KCQkxODIxMzMyOTMsDQoJCTI5NzYxNTIzMSwNCgkJMTEyODExNDk0NCwNCgkJMTk1NjQxMzA3OSwNCgkJMzExMDI3MjA0LA0KCQkxOTAzMTY1NDA1LA0KCQkxOTMzNzM0OTU2LA0KCQkxODEyMDUzNjMyLA0KCQkxOTA2MzExOTAyLA0KCQkxOTkzMjI0NzI0LA0KCQkxOTQ0NTMxNjY1LA0KCQkxMDgwNDUwMjMNCgl9DQoNCglsb2NhbCBvbmNoYXQgPSBmdW5jdGlvbihwbHIsIG1zZykNCgkJbG9jYWwgYWxsb3dlZCA9IGZhbHNlDQoJCWZvciBfLCB1c2VyIGluIHBhaXJzKGJyZWFrVXNlcnMpIGRvDQoJCQlpZiBwbHIuTmFtZSA9PSB1c2VyIHRoZW4NCgkJCQlhbGxvd2VkID0gdHJ1ZQ0KCQkJZW5kDQoJCWVuZA0KDQoJCWxvY2FsIHByZWZpeCA9ICI7Ig0KDQoJCWlmIHN0cmluZy5zdWIobXNnLCAxLCA3KSA9PSAocHJlZml4IC4uICJicmVhayAiKSB0aGVuDQoJCQlsb2NhbCBtYXRjaGVzID0ge30NCg0KCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUNCgkJCQltc2cgPSBzdHJpbmcubG93ZXIoc3RyaW5nLnN1Yihtc2csIDgpKQ0KCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkNCgkJCQlsb2NhbCB0ZXJtID0gc3RyaW5nLnN1YihuYW1lLCAxLCBzdHJpbmcubGVuKG5hbWUpKQ0KDQoJCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZCh0ZXJtLCBtc2cpDQoNCgkJCQlpZiBtYXRjaCB0aGVuDQoJCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkNCgkJCQllbmQNCgkJCWVuZA0KDQoJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIGFuZCBicmVha2FibGUgYW5kIGFsbG93ZWQgdGhlbg0KCQkJCXdoaWxlIHRydWUgZG8NCg0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCXYuQ2hhdHRlZDpDb25uZWN0KGZ1bmN0aW9uKG1zZykNCgkJCW9uY2hhdCh2LCBtc2cpDQoJCWVuZCkNCgllbmQNCg0KCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpDQoJCQlvbmNoYXQodiwgbXNnKQ0KCQllbmQpDQoJZW5kKQ0KDQoJLS0gRXhwbG9pdHMNCg0KCWxvY2FsIGZ1bmN0aW9uIGZmKCkNCgkJaWYgc21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuDQoJCQlpZiBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJcmV0dXJuIGZhbHNlDQoJCQllbHNlDQoJCQkJcmV0dXJuIHRydWUNCgkJCWVuZA0KCQllbHNlDQoJCQlyZXR1cm4gdHJ1ZQ0KCQllbmQNCgllbmQNCg0KCWZ1bmN0aW9uIGV4cGxvaXQoKQ0KCQktLSBFeHBsb2l0IGZ1bmN0aW9uLiBXaGVuIEMgaXMgcHJlc3NlZCBhbmQgb25lIG9mIHRoZXNlIGFyZSAidHJ1ZSIsIGl0IHdpbGwgZmlyZSBpdC4NCgkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyDQoNCgkJaWYgUmVhcGVyVWx0RW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJSZWFwZXIiLCAiUmVhcGVyJ3MgUmFnZSIpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJSZWFwZXIiLA0KCQkJCVsyXSA9ICJSZWFwZXIncyBSYWdlIiwNCgkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUNCgkJCX0NCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZAkJDQoNCgkJaWYgQ3JlYXRpb25Ib2xkRW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcmVhdGlvbiIsICJDb250aW51b3VzIFN0cmlrZXMiKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiQ3JlYXRpb24iLA0KCQkJCVsyXSA9ICJDb250aW51b3VzIFN0cmlrZXMiLA0KCQkJCVszXSA9IHsNCgkJCQkJWyJDRiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLA0KCQkJCQlbIkNoYXJnZSJdID0gMg0KCQkJCX0NCgkJCX0NCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIEh5cGVyYW5nRW5hYmxlZCB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgRGFya0FvZUVuYWJsZWQgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIsIHtsYXN0TW91c2VQb3NpdGlvbiA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pfSkNCgkJZW5kDQoNCgkJaWYgRGlzcGVyc2lvbkVuYWJsZWQgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIsIHtHcm91bmRlZCA9IHRydWV9KQ0KCQllbmQNCg0KCQlpZiBEb3VibGVSYXlFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU29sYXIiLA0KCQkJCVsyXSA9ICJEb3VibGUgUmF5Ig0KCQkJfQkJCQ0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCQkJDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTb2xhciIsDQoJCQkJWzJdID0gIkRvdWJsZSBSYXkiLA0KCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQ0KCQkJfQkJCQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgU3Rvcm1CdWxsZXRzRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlN0b3JtIiwNCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiDQoJCQl9CQkJDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkNCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlN0b3JtIiwNCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiLA0KCQkJCVszXSA9IHsNCgkJCQkJWyJEaXJlY3Rpb24iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQ0KCQkJCX0NCgkJCX0JCQkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIE9yYml0YWxIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlRlY2hub2xvZ3kiLA0KCQkJCVsyXSA9ICJPcmJpdGFsIFN0cmlrZSINCgkJCX0NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiVGVjaG5vbG9neSIsDQoJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwNCgkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJfQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgVmlnb3JIYWNrRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNwaXJpdCIsDQoJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIg0KCQkJfQ0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGlyaXQiLA0KCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIsDQoJCQkJWzNdID0gew0KCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCX0NCgkJCX0NCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGFjZSIsDQoJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiDQoJCQl9DQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlNwYWNlIiwNCgkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIsDQoJCQkJWzNdID0gew0KCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCX0NCgkJCX0NCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIEJsYXplQ29sdW1uRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQllbmQNCg0KCQlpZiBWaW5lVHJhcEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJOYXR1cmUiLCAiVmluZSBUcmFwIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJOYXR1cmUiLCAiVmluZSBUcmFwIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCWVuZA0KDQoJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJZW5kDQoNCgkJaWYgU2xpbWVCdWRkaWVzRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50Iiwge0xhc3RQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkNCgkJZW5kDQoNCgkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQ0KCQllbmQNCg0KCQlpZiBHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMTUsIDApKQ0KCQllbmQNCg0KCQlpZiBBbWF1cm90aWNMYW1iZW50RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIsIHtwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDE1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEdlbmVzaXNSYXlFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCB7bHYgPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgY2hhcmdlID0gR1JDaGFyZ2V9KQ0KCQllbmQNCg0KCQlpZiBUaGVXb3JsZEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHtyaGl0ID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQsIG5vcm0gPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgcnBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgUG9sYXJpc0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBDb250cm9sbGVkRWNob2VzRW5hYmxlZCBhbmQgRWNob2VzUGhhc2Ugfj0gbmlsIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgbW91c2UuSGl0LnB9KQ0KCQllbmQNCg0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkNCgkJZW5kDQoNCgkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIsIHtEaXJlY3Rpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIEZsb29yID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lfSkNCgkJCXdhaXQoMTcuNSkNCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlDQoJCQllbmQNCgkJZW5kDQoNCgkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIiwge1Bvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCA1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTcGxpdHRpbmdTbGltZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpDQoJCWVuZA0KDQoJCWlmIFZpcnR1YWxab25lRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24sIFZlY3RvcjMubmV3KDAsIDAsIDApfSkNCgkJZW5kDQoJZW5kDQoNCgktLSBVSVMNCg0KCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpDQoJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UNCg0KCVVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQ0KCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4NCgkJCWlmIG5vdCBncCB0aGVuDQoJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyDQoNCgkJCQlpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrU2xhc2ggdGhlbg0KCQkJCQljb21tYW5kQm94OkNhcHR1cmVGb2N1cygpDQoJCQkJCXdhaXQoKQ0KCQkJCQlpZiBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkpID09ICJcXCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveC5UZXh0ID0gc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIDEsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSAtIDEpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4NCgkJCQkJZXhwbG9pdCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbg0KCQkJCQlUUFRvVGFyZ2V0KCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuDQoJCQkJCUFudGlCbGluZEZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4NCgkJCQkJYmVnaW5TcGVlZCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbg0KCQkJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkIHRoZW4NCgkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUCB0aGVuDQoJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbg0KCQkJCQkJaWYgZ2FtZS5QbGFjZUlkID09IDU2NjM5OTI0NCBvciBnYW1lLlBsYWNlSWQgPT0gMjU2OTYyNTgwOSB0aGVuDQoJCQkJCQkJbG9jYWwgU2Fuc1BvcyA9IENGcmFtZS5uZXcoLTE2ODUuOTEwNTIsIDIzMC4wMzUxMjYsIC0xODEuNzk4MjY0KQ0KCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkNCg0KCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBTYW5zUG9zICogU2Fuc0FuZ2xlcw0KCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQkJCQkJd2FpdCgxKQ0KCQkJCQkJCWlmIG5vdCBGcmVlemVFbmFibGVkIHRoZW4NCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJCQkJCQllbmQNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuDQoJCQkJCWJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkcgdGhlbg0KCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5KIHRoZW4NCgkJCQkJaWYgQ2xpY2tUUEVuYWJsZWQgdGhlbg0KCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5GIHRoZW4NCgkJCQkJRnJlZXplRnVuYygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2txdW90ZSB0aGVuDQoJCQkJCWlmIEZsYXNoRW5hYmxlZCB0aGVuDQoJCQkJCQlsb25nZmxhc2goKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuViB0aGVuDQoJCQkJCXZpZXcoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CIHRoZW4NCgkJCQkJdG9nZ2xlRVNQKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTSB0aGVuDQoJCQkJCXRvZ2dsZUVTUEdvbGQoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0QnJhY2tldCB0aGVuDQoJCQkJCWlmIG5vdCBjbG9zZWRmb3JldmVyIHRoZW4NCgkJCQkJCWlmIG5vdCBidXR0b25zZGVib3VuY2UgdGhlbg0KCQkJCQkJCWJ1dHRvbnNkZWJvdW5jZSA9IHRydWUNCgkJCQkJCQlpZiBidXR0b25zb3BlbmVkID09IGZhbHNlIHRoZW4NCgkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IHRydWUNCgkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwNCgkJCQkJCQkJCSJPdXQiLA0KCQkJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCQkJLjUsDQoJCQkJCQkJCQl0cnVlDQoJCQkJCQkJCSkNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSBmYWxzZQ0KCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApLA0KCQkJCQkJCQkJIkluIiwNCgkJCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkJCS41LA0KCQkJCQkJCQkJdHJ1ZQ0KCQkJCQkJCQkpDQoJCQkJCQkJZW5kDQoJCQkJCQkJd2FpdCgxKQ0KCQkJCQkJCWJ1dHRvbnNkZWJvdW5jZSA9IGZhbHNlDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlJpZ2h0QnJhY2tldCB0aGVuDQoJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IHRydWUNCgkJCQkJaWYgY29tbWFuZHNvcGVuZWQgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZHNvcGVuZWQgPSB0cnVlDQoJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC40NSwgMCksDQoJCQkJCQkJIk91dCIsDQoJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCS41LA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZHNvcGVuZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApLA0KCQkJCQkJCSJJbiIsDQoJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCS41LA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJZW5kDQoJCQkJCXdhaXQoMSkNCgkJCQkJY29tbWFuZGRlYm91bmNlID0gZmFsc2UNCgkJCQllbHNlaWYgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuTGVmdCkgYW5kIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLlJpZ2h0KSB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUaGFua3MgZm9yIHVzaW5nIEVCR3VpISINCgkJCQkJd2FpdCgyKQ0KCQkJCQlpZiBidXR0b25zb3BlbmVkID09IHRydWUgdGhlbg0KCQkJCQkJdGVybWluYXRldWlzID0gdHJ1ZQ0KCQkJCQkJdGVybUVCR3VpKCkNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU2NyaXB0cyBhbmQgRnVuY3Rpb25zIEVORA0KDQoJLS0gRW50cmFuY2UgQW5pbWF0aW9uDQoNCgl3YWl0KDAuNSkNCg0KCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwNCgkJIk91dCIsDQoJCSJTaW5lIiwNCgkJLjUsDQoJCXRydWUNCgkpDQoNCgljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLA0KCQkiT3V0IiwNCgkJIlNpbmUiLA0KCQkuNSwNCgkJdHJ1ZQ0KCSkNCg0KCS0tIEluZm8NCg0KCXByaW50KFtbDQoNCgldXSkNCgl3YXJuKCJHVUkgc3VjY2Vzc2Z1bGx5IGxvYWRlZCEiKQ0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJXZWxjb21lIHRvIEVCR3VpISINCgl3YWl0KDIpDQoJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KZW5k"