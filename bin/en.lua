encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CgkxODc3MjYzMTMzCQp9Cgpsb2NhbCBtYXN0ZXJsaXN0ID0gewoJIjYzMzA1NzVlLThiOWMtNGZiNi1hNDJkLWJhYTU1NTZiNmU5OSIKfQoKbG9jYWwgZ29sZGxpc3QgPSB7CglbIk1haW4iXSA9ICJHXzE1NzM0NV9WOFV3QmZ2bzNqXzAxMjAyMyIsCglbIlByb21vIl0gPSB7CgkJWyJ3ZWxsZmVkIl0gPSB7CgkJCVsiS2V5Il0gPSAiUF81MjUxNjhfV3RZRmxoYUF2cV8wMTIwMjMiLAoJCQlbIlRpbWUiXSA9IDE2NzU0Njg4MDAKCQl9Cgl9Cn0KCmxvY2FsIHBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBwbGF5ZXIgPSBwbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIFJTUiA9IGdhbWUuUmVwbGljYXRlZFN0b3JhZ2U6V2FpdEZvckNoaWxkKCJSZW1vdGVzIikKbG9jYWwgSUQgPSBwbGF5ZXIuVXNlcklkCmxvY2FsIGlzQmxvY2tlZCA9IGZhbHNlCmxvY2FsIGlzTWFzdGVyID0gZmFsc2UKbG9jYWwgaXNHb2xkID0gZmFsc2UKbG9jYWwgdmVyTnVtID0gInYzLjEiCgppZiBFQkd1aUdvbGQgPT0gbmlsIHRoZW4gZWxzZQoJaWYgRUJHdWlHb2xkID09IGdvbGRsaXN0Lk1haW4gdGhlbgoJCWlzR29sZCA9IHRydWUKCWVsc2UKCQlmb3IgaSx2IGluIHBhaXJzKGdvbGRsaXN0LlByb21vKSBkbwoJCQlpZiBFQkd1aUdvbGQgPT0gdi5LZXkgYW5kIG9zLnRpbWUoKSA8IHYuVGltZSB0aGVuCgkJCQlpc0dvbGQgPSB0cnVlCgkJCQlicmVhawoJCQllbmQKCQllbmQKCWVuZAplbmQKCmZvciBpLHYgaW4gcGFpcnMoYmxvY2tsaXN0KSBkbwogICAgaWYgdiA9PSBJRCB0aGVuCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQogICAgICAgIGJyZWFrCiAgICBlbmQKZW5kCgpmb3IgaSx2IGluIHBhaXJzKG1hc3Rlcmxpc3QpIGRvCiAgICBpZiB2Omxvd2VyKCkgPT0gY2xpZW50aWQgdGhlbgogICAgICAgIGlzTWFzdGVyID0gdHJ1ZQogICAgICAgIGJyZWFrCiAgICBlbmQKZW5kCgppZiBpc0Jsb2NrZWQgdGhlbgogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgIFRoaXMgYWNjb3VudCBoYXMgYmVlbiBibG9ja2VkLiAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICBQbGVhc2UgdmlzaXQgdGhlIEVCR3VpIERpc2NvcmQgZm9yIG1vcmUgaW5mb3JtYXRpb24uICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikKICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQoJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLkRlZmF1bHRDaGF0U3lzdGVtQ2hhdEV2ZW50cy5TYXlNZXNzYWdlUmVxdWVzdDpGaXJlU2VydmVyKCJJIGp1c3QgdHJpZWQgdG8gdHVybiBvbiBleHBsb2l0cyB3aGlsZSBiZWluZyBibG9ja2VkIGZyb20gdXNpbmcgdGhlIHNjcmlwdCEgSSdtIGJpZywgZmF0LCBhbmQgc3R1cGlkISIsIkFsbCIpCmVsc2VpZiBub3QgKEVCR3VpS2V5IG9yIGlzQmxvY2tlZCBvciBpc01hc3RlciBvciBpc0dvbGQpIHRoZW4KICAgIHdhcm4oIj09PT09PT09PT09PT09PT09PT09PT09W1sgQVRURU5USU9OIF1dPT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSBkb24ndCBoYXZlIHRoZSB1bmxvY2sga2V5IGluIHlvdXIgc2NyaXB0LiAgICAgICB8IikKICAgIHdhcm4oInwgICAgICAgWW91J2xsIG5lZWQgdG8gZmluZCB0aGUgYXBwcm9wcmlhdGUga2V5IGZpcnN0LiAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKZWxzZWlmIChFQkd1aUtleSB+PSAiNTY4MjY0X3F6NGVrQjRQeUxfMTEyMDIyIiBhbmQgbm90IGlzR29sZCkgYW5kIG5vdCAoaXNCbG9ja2VkIG9yIGlzTWFzdGVyKSB0aGVuCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigifCAgICAgICAgICAgICAgIFlvdXIgdW5sb2NrIGtleSBpcyBpbmNvcnJlY3QuICAgICAgICAgICAgICAgfCIpCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikKICAgIHdhcm4oInwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwiKQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpCmVsc2UKCXhwY2FsbChmdW5jdGlvbigpCgkJbG9jYWwgZHVtYlF1b3RlcyA9IHsKCQkJIkplZXosIHdoZW4nZCBpdCBnZXQgc28gaG90IGluIGhlcmU/IiwKCQkJIklzIGl0IGp1c3QgbWUgb3IgaXMgdGhhdCAqdG9vKiBibHVlPyIsCgkJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLAoJCQkiRGVleiBudXRzIGFyZSB0b28gc3F1YXJlISIsCgkJCSJBbHNvIHRyeSBNaW5lY3JhZnQhIiwKCQkJIkFsc28gdHJ5IFRlcnJhcmlhISIsCgkJCSJNZWgsIEkgbGlrZWQgUmlzayBvZiBSYWluIDIgYmV0dGVyLiIsCgkJCSJZb3UgbmVlZCBhIGZhaXJseSBoaWdoIElRIHRvIHVuZGVyc3RhbmQgRUJHdWkuIiwKCQkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwKCQkJIldoYXQgd291bGQgKnlvdSogZG8gZm9yIGEgS2xvbmRpa2UgYmFyPyIsCgkJCSJOb3cgd2l0aCAxMDAlIG1vcmUgR29sZCEiLAoJCQkiTWFkZSBpbiBMdWEhIiwKCQkJIklGICVFUlJPUkxFVkVMJSBFUVUgMSBHT1RPOkVPRiIsCgkJCSJicnVoIG5lcmYgc29sYXIgYWxyZWFkeSIsCgkJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsCgkJCSJQZXRpdGlvbiBZT1VSIGxvY2FsIGRldmVsb3BlciBmb3IgbW9yZSB1cGRhdGVzISIsCgkJCSJ3aHkgYXJlIHlvdSBidXlpbmcgY2xvdGhlcyBhdCB0aGUgc291cCBzdG9yZSIsCgkJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiIsCgkJCSI6KCl7Onw6Jn07OiIsCgkJCSJDOlxcRE9TLiBDOlxcRE9TXFxSVU4gUlVOXFxET1NcXFJVTi4iLAoJCQkiTHVhVTsgQmVjYXVzZSBub3JtYWwgTHVhIHdhcyBqdXN0IHRvbyBlYXN5LiIsCgkJCSJpbGtvLix1eXVraWp5LGhnaHl0ZnJlZTN2Zmd3MzJ3cXF3cSIsCgkJCSJTb3JyeSBmb3IgdGhhdCBvbmUgcXVvdGUuIE15IGNhdCBnb3Qgb24gbXkga2V5Ym9hcmQuIiwKCQkJIkkgZG9uJ3QgYWN0dWFsbHkgaGF2ZSBhIGNhdC4iLAoJCQkiVGhpcyBzZW50ZW5jZSBpcyBmYWxzZS4iLAoJCQkiV2VsbCBub3csICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgZG9uJ3Qgd2UgaGF2ZSBhIHByZWRpY2FtZW50ISIsCgkJCSJKZWUsIEJpbGwsIGhvdyBjb21lIHlvdXIgbW9tIGxldHMgeW91IGhhdmUgVFdPIHdlaW5lcnM/ISIsCgkJCSJJJ2QgbGlrZSB0byB0aGFuayBteSBtb20gYW5kIG15IGRhZCwiLAoJCQkiWSdrbm93IHRoZXkgcmVhbGx5IGdvdHRhIHN0YXJ0IHBhdGNoaW5nIG1vcmUuIiwKCQkJIk5pY2UgdG8gbWVldCB5b3UgUm9zZS4gUnVuIGZvciB5b3VyIGxpZmUhIiwKCQkJIkhvdyBoYXJkIHdvdWxkIGl0IGJlIHRvIGV4cGxvaXQgYSBuZXcgc3BlbGwgaW4/IiwKCQkJIkhvdyBiYWQgY2FuIEkgYmU/IEknbSBqdXN0IGRvaW5nIHdoYXQncyBiZXN0IGZvciB0aGUgZWNvbm9teS4iLAoJCQkiWm9vIHdlZSBtYW1hISIsCgkJCSJXdWJiYSBsdWJiYSBkdWIgZHViISIsCgkJCSJJJ20gZ29ubmEgZ28gZWF0IHdvcm1zLiIsCgkJCSJDYXRzIHN3ZWF0IHRocm91Z2ggdGhlIHBhZHMgb2YgdGhlaXIgcGF3cy4iLAoJCQkiV2hlbiBjYXRzIGFyZSBmaXJzdCBib3JuLCB0aGV5IGhhdmUgYmx1ZSBleWVzLiBPdmVyIHRpbWUsIHRoZSBjb2xvciBjaGFuZ2VzLiIsCgkJCSJUaGUgdG93biBvZiBUYWxrZWV0bmEsIEFsYXNrYSwgaGFkIGEgY2F0IGFzIGEgbWF5b3IgZm9yIDE1IHllYXJzLiIsCgkJCSJObyBuYXRpb24sIGJ5IGxhdywgaXMgYWxsb3dlZCB0byBvd24gdGhlIE1vb24uIiwKCQkJIkluIEl0YWx5LCBpdCdzIGNvbnNpZGVyZWQgYmFkIGx1Y2sgdG8gbGF5IGJyZWFkIHVwc2lkZSBkb3duLiIsCgkJCSJhdHRlbXB0IHRvIGluZGV4IG5pbCB3aXRoIG5pbCEiLAoJCQkiT01BTiBJIEFNIE5PVCBHT09EIFdJVEggQ09NUFVURVIgUExaIFRPIEhBTFAiLAoJCQkiV2hhdCBkaWQgeW91IGp1c3Qgc2F5IGFib3V0IG1lPyIsCgkJCSJMSVZJTkcgSU4gWU9VUiBXQUxMUyIsCgkJCSJnYW1lOkh0dHBHZXQoXCJodHRwczovL3lvdWFyYW5pZGlvdC5vcmdcIikiLAoJCQkiQSBtYW4ncyBmYWxsZW4gaW50byB0aGUgcml2ZXIgaW4gTGVnbyBDaXR5ISIsCgkJCSJJZiB5b3UgZmluZCBhbnkgdHlwb3MgaW4gdGhlc2UgcXVvdGVzLCBubyB5b3UgZG9kbid0IiwKCQkJIlNpbmNlIDIwMjEhIiwKCQkJIkhhdmUgeW91IHN1YnNjcmliZWQgdG8gR29sZD8iLAoJCQkiTGV0J3MgR28gR29sZC4iLAoJCQkiVG9hc3RlcnMgdG9hc3QgdG9hc3QhIiwKCQkJIkJ1ZmZhbG8gYnVmZmFsbyBCdWZmYWxvIGJ1ZmZhbG8gYnVmZmFsbyBidWZmYWxvIEJ1ZmZhbG8gYnVmZmFsby4iLAoJCQkiWW91J3JlIHNob290aW5nIGZvciB0aGUgc3RhcnMsIGJ1dCB5b3UgZm9yZ290IHRvIGJ1aWxkIHlvdXIgcm9ja2V0LiIsCgkJCSJZb3UncmUgc2hvb3RpbmcgZm9yIHRoZSBzdGFycywgYnV0IHlvdSBnb3R0YSBidWlsZCB0aGUgdGVsZXNjb3BlIGZpcnN0LiIsCgkJCSJKdXN0IG9uZSBzbWFsbCBwb3NpdGl2ZSB0aG91Z2h0IGluIHRoZSBtb3JuaW5nIGhhcyB0aGUgcG90ZW50aWFsIHRvIGNoYW5nZSB5b3VyIHdob2xlIGRheS4iLAoJCQkiT3Bwb3J0dW5pdGllcyBkb24ndCBqdXN0IGhhcHBlbiwgeW91IGNyZWF0ZSB0aGVtLiIsCgkJCSJGLkkuUy5ILiBGb3JnZXQgSXQsIFN0dWZmIEhhcHBlbnMuIiwKCQkJIllvdSBpbnNlY3VyZSB0dXJkIGhhbW1lciEiLAoJCQkiR2xhZCB0byBzZWUgeW91IHdvbiB0aGUgRGFyd2luIEF3YXJkISIsCgkJCSJZb3UgZG9udXQuIiwKCQkJIllvdSBob3VzZXBsYW50LiIsCgkJCSJIZWxsbywgZXZlcnlib2R5LCBteSBuYW1lIGlzIE1hcmtpcGxpZXIuIiwKCQkJIlZTYXVjZSwgTWljaGFlbCBoZXJlLiIsCgkJCSJGdWRuaW5nIGZvciB0aGlzIHByb2dyYW0gd2FzIG1hZGUgcG9zc2libGUgYnkgY29udHJpYnV0aW9ucyBmcm9tIHZpZXdlcnMgbGlrZSB5b3UuIiwKCQkJIlNwb25zb3JlZCBieSBPcGVuQUkhIEJ1dCBub3QgcmVhbGx5LiIsCgkJCSJBIGRhbW4gYXJ0aWZpY2lhbCBpbnRlbGxpZ2VuY2UgdGF1Z2h0IG1lIGhvdyB0byBwcm9ncmFtLCBJJ20gYWJzb2x1dGVseSBsaXZpZCIsCgkJCSJEb24ndCBjYXJlLCBkaWRuJ3QgYXNrLCBjcnkgYWJvdXQgaXQsIHN0YXkgbWFkLCBnZXQgcmVhbCwgTCwgbWFsZCwgc2VldGhlLCBjb3BlIiwKCQkJIlRoaXMgaXMgRG91Z0RvdWcsIHdoZXJlIHdlIHNvbHZlIHByb2JsZW1zIHRoYXQgbm9ib2R5IGhhcy4iLAoJCQkiUGFpZCBmb3IgdGhyb3VnaCB0aGUgZW1iZXp6bGVtZW50IG9mIGxlbW9ucy4iLAoJCQkiSSdtIHdhbnRlZCBpbiBudW1lcm91cyBjb3VudHJpZXMgZm9yIHdhciBjcmltZXMhIiwKCQkJIkkgZ290IGEgcm9jay4iLAoJCQkiSGVsbG8sIE14LiAiIC4uIHBsYXllci5OYW1lIC4uICIsIGFuZCB3ZWxjb21lIHRvIEtvbnBla2kgUGxhemEuIiwJCQoJCX0KCgkJbG9jYWwgZnJpZW5kbHlEYXRlID0gb3MuZGF0ZSgiJWIgJWQiKQoJCWlmIGZyaWVuZGx5RGF0ZSA9PSAiRGVjIDI1IiB0aGVuCgkJCXByaW50KCJNRVJSWSBDSFJJU1RNQVMhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJBdWcgMjEiIHRoZW4KCQkJcHJpbnQoIkhBUFBZIEJJUlRIREFZISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiT2N0IDAzIiB0aGVuCgkJCXByaW50KCJUZWxsIEVhcnRoIHlvdSBzYWlkIGhhcHB5IGJpcnRoZGF5ISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiT2N0IDMxIiB0aGVuCgkJCXByaW50KCJJUyBTUE9PS1kgTU9OVEghIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJKYW4gMDEiIHRoZW4KCQkJcHJpbnQoIkhBUFBZIE5FVyBZRUFSISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiRmViIDE0IiB0aGVuCgkJCXByaW50KCJHaXZlIHlvdXIgbG92ZSB0aGUgZ2lmdCBvZiBHb2xkLiIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiQXByIDAxIiB0aGVuCgkJCXByaW50KCJZb3UgZmVlbCBhIGNoaWxsIGdvIGRvd24geW91ciBzcGluZS4iKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkp1bCAwNCIgdGhlbgoJCQlwcmludCgiJ01VUklDQSEhISEhISEhISEiKQoJCWVuZAoKCQl3YXJuKFtbLS0tLS0tLS0tLS0tLS0tLQoJCQkJX19fX19fIF9fX19fIF9fX19fICAgICAgIF8gCgkJCQl8ICBfX198IF9fXyBcICBfXyBcICAgICAoXykKCQkJCXwgfF9fIHwgfF8vIC8gfCAgXC9fICAgXyBfIAoJCQkJfCAgX198fCBfX18gXCB8IF9ffCB8IHwgfCB8CgkJCQl8IHxfX198IHxfLyAvIHxfXCBcIHxffCB8IHwKCQkJCVxfX19fL1xfX19fLyBcX19fXy9cX18sX3xffCAgXV0uLnZlck51bSkKCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludChkdW1iUXVvdGVzW21hdGgucmFuZG9tKDEsI2R1bWJRdW90ZXMpXSkKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQl3YXJuKCJXZWxjb21lIHRvIEVCR3VpLCAiIC4uIHBsYXllci5OYW1lIC4uICIhIikKCQl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQoJCXdhcm4oIlF1ZXN0aW9ucyBvciBjb25jZXJucz8gTGV0IHVzIGtub3cgaW4gdGhlIERpc2NvcmQsIikKCQl3YXJuKCJvciBlbWFpbCBFYXJ0aCBoaW1zZWxmIGF0IGVhcnRodG9hY2Nlc3NAZ21haWwuY29tISIpCgkJd2FpdCgwLjUpCgkJCgkJaWYgaXNNYXN0ZXIgdGhlbgoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKSAgIAoJCQl3YXJuKCJMb2FkZWQgaW4gdXNpbmcgdGhlIE1hc3RlciBMaXN0ISBPdmVycmlkaW5nIGFjY2VzcyBnaXZlbi4iKQoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCWVuZAoKCQlpZiBpc0dvbGQgdGhlbgoJCQlwcmludChbWwkJCQlfX19fICAgICAgICAgICAgIF9fXyAgICAgIF9fXyAKCQkJNk1NTU1iLyAgICAgICAgICAgYE1NICAgICAgYE1NIAoJCQk4UCAgICBZTSAgICAgICAgICAgIE1NICAgICAgIE1NIAoJCQk2TSAgICAgIFkgICBfX19fXyAgICBNTSAgIF9fX19NTSAKCQkJTU0gICAgICAgICA2TU1NTU1iICAgTU0gIDZNTU1NTU0gCgkJCU1NICAgICAgICA2TScgICBgTWIgIE1NIDZNJyAgYE1NIAoJCQlNTSAgICAgX19fTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJTU0gICAgIGBNJ01NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCVlNICAgICAgTSBNTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQk4YiAgICBkOSBZTS4gICAsTTkgIE1NIFlNLiAgLE1NIAoJCQlZTU1NTTkgICBZTU1NTU05ICBfTU1fIFlNTU1NTU1fXV0pCgkJCXdhcm4oIlRoYW5rIHlvdSBmb3IgYmVpbmcgYSBHT0xERU4gbWVtYmVyISIpCgkJCXdhcm4oJ0Vuam95IHRoZSB2YXJpb3VzICJvdmVycG93ZXJlZCIgc2NyaXB0cyB3ZSBoYXZlIGluIHN0b3JlIScpCgkJZW5kCgoJCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zCgoJCWxvY2FsIGViZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQoJCWViZ3VpLk5hbWUgPSAiZWJndWkiCgkJZWJndWkuUGFyZW50ID0gZ2FtZTpXYWl0Rm9yQ2hpbGQoIkNvcmVHdWkiKQoKCgkJbG9jYWwgRVNQSW5mbyA9IHsKCQkJWyJTdGFuZGFyZCJdID0gewoJCQkJWyJOYW1lVGFnIl0gPSBuaWwKCQkJfSwKCQkJWyJHb2xkIl0gPSB7CgkJCQlbIk5hbWVUYWciXSA9IG5pbAoJCQl9LAoJCQlbIk1heERpc3QiXSA9IDc1MCwKCQkJWyJPZmZWYWx1ZSJdID0gMCwKCQkJWyJFbmFibGVkIl0gPSB0cnVlCgkJfQoKCQlsb2NhbCBtdnRnID0gewoJCQlbIkFvRXMiXSA9IHsKCQkJCVsiRmlyZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlN0b3JtIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgTGlnaHRuaW5nIERpc3BlcnNpb24gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCQkJCgkJCQlbIk5hdHVyZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgVmluZSBUcmFwIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlBsYXNtYSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiR3Jhdml0eSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiTGlnaHQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRGFya25lc3MiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiTmlnaHRtYXJlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPZmYpIFtBSU1FRF0iLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBaW1lZCBJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRpbWUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkNoYW9zIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU3BhY2UtVGltZSBSdXB0dXJlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiSWxsdXNpb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRHJhZ29uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU2xpbWUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJDcmVhdGlvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIkJ1bGxldHMiXSA9IHsKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJCYXJyYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJCYXJyYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNwaXJpdCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJMaWdodCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkxpZ2h0IE9yYnMgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkxpZ2h0IE9yYnMgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3BhY2UiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU29sYXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJCbGFzdHMiXSA9IHsKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJFeHBsb2RlIGF0IE1vdXNlIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRXhwbG9kZSBhdCBNb3VzZSAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3BlY3RydW0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU291bmQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlNvbGFyIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiVGVsZXBvcnRzIl0gPSB7CgkJCQlbIkVhcnRoIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkV4cGxvc2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgTGVhcCBTdHVuIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlRlY2ggRGlzYyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiVWx0cyJdID0gewoJCQkJWyJMaWdodCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVm9pZCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRpbWUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJSZWFwZXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkF1cm9yYSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRXhwbG9zaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJJbGx1c2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkFjaWQiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQW5nZWwiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJUZWNobm9sb2d5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU29sYXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCX0sCgkJCVsiTWlzYyJdID0gewoJCQkJWyJTbGltZUhlYWwiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkluZXJ0aWEiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbmVydGlhIEdyYXZpdHkgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbmVydGlhIGdyYXZpdHkgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkludmlzIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkluZlNwcmludCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoKCQkJfQoJCX0KCgkJZ2FtZS5Db3JlR3VpLkNoaWxkUmVtb3ZlZDpjb25uZWN0KGZ1bmN0aW9uKGNoaWxkKQoJCQlpZiBjaGlsZC5OYW1lID09ICJlYmd1aSIgdGhlbgoJCQkJY2xvc2VkZm9yZXZlciA9IHRydWUKCQkJCWJ1dHRvbnNvcGVuZWQgPSBmYWxzZQoJCQkJY29tbWFuZHNvcGVuZWQgPSBmYWxzZQoJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQoJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQoJCQkJdGVybWluYXRldWlzID0gdHJ1ZQoJCQkJVUlTID0gbmlsCgkJCQlTbGltZUJ1ZGRpZXNFbmFibGVkID0gbmlsCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gbmlsCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gbmlsCgkJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbAoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IG5pbAoJCQkJU2V0U3BlZWQgPSBuaWwKCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gbmlsCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBuaWwKCQkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IG5pbAoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBuaWwKCQkJCUZyZWV6ZUVuYWJsZWQgPSBuaWwKCQkJCXZpZXdpbmcgPSBuaWwKCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbAoJCQkJRVNQRW5hYmxlZCA9IG5pbAoJCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbAoJCQkJQWltYm90RW5hYmxlZCA9IG5pbAoJCQkJRVNQSW5mby5NYXhEaXN0ID0gNzUwCgkJCQlFU1BJbmZvLkVuYWJsZWQgPSB0cnVlCgkJCQlBbHRGYXJtRW5hYmxlZCA9IG5pbAoJCQkJRWNob2VzQXV0byA9IG5pbAoJCQkJQW50aUFmayA9IHRydWUKCQkJZW5kCgkJZW5kKQoKCQlsb2NhbCBtb3VzZSA9IHBsYXllcjpHZXRNb3VzZSgpCgoJCWxvY2FsIGJvcmRlcnMgPSB7fQoKCQlsb2NhbCBidXR0b25zbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNtYWluLk5hbWUgPSAiYnV0dG9uc21haW4iCgkJYnV0dG9uc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCkKCQlidXR0b25zbWFpbi5TaXplID0gVURpbTIubmV3KDAuNCwgMCwgMC4yMjUsIDApCgkJdGFibGUuaW5zZXJ0KGJvcmRlcnMsIGJ1dHRvbnNtYWluKQoKCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgoJCWxvY2FsIGNvbW1hbmRzbWFpbiA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWNvbW1hbmRzbWFpbi5OYW1lID0gImNvbW1hbmRzbWFpbiIKCQljb21tYW5kc21haW4uUG9zaXRpb24gPSBVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCkKCQljb21tYW5kc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjMsIDAsIDAuMTc1LCAwKQoJCXRhYmxlLmluc2VydChib3JkZXJzLCBjb21tYW5kc21haW4pCgoJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJY29tbWFuZHNvcGVuZWQgPSB0cnVlCgoJCWNsb3NlZGZvcmV2ZXIgPSBmYWxzZQoKCQlsb2NhbCBmcmFtZXMgPSB7fQoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBidXR0b25zLgoJCWxvY2FsIGJ1dHRvbnNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWJ1dHRvbnNmcmFtZS5OYW1lID0gImJ1dHRvbnNmcmFtZSIKCQlidXR0b25zZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM2LCAwLCA2NCkKCQlidXR0b25zZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlidXR0b25zZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWJ1dHRvbnNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWJ1dHRvbnNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQlidXR0b25zZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuODUsIDApCgkJdGFibGUuaW5zZXJ0KGZyYW1lcywgYnV0dG9uc2ZyYW1lKQoJCWJ1dHRvbnNmcmFtZS5QYXJlbnQgPSBidXR0b25zbWFpbgoKCQktLSBGcmFtZSBmb3IgYXJvdW5kIHRoZSBjb21tYW5kIGJveC4KCQlsb2NhbCBjb21tYW5kc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpCgkJY29tbWFuZHNmcmFtZS5OYW1lID0gImNvbW1hbmRzZnJhbWUiCgkJY29tbWFuZHNmcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRzZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDM2LCAwLCA2NCkKCQljb21tYW5kc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZHNmcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZHNmcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQljb21tYW5kc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJCXRhYmxlLmluc2VydChmcmFtZXMsIGNvbW1hbmRzZnJhbWUpCgkJY29tbWFuZHNmcmFtZS5QYXJlbnQgPSBjb21tYW5kc21haW4KCgkJLS0gQ29tbWFuZCBCb3guIFRoaXMgaXMgd2hlcmUgdXNlcnMgdHlwZSBpbiBjb21tYW5kcyBhbmQgdGFyZ2V0cy4KCQlsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikKCQljb21tYW5kQm94Lk5hbWUgPSAiY29tbWFuZEJveCIKCQljb21tYW5kQm94LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkKCQljb21tYW5kQm94LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkKCQljb21tYW5kQm94LlNpemUgPSBVRGltMi5uZXcoMC44NSwgMCwgMC4yMCwgMCkKCQljb21tYW5kQm94LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCWNvbW1hbmRCb3guVGV4dCA9ICIiCgkJY29tbWFuZEJveC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQljb21tYW5kQm94LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3guVGV4dFdyYXBwZWQgPSB0cnVlCgkJY29tbWFuZEJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKCQljb21tYW5kQm94LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJbG9jYWwgbGFiZWxzID0ge30KCgkJLS0gVGhlIG91dHB1dCBmb3IgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIGNvbW1hbmRCb3hPdXRwdXQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJY29tbWFuZEJveE91dHB1dC5OYW1lID0gImNvbW1hbmRCb3hPdXRwdXQiCgkJY29tbWFuZEJveE91dHB1dC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQljb21tYW5kQm94T3V0cHV0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJTaXplUGl4ZWwgPSAwCgkJY29tbWFuZEJveE91dHB1dC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNiwgMCkKCQljb21tYW5kQm94T3V0cHV0LlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjIsIDApCgkJY29tbWFuZEJveE91dHB1dC5Gb250ID0gRW51bS5Gb250LkNvZGUKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJY29tbWFuZEJveE91dHB1dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQljb21tYW5kQm94T3V0cHV0LlRleHRTY2FsZWQgPSB0cnVlCgkJY29tbWFuZEJveE91dHB1dC5UZXh0U2l6ZSA9IDE0LjAwMAoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgY29tbWFuZEJveE91dHB1dCkKCQljb21tYW5kQm94T3V0cHV0LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIGluZm9ybWF0aW9uIGFib3ZlIHRoZSBNYWluIE1lbnUsIGUuZy4gdXNlcidzIG5hbWUsIGNoYW5uZWwKCQlsb2NhbCBEZXRhaWxzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMuTmFtZSA9ICJEZXRhaWxzIgoJCURldGFpbHMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlscy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlscy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjAxNSwgLTYpCgkJRGV0YWlscy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlscy5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlpZiBub3QgaXNHb2xkIHRoZW4KCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIHwgU3RhYmxlIgoJCWVsc2UKCQkJRGV0YWlscy5UZXh0ID0gcGxheWVyLk5hbWUgLi4gIiB8IEVCR3VpIEdvbGQgfCBTdGFibGUiCgkJZW5kCgkJRGV0YWlscy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlscy5aSW5kZXggPSA1CgkJRGV0YWlscy5UZXh0U2l6ZSA9IDEyLjAwMAoJCURldGFpbHMuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlscykKCQlEZXRhaWxzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgQ29tbWFuZCBCb3guCgkJbG9jYWwgRGV0YWlsczIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczIuTmFtZSA9ICJEZXRhaWxzMiIKCQlEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCURldGFpbHMyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHMyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjksIC0xMCkKCQlEZXRhaWxzMi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIDApCgkJRGV0YWlsczIuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczIuVGV4dCA9ICJQcmVzcyBdIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiIKCQlEZXRhaWxzMi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzMi5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMyLlRleHRTaXplID0gMTQuMDAwCgkJRGV0YWlsczIuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczIpCgkJRGV0YWlsczIuUGFyZW50ID0gY29tbWFuZHNmcmFtZQoKCQktLSAiQ2xvc2UgdGhpcyBHVUkiIGZvciB0aGUgTWFpbiBNZW51LgoJCWxvY2FsIERldGFpbHMzID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMzLk5hbWUgPSAiRGV0YWlsczMiCgkJRGV0YWlsczMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJRGV0YWlsczMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlsczMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlEZXRhaWxzMy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjg3NSwgMCkKCQlEZXRhaWxzMy5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTUsIC0xMCkKCQlEZXRhaWxzMy5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIgoJCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczMuVGV4dFNpemUgPSAxMi4wMDAKCQlEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUKCQl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykKCQlEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gU2NyaXB0IHRlcm1pbmF0aW9uIGluc3RydWN0aW9ucy4KCQlsb2NhbCBEZXRhaWxzNCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzNC5OYW1lID0gIkRldGFpbHM0IgoJCURldGFpbHM0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHM0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHM0LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczQuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMS4xLCAwKQoJCURldGFpbHM0LlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNzUsIDApCgkJRGV0YWlsczQuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczQuVGV4dCA9ICJIb2xkIHRoZSBMZWZ0IGFuZCBSaWdodCBhcnJvdyBrZXlzLCB0aGVuIHByZXNzIGFueSBrZXkgdG8gcXVpdCBFQkd1aS4iCgkJRGV0YWlsczQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczQuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzNC5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHM0LlRleHRXcmFwcGVkID0gdHJ1ZQoJCURldGFpbHM0LlBhcmVudCA9IGJ1dHRvbnNmcmFtZQoKCQktLSBUaGUgdmVyc2lvbiBudW1iZXIgYWJvdmUgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIFZlcnNpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJVmVyc2lvbi5OYW1lID0gIlZlcnNpb24iCgkJVmVyc2lvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlWZXJzaW9uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCVZlcnNpb24uQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQlWZXJzaW9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDUsIDApCgkJVmVyc2lvbi5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMSwgMCkKCQlWZXJzaW9uLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCVZlcnNpb24uVGV4dCA9ICJWZXJzaW9uICIgLi4gdmVyTnVtCgkJVmVyc2lvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlWZXJzaW9uLlRleHRTY2FsZWQgPSB0cnVlCgkJVmVyc2lvbi5UZXh0U2l6ZSA9IDE0LjAwMAoJCVZlcnNpb24uVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgVmVyc2lvbikKCQlWZXJzaW9uLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gVGhlIHNjcm9sbGluZyBhcmVhIGZvciB0aGUgTWFpbiBNZW51LgoJCWxvY2FsIG1haW5mcmFtZSA9IEluc3RhbmNlLm5ldygiU2Nyb2xsaW5nRnJhbWUiKQoJCW1haW5mcmFtZS5OYW1lID0gIm1haW5mcmFtZSIKCQltYWluZnJhbWUuQWN0aXZlID0gdHJ1ZQoJCW1haW5mcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjQsIDYsIDMxKQoJCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyCgkJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQoJCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApCgkJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYKCQltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgkJLS0gR3JpZCBsYXlvdXQgZm9yIHRoZSBidXR0b25zLgoJCWxvY2FsIFVJR3JpZExheW91dCA9IEluc3RhbmNlLm5ldygiVUlHcmlkTGF5b3V0IikKCQlVSUdyaWRMYXlvdXQuRmlsbERpcmVjdGlvbiA9IEVudW0uRmlsbERpcmVjdGlvbi5Ib3Jpem9udGFsCgkJVUlHcmlkTGF5b3V0Lkhvcml6b250YWxBbGlnbm1lbnQgPSBFbnVtLkhvcml6b250YWxBbGlnbm1lbnQuQ2VudGVyCgkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIDcpCgkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIDMwKQoJCVVJR3JpZExheW91dC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcgoJCVVJR3JpZExheW91dC5QYXJlbnQgPSBtYWluZnJhbWUKCgoJCS0tIFBsYXllciBhbmNob3IgZnVuY3Rpb24KCQlsb2NhbCBmdW5jdGlvbiBhbmNob3IoYm9vbCkKCQkJd2FpdCguNzUpCgkJCWlmIGJvb2wgPT0gZmFsc2UgdGhlbgoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSBhbmQgdi5BbmNob3JlZCB0aGVuCgkJCQkJCXYuQW5jaG9yZWQgPSBmYWxzZQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2VpZiBib29sID09IHRydWUgdGhlbgoJCQkJZm9yIGksdiBpbiBwbGF5ZXIuQ2hhcmFjdGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCQlpZiB2OklzQSgiQmFzZVBhcnQiKSBhbmQgbm90IHYuQW5jaG9yZWQgdGhlbgoJCQkJCQl2LkFuY2hvcmVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgdGhlbgoJCQkJCQlwcmludCh2LkFuY2hvcmVkKQoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBjb3B5KHRibCkKCQkJcmV0dXJuIHVucGFjayh0YmwpCgkJZW5kCgoJCWxvY2FsIGJ1dHRvbnMgPSB7fQoKCQktLS0tLS0gQnV0dG9ucyBmb3IgaGFja3MuCgoJCWZ1bmN0aW9uIGNoZWNrTW92ZXMoZWwpCgkJCWxvY2FsIGV0CgkJCWxvY2FsIGNoID0gZmFsc2UKCQkJaWYgZWwgPT0gMSB0aGVuCgkJCQlldCA9ICJBb0VzIgoJCQllbHNlaWYgZWwgPT0gMiB0aGVuCgkJCQlldCA9ICJCdWxsZXRzIgoJCQllbHNlaWYgZWwgPT0gMyB0aGVuCgkJCQlldCA9ICJCbGFzdHMiCgkJCWVsc2VpZiBlbCA9PSA0IHRoZW4KCQkJCWV0ID0gIlRlbGVwb3J0cyIKCQkJZWxzZWlmIGVsID09IDUgdGhlbgoJCQkJZXQgPSAiVWx0cyIKCQkJZWxzZSAKCQkJCXdhcm4oIkVsZW1lbnQgdHlwZSBub3QgYXBwbGljYWJsZSEgR290ICIuLnRvc3RyaW5nKGUpLi4iLCBleHBlY3RlZCBudW1iZXIgMSB0aHJvdWdoIDUiKQoJCQkJZXQgPSBuaWwKCQkJZW5kCgkJCQoJCQlpZiBldCB+PSBuaWwgdGhlbgoJCQkJZm9yIGksdiBpbiBwYWlycyhtdnRnW2V0XSkgZG8KCQkJCQlpZiB2LlZhbHVlIHRoZW4KCQkJCQkJY2ggPSB0cnVlCgkJCQkJCXYuVmFsdWUgPSBmYWxzZQoJCQkJCQlwcmludCgiRGlzYWJsZWQgIiAuLiBpIC4uICIgIiAuLiBzdHJpbmcuc3ViKGV0LDEsLTIpKQoJCQkJCQltdnRnW2V0XVtpXS5CdXR0b24uVGV4dCA9IG12dGdbZXRdW2ldLkluaXRUZXh0CgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJZXJyb3IoImVsZW1lbnQgdHlwZSBvdXQgb2YgcmFuZ2UiKQoJCQllbmQKCQkJcmV0dXJuIGNoCgkJZW5kCgoJCS0tLS0gQW9FcwoJCS0tIEluc3RhbnQgQmxhemUgQ29sdW1uCgoJCWxvY2FsIEJsYXplQ29sdW1uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCbGF6ZUNvbHVtbi5OYW1lID0gIkJsYXplQ29sdW1uIgoJCUJsYXplQ29sdW1uLlRleHQgPSBtdnRnLkFvRXMuRmlyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJsYXplQ29sdW1uKQoJCW12dGcuQW9Fcy5GaXJlLkJ1dHRvbiA9IEJsYXplQ29sdW1uCgoJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gZmFsc2UKCgkJQmxhemVDb2x1bW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuRmlyZS5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5GaXJlLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiCgkJCWVuZAoJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gbXZ0Zy5Bb0VzLkZpcmUuVGV4dAoJCWVuZCkKCgkJLS0gQW1wbGlmaWVkIEdlbmVzaXMgUmF5CgoJCWxvY2FsIEdlbmVzaXNSYXkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdlbmVzaXNSYXkuTmFtZSA9ICJHZW5lc2lzUmF5IgoJCUdlbmVzaXNSYXkuVGV4dCA9IG12dGcuQW9Fcy5UaW1lLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR2VuZXNpc1JheSkKCQltdnRnLkFvRXMuVGltZS5CdXR0b24gPSBHZW5lc2lzUmF5CgoJCW12dGcuQW9Fcy5UaW1lLlZhbHVlID0gZmFsc2UKCQlsb2NhbCBHUkNoYXJnZSA9IDEKCgkJR2VuZXNpc1JheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuVGltZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuVGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5UaW1lLlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5UaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5UaW1lLlRleHQgPSAiQW1wbGlmaWVkIEdlbmVzaXMgUmF5IChPZmYpIgoJCQllbmQKCQkJR2VuZXNpc1JheS5UZXh0ID0gbXZ0Zy5Bb0VzLlRpbWUuVGV4dAoJCWVuZCkKCgkJLS0gQ3JlYXRpb24gSG9sZCBIYWNrCgoJCWxvY2FsIENoYWluSG9sZCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlDaGFpbkhvbGQuQnV0dG9uLk5hbWUgPSAiQ2hhaW5Ib2xkIgoJCUNoYWluSG9sZC5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENoYWluSG9sZCkKCQltdnRnLkFvRXMuQ3JlYXRpb24uQnV0dG9uID0gQ2hhaW5Ib2xkLkJ1dHRvbgoKCQltdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgPSBmYWxzZQoKCQlDaGFpbkhvbGQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDEpCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlRleHQgPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMSkKCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUNoYWluSG9sZC5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0CgkJZW5kKQoKCQktLSBTcGFjZS1UaW1lIFJ1cHR1cmUKCgkJbG9jYWwgU1RSSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU1RSSGFjay5OYW1lID0gIlNUUkhhY2siCgkJU1RSSGFjay5UZXh0ID0gbXZ0Zy5Bb0VzLkNoYW9zLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxTVFJIYWNrKQoJCW12dGcuQW9Fcy5DaGFvcy5CdXR0b24gPSBTVFJIYWNrCgoJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IGZhbHNlCgoJCVNUUkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkNoYW9zLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5DaGFvcy5UZXh0ID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuQ2hhb3MuVGV4dCA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVNUUkhhY2suVGV4dCA9IG12dGcuQW9Fcy5DaGFvcy5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFZpbmUgVHJhcAoKCQlsb2NhbCBWaW5lVHJhcCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmluZVRyYXAuTmFtZSA9ICJWaW5lVHJhcCIKCQlWaW5lVHJhcC5UZXh0ID0gbXZ0Zy5Bb0VzLk5hdHVyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpbmVUcmFwKQoJCW12dGcuQW9Fcy5OYXR1cmUuQnV0dG9uID0gVmluZVRyYXAKCgkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IGZhbHNlCgoJCVZpbmVUcmFwLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTmF0dXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIKCQkJZW5kCgkJCVZpbmVUcmFwLlRleHQgPSBtdnRnLkFvRXMuTmF0dXJlLlRleHQKCQllbmQpCgoJCS0tIElsbHVzaXZlIEF0YWtlIEhhY2sKCgkJbG9jYWwgSWxsdXNpdmVBdGFrZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSWxsdXNpdmVBdGFrZS5OYW1lID0gIklsbHVzaXZlQXRha2UiCgkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWxsdXNpdmVBdGFrZSkKCQltdnRnLkFvRXMuSWxsdXNpb24uQnV0dG9uID0gSWxsdXNpdmVBdGFrZQoKCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoKCQlJbGx1c2l2ZUF0YWtlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5JbGx1c2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVGV4dCA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQKCQllbmQpCgoJCS0tIEluc3RhbnQgTXVya3kgTWlzc2lsZXMKCgkJbG9jYWwgRGFya0FvZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRGFya0FvZS5OYW1lID0gIkRhcmtBb2UiCgkJRGFya0FvZS5UZXh0ID0gbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRGFya0FvZSkKCQltdnRnLkFvRXMuRGFya25lc3MuQnV0dG9uID0gRGFya0FvZQoKCQltdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgPSBmYWxzZQoKCQlEYXJrQW9lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlRleHQgPSAiSW5zdGFudCBNdXJreSBNaXNzaWxlcyAoT2ZmKSIKCQkJZW5kCgkJCURhcmtBb2UuVGV4dCA9IG12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0CgkJZW5kKQoJCQoJCS0tIEluc3RhbnQgQWlyIERpc3BlcnNpb24KCgkJbG9jYWwgU3Rvcm1Bb2UgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJU3Rvcm1Bb2UuQnV0dG9uLk5hbWUgPSAiU3Rvcm1Bb2UiCgkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTdG9ybUFvZSkKCQltdnRnLkFvRXMuU3Rvcm0uQnV0dG9uID0gU3Rvcm1Bb2UuQnV0dG9uCgoJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCVN0b3JtQW9lLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQW9Fcy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygxKQoJCQkJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPZmYpIgoJCQkJZW5kCgkJCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQW9Fcy5TdG9ybS5UZXh0ID0gIkluc3RhbnQgU3Rvcm0gQW9FIChPZmYpIgoJCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCQllbmQKCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gU3BsaXR0aW5nIFNsaW1lIEhhY2sKCgkJbG9jYWwgU3BsaXR0aW5nU2xpbWUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwbGl0dGluZ1NsaW1lLk5hbWUgPSAiU3BsaXR0aW5nU2xpbWUiCgkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9IG12dGcuQW9Fcy5TbGltZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwbGl0dGluZ1NsaW1lKQoJCW12dGcuQW9Fcy5TbGltZS5CdXR0b24gPSBTcGxpdHRpbmdTbGltZQoKCQltdnRnLkFvRXMuU2xpbWUuVmFsdWUgPSBmYWxzZQoKCQlTcGxpdHRpbmdTbGltZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuU2xpbWUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5TbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJU3BsaXR0aW5nU2xpbWUuVGV4dCA9IG12dGcuQW9Fcy5TbGltZS5UZXh0CgkJZW5kKQoKCQktLSBBbWF1cm90aWMgTGFtYmVudCBIYWNrCgoJCWxvY2FsIEFtYXVyb3RpY0xhbWJlbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFtYXVyb3RpY0xhbWJlbnQuTmFtZSA9ICJBbWF1cm90aWNMYW1iZW50IgoJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9IG12dGcuQW9Fcy5MaWdodC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFtYXVyb3RpY0xhbWJlbnQpCgkJbXZ0Zy5Bb0VzLkxpZ2h0LkJ1dHRvbiA9IEFtYXVyb3RpY0xhbWJlbnQKCgkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJQW1hdXJvdGljTGFtYmVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuTGlnaHQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTGlnaHQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlRleHQgPSAiQW1hdXJvdGljIExhbWJlbnQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9IG12dGcuQW9Fcy5MaWdodC5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24KCgkJbG9jYWwgUGxhc21hSW1wbG9zaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlQbGFzbWFJbXBsb3Npb24uTmFtZSA9ICJQbGFzbWFJbXBsb3Npb24iCgkJUGxhc21hSW1wbG9zaW9uLlRleHQgPSBtdnRnLkFvRXMuUGxhc21hLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUGxhc21hSW1wbG9zaW9uKQoJCW12dGcuQW9Fcy5QbGFzbWEuQnV0dG9uID0gUGxhc21hSW1wbG9zaW9uCgoJCW12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgPSBmYWxzZQoKCQlQbGFzbWFJbXBsb3Npb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5QbGFzbWEuVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9mZikiCgkJCWVuZAoJCQlQbGFzbWFJbXBsb3Npb24uVGV4dCA9IG12dGcuQW9Fcy5QbGFzbWEuVGV4dAoJCWVuZCkKCgkJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sKCgkJbG9jYWwgRm9ybWlkYWJsZVJvYXIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZvcm1pZGFibGVSb2FyLk5hbWUgPSAiRm9ybWlkYWJsZVJvYXIiCgkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9IG12dGcuQW9Fcy5EcmFnb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBGb3JtaWRhYmxlUm9hcikKCQltdnRnLkFvRXMuRHJhZ29uLkJ1dHRvbiA9IEZvcm1pZGFibGVSb2FyCgoJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSBmYWxzZQoKCQlGb3JtaWRhYmxlUm9hci5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuRHJhZ29uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuRHJhZ29uLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuRHJhZ29uLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFNrZWxldG9uIEdyYWIKCgkJbG9jYWwgU2tlbGV0b25HcmFiID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTa2VsZXRvbkdyYWIuTmFtZSA9ICJTa2VsZXRvbkdyYWIiCgkJU2tlbGV0b25HcmFiLlRleHQgPSBtdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2tlbGV0b25HcmFiKQoJCW12dGcuQW9Fcy5OaWdodG1hcmUuQnV0dG9uID0gU2tlbGV0b25HcmFiCgoJCW12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPSBmYWxzZQoKCQlTa2VsZXRvbkdyYWIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT24pIFtBSU1FRF0iCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0ID0gIkluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSBbQUlNRURdIgoJCQllbmQKCQkJU2tlbGV0b25HcmFiLlRleHQgPSBtdnRnLkFvRXMuTmlnaHRtYXJlLlRleHQKCQllbmQpCgoJCS0tIEdyYXZpdGF0aW9uYWwgRmllbGQgSGFjawoKCQlsb2NhbCBHcmF2aXRhdGlvbmFsRmllbGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdyYXZpdGF0aW9uYWxGaWVsZC5OYW1lID0gIkdyYXZpdGF0aW9uYWxGaWVsZCIKCQlHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9IG12dGcuQW9Fcy5HcmF2aXR5LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YXRpb25hbEZpZWxkKQoJCW12dGcuQW9Fcy5HcmF2aXR5LkJ1dHRvbiA9IEdyYXZpdGF0aW9uYWxGaWVsZAoKCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IGZhbHNlCgoJCUdyYXZpdGF0aW9uYWxGaWVsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5HcmF2aXR5LlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIgoJCQllbmQKCQkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSBtdnRnLkFvRXMuR3Jhdml0eS5UZXh0CgkJZW5kKQoKCQktLS0tIFBsYXllciBtb2RpZmljYXRpb25zCgkJLS0gSW5zdGFudCBSb2NrIEFybW9yCgoJCWxvY2FsIFJvY2tBcm1vciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIgoJCVJvY2tBcm1vci5UZXh0ID0gIkluc3RhbnQgUm9jayBBcm1vciIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0FybW9yKQoKCQlSb2NrQXJtb3IuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgcGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiQm9keSBDb2xvcnMiKSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyWyJCb2R5IENvbG9ycyJdOkRlc3Ryb3koKQoJCQllbmQKCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRWFydGgiLCAiUm9jayBBcm1vciIpCgkJZW5kKQoKCQktLSBTbGltZSBCdWRkaWVzIEhhY2sKCgkJbG9jYWwgU2xpbWVCdWRkaWVzID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVNsaW1lQnVkZGllcy5CdXR0b24uTmFtZSA9ICJTbGltZUJ1ZGRpZXMiCgkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNsaW1lQnVkZGllcykKCQltdnRnLk1pc2MuU2xpbWVIZWFsLkJ1dHRvbiA9IFNsaW1lQnVkZGllcy5CdXR0b24KCgkJbXZ0Zy5NaXNjLlNsaW1lSGVhbC5WYWx1ZSA9IGZhbHNlCgoJCVNsaW1lQnVkZGllcy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG12dGcuTWlzYy5TbGltZUhlYWwuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCW12dGcuTWlzYy5TbGltZUhlYWwuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuTWlzYy5TbGltZUhlYWwuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuTWlzYy5TbGltZUhlYWwuVGV4dCA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5TbGltZUhlYWwuVGV4dAoJCQllbHNlCgkJCQltdnRnLk1pc2MuU2xpbWVIZWFsLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLk1pc2MuU2xpbWVIZWFsLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCQkJU2xpbWVCdWRkaWVzLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5lcnRpYSBHcmF2aXR5CgoJCWxvY2FsIEluZXJ0aWFHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJbmVydGlhR3Jhdml0eS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5IgoJCUluZXJ0aWFHcmF2aXR5LlRleHQgPSBtdnRnLk1pc2MuSW5lcnRpYS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQoJCW12dGcuTWlzYy5JbmVydGlhLkJ1dHRvbiA9IEluZXJ0aWFHcmF2aXR5CgoJCW12dGcuTWlzYy5JbmVydGlhLlZhbHVlID0gZmFsc2UKCgkJSW5lcnRpYUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5NaXNjLkluZXJ0aWEuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJbXZ0Zy5NaXNjLkluZXJ0aWEuVmFsdWUgPSB0cnVlCgkJCQltdnRnLk1pc2MuSW5lcnRpYS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT24pIgoJCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQoJCQkJQm9keUZvcmNlLlBhcmVudCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJQm9keUZvcmNlLk5hbWUgPSAiSW5lcnRpYUdyYXZpdHlGb3JjZSIKCQkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApCgkJCWVsc2UKCQkJCW12dGcuTWlzYy5JbmVydGlhLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuTWlzYy5JbmVydGlhLlRleHQgPSAiSW5lcnRpYSBHcmF2aXR5IChPZmYpIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJJbmVydGlhR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5JbmVydGlhR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gbXZ0Zy5NaXNjLkluZXJ0aWEuVGV4dAoJCWVuZCkKCgkJLS0gU3BlY3RyYWwgRW1ib2RpbWVudAoKCQlsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNwZWN0cmFsRW1ib2RpbWVudC5OYW1lID0gIlNwZWN0cmFsRW1ib2RpbWVudCIKCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9IG12dGcuTWlzYy5JbnZpcy5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWN0cmFsRW1ib2RpbWVudCkKCQltdnRnLk1pc2MuSW52aXMuQnV0dG9uID0gU3BlY3RyYWxFbWJvZGltZW50CgoJCW12dGcuTWlzYy5JbnZpcy5WYWx1ZSA9IGZhbHNlCgoJCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLk1pc2MuSW52aXMuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJbXZ0Zy5NaXNjLkludmlzLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5NaXNjLkludmlzLlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPbikgW1hdIgoJCQllbHNlCgkJCQltdnRnLk1pc2MuSW52aXMuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5NaXNjLkludmlzLlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIKCQkJZW5kCgkJCVNwZWN0cmFsRW1ib2RpbWVudC5UZXh0ID0gbXZ0Zy5NaXNjLkludmlzLlRleHQKCQllbmQpCgoJCS0tIEFudGktQmxpbmQKCgkJbG9jYWwgQW50aUJsaW5kID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpQmxpbmQuTmFtZSA9ICJBbnRpQmxpbmQiCgkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlCbGluZCkKCgkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIG5vcm1hbEZvZ0NvbG9yID0gZ2FtZS5MaWdodGluZy5Gb2dDb2xvcgoJCWxvY2FsIG5vcm1hbEZvZ0VuZCA9IGdhbWUuTGlnaHRpbmcuRm9nRW5kCgkJbG9jYWwgbm9ybWFsQnJpZ2h0bmVzcyA9IGdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcwoJCWxvY2FsIG5vcm1hbENsb2NrVGltZSA9IGdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lCgoJCWxvY2FsIGZ1bmN0aW9uIEFudGlCbGluZEZ1bmMoKQoJCQlpZiBBbnRpQmxpbmRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlCbGluZEVuYWJsZWQgPSB0cnVlCgkJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPbikgW0tdIgoJCQkJd2hpbGUgQW50aUJsaW5kRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWdhbWUuTGlnaHRpbmcuRm9nQ29sb3IgPSBub3JtYWxGb2dDb2xvcgoJCQkJCWdhbWUuTGlnaHRpbmcuRm9nRW5kID0gbm9ybWFsRm9nRW5kCgkJCQkJZ2FtZS5MaWdodGluZy5CcmlnaHRuZXNzID0gbm9ybWFsQnJpZ2h0bmVzcwoJCQkJCWdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lID0gbm9ybWFsQ2xvY2tUaW1lCgkJCQllbmQKCQkJZWxzZQoJCQkJQW50aUJsaW5kRW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpQmxpbmQuVGV4dCA9ICJBbnRpLUJsaW5kIChPZmYpIFtLXSIKCQkJZW5kCgkJZW5kCgoJCUFudGlCbGluZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoQW50aUJsaW5kRnVuYykKCgkJcGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkKCQkJaWYgQW50aUJsaW5kRW5hYmxlZCB0aGVuCgkJCQlpZiBkLk5hbWUgPT0gIlNjcmVlbkd1aSIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuU2NyZWVuR3VpOkRlc3Ryb3koKQoJCQkJZWxzZWlmIGQuTmFtZSA9PSAiRGlzdG9ydCIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuRGlzdG9ydDpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCS0tIFNwZWVkIGhhY2sKCgkJbG9jYWwgU3BlZWRoYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTcGVlZGhhY2suTmFtZSA9ICJTcGVlZGhhY2siCgkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT2ZmKSBbVF0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNwZWVkaGFjaykKCgkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJU2V0U3BlZWQgPSA2NAoKCQlmdW5jdGlvbiBtb2RpZnlTcGVlZCgpCgkJCXBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikuQ2hhbmdlZDpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJCWlmIFNwZWVkaGFja0VuYWJsZWQgYW5kIFNldFNwZWVkIH49IG5pbCB0aGVuCgkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZAoJCQkJZWxzZQoJCQkJCXJldHVybgoJCQkJZW5kCgkJCWVuZCkKCQllbmQKCgkJZnVuY3Rpb24gYmVnaW5TcGVlZCgpCgkJCWlmIFNwZWVkaGFja0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IHRydWUKCQkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9uKSBbVF0iCgkJCQltb2RpZnlTcGVlZCgpCgkJCQl3YWl0KCkKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCXdoaWxlIFNwZWVkaGFja0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCW1vZGlmeVNwZWVkKCkKCQkJCQkJd2FpdCgpCgkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlTcGVlZGhhY2tFbmFibGVkID0gZmFsc2UKCQkJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCQllbmQKCQllbmQKCgkJU3BlZWRoYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpblNwZWVkKQoKCQktLS0tIEJ1bGxldHMKCQktLSBIeXBlcmFuZyBIYWNrCgoJCWxvY2FsIFRlY2hSYW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUZWNoUmFuZy5OYW1lID0gIlRlY2hSYW5nIgoJCVRlY2hSYW5nLlRleHQgPSBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hSYW5nKQoJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFRlY2hSYW5nCgoJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVGVjaFJhbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dCA9ICJIeXBlcmFuZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVRlY2hSYW5nLlRleHQgPSBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0CgkJZW5kKQoKCQktLSBBc3Rlcm9pZCBCZWx0IEhhY2sKCgkJbG9jYWwgQXN0ZXJvaWRCZWx0SGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXN0ZXJvaWRCZWx0SGFjay5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siCgkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXN0ZXJvaWRCZWx0SGFjaykKCQltdnRnLkJ1bGxldHMuU3BhY2UuQnV0dG9uID0gQXN0ZXJvaWRCZWx0SGFjawoJCQoJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IGZhbHNlCgkJCgkJQXN0ZXJvaWRCZWx0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQgPSAiQXN0ZXJvaWQgQmVsdCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuU3BhY2UuVGV4dCA9ICJBdGVyb2lkcyBCZWx0IEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBc3Rlcm9pZEJlbHRIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuU3BhY2UuVGV4dAoJCWVuZCkKCgkJLS0gT3JicyBvZiBFbmxpZ2h0ZW5tZW50IEhhY2sKCgkJbG9jYWwgTGlnaHRPcmJzSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTGlnaHRPcmJzSGFjay5OYW1lID0gIkxpZ2h0T3Jic0hhY2siCgkJTGlnaHRPcmJzSGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTGlnaHRPcmJzSGFjaykKCQltdnRnLkJ1bGxldHMuTGlnaHQuQnV0dG9uID0gTGlnaHRPcmJzSGFjawoKCQltdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgPSBmYWxzZQoKCQlMaWdodE9yYnNIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQgPSAiTGlnaHQgT3JicyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuTGlnaHQuVGV4dCA9ICJMaWdodCBPcmJzIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlMaWdodE9yYnNIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuTGlnaHQuVGV4dAoJCWVuZCkKCgkJLS0gVmlnb3IgR3lyYXRpb24gSGFjawoKCQlsb2NhbCBWaWdHeXJhdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZ0d5cmF0SGFjay5OYW1lID0gIlZpZ0d5cmF0SGFjayIKCQlWaWdHeXJhdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWdHeXJhdEhhY2spCgkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5CdXR0b24gPSBWaWdHeXJhdEhhY2sKCQkKCQltdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID0gZmFsc2UKCQkKCQlWaWdHeXJhdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Bpcml0LlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVZpZ0d5cmF0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0CgkJZW5kKQoKCQktLSBMaWdodG5pbmcgQmFycmFnZSBIYWNrCgoJCWxvY2FsIEJhcnJhZ2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUJhcnJhZ2UuTmFtZSA9ICJCYXJyYWdlIgoJCUJhcnJhZ2UuVGV4dCA9IG12dGcuQnVsbGV0cy5TdG9ybS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJhcnJhZ2UpCgkJbXZ0Zy5CdWxsZXRzLlN0b3JtLkJ1dHRvbiA9IEJhcnJhZ2UKCgkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJQmFycmFnZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQgPSAiQmFycmFnZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJQmFycmFnZS5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIER5aW5nIFN0YXIgSGFjawoKCQlsb2NhbCBEeWluZ1N0YXJIYWNrID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUR5aW5nU3RhckhhY2suQnV0dG9uLk5hbWUgPSAiRHlpbmdTdGFySGFjayIKCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRHlpbmdTdGFySGFjaykKCQltdnRnLkJ1bGxldHMuU29sYXIuQnV0dG9uID0gRHlpbmdTdGFySGFjay5CdXR0b24KCgkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCgkJRHlpbmdTdGFySGFjay5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMikKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiRHlpbmcgU3RhciBIYWNrIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5UZXh0ID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIKCQkJCUR5aW5nU3RhckhhY2suQnV0dG9uLlRleHQgPSBtdnRnLkJ1bGxldHMuU29sYXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tLS0gQmxhc3RzCgoJCS0tIEV4cGxvZGUgYXQgTW91c2UgKEJvbHQgSGFjaykKCgkJbG9jYWwgRXhwbG9kZUF0TW91c2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV4cGxvZGVBdE1vdXNlLk5hbWUgPSAiRXhwbG9kZUF0TW91c2UiCgkJRXhwbG9kZUF0TW91c2UuVGV4dCA9IG12dGcuQmxhc3RzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxFeHBsb2RlQXRNb3VzZSkKCQltdnRnLkJsYXN0cy5TdG9ybS5CdXR0b24gPSBFeHBsb2RlQXRNb3VzZQoKCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCUV4cGxvZGVBdE1vdXNlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDMpCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQmxhc3RzLlN0b3JtLlRleHQgPSAiRXhwbG9kZSBhdCBNb3VzZSAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5UZXh0ID0gIkV4cGxvZGUgYXQgTW91c2UgKE9mZikiCgkJCWVuZAoJCQlFeHBsb2RlQXRNb3VzZS5UZXh0ID0gbXZ0Zy5CbGFzdHMuU3Rvcm0uVGV4dAoJCWVuZCkKCgkJLS0gT3JiaXRhbCBTdHJpa2UgSGFjawoKCQlsb2NhbCBPcmJpdGFsID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCU9yYml0YWwuQnV0dG9uLk5hbWUgPSAiT3JpYnRhbCIKCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIE9yYml0YWwpCgkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5CdXR0b24gPSBPcmJpdGFsLkJ1dHRvbgoKCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJT3JiaXRhbC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDMpCgkJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJCU9yYml0YWwuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBJbnN0YW50IERvdWJsZSBSYXkKCgkJbG9jYWwgRG91YmxlUmF5ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCURvdWJsZVJheS5CdXR0b24uTmFtZSA9ICJEb3VibGVSYXkiCgkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpCgkJbXZ0Zy5CbGFzdHMuU29sYXIuQnV0dG9uID0gRG91YmxlUmF5LkJ1dHRvbgoKCQltdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCURvdWJsZVJheS5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygzKQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIgoJCQkJZW5kCgkJCQlEb3VibGVSYXkuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5Tb2xhci5UZXh0CgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dCA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiCgkJCQlEb3VibFJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBIb2xvYmVhbSBDYW1lcmEgQXR0YWNoCgoJCWxvY2FsIEhvbG9iZWFtID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlIb2xvYmVhbS5OYW1lID0gIkhvbG9iZWFtIgoJCUhvbG9iZWFtLlRleHQgPSBtdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEhvbG9iZWFtKQoJCW12dGcuQmxhc3RzLlNwZWN0cnVtLkJ1dHRvbiA9IEhvbG9iZWFtCgoJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID0gZmFsc2UKCgkJZnVuY3Rpb24gYXR0YWNoQ2FtZXJhKHYpCgkJCWlmICh2IH49IG5pbCkgdGhlbgoJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCAodi5OYW1lID09ICJIb2xvYmVhbSIpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ11bdi5OYW1lXQoJCQkJZWxzZQoJCQkJCXY6RGVzdHJveSgpCgkJCQkJcmV0dXJuCgkJCQllbmQKCQkJCQoJCQkJdi5UcmFuc3BhcmVuY3kgPSAwCgoJCQkJd2FpdCg0KQoJCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJZW5kCgkJCQkKCQkJCXY6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoJCQoJCWdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ10uRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikKCQkJaWYgbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgdGhlbgoJCQkJaWYgKHYuTmFtZSA9PSAiUGFydCIpIGFuZCAocGxheWVyLkNoYXJhY3RlcikgdGhlbgoJCQkJCWxvY2FsIGRpc3RhbmNlID0gKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIHYuUG9zaXRpb24pLk1hZ25pdHVkZQoJCQkJCQoJCQkJCWlmICh2LlNpemUgPT0gVmVjdG9yMy5uZXcoNSwgNSwgNSkpIGFuZCAoZGlzdGFuY2UgPCAxMCkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuCgkJCQkJCgkJCQkJCXYuTmFtZSA9ICJIb2xvYmVhbSIKCQkJCQkKCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkgCgkJCQkJCQkJYXR0YWNoQ2FtZXJhKHYpIAoJCQkJCQkJZW5kKSkKCQkJCQkJZW5kKQoJCQkJCQkKCQkJCQkJbG9jYWwgZ3VpID0gcGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0JhcgoJCQkJCQkKCQkJCQkJd2FpdCgwLjUpCgkJCQkJCQoJCQkJCQl3aGlsZSB3YWl0KCkgZG8KCQkJCQkJCWlmIG5vdChndWlbJzEnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMiddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyczJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzQnXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnNSddLkNELlRleHQgPT0gIi4uLiIpIHRoZW4KCQkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQkJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCQkJCQllbmQKCQkJCQoJCQkJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCQkJCWVuZCkKCQkJCQkJCQkKCQkJCQkJCQlicmVhawoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJSG9sb2JlYW0uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygzKQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9uKSIKCQkJCQoJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5VmVsb2NpdHkiLCAxKSkgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keUd5cm8iLCAxKSkgYW5kICh2LkJvZHlWZWxvY2l0eS5QID49IDEyNTApIHRoZW4gdjpEZXN0cm95KCkgZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIgoJCQllbmQKCQkJSG9sb2JlYW0uVGV4dCA9IG12dGcuQmxhc3RzLlNwZWN0cnVtLlRleHQKCQllbmQpCgoJCS0tIENvbnRyb2xsZWQgRWNob2VzCgoJCWxvY2FsIEVjaG9lcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRWNob2VzLk5hbWUgPSAiRWNob2VzIgoJCUVjaG9lcy5UZXh0ID0gbXZ0Zy5CbGFzdHMuU291bmQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFY2hvZXMpCgkJbXZ0Zy5CbGFzdHMuU291bmQuQnV0dG9uID0gRWNob2VzCgoJCW12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID0gZmFsc2UKCQlFY2hvZXNBdXRvID0gZmFsc2UKCQlFY2hvZXNQaGFzZSA9IDEKCgkJRWNob2VzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMykKCQkJCW12dGcuQmxhc3RzLlNvdW5kLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIgoJCQllbmQKCQkJRWNob2VzLlRleHQgPSBtdnRnLkJsYXN0cy5Tb3VuZC5UZXh0CgkJZW5kKQoKCQktLS0tIFNoaWVsZHMKCQktLSBDcnlzdGFsIEFybWFtZW50IGFuZCBHcmF2aXRhbCBHbG9iZSBIYWNrcwoKCQlsb2NhbCBDcnlzdGFsQXJtYW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUNyeXN0YWxBcm1hbWVudC5OYW1lID0gIkNyeXN0YWxBcm1hbWVudCIKCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIENyeXN0YWxBcm1hbWVudCkKCgkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEdyYXZpdGFsR2xvYmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUdyYXZpdGFsR2xvYmUuTmFtZSA9ICJHcmF2aXRhbEdsb2JlIgoJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhbEdsb2JlKQoKCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgoJCUdyYXZpdGFsR2xvYmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCB0aGVuCgkJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgkJCQkJcHJpbnQoIkRpc2FibGVkIENyeXN0YWwiKQoJCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQkJCWVuZAoJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSB0cnVlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJZW5kKQkJCgoJCUNyeXN0YWxBcm1hbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIHRoZW4KCQkJCQlHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlCgkJCQkJcHJpbnQoIkRpc2FibGVkIEdyYXZpdHkiKQoJCQkJCUdyYXZpdGFsR2xvYmUuVGV4dCA9ICJHcmF2aXRhbCBHbG9iZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gdHJ1ZQoJCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPbikiCQkJCQoJCQllbHNlCgkJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gZmFsc2UKCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLS0tIFVsdHMKCQktLSBEaXNhYmxlIGNvb2xkb3ducwoJCWxvY2FsIEVuYWJsZVVsdHMgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJRW5hYmxlVWx0cy5CdXR0b24uTmFtZSA9ICJFbmFibGVVbHRzIgoJCUVuYWJsZVVsdHMuQnV0dG9uLlRleHQgPSAiUmVtb3ZlIFVsdCBDb29sZG93biIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxFbmFibGVVbHRzKQoKCQlFbmFibGVVbHRzLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiLCBDRnJhbWUubmV3KHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIikKCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIsIENGcmFtZS5uZXcocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKSkKCQkJZWxzZQoJCQkJRW5hYmxlVWx0cy5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlFbmFibGVVbHRzLkJ1dHRvbi5UZXh0ID0gIlJlbW92ZSBVbHQgQ29vbGRvd24iCgkJCWVuZAoJCWVuZCkKCgkJLS0gUmVhcGVyJ3MgUmFnZQoJCWxvY2FsIFJlYXBlclVsdCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlSZWFwZXJVbHQuQnV0dG9uLk5hbWUgPSAiUmVhcGVyVWx0IgoJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBSZWFwZXJVbHQpCgkJbXZ0Zy5VbHRzLlJlYXBlci5CdXR0b24gPSBSZWFwZXJVbHQuQnV0dG9uCgoJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSBmYWxzZQoKCQlSZWFwZXJVbHQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVGV4dCA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCQkJUmVhcGVyVWx0LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlJlYXBlci5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gQWJsYXplIEp1ZGdlbWVudCBIYWNrCgoJCWxvY2FsIEFibGF6ZUp1ZGdlbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQWJsYXplSnVkZ2VtZW50Lk5hbWUgPSAiQWJsYXplSnVkZ2VtZW50IgoJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gbXZ0Zy5VbHRzLkxpZ2h0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWJsYXplSnVkZ2VtZW50KQoJCW12dGcuVWx0cy5MaWdodC5CdXR0b24gPSBBYmxhemVKdWRnZW1lbnQKCgkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJQWJsYXplSnVkZ2VtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5MaWdodC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuTGlnaHQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuTGlnaHQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5MaWdodC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gbXZ0Zy5VbHRzLkxpZ2h0LlRleHQKCQllbmQpCgoJCS0tIFZvaWQgT3BlbmluZyBIYWNrCgoJCWxvY2FsIFZvaWRPcGVuaW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWb2lkT3BlbmluZy5OYW1lID0gIlZvaWRPcGVuaW5nIgoJCVZvaWRPcGVuaW5nLlRleHQgPSBtdnRnLlVsdHMuVm9pZC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZvaWRPcGVuaW5nKQoJCW12dGcuVWx0cy5Wb2lkLkJ1dHRvbiA9IFZvaWRPcGVuaW5nCgoJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gZmFsc2UKCgkJVm9pZE9wZW5pbmcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVm9pZC5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5Wb2lkLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWb2lkT3BlbmluZy5UZXh0ID0gbXZ0Zy5VbHRzLlZvaWQuVGV4dAoJCWVuZCkKCgkJLS0gVGhlIFdvcmxkIEhhY2sKCgkJbG9jYWwgVGhlV29ybGQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRoZVdvcmxkLk5hbWUgPSAiVGhlV29ybGQiCgkJVGhlV29ybGQuVGV4dCA9IG12dGcuVWx0cy5UaW1lLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVGhlV29ybGQpCgkJbXZ0Zy5VbHRzLlRpbWUuQnV0dG9uID0gVGhlV29ybGQKCgkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSBmYWxzZQoKCQlUaGVXb3JsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuVGltZS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuVGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5UaW1lLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVGV4dCA9ICJUaGUgV29ybGQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVRoZVdvcmxkLlRleHQgPSBtdnRnLlVsdHMuVGltZS5UZXh0CgkJZW5kKQoKCQktLSBQb2xhcmlzIEhhY2sKCgkJbG9jYWwgUG9sYXJpcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUG9sYXJpcy5OYW1lID0gIlBvbGFyaXMiCgkJUG9sYXJpcy5UZXh0ID0gbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBvbGFyaXMpCgkJbXZ0Zy5VbHRzLkF1cm9yYS5CdXR0b24gPSBQb2xhcmlzCgoJCW12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPSBmYWxzZQoKCQlQb2xhcmlzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5BdXJvcmEuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuQXVyb3JhLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPZmYpIgoJCQllbmQKCQkJUG9sYXJpcy5UZXh0ID0gbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24KCgkJbG9jYWwgU2hhdHRlcmluZ0VydXB0aW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTmFtZSA9ICJTaGF0dGVyaW5nRXJ1cHRpb24iCgkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSBtdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2hhdHRlcmluZ0VydXB0aW9uKQoJCW12dGcuVWx0cy5FeHBsb3Npb24uQnV0dG9uID0gU2hhdHRlcmluZ0VydXB0aW9uCgoJCW12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoKCQlTaGF0dGVyaW5nRXJ1cHRpb24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiCgkJCWVuZAoJCQlTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9IG12dGcuVWx0cy5FeHBsb3Npb24uVGV4dAoJCWVuZCkKCgkJLS0gRXRoZXJlYWwgQWN1bWVuIEhhY2sKCgkJbG9jYWwgRXRoZXJlYWxBY3VtZW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUV0aGVyZWFsQWN1bWVuLk5hbWUgPSAiRXRoZXJlYWxBY3VtZW4iCgkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9IG12dGcuVWx0cy5JbGx1c2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEV0aGVyZWFsQWN1bWVuKQoJCW12dGcuVWx0cy5JbGx1c2lvbi5CdXR0b24gPSBFdGhlcmVhbEFjdW1lbgoKCQltdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoKCQlFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuSWxsdXNpb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uLlRleHQgPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLklsbHVzaW9uID0gZmFsc2UKCQkJCW12dGcuVWx0cy5JbGx1c2lvbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPZmYpIgoJCQllbmQKCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9IG12dGcuVWx0cy5JbGx1c2lvbi5UZXh0CgkJZW5kKQoKCQktLSBUb3hpYyBCYXNpbGlzayBIYWNrCgoJCWxvY2FsIFRveGljQmFzaWxpc2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRveGljQmFzaWxpc2suTmFtZSA9ICJUb3hpY0Jhc2lsaXNrIgoJCVRveGljQmFzaWxpc2suVGV4dCA9IG12dGcuVWx0cy5BY2lkLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVG94aWNCYXNpbGlzaykKCQltdnRnLlVsdHMuQWNpZC5CdXR0b24gPSBUb3hpY0Jhc2lsaXNrCgoJCW12dGcuVWx0cy5BY2lkLlZhbHVlID0gZmFsc2UKCgkJVG94aWNCYXNpbGlzay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuQWNpZC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5BY2lkLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuQWNpZC5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSBtdnRnLlVsdHMuQWNpZC5UZXh0CgkJZW5kKQoKCQktLSBBcmNhbmUgR3VhcmRpYW4gSGFjawoKCQlsb2NhbCBBcmNhbmVHdWFyZGlhbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQXJjYW5lR3VhcmRpYW4uTmFtZSA9ICJBcmNhbmVHdWFyZGlhbiIKCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gbXZ0Zy5VbHRzLkFuZ2VsLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQXJjYW5lR3VhcmRpYW4pCgkJbXZ0Zy5VbHRzLkFuZ2VsLkJ1dHRvbiA9IEFyY2FuZUd1YXJkaWFuCgoJCW12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9IGZhbHNlCgoJCUFyY2FuZUd1YXJkaWFuLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5BbmdlbC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDUpCgkJCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuQW5nZWwuVGV4dCA9ICJBcmNhbmUgR3VhcmRpYW4gSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gbXZ0Zy5VbHRzLkFuZ2VsLlRleHQKCQllbmQpCgoJCS0tIFZpcnR1YWwgWm9uZSBIYWNrCgoJCWxvY2FsIFZpcnR1YWxab25lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaXJ0dWFsWm9uZS5OYW1lID0gIlZpcnR1YWxab25lIgoJCVZpcnR1YWxab25lLlRleHQgPSBtdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpcnR1YWxab25lKQoJCW12dGcuVWx0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFZpcnR1YWxab25lCgoJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVmlydHVhbFpvbmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWaXJ0dWFsWm9uZS5UZXh0ID0gbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dAoJCWVuZCkKCgkJLS0gVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4KCgkJbG9jYWwgU29sYXJTdGljayA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlTb2xhclN0aWNrLkJ1dHRvbi5OYW1lID0gIlNvbGFyU3RpY2siCgkJU29sYXJTdGljay5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5Tb2xhci5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNvbGFyU3RpY2spCgkJbXZ0Zy5VbHRzLlNvbGFyLkJ1dHRvbiA9IFNvbGFyU3RpY2suQnV0dG9uCgoJCW12dGcuVWx0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCVNvbGFyU3RpY2suQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLlVsdHMuU29sYXIuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNSkKCQkJCQltdnRnLlVsdHMuU29sYXIuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiU29sYXIgU3RpY2sgQnVnIChPbikiCgkJCQllbHNlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiCgkJCQllbmQKCQkJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQkJCXdhaXQoMykKCQkJCW12dGcuVWx0cy5Tb2xhci5UZXh0ID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIKCQkJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tLS0gTWlzY2VsbGFuZW91cwoJCS0tIFRlY2ggRGlzYyBIYWNrCgoJCWxvY2FsIFRlY2hEaXNjID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVRlY2hEaXNjLkJ1dHRvbi5OYW1lID0gIlRlY2hEaXNjIgoJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRlY2hEaXNjKQoJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuQnV0dG9uID0gVGVjaERpc2MuQnV0dG9uCgoJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoKCQlUZWNoRGlzYy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNCkKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJUZWNoIERpc2MgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJUZWNoIERpc2MgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJVGVjaERpc2MuQnV0dG9uLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJCQl3YWl0KDMpCgkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiCgkJCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEFpbWJvdCB8fCBDdXJyZW50bHkgdW5kZXIgZGV2ZWxvcG1lbnQKCQktLVtbCgkJbG9jYWwgQWltYm90ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlLAoJCX0KCQlBaW1ib3QuQnV0dG9uLk5hbWUgPSAiQWltYm90IgoJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFpbWJvdCkKCgkJZnVuY3Rpb24gdG9nZ2xlQWltYm90KCkKCQkJaWYgKG5vdCBBaW1ib3RFbmFibGVkKSBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IHRydWUKCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJBaW1ib3QgKE9uKSIKCQkJCXdoaWxlIEFpbWJvdEVuYWJsZWQgZG8KCQkJCQlCZWdpblRyYWNraW5nKCkKCQkJCWVuZAoJCQllbHNlaWYgQWltYm90RW5hYmxlZCBhbmQgKGlzR29sZCBvciBpc01hc3RlcikgdGhlbgoJCQkJQWltYm90RW5hYmxlZCA9IGZhbHNlCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCQllbHNlaWYgbm90IChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdC5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCQllbmQKCQllbmQKCgkJQWltYm90LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlQWltYm90KV1dCgoJCS0tIFNoYXJkIENvbG9ycwoKCQlsb2NhbCBSYW5kb21Db2xvcnMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJhbmRvbUNvbG9ycy5OYW1lID0gIlJhbmRvbUNvbG9ycyIKCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBSYW5kb21Db2xvcnMpCgoJCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQoJCWxvY2FsIFNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gc2hhcmRSYW5kb21pemVyKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbIi5JZ25vcmUiXVsiLlNlcnZlckVmZmVjdHMiXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdi5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCB2OkZpbmRGaXJzdENoaWxkKCJzaGFyZENoYW5nZWQiKSB0aGVuCgkJCQkJdi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoQ29sb3JzTGlzdFttYXRoLnJhbmRvbSgxLDkpXSkKCQkJCQlsb2NhbCBzaGFyZENoYW5nZWQgPSBJbnN0YW5jZS5uZXcoIkJvb2xWYWx1ZSIpCgkJCQkJc2hhcmRDaGFuZ2VkLk5hbWUgPSAic2hhcmRDaGFuZ2VkIgoJCQkJCXNoYXJkQ2hhbmdlZC5QYXJlbnQgPSB2CgkJCQkJc2hhcmRDaGFuZ2VkLlZhbHVlID0gdHJ1ZQoJCQkJZWxzZWlmIHYuTmFtZSA9PSAiU2hhcmQiIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJzaGFyZENoYW5nZWQiKS5WYWx1ZSB0aGVuIGVuZAoJCQllbmQKCQllbmQKCgkJUmFuZG9tQ29sb3JzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFNoYXJkQ29sb3JFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNoYXJkQ29sb3JFbmFibGVkID0gdHJ1ZQoJCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT24pIgoJCQkJd2hpbGUgU2hhcmRDb2xvckVuYWJsZWQgZG8KCQkJCQlzaGFyZFJhbmRvbWl6ZXIoKQoJCQkJCXdhaXQoLjUpCgkJCQllbmQKCQkJZWxzZQoJCQkJU2hhcmRDb2xvckVuYWJsZWQgPSBmYWxzZQoJCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQkJZW5kCQoJCWVuZCkKCgkJLS0gQW50aS1MYWcKCgkJbG9jYWwgQW50aUxhZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUxhZy5OYW1lID0gIkFudGlMYWciCgkJQW50aUxhZy5UZXh0ID0gIkFudGkgbGFnIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpTGFnKQoKCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIHJlbW92ZUxhZygpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5Mb2NhbEVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4KCQkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJCYWNrRGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiU3BlY2lhbE1lc2giKSB0aGVuCgkJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4KCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoKCQkJLS1bW2ZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuQ29sb3IgPT0gQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAwKSB0aGVuCgkJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kXV0KCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQlmb3IgXywgeCBpbiBwYWlycyh2LkNoYXJhY3RlcjpHZXRDaGlsZHJlbigpKSBkbwoJCQkJCWlmIHguTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbgoJCQkJCQl4OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlnYW1lLldvcmtzcGFjZS5EZXNjZW5kYW50QWRkZWQ6Y29ubmVjdChmdW5jdGlvbih2KQoJCQlpZiBBbnRpTGFnRW5hYmxlZCB0aGVuCgkJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbgoJCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgdi5OYW1lID09ICJBbmdlbFN3b3JkIiB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgdGhlbgoJCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJLS1bW2Vsc2VpZiBwY2FsbCh2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkpIHRoZW4KCQkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmRdXQoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiTGlnaHREaXNjIikgdGhlbgoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlBbnRpTGFnLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEFudGlMYWdFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUFudGlMYWdFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPbikiCgkJCQlyZW1vdmVMYWcoKQoJCQllbHNlCgkJCQlBbnRpTGFnRW5hYmxlZCA9IGZhbHNlCgkJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0gSWdub3JlIGJvZHkgZm9yY2VzCgoJCWxvY2FsIElnbm9yZVBoeXNpY3MgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlnbm9yZVBoeXNpY3MuTmFtZSA9ICJJZ25vcmVCb2R5Rm9yY2VzIgoJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgYm9keSBmb3JjZXMgKE9mZikgW1pdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBJZ25vcmVQaHlzaWNzKQoKCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuRmxpcHNIb2xkZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBBZnRlck51bGxpZnlGb3JjZXMoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpCgkJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCB0aGVuCgkJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBib2R5IGZvcmNlcyAoT24pIFtaXSIKCQkJCWluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkKCQkJCUFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCQl3aGlsZSBJZ25vcmVQaHlzaWNzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IGZhbHNlCgkJCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIGJvZHkgZm9yY2VzIChPZmYpIFtaXSIKCQkJZW5kCgkJZW5kCgoJCUlnbm9yZVBoeXNpY3MuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGJlZ2luTnVsbGlmeUZvcmNlcykKCgkJLS0gQW50aS1HcmF2aXR5CgoJCWxvY2FsIEFudGlHcmF2aXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbnRpR3Jhdml0eS5OYW1lID0gIkFudGlHcmF2aXR5IgoJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUdyYXZpdHkpCgoJCUFudGlHcmF2aXR5RW5hYmxlZCA9IGZhbHNlCgoJCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpCgkJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlCgkJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT24pIFtHXSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQoJCQllbHNlCgkJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9mZikgW0ddIgoJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbnRpR3Jhdml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoQW50aUdyYXZpdHlGdW5jKQoKCQktLSBDbGljay1UUAoKCQlsb2NhbCBDbGlja1RQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDbGlja1RQLk5hbWUgPSAiQ2xpY2tUUCIKCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gdHAgdG8gbW91c2VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDbGlja1RQKQoKCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgoJCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ2xpY2tUUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9mZikgW0ogdG8gQ2xpY2stVFBdIgoJCQllbHNlCgkJCQlDbGlja1RQRW5hYmxlZCA9IHRydWUKCQkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT24pIFtKIHRvIENsaWNrLVRQXSIKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiBjbGlja3RwKHBvc2l0aW9uKQoJCQlpZiBwbGF5ZXIgPT0gbmlsIG9yIHBsYXllci5DaGFyYWN0ZXIgPT0gbmlsIHRoZW4gcmV0dXJuIGVuZAoJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhWZWN0b3IzLm5ldyhwb3NpdGlvbi54LCBwb3NpdGlvbi55ICsgMywgcG9zaXRpb24ueikpCgkJZW5kCgoJCS0tIEZyZWV6ZQoKCQlsb2NhbCBGcmVlemUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUZyZWV6ZS5OYW1lID0gIkZyZWV6ZSIKCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBGcmVlemUpCgoJCUZyZWV6ZUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBGcmVlemVGdW5jKCkKCQkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlGcmVlemVFbmFibGVkID0gdHJ1ZQoJCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPbikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQoJCQllbHNlCgkJCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT2ZmKSBbRl0iCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQllbmQKCQllbmQKCgkJRnJlZXplLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChGcmVlemVGdW5jKQoKCQktLSBJbmZpbml0ZSBTcHJpbnQKCgkJbG9jYWwgSW5mU3ByaW50ID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUluZlNwcmludC5CdXR0b24uTmFtZSA9ICJJbmZTcHJpbnQiCgkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSW5mU3ByaW50KQoJCW12dGcuTWlzYy5JbmZTcHJpbnQuQnV0dG9uID0gSW5mU3ByaW50CgoJCW12dGcuTWlzYy5JbmZTcHJpbnQuVmFsdWUgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBJc1NwcmludGluZygpCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJbG9jYWwgc3ByaW50CgkJCWxvY2FsIHBkCgkJCXBkID0gUlNSOldhaXRGb3JDaGlsZCgiUGxheWVyRGF0YSIpLk9uQ2xpZW50RXZlbnQ6Q29ubmVjdChmdW5jdGlvbihwLCB0KQoJCQkJc3ByaW50ID0gdC5SdW5uaW5nCgkJCQlwZDpEaXNjb25uZWN0KCkKCQkJZW5kKQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHNwcmludCB+PSBuaWwKCQkJcmV0dXJuIHNwcmludAoJCWVuZAoKCQlJbmZTcHJpbnQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuTWlzYy5JbmZTcHJpbnQuVGV4dCA9ICJJbmZpbml0ZSBTcHJpbnQgKE9uKSIKCQkJCQlJbmZTcHJpbnQuQnV0dG9uLlRleHQgPSBtdnRnLk1pc2MuSW5mU3ByaW50LlRleHQKCQkJCQlyZXBlYXQKCQkJCQkJaWYgSXNTcHJpbnRpbmcoKSB0aGVuCgkJCQkJCQlsb2NhbCBhcmdzID0gewoJCQkJCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCQkJCQlbMl0gPSBmYWxzZSwKCQkJCQkJCX0KCQkJCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KC41KQoJCQkJCXVudGlsIG12dGcuTWlzYy5JbmZTcHJpbnQuVmFsdWUgPT0gZmFsc2UKCQkJCWVsc2UKCQkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIgoJCQkJCUluZlNwcmludC5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5JbmZTcHJpbnQuVGV4dAoJCQkJCWlmIG5vdCBJc1NwcmludGluZygpIHRoZW4KCQkJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQkJCVsxXSA9ICJSdW5uaW5nIiwKCQkJCQkJCVsyXSA9IHRydWUsCgkJCQkJCX0KCQkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuUGxheWVyRGF0YTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0CgkJCQl3YWl0KDMpCgkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIgoJCQkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBFeHBsb3NpdmUgTGVhcAoKCQlsb2NhbCBFeHBsb3Npb25IYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFeHBsb3Npb25IYWNrLk5hbWUgPSAiRXhwbG9zaW9uSGFjayIKCQlFeHBsb3Npb25IYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFeHBsb3Npb25IYWNrKQoJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5CdXR0b24gPSBFeHBsb3Npb25IYWNrCgoJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgoJCUV4cGxvc2lvbkhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNCkKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgTGVhcCBTdHVuIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIKCQkJZW5kCgkJCUV4cGxvc2lvbkhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IFJvY2sgRmlzdAoKCQlsb2NhbCBSb2NrRmlzdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJvY2tGaXN0SGFjay5OYW1lID0gIlJvY2tGaXN0SGFjayIKCQlSb2NrRmlzdEhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0Zpc3RIYWNrKQoJCW12dGcuVGVsZXBvcnRzLkVhcnRoLkJ1dHRvbiA9IFJvY2tGaXN0SGFjawoKCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9IGZhbHNlCgoJCVJvY2tGaXN0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDQpCgkJCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQgPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dCA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT2ZmKSIKCQkJZW5kCgkJCVJvY2tGaXN0SGFjay5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuRWFydGguVGV4dAoJCWVuZCkKCgkJLS0gTG9uZyBGbGFzaAoKCQlsb2NhbCBMRmxhc2ggPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxGbGFzaC5OYW1lID0gIkZsYXNoIgoJCUxGbGFzaC5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBMRmxhc2gpCgkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uQnV0dG9uID0gTEZsYXNoCgoJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCgkJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkKCQkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucAoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giCgkJCX0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWxvY2FsIGFyZ3MgPSB7CgkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJWzJdID0gIkxpZ2h0bmluZyBGbGFzaCIsCgkJCQlbM10gPSB7CgkJCQkJWyJFbmQiXSA9IG1vdXNlcG9zLAoJCQkJCVsiT3JpZ2luIl0gPSBwbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wCgkJCQl9CgkJCX0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQllbmQKCgkJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNCkKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dCA9ICJMb25nIEZsYXNoIChPbikgW2AgdG8gdXNlXSIKCQkJZWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVGV4dCA9ICJMb25nIEZsYXNoIChPZmYpIFtgIHRvIHVzZV0iCgkJCWVuZAoJCQlMRmxhc2guVGV4dCA9IG12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIFZpZXcgVGFyZ2V0CgoJCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpZXdUYXJnZXQuTmFtZSA9ICJWaWV3VGFyZ2V0IgoJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpCgoJCXZpZXdpbmcgPSBmYWxzZQoKCQlmdW5jdGlvbiB2aWV3KCkKCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCWlmIHZpZXdpbmcgPT0gZmFsc2UgdGhlbgoJCQkJCXZpZXdpbmcgPSB0cnVlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9uKSBbVl0iCgkJCQllbHNlCgkJCQkJdmlld2luZyA9IGZhbHNlCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJCWVuZAoJCQllbHNlaWYgdmlld2luZyA9PSB0cnVlIHRoZW4gCgkJCQl2aWV3aW5nID0gZmFsc2UKCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPZmYpIFtWXSIKCQkJZW5kCgkJZW5kCgoJCVZpZXdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHZpZXcpCgoJCS0tIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBUYXJnZXQuTmFtZSA9ICJUUFRhcmdldCIKCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSBbVV0iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQVGFyZ2V0KQoKCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBUUFRvVGFyZ2V0KCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkIGFuZCB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikgYW5kIGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpCgoJCQkJZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLkNGcmFtZSA9IGdldEhSUChnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIpLkNGcmFtZQoJCQllbmQKCQllbmQKCgkJVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikgW1VdIgoJCQllbHNlCgkJCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoJCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCQllbmQKCQllbmQpCgoJCS0tIExvb3AgVGVsZXBvcnQgdG8gVGFyZ2V0CgoJCWxvY2FsIExvb3BUUFRhcmdldCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJTG9vcFRQVGFyZ2V0Lk5hbWUgPSAiTG9vcFRQVGFyZ2V0IgoJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBMb29wVFBUYXJnZXQpCgoJCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQoKCQlMb29wVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgTG9vcFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gdHJ1ZQoJCQkJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9uKSIKCQkJCXdoaWxlIExvb3BUUFRhcmdldEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCWVuZAoJCQllbHNlCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIFN0YW5kYXJkIEVTUAoKCQlsb2NhbCBFU1AgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUVTUC5OYW1lID0gIkVTUCIKCQlFU1AuVGV4dCA9ICJFU1AgKE9mZikgW0JdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBFU1ApCQkKCgkJRVNQRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQoJCUhvbGRlci5OYW1lID0gIkVTUCIKCgkJbG9jYWwgVXBkYXRlRnVuY3MgPSB7fQoKCQlsb2NhbCBCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpCgkJQm94Lk5hbWUgPSAibmlsQm94IgoJCUJveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkKCQlCb3guQ29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCUJveC5UcmFuc3BhcmVuY3kgPSAwLjcKCQlCb3guWkluZGV4ID0gMAoJCUJveC5BbHdheXNPblRvcCA9IHRydWUKCQlCb3guVmlzaWJsZSA9IHRydWUKCgkJbG9jYWwgTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikKCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcgPSBOYW1lVGFnCgkJTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWciCgkJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCU5hbWVUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAyMDAsIDAsIDUwKQoJCU5hbWVUYWcuQWx3YXlzT25Ub3AgPSB0cnVlCgkJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQlOYW1lVGFnLk1heERpc3RhbmNlID0gNzUwCgoJCWxvY2FsIFRhZyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgTmFtZVRhZykKCQlUYWcuTmFtZSA9ICJUYWciCgkJVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgMCkKCQlUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJCVRhZy5UZXh0U2l6ZSA9IDIwCgkJVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCgkJVGFnLlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwLjQKCQlUYWcuVGV4dCA9ICJOb3QgQXZhaWxhYmxlIgoJCVRhZy5Gb250ID0gRW51bS5Gb250LlJvYm90b01vbm8KCQlUYWcuVGV4dFNjYWxlZCA9IGZhbHNlCgkJVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgoJCWZ1bmN0aW9uIExvYWRDaGFyYWN0ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJCWxvY2FsIGIgPSBCb3g6Q2xvbmUoKQoJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJCb3giCgkJCQliLkFkb3JuZWUgPSB2LkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQliLlBhcmVudCA9IHZIb2xkZXIKCgkJCQlsb2NhbCB0ID0gTmFtZVRhZzpDbG9uZSgpCgkJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIk5hbWVUYWciCgkJCQl0LlBhcmVudCA9IHZIb2xkZXIKCQkJCXQuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIsIDUpCgkJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCQlyZXR1cm4gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCQllbmQKCQkJCXQuVGFnLlRleHQgPSB2Lk5hbWUKCQkJCXQuRW5hYmxlZCA9IHRydWUKCQkJCXdhaXQoKQoKCQkJCWxvY2FsIGZ1bmN0aW9uIFVwZGF0ZU5hbWVUYWcoKQoJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQoJCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lIC4uICJcbiIgLi4gKChtYXhoIH49IDAgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgoaCAvIG1heGgpICogMTAwKSkpIG9yICIwIikgLi4gIiUgICIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpCgkJCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQllbHNlCgkJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IGNoZWNrMQoJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJZW5kCgkJCQkJCQlpZiBoIC8gbWF4aCA9PSAxIHRoZW4KCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuCgkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJZWxzZQoJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCWVuZAoJCQkJCQllbmQpIHRoZW4KCQkJCQkJVXBkYXRlRnVuY3Nbdl0gPSBuaWwKCQkJCQllbmQKCQkJCWVuZAoJCQkJVXBkYXRlTmFtZVRhZygpCgkJCQlVcGRhdGVGdW5jc1t2XSA9IFVwZGF0ZU5hbWVUYWcKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIFVubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlciBhbmQgKHZIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJCb3giKSB+PSBuaWwgb3IgdkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIk5hbWVUYWciKSB+PSBuaWwpIHRoZW4KCQkJCXZIb2xkZXI6Q2xlYXJBbGxDaGlsZHJlbigpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBMb2FkUGxheWVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEhvbGRlcikKCQkJCXZIb2xkZXIuTmFtZSA9IHYuTmFtZQoJCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlpZiBFU1BFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQlwY2FsbChMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQllbmQpCgkJCQlMb2FkQ2hhcmFjdGVyKHYpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBVbmxvYWRQbGF5ZXIodikKCQkJVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIHRoZW4KCQkJCXZIb2xkZXI6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChMb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKFVubG9hZFBsYXllciwgdikKCQllbmQpCgoJCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbgoJCQkJaWYgSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCVVubG9hZENoYXJhY3RlcihpKQoJCQkJCXdhaXQoKQoJCQkJCUxvYWRDaGFyYWN0ZXIoaSkKCQkJCWVuZAoJCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4KCQkJCWxvY2FsIHAgPSBwbGF5ZXJzOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpCgkJCQlpZiBwIH49IHBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCVVwZGF0ZUZ1bmNzW3BdKCkKCQkJCQllbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiB0b2dnbGVFU1AoKQoJCQlpZiBFU1BFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIEdFU1BFbmFibGVkIHRoZW4KCQkJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJRVNQRW5hYmxlZCA9IHRydWUKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIlN0YW5kYXJkIEVTUCBFbmFibGVkIgoJCQkJCXdhaXQoMSkKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT2ZmKSBbTV0iCgkJCQllbHNlCgkJCQkJRVNQRW5hYmxlZCA9IHRydWUKCQkJCWVuZAoJCQkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIgoJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCWVuZAoJCQllbHNlCgkJCQlFU1BFbmFibGVkID0gZmFsc2UKCQkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoVW5sb2FkUGxheWVyLCB2KSBlbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kCgoJCUVTUC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QodG9nZ2xlRVNQKQoKCQktLSBHb2xkIEVTUAoKCQlsb2NhbCBFU1BHb2xkID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUVTUEdvbGQuTmFtZSA9ICJFU1BHb2xkIgoJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQR29sZCkKCgkJR0VTUEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBHSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpCgkJR0hvbGRlci5OYW1lID0gIkVTUEdvbGQiCgoJCWxvY2FsIEdVcGRhdGVGdW5jcyA9IHt9CgoJCWxvY2FsIEdCb3ggPSBJbnN0YW5jZS5uZXcoIkJveEhhbmRsZUFkb3JubWVudCIpCgkJR0JveC5OYW1lID0gIm5pbEJveEciCgkJR0JveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkKCQlHQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQlHQm94LlRyYW5zcGFyZW5jeSA9IDAuNwoJCUdCb3guWkluZGV4ID0gMAoJCUdCb3guQWx3YXlzT25Ub3AgPSB0cnVlCgkJR0JveC5WaXNpYmxlID0gdHJ1ZQoKCQlsb2NhbCBHTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikKCQlFU1BJbmZvLkdvbGQuTmFtZVRhZyA9IEdOYW1lVGFnCgkJR05hbWVUYWcuTmFtZSA9ICJuaWxOYW1lVGFnRyIKCQlHTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCUdOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQlHTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUKCQlHTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQlHTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDc1MAoKCQlsb2NhbCBHVGFnID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBHTmFtZVRhZykKCQlHVGFnLk5hbWUgPSAiR1RhZyIKCQlHVGFnLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJR1RhZy5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtNTAsIDAsIC01KQoJCUdUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJCUdUYWcuVGV4dFNpemUgPSAyMAoJCUdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQlHVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCgkJR1RhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40CgkJR1RhZy5UZXh0ID0gIk5vdCBBdmFpbGFibGUiCgkJR1RhZy5Gb250ID0gRW51bS5Gb250LlJvYm90b01vbm8KCQlHVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJCUdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCgkJZnVuY3Rpb24gR0xvYWRDaGFyYWN0ZXIodikKCQkJCgkJCWxvY2FsIHRibFBsYXllckRhdGEgPSB7fQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQlSU1I6V2FpdEZvckNoaWxkKCJQbGF5ZXJEYXRhIikuT25DbGllbnRFdmVudDpDb25uZWN0KGZ1bmN0aW9uKHYsIHRibERhdGEpCgkJCQl0YmxQbGF5ZXJEYXRhW3ZdID0gdGJsRGF0YQoJCQllbmQpCgkJCQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQkJdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQkJdkhvbGRlckc6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQkJbG9jYWwgYiA9IEdCb3g6Q2xvbmUoKQoJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJHQm94IgoJCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAoJCQkJYi5QYXJlbnQgPSB2SG9sZGVyRwoKCQkJCWxvY2FsIHQgPSBHTmFtZVRhZzpDbG9uZSgpCgkJCQl0Lk5hbWUgPSB2Lk5hbWUgLi4gIkdOYW1lVGFnIgoJCQkJdC5QYXJlbnQgPSB2SG9sZGVyRwoJCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkKCQkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbgoJCQkJCXJldHVybiBHVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCQllbmQKCQkJCXQuR1RhZy5UZXh0ID0gdi5OYW1lCgkJCQl0LkVuYWJsZWQgPSB0cnVlCgkJCQl3YWl0KCkKCgkJCQlsb2NhbCBmdW5jdGlvbiBHVXBkYXRlTmFtZVRhZygpCgkJCQkJaWYgbm90IHBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lCgkJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQoJCQkJCQkJbG9jYWwgaCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggKiAxMCkKCQkJCQkJCWxvY2FsIHN0cmggPSAiSDogIiAuLiAobm90KG1heGggPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBoIC8gbWF4aCkpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKSAuLiAiKSIKCQkJCQkJCS0tCgkJCQkJCQlsb2NhbCBtYXhtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWF4TWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCQlsb2NhbCBzdHJtID0gIk06ICIgLi4gKG5vdChtYXhtID09IDApIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoMTAwICogbSAvIG1heG0pKSBvciAwKSAuLiAiJSAoIiAuLiB0b3N0cmluZyhtKSAuLiAiLyIgLi4gdG9zdHJpbmcobWF4bSkgLi4gIikiCgkJCQkJCQktLQoJCQkJCQkJbG9jYWwgbWF4cyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heFN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgcyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLlN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJbG9jYWwgc3RycyA9ICAiUzogIiAuLiAobm90KG1heHMgPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBzIC8gbWF4cykpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKHMpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhzKSAuLiAiKSIKCgkJCQkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZSAuLiAoIlxuIiAuLiBzdHJoKSAuLiAoIlxuIiAuLiBzdHJtKSAuLiAoIlxuIiAuLiBzdHJzKQoJCQkJCQkJCgkJCQkJCQlpZiBHRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAwLjcKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCWVuZAoJCQkJCQkJaWYgaCAvIG1heGggPj0gMC43NSB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig2MiwgMjU1LCA2MikKCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE1LCAxNTMsIDY0KQoJCQkJCQkJZWxzZWlmIGggLyBtYXhoIDw9IDAuNzUgYW5kIGggLyBtYXhoID49IDAuNSB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgNTUpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNzksIDEzMiwgMTUpCgkJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuCgkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDIsIDIpCgkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMzQsIDEyLCA2NikKCQkJCQkJCWVsc2UKCQkJCQkJCQl0LkdUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgKDE5NiAqIChoIC8gbWF4aCkpLCAoMiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTc5LCAoMTMyICogKGggLyBtYXhoKSksICgxNSAqIChoIC8gbWF4aCkpKQoJCQkJCQkJZW5kCgkJCQkJCWVuZCkgdGhlbgoJCQkJCQlHVXBkYXRlRnVuY3Nbdl0gPSBuaWwKCQkJCQllbmQKCQkJCWVuZAoJCQkJR1VwZGF0ZU5hbWVUYWcoKQoJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gR1VwZGF0ZU5hbWVUYWcKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRDaGFyYWN0ZXIodikKCQkJbG9jYWwgdkhvbGRlckcgPSBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkKCQkJaWYgdkhvbGRlckcgYW5kICh2SG9sZGVyRzpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkdCb3giKSB+PSBuaWwgb3IgdkhvbGRlckc6RmluZEZpcnN0Q2hpbGQodi5OYW1lIC4uICJHTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlckc6Q2xlYXJBbGxDaGlsZHJlbigpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBHTG9hZFBsYXllcih2KQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlsb2NhbCB2SG9sZGVyRyA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgR0hvbGRlcikKCQkJCXZIb2xkZXJHLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgR0VTUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKEdMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChHVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kKQoJCQkJR0xvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRQbGF5ZXIodikKCQkJR1VubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyRyB0aGVuCgkJCQl2SG9sZGVyRzpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQllbmQpCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCUdVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCQl3YWl0KCkKCQkJCQlHTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCUdVcGRhdGVGdW5jc1twXSgpCgkJCQkJZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gdG9nZ2xlRVNQR29sZCgpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBHRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCUVTUEVuYWJsZWQgPSBmYWxzZQoJCQkJCQlHRVNQRW5hYmxlZCA9IHRydWUKCQkJCQkJRVNQLlRleHQgPSAiRGV0YWlsZWQgRVNQIEVuYWJsZWQiCgkJCQkJCXdhaXQoMSkKCQkJCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQkJCQllbHNlCgkJCQkJCUdFU1BFbmFibGVkID0gdHJ1ZQoJCQkJCWVuZAoJCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPbikgW01dIgoJCQkJCWZvciBpLHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR0xvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlHRVNQRW5hYmxlZCA9IGZhbHNlCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgcGNhbGwoR1VubG9hZFBsYXllciwgdikgZW5kKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQllbmQKCQllbmQKCgkJRVNQR29sZC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUVTUEdvbGQpCgoJCS0tIFRQIHRvIERyb3BzCgkJLS0tLSBDdXJyZW50bHkgZGlzYWJsZWQgZHVlIHRvIHRocmVhdGxldmVsCgoJCS0tW1tsb2NhbCBUUFNoYXJkcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBTaGFyZHMuTmFtZSA9ICJUUFNoYXJkcyIKCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBTaGFyZHMpCgoJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCQoKCQlsb2NhbCBUUERpYW1vbmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyIKCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQRGlhbW9uZHMpCgoJCVRQRGlhbW9uZHNFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgcGxhdGUgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQoJCXBsYXRlLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlCgkJcGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDQwLCAxLCA0MCkKCQlwbGF0ZS5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDEwMDAwMCwgMCkKCQlwbGF0ZS5BbmNob3JlZCA9IHRydWUKCQlwbGF0ZS5SZWZsZWN0YW5jZSA9IDAuNQoJCXBsYXRlLlRyYW5zcGFyZW5jeSA9IDAuNQoKCQlsb2NhbCB0aW1lID0gMAoJCWxvY2FsIGNhbkludmlzID0gZmFsc2UKCgkJZnVuY3Rpb24gdGVsZXBvcnRUb0Ryb3BzKCkKCQkJbG9jYWwgaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuU2VydmVyRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgYW5kIHYuTmFtZSA9PSAiU2hhcmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZWxzZWlmIFRQRGlhbW9uZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIkRpYW1vbmQiIHRoZW4KCQkJCQlocnAuQ0ZyYW1lID0gdi5DRnJhbWUKCQkJCQl3YWl0KC4yKQoJCQkJZW5kCgoJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCWlmIHRpbWUgPT0gNSB0aGVuIAoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoKCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoKCQkJcmV0dXJuIAoJCWVuZAoKCgkJZnVuY3Rpb24gc3RhcnRUaW1lcigpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJd2hpbGUgd2FpdCgpIGRvCgkJCQlpZiBUUFNoYXJkc0VuYWJsZWQgb3IgVFBEaWFtb25kc0VuYWJsZWQgdGhlbgoJCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybgoJCQkJCWVsc2UKCQkJCQkJaWYgY2FuSW52aXMgdGhlbgoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQl3YWl0KDEpCgkJCQkJCQlyZXBlYXQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXRpbWUgPSB0aW1lICsgMQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCXVudGlsIHRpbWUgPT0gNgoJCQkJCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQoJCQkJCQkJd2FpdCg3LjUpCgkJCQkJCQl0aW1lID0gMAoJCQkJCQllbHNlCgkJCQkJCQl3aGlsZSB0cnVlIGRvCgkJCQkJCQkJaWYgbm90IFRQU2hhcmRzRW5hYmxlZCBhbmQgbm90IFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQllbmQKCQkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQlicmVhawoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuCgkJZW5kCgoJCVRQU2hhcmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQU2hhcmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSB0cnVlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUFNoYXJkc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCXN0YXJ0VGltZXIoKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCVRQU2hhcmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUFNoYXJkcy5UZXh0ID0gIlRlbGVwb3J0IHRvIFNoYXJkcyAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQlUUERpYW1vbmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuCgkJCQljYW5JbnZpcyA9IHRydWUKCQkJZW5kCgkJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPbikiCgkJCQlzdGFydFRpbWVyKCkKCQkJCXdoaWxlIFRQRGlhbW9uZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgkJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9mZikiCgkJCWVuZAoJCWVuZCldXQoKCQktLSBBbHQgRmFybWluZwoKCQlsb2NhbCBBbHRGYXJtID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUFsdEZhcm0uTmFtZSA9ICJBbHRGYXJtIgoJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLEFsdEZhcm0pCgoJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgbG9jcyA9IHt7NDI0LCAyNTAwMCwgNjF9LHstNjcsIDI1MDAwLCAyNjE5fSx7LTI2MDAsIDI1MDAwLCA0ODN9fQoJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQlsb2NhbCBodW0gPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCWxvY2FsIGxhc3Rwb3MKCgkJbG9jYWwgZnVuY3Rpb24gZG9GYXJtKCkKCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQlocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCWh1bSA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCWh1bS5IZWFsdGhDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJcGxheWVyLkNoYXJhY3RlcjpCcmVha0pvaW50cygpCgkJCWVuZCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gYWx0dHAobGksbHApCgkJCWxvY2FsIG5ld0xvYyA9IFZlY3RvcjMubmV3KHVucGFjayhsb2NzW2xpXSkpCgkJCWlmIG5ld0xvYyB+PSBscCB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyOk1vdmVUbyhuZXdMb2MpCgkJCWVuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBhbHRwbGF0ZShkZSxsaSkKCQkJaWYgbm90IGxpIHRoZW4gbGkgPSBuaWwgZW5kCgkJCWlmIGRlID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIEFsdFBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCUFsdFBsYXRlLlBhcmVudCA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIilbIi5JZ25vcmUiXQoJCQkJQWx0UGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldyhsb2NzW2xpXVsxXSwgKGxvY3NbbGldWzJdIC0gNSksIGxvY3NbbGldWzNdKQoJCQkJQWx0UGxhdGUuU2l6ZSA9IFZlY3RvcjMubmV3KDUsMSw1KQoJCQkJQWx0UGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJCQlBbHRQbGF0ZS5UcmFuc3BhcmVuY3kgPSAxCgkJCWVsc2UKCQkJCWlmIG5vdCBBbHRQbGF0ZSA9PSBuaWwgdGhlbgoJCQkJCUFsdFBsYXRlOkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlBbHRGYXJtLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgQWx0RmFybUVuYWJsZWQgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXI6TW92ZVRvKGxhc3Rwb3MpCgkJCQkJQWx0RmFybUVuYWJsZWQgPSBmYWxzZQoJCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCQkJCWFsdHBsYXRlKHRydWUpCgkJCQkJaHVtLkhlYWx0aENoYW5nZWQ6RGlzY29ubmVjdCgpCgkJCQllbHNlCgkJCQkJQWx0RmFybUVuYWJsZWQgPSB0cnVlCgkJCQkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJGYXJtaW5nIE1vZGUgKE9uKSIKCQkJCQlsYXN0cG9zID0gaHJwLnBvc2l0aW9uCgkJCQkJbG9jYWwgVFBMb2NhdGlvbiA9IG1hdGgucmFuZG9tKDEsI2xvY3MpCgkJCQkJYWx0cGxhdGUoZmFsc2UsVFBMb2NhdGlvbikKCQkJCQlyZXBlYXQKCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyIH49IG5pbAoJCQkJCQlkb0Zhcm0oKQoJCQkJCQlpZiBocnAuUG9zaXRpb24gfj0gdW5wYWNrKGxvY3NbVFBMb2NhdGlvbl0pIHRoZW4KCQkJCQkJCWFsdHRwKFRQTG9jYXRpb24sbGFzdHBvcykKCQkJCQkJZW5kCgkJCQkJCXdhaXQoLjEpCgkJCQkJdW50aWwgQWx0RmFybUVuYWJsZWQgPT0gZmFsc2UKCQkJCWVuZAoJCQllbHNlCgkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCWxvY2FsIGZ1bGxidXR0b25zID0gY29weShidXR0b25zKQoKCQktLSBHVUkgVHdlYWtpbmcKCgkJZm9yIGksdiBpbiBwYWlycyhib3JkZXJzKSBkbwoJCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQoJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MAoJCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZCgkJCXYuQWN0aXZlID0gdHJ1ZQoJCQl2LlBhcmVudCA9IGViZ3VpCgkJZW5kCgoJCWZvciBpLHYgaW4gcGFpcnMoYnV0dG9ucykgZG8KCQkJaWYgdHlwZW9mKHYpID09ICJ0YWJsZSIgYW5kIHYuSXNHb2xkIHRoZW4KCQkJCXYuQnV0dG9uLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDE3NSwgMjApCgkJCQl2LkJ1dHRvbi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJdi5CdXR0b24uQm9yZGVyU2l6ZVBpeGVsID0gMgoJCQkJdi5CdXR0b24uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuQnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuQnV0dG9uLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCQkJdi5CdXR0b24uRm9udEZhY2UuV2VpZ2h0ID0gRW51bS5Gb250V2VpZ2h0LkhlYXZ5CgkJCQl2LkJ1dHRvbi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQkJCXYuQnV0dG9uLlRleHRTY2FsZWQgPSB0cnVlCgkJCQl2LkJ1dHRvbi5UZXh0U2l6ZSA9IDE0LjAwMAoJCQkJdi5CdXR0b24uVGV4dFdyYXBwZWQgPSB0cnVlCgkJCQl2LkJ1dHRvbi5MYXlvdXRPcmRlciA9IGkKCQkJCXYuQnV0dG9uLlBhcmVudCA9IG1haW5mcmFtZQoJCQllbHNlCgkJCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOCwgNTQsIDE3OSkKCQkJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCQkJdi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCQkJdi5Gb250RmFjZS5XZWlnaHQgPSBFbnVtLkZvbnRXZWlnaHQuSGVhdnkKCQkJCXYuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQl2LlRleHRTY2FsZWQgPSB0cnVlCgkJCQl2LlRleHRTaXplID0gMTQuMDAwCgkJCQl2LlRleHRXcmFwcGVkID0gdHJ1ZQoJCQkJdi5MYXlvdXRPcmRlciA9IGkKCQkJCXYuUGFyZW50ID0gbWFpbmZyYW1lCgkJCWVuZAoJCWVuZAoKCQktLSBjb21tYW5kQm94CgoJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiCgkJbG9vcGluZyA9IGZhbHNlCgkJU21hcnRBdHRhY2sgPSB0cnVlCgkJSGVhbFNldHRpbmcgPSAxCgkJc3R1bkVuYWJsZWQgPSB0cnVlCgkJbG9jYWwgYnV0dG9uSGVpZ2h0ID0gMzAKCQlsb2NhbCBidXR0b25HYXAgPSA3CgoJCWxvY2FsIHN0dW5Db25uZWN0aW9uID0gZ2V0Y29ubmVjdGlvbnMoUlNSOldhaXRGb3JDaGlsZCgiQ29tYmF0IikuT25DbGllbnRFdmVudCkKCQlsb2NhbCBsYWdnZXJzID0gewoJCQkiMUIwRjk4QkUtRTEwQi00Njc0LTlGQjQtNkY2NTE3MUEzNDdGIiwgLS0gbG9nCgkJCSI2QTMzMTA0QS0xRkU5LTRGQTgtOTM3NC1DMTY0RDI4RjgzNTEiLCAtLSBicmlhbgoJCQkiODM3NzM2QUEtMDE5Mi00N0Y5LTk4QzUtOEREMERGMThGRTc0IiwgLS0gamV0CgkJCSI1NUMyMDQ5RC1DNkJELTQ1MjMtODgwNC1ENTM5QzM4NzkyQTMiLCAtLSBwZW50YXJhY3QKCQkJIjk0NjRCNjhBLTM2M0MtNDFGOC1CQjdELUI0QkVEOEFDMDk2MyIsIC0tIHZhc3RvcmlvCgkJCS0tICI4MzBCRDRFOS01RUJFLTRBMTMtQjQ3Qi05QkU2MDA4M0I4MzYiLCAtLSBsb2xvawoJCQktLSAiNjNCMzlFMjctREExQi00ODJFLUIyOEMtNkEzMzk4Qzk1QTRDIiwgLS0gYWxleAoJCQkiODQ2QTY1RTItRTk2My00QTBBLTkwMjUtRTlCOEU5NTg5NjEzIiwgLS0gYnJhbQoJCQkiM0YxNjg0NDAtQTVDMC00RjcxLThFNTEtM0ZERjkwMjVGNTFCIiwgLS0gdG9tZWsKCQkJIjZBOTcwNTJBLTYzNEUtNDdFMS04RDkwLTVFRTNDQTRBOTZGQSIsIC0tIHJhdmVuCgkJCSJGNTk3NUQ3RC0yQUM1LTQ0QUEtODAxRi04Mjc2MjVENkQ3NjMiLCAtLSBhbGV4aWEKCQkJIjQ4Mjg3MTgyLTlFNzctNEY5Ny1BNjU0LTk3MDY5RUQ4MTY2QyIsIC0tIGplc3MKCQkJIjc0ODlDQkFFLTc5ODYtNDVBOS1CRTQwLUEyMThFRENEMEYwMSIgLS0gY2VwaGFzCgkJfQoKCQlsb2NhbCBhbGxvd2VkVG9Ecm9wRlBTID0gdHJ1ZQoKCQlmb3IgaSwgdiBpbiBwYWlycyhsYWdnZXJzKSBkbwoJCQl2ID0gdjpsb3dlcigpCgoJCQlpZiAodiA9PSBjbGllbnRpZCkgdGhlbgoJCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhSUChjaHIpCgkJCWxvY2FsIEhSUCA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIG9yIGNocjpGaW5kRmlyc3RDaGlsZCgiVG9yc28iKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlVwcGVyVG9yc28iKQoJCQlyZXR1cm4gSFJQCgkJZW5kCgoJCWZ1bmN0aW9uIGdldEhVTShjaHIpCgkJCWxvY2FsIEhVTSA9IGNocjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQoJCQlyZXR1cm4gSFVNCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlc3Bhd24ocGxyKQoJCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyCgoJCQlpZiAoY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKSkgdGhlbiBjaHI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpOkNoYW5nZVN0YXRlKDE1KSBlbmQKCQkJY2hyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJbG9jYWwgbmV3Y2hyID0gSW5zdGFuY2UubmV3KCJNb2RlbCIpCgkJCW5ld2Noci5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJcGxyLkNoYXJhY3RlciA9IG5ld2NocgoKCQkJd2FpdCgpCgoJCQlwbHIuQ2hhcmFjdGVyID0gY2hyCgkJCW5ld2NocjpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gcmVmcmVzaChwbHIpCgkJCWxvY2FsIGh1bSA9IHBsci5DaGFyYWN0ZXIgYW5kIHBsci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIsIHRydWUpCgkJCWxvY2FsIHBvcyA9IGh1bSBhbmQgaHVtLlJvb3RQYXJ0IGFuZCBodW0uUm9vdFBhcnQuQ0ZyYW1lCgkJCWxvY2FsIHBvczEgPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUKCgkJCXJlc3Bhd24ocGxyKQoKCQkJc3Bhd24oZnVuY3Rpb24oKQoJCQkJcGxyLkNoYXJhY3RlckFkZGVkOldhaXQoKTpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikuUm9vdFBhcnQuQ0ZyYW1lLCB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYS5DRnJhbWUgPSBwb3MsIHdhaXQoKSBhbmQgcG9zMQoJCQllbmQpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHNwbGl0QXJncyhjb21tYW5kKQoJCQljb21tYW5kID0gc3RyaW5nLmdzdWIoY29tbWFuZCwgIiwiLCAiICIpCgkJCWNvbW1hbmQgPSBzdHJpbmcuc3BsaXQoY29tbWFuZCwgIiAiKQoKCQkJZm9yIGksIHYgaW4gaXBhaXJzKGNvbW1hbmQpIGRvCgkJCQl2ID0gc3RyaW5nLmdzdWIodiwgIiVzKyIsICIiKQoJCQkJaWYgdiA9PSAiIiB0aGVuCgkJCQkJdGFibGUucmVtb3ZlKGNvbW1hbmQsIGkpCgkJCQllbmQKCQkJZW5kCgoJCQlyZXR1cm4gY29tbWFuZAoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBmaW5kUGxheWVyKHRleHQpCgkJCWxvY2FsIHBsYXllcnMgPSBnYW1lLlBsYXllcnM6R2V0UGxheWVycygpCgkJCWxvY2FsIG1hdGNoZXMgPSB7fQoKCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8KCQkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoJCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQoKCQkJCWxvY2FsIG1hdGNoID0gc3RyaW5nLmZpbmQobmFtZSwgdGV4dCkKCgkJCQlpZiBtYXRjaCB0aGVuCgkJCQkJdGFibGUuaW5zZXJ0KG1hdGNoZXMsIFBsYXllci5OYW1lKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIG1hdGNoZXMKCQllbmQKCgkJbG9jYWwgZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvcnNFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBibGFja2Nhc3RFbmFibGVkID0gZmFsc2UKCQlsb2NhbCBjb2xvckV4Y2x1ZGUgPSB7IkhlYWQiLCJUb3JzbyIsIkxlZnQgQXJtIiwiTGVmdCBMZWciLCJSaWdodCBBcm0iLCJSaWdodCBMZWciLCJTaGFyZCIsIkRpYW1vbmQifQoKCQktLVtbOTgvMjU1LCAzNy8yNTUsIDIwOS8yNTVdXQoJCWxvY2FsIGNvbG9yMQoJCWxvY2FsIGNvbG9yMgoJCWxvY2FsIGNvbG9yMwoKCQlsb2NhbCBmdW5jdGlvbiB0ZXJtRUJHdWkoKQoJCQl3YXJuKCJDbG9zaW5nIEVCR3VpIGZvciBnb29kLi4uIikKCQkJd2FybigiVHdlZW5pbmcgb3V0IFVJIGVsZW1lbnRzLi4uIikKCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCSJJbiIsCgkJCQkiU2luZSIsCgkJCQkuNSwKCQkJCXRydWUKCQkJKQoJCQl3YWl0KDEpCgkJCXdhcm4oIlJlc2V0dGluZyB0YXJnZXQuLi4iKQoJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCQl3YXJuKCJVbmxvYWRpbmcgYWxsIEVTUCBlbGVtZW50cy4uLiIpCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJcGNhbGwoVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCQkJcGNhbGwoR1VubG9hZENoYXJhY3RlciwgdikKCQkJCXBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpCgkJCWVuZAoJCQl3YXJuKCJFbnN1cmluZyBFU1AgZWxlbWVudHMgYXJlIGRpc2FibGVkLi4uIikKCQkJRVNQRW5hYmxlZCA9IGZhbHNlCgkJCUdFU1BFbmFibGVkID0gZmFsc2UKCQkJd2FybigiUmVzZXR0aW5nIGhhY2sgdmFsdWVzLi4uIikKCQkJZm9yIGEsYiBpbiBwYWlycyhtdnRnKSBkbwoJCQkJaWYgdHlwZW9mKGIpID09ICJ0YWJsZSIgdGhlbgoJCQkJCWZvciBjLGQgaW4gcGFpcnMoYikgZG8KCQkJCQkJaWYgdHlwZW9mKGQpID09ICJ0YWJsZSIgdGhlbgoJCQkJCQkJZm9yIGUsZiBpbiBwYWlycyhkKSBkbwoJCQkJCQkJCWlmIGYgdGhlbiBmID0gZmFsc2UgZW5kCQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQl3YXJuKCJEZXN0cm95aW5nIEVCR3VpIGFuZCBpdHMgY2hpbGRyZW4uLi4iKQoJCQllYmd1aTpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gaW5wdXRCb3goKQoJCQlsb2NhbCB0ZXh0ID0gY29tbWFuZEJveC5UZXh0CgkJCXdhaXQoKQoJCQljb21tYW5kQm94LlRleHQgPSAiIgoKCQkJbG9jYWwgcHJlZml4ID0gIjsiCgkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMSkgPT0gKHByZWZpeCkgdGhlbgoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoKCQkJCWlmICgoc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpKSBhbmQgbm90IChzdHJpbmcuc3ViKHRleHQsMSw3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSkpIG9yIChzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInJlZnJlc2giKSkgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXI6QnJlYWtKb2ludHMoKQoJCQkJCXdhaXQoLjEyNSkKCQkJCQlyZWZyZXNoKHBsYXllcikKCQkJCWVsc2VpZiAoc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpKSBvciAoc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJ0ZWxlcG9ydCIpKSB0aGVuCgkJCQkJbG9jYWwgdGVsZXBvcnR0bwoJCQkJCWxvY2FsIHRwbmFtZQoJCQkJCWxvY2FsIHBhcmcKCQkJCQlsb2NhbCBwbGFjZQoJCQkJCWxvY2FsIG1pbmxldgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAidGVsZXBvcnQiKSB0aGVuCgkJCQkJCXBhcmcgPSBzdHJpbmcuc3ViKHRleHQsIDExKQoJCQkJCQlsb2NhbCBzID0gc3RyaW5nLmdzdWIocGFyZywiJXMrIiwiIikKCQkJCQkJcGxhY2UgPSBzdHJpbmcubG93ZXIocykKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpIHRoZW4KCQkJCQkJcGFyZyA9IHN0cmluZy5zdWIodGV4dCwgNSkKCQkJCQkJbG9jYWwgcyA9IHN0cmluZy5nc3ViKHBhcmcsIiVzKyIsIiIpCgkJCQkJCXBsYWNlID0gc3RyaW5nLmxvd2VyKHMpCgkJCQkJZW5kCgoJCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNTY2Mzk5MjQ0CgkJCQkJCXRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiCgkJCQkJCW1pbmxldiA9IDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN0YW5kYXJkNDAiIG9yIHBsYWNlID09ICJzdGFuZGFyZCIgb3IgcGxhY2UgPT0gIjI1Njk2MjU4MDkiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDI1Njk2MjU4MDkKCQkJCQkJdHBuYW1lID0gIlN0YW5kYXJkIgoJCQkJCQltaW5sZXYgPSAwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJsaWdodCIgb3IgcGxhY2UgPT0gIjU3MDE1ODA4MSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNTcwMTU4MDgxCgkJCQkJCXRwbmFtZSA9ICJMaWdodCIKCQkJCQkJbWlubGV2ID0gNDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gImZpcmUiIG9yIHBsYWNlID09ICI1Mzc2MDAyMDQiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDUzNzYwMDIwNAoJCQkJCQl0cG5hbWUgPSAiRmlyZSIKCQkJCQkJbWlubGV2ID0gODAKCQkJCQllbHNlaWYgcGxhY2UgPT0gIndhdGVyIiBvciBwbGFjZSA9PSAiNTIwNTY4MjQwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSA1MjA1NjgyNDAKCQkJCQkJdHBuYW1lID0gIldhdGVyIgoJCQkJCQltaW5sZXYgPSAxMjAKCQkJCQllbHNlaWYgcGxhY2UgPT0gImdyYXNzIiBvciBwbGFjZSA9PSAiNTU0OTU1NTYwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSA1NTQ5NTU1NjAKCQkJCQkJdHBuYW1lID0gIkdyYXNzIgoJCQkJCQltaW5sZXYgPSAyMDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNjAyMDQ4NTUwCgkJCQkJCXRwbmFtZSA9ICJIZWF2ZW4iCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDU3NTQ1NjY0NgoJCQkJCQl0cG5hbWUgPSAiTWluaWxvdmFuaWEiCgkJCQkJCW1pbmxldiA9IDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gMTI0MzYxNTYxMgoJCQkJCQl0cG5hbWUgPSAiU3Vydml2YWwiCgkJCQkJCW1pbmxldiA9IDAKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUaGUgcGxhY2Ugd2FzIGluY29ycmVjdGx5IHNwZWNpZmllZCEiCgkJCQkJZW5kCgoJCQkJCWlmIHRlbGVwb3J0dG8gYW5kIG5vdCAodGVsZXBvcnR0byA9PSBnYW1lLlBsYWNlSWQpIHRoZW4gLS0gSWYgdGVsZXBvcnQgdG8gd2FzIHByb3ZpZGVkIGFuZCBub3QgdGhlIGN1cnJlbnQgcGxhY2UuLi4KCQkJCQkJaWYgbm90ICh0ZWxlcG9ydHRvID09IDYwMjA0ODU1MCkgdGhlbiAtLSBJZiB5b3UncmUgbm90IGNvbm5lY3RpbmcgdG8gSGVhdmVuLi4uCgoJCQkJCQkJbG9jYWwgcGQgLS0gUGxheWVyRGF0YSBjb25uZWN0aW9uCgkJCQkJCQlsb2NhbCBwbGV2IC0tIFZhcmlhYmxlIGZvciBwbGF5ZXIncyBjdXJyZW50IGxldmVsCgkJCQkJCQlsb2NhbCBIYXNIZWF2ZW4gPSBnYW1lOkdldFNlcnZpY2UoIk1hcmtldHBsYWNlU2VydmljZSIpOlVzZXJPd25zR2FtZVBhc3NBc3luYyhJRCwgMjE2MjQ0OCkKCQkJCQkJCS0tIF5eIFJldHVybnMgYSBib29sIHZhbHVlIGRlcGVuZGluZyBvbiBpZiB5b3Ugb3duIEhlYXZlbgoJCQkJCQkJcGQgPSBSU1I6V2FpdEZvckNoaWxkKCJQbGF5ZXJEYXRhIikuT25DbGllbnRFdmVudDpDb25uZWN0KGZ1bmN0aW9uKHAsdCkKCQkJCQkJCQlpZiBwLk5hbWUgfj0gcGxheWVyLk5hbWUgdGhlbiByZXR1cm4gZW5kCgkJCQkJCQkJcGxldiA9IHRvbnVtYmVyKHQuRGF0YS5MZXZlbCkKCQkJCQkJCQlwZDpEaXNjb25uZWN0KCkKCQkJCQkJCWVuZCkgLS0gR3JhYnMgdGhlIHBsYXllcidzIGxldmVsIGFuZCBzYXZlcyBpdCB0byBwbGV2CgkJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsZXYgfj0gbmlsIC0tIFRvIGF2b2lkIHRoZSByZW1haW5kZXIgb2YgdGhlIGNvZGUgcnVubmluZwoJCQkJCQkJLS0gYmVmb3JlIHRoZSBjb25uZWN0aW9uIGNhbiBjbG9zZSwgd2FpdCB1bnRpbCBwbGV2IGlzIG5vIGxvbmdlciBuaWwKCgkJCQkJCSAgICBpZiB0b251bWJlcihwbGV2KSA9PSBuaWwgdGhlbiAtLSBJZiwgc29tZWhvdywgcGxldiBpcyBub3QgYSBudW1iZXIsCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlNvbWV0aGluZyB3ZW50IHdyb25nISIgLS0gLi4uY2hhbmdlIG91dHB1dAoJCQkJCQkJCXdhcm4oIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoZW4gZ2V0dGluZyBjdXJyZW50IGxldmVsISIpIC0tIC4uLndhcm4gcGxheWVyCgkJCQkJCQkJcHJpbnQoIkdvdCB5b3VyIGN1cnJlbnQgbGV2ZWwgYXMgIiAuLiB0b3N0cmluZyhwbGV2KSkgLS0gLi4ucmV0dXJuIHdoYXQgcGxldiBpcwoJCQkJCQkJZWxzZWlmIHBsZXYgPj0gbWlubGV2IHRoZW4gLS0gT3RoZXJ3aXNlLCBpZiBwbGV2IGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWlubGV2IG9mIGEgY2VydGFpbiBtYXAuLi4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGVsZXBvcnRpbmcgdG8gIiAuLiB0cG5hbWUgLi4gIiEiIC0tIC4uLmNoYW5nZSBvdXRwdXQKCQkJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pIC0tIC4uLnRlbGVwb3J0IHBsYXllcgoJCQkJCQkJZWxzZSAtLSBJZiBhbGwgZWxzZSBmYWlscy4uLgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UncmUgbm90IGhpZ2ggZW5vdWdoIG9mIGEgbGV2ZWwgZm9yIHRoaXMgYXJlYSEiIC0tIC4uLmNoYW5nZSBvdXRwdXQKCQkJCQkJCWVuZAoJCQkJCQllbHNlIC0tIE90aGVyd2lzZS4uLgoJCQkJCQkJaWYgSGFzSGVhdmVuIHRoZW4gLS0gLi4uaWYgeW91IGhhdmUgdGhlIEhlYXZlbiBnYW1lcGFzcy4uLgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUZWxlcG9ydGluZyB0byAiIC4uIHRwbmFtZSAuLiAiISIgLS0gLi4uY2hhbmdlIG91dHB1dAoJCQkJCQkJCWdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQodGVsZXBvcnR0bykgLS0gLi4udGVsZXBvcnQgcGxheWVyCgkJCQkJCQllbHNlIC0tIE90aGVyd2lzZS4uLgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UgbmVlZCB0aGUgSGVhdmVuIEdhbWVwYXNzIHRvIGdvIGhlcmUhIiAtLSAuLi5jaGFuZ2Ugb3V0cHV0CgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHRlbGVwb3J0dG8gPT0gZ2FtZS5QbGFjZUlkIHRoZW4gLS0gT3RoZXJ3aXNlLi4uCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UncmUgYWxyZWFkeSBpbiAiIC4uIHRwbmFtZSAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gImRlY2x1dHRlciIpIHRoZW4KCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkNoYXJhY3Rlci5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQm9vay5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2hvcC5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJyYWluIikgdGhlbgoJCQkJCWxvY2FsIGN1cnJlbnRDQU0gPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQoJCQkJCWxvY2FsIHJhaW5Tb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQoJCQkJCXJhaW5Tb3VuZC5Mb29wZWQgPSB0cnVlCgkJCQkJcmFpblNvdW5kLlNvdW5kSWQgPSAicmJ4YXNzZXRpZDovLzI4MzE2NDU5MyIKCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJCXJhaW5Tb3VuZC5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJCQlyYWluU291bmQ6UGxheSgpCgoJCQkJCWxvY2FsIHJhaW5QYXJ0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoMzAwLCAzMDAsIDMwMCkKCQkJCQlyYWluUGFydC5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJcmFpblBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQkJcmFpblBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCgoJCQkJCWxvY2FsIHJhaW5FZmZlY3QgPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6V2FpdEZvckNoaWxkKCJFZmZlY3RzIik6V2FpdEZvckNoaWxkKCJSYWluIikKCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQoJCQkJCXJhaW5FZmZlY3QuUGFyZW50ID0gcmFpblBhcnQKCgkJCQkJbG9jYWwgaWdub3JlID0gd29ya3NwYWNlOldhaXRGb3JDaGlsZCgiLklnbm9yZSIpCgkJCQkJcmFpblBhcnQuUGFyZW50ID0gaWdub3JlOldhaXRGb3JDaGlsZCgiLlNlcnZlckVmZmVjdHMiKQoKCQkJCQlsb2NhbCBmb3YgPSAyICogbWF0aC50YW4obWF0aC5yYWQoY3VycmVudENBTS5GaWVsZE9mVmlldykgLyAyKQoJCQkJCWxvY2FsIG5ld1JheSA9IFJheS5uZXcKCQkJCQlsb2NhbCBoZWlnaHQgPSBWZWN0b3IzLm5ldygwLCA1MCwgMCkKCQkJCQlsb2NhbCBkZXB0aCA9IENGcmFtZS5uZXcoMCwgZm92ICogNTAsIC02MCkKCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIik6QmluZFRvUmVuZGVyU3RlcCgiUmFpbiIsIEVudW0uUmVuZGVyUHJpb3JpdHkuQ2FtZXJhLlZhbHVlLCBmdW5jdGlvbigpCgkJCQkJCWxvY2FsIHJjID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChuZXdSYXkoY3VycmVudENBTS5DRnJhbWUucCwgaGVpZ2h0KSwge2lnbm9yZX0pCgoJCQkJCQlpZiAocmMpIHRoZW4KCQkJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMC41CgkJCQkJCQlyZXR1cm4KCQkJCQkJZW5kCgoJCQkJCQlsb2NhbCB2aWV3cG9ydCA9IGN1cnJlbnRDQU0uVmlld3BvcnRTaXplCgkJCgkJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyhmb3YgKiB2aWV3cG9ydC54IC8gdmlld3BvcnQueSAqIDUwLCAwLjIsIDEwMCkKCQkJCQkJcmFpblBhcnQuQ0ZyYW1lID0gY3VycmVudENBTS5DRnJhbWUgKiBkZXB0aAoJCQoJCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQoJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSB0cnVlCgkJCgkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNCkgPT0gKHByZWZpeCAuLiAiZml4IikgdGhlbgoJCQkJCWlmIHBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikgdGhlbgoJCQkJCQlwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpLlZpc2libGUgPSBmYWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRml4aW5nIHRoZSBNZW51IEdVSSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMykgPT0gKHByZWZpeCAuLiAiYnV0dG9uaGVpZ2h0IikgdGhlbgoJCQkJCWJ1dHRvbkhlaWdodCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKQoJCQkJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCBidXR0b25IZWlnaHQpCgkJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBoZWlnaHQgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKSAuLiAiISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJidXR0b25nYXAiKSB0aGVuCgkJCQkJYnV0dG9uR2FwID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpCgkJCQkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIGJ1dHRvbkdhcCkKCQkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQoKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGdhcCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpIC4uICIhIgoJCQkJZWxzZWlmICgoc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpKSBhbmQgKHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAicmVqb2luIikpKSBvciAoc3RyaW5nLnN1Yih0ZXh0LDEsMykgPT0gKHByZWZpeCAuLiAicmoiKSkgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZWpvaW5pbmcuLi4iCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydChnYW1lLlBsYWNlSWQsIHBsYXllcikKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImF1cmEvb2ZmIikgdGhlbgoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpCgoJCQkJCWlmIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIikgdGhlbgoJCQkJCQlnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpOkRlc3Ryb3koKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBoYXMgYmVlbiByZW1vdmVkLiIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGRvZXMgbm90IGV4aXN0ISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDE0KSA9PSAocHJlZml4IC4uICJ0YXJnZXRzZXR0aW5nIikgdGhlbgoJCQkJCXRhcmdldFNldHRpbmcgPSBzdHJpbmcuc3ViKHRleHQsIDE2KQoKCQkJCQlyZXBlYXQKCQkJCQkJaWYgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBzZWxlY3QhIgoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gY2xvc2VzdCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGZhcnRoZXN0ISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGxvd2hwISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBoaWdoaHAhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQktLVtbZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsaWNrIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU2V0IHRhcmdldCBzZXR0aW5nIHRvIGNsaWNrISIKCQkJCQkJCXdhaXQoMikJCQkJCQkJCgkJCQkJCQlpZiBub3QgKHRhcmdldCA9PSBwbGF5ZXIuTmFtZSkgdGhlbgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJZW5kCgoJCQkJCQkJbG9jYWwgbWNvbgoJCQkJCQkJbG9jYWwgcG1vZAoJCQkJCQkJbWNvbiA9IG1vdXNlLkJ1dHRvbjFVcDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQkJCQltb3VzZS5UYXJnZXRGaWx0ZXIgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpWyJNYXAiXQoJCQkJCQkJCWlmIG1vdXNlLlRhcmdldCB+PSBuaWwgdGhlbgoJCQkJCQkJCQlwbW9kID0gbW91c2UuVGFyZ2V0OkZpbmRGaXJzdEFuY2VzdG9yT2ZDbGFzcygiTW9kZWwiKQoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJcG1vZCA9IHsKCQkJCQkJCQkJCVsiTmFtZSJdID0gIk5BIgoJCQkJCQkJCQl9CgkJCQkJCQkJZW5kCgkJCQkJCQkJcHJpbnQocG1vZC5OYW1lKQoJCQkJCQkJCWlmIHBtb2QuTmFtZSB+PSAiTkEiIHRoZW4KCQkJCQkJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJCQkJCQlpZiB2Lk5hbWUgPT0gcG1vZC5OYW1lIHRoZW4KCQkJCQkJCQkJCQl0YXJnZXQgPSB2Lk5hbWUKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCQltY29uOkRpc2Nvbm5lY3QoKQoJCQkJCQkJZW5kKV1dCgkJCQkJCWVsc2UKCQkJCQkJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIFNldHRpbmcgaGFzIGJlZW4gc2V0IHRvIHNlbGVjdC4gU2VlIGNvbnNvbGUgZm9yIG9wdGlvbnMuIgoJCQkJCQkJcHJpbnQoIlZhbGlkIHRhcmdldCBzZXR0aW5nIG9wdGlvbnM7IHNlbGVjdCwgY2xvc2VzdCwgZmFydGhlc3QsIGxvd2hwLCBoaWdoaHAsIGNsaWNrLiIpCgkJCQkJCWVuZAoJCQkJCXVudGlsIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIKCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlsb29waW5nID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBsb29waW5nIGF0dGFja3MhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWxvb3BpbmcgPSBub3QgbG9vcGluZwoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoKCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCXdoaWxlIGxvb3BpbmcgZG8KCQkJCQkJCWV4cGxvaXQoKQoJCQkJCQkJd2FpdCgpCgkJCQkJCWVuZAoJCQkJCQlyZXR1cm4KCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4KCQkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQoJCQkJCXdhaXQoKQoJCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbgoJCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCVNtYXJ0QXR0YWNrID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJU21hcnRBdHRhY2sgPSBub3QgU21hcnRBdHRhY2sKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgU21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuCgkJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4KCQkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIKCQkJCQkJd2FpdCgpCgkJCQkJZW5kCgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDE3KSA9PSAibm9ybWFsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gMAoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmV2ZXJ0aW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImdyYXlzY2FsZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTEKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkdyYXlzY2FsaW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGh1ZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBodWUuLi4iCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0YWxsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBhbGwuLi4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJsYWNrY2FzdCIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgYmxhY2sgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInN0dW4iKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJc3R1bkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCXN0dW5FbmFibGVkID0gbm90IHN0dW5FbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpEaXNhYmxlKCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8KCQkJCQkJCQljb25uZWN0aW9uOkVuYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIHN0dW4gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJkcnVncyIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgOSkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWRydWdzRW5hYmxlZCA9IG5vdCBkcnVnc0VuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZHJ1ZyBtb2RlICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuCgkJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgMTMpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgKGNvbG9yMSB+PSBuaWwpIGFuZCAoY29sb3IyIH49IG5pbCkgYW5kIChjb2xvcjMgfj0gbmlsKSB0aGVuCgkJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZW5hYmxlZCEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgKGFyZ3NbMV0gPT0gImYiKSBvciAoYXJnc1sxXSA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGRpc2FibGVkISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJYXJnc1sxXSA9IHRvbnVtYmVyKGFyZ3NbMV0pCgkJCQkJCWFyZ3NbMl0gPSB0b251bWJlcihhcmdzWzJdKQoJCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkKCgkJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iCgkJCQkJCWVsc2UKCQkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbgoJCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlCgoJCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbwoJCQkJCQkJCQlpZiAoYXJnc1tpXSA8IDApIG9yIChhcmdzW2ldID4gMjU1KSB0aGVuCgkJCQkJCQkJCQlleGVjdXRhYmxlID0gZmFsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbgoJCQkJCQkJCQljb2xvcjEgPSBhcmdzWzFdCgkJCQkJCQkJCWNvbG9yMiA9IGFyZ3NbMl0KCQkJCQkJCQkJY29sb3IzID0gYXJnc1szXQoKCQkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISIKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiCgkJCQkJCQkJZW5kCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIgoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbgoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkKCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQoJCQkJCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbgoJCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuCgkJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkKCQkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkKCQkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksCgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiBhcmdzWzFdIHRoZW4JCQkJCgkJCQkJCWlmICgjKGZpbmRQbGF5ZXIoYXJnc1sxXSkpID09IDEpIHRoZW4KCQkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdCgkJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyCgoJCQkJCQkJaWYgY2hyIHRoZW4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiIKCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiKQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCWlmIGNociA9PSBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KCQkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImVjaG9lcyIpIHRoZW4JCQkJCQoJCQkJCWlmIHN0cmluZy5maW5kKHRleHQsInBoYXNlIikgYW5kIG5vdCBzdHJpbmcuZmluZCh0ZXh0LCJhdXRvIikgdGhlbgoJCQkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgMTUpCgkJCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSA9PSBuaWwgdGhlbgoJCQkJCQkJaWYgKHBoYXNlID09ICJwb3ciKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAxCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbHNlaWYgKHBoYXNlID09ICJicm4iKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAyCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIEJSTiEiCgkJCQkJCQllbHNlaWYgKHBoYXNlID09ICJzdG4iKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAzCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFNUTiEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnk6IFBPVzsgQlJOOyBTVE4sIG9yIG51bWJlciAxLTMuIgoJCQkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIFBPVywgQlJOLCBTVE4sIG9yIG51bWJlciAxLTMsIGdvdCAiLi5waGFzZSkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdG9udW1iZXIocGhhc2UpIH49IG5pbCB0aGVuCgkJCQkJCQlpZiBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkgPT0gMSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAxCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbHNlaWYgbWF0aC5mbG9vcih0b251bWJlcihwaGFzZSkpID09IDIgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBCUk4hIgoJCQkJCQkJZWxzZWlmIG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKSA9PSAzIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDMKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gUE9XISIKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLmZpbmQodGV4dCwiYXV0byIpIGFuZCBub3Qgc3RyaW5nLmZpbmQodGV4dCwicGhhc2UiKSB0aGVuCgkJCQkJCWxvY2FsIGJvb2wgPSBzdHJpbmcuc3ViKHRleHQsMTQpCgkJCQkJCWlmIChib29sID09ICJ0Iikgb3IgKGJvb2wgPT0gIm9uIikgdGhlbgoJCQkJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBhdXRvLXRhcmdldCBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVsc2UKCQkJCQkJCQlFY2hvZXNBdXRvID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gRWNob2VzIGF1dG8tdGFyZ2V0ISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgKGJvb2wgPT0gImYiKSBvciAoYm9vbCA9PSAib2ZmIikgdGhlbgoJCQkJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJCQkJRWNob2VzQXV0byA9IGZhbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgRWNob2VzIGF1dG8tdGFyZ2V0ISIKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIGF1dG8tdGFyZ2V0IGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgYm9vbCA9PSAiIiB0aGVuCgkJCQkJCQlsb2NhbCBBdXRvCgkJCQkJCQlFY2hvZXNBdXRvID0gbm90IEVjaG9lc0F1dG8KCQkJCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCQkJCUF1dG8gPSAib24iCgkJCQkJCQllbHNlCgkJCQkJCQkJQXV0byA9ICJvZmYiCgkJCQkJCQllbmQKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIEVjaG9lcyBhdXRvLXRhcmdldCB0byAiLi5BdXRvLi4iISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnkgdC9mLCBvbi9vZmYuIgoJCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZSEgRXhwZWN0ZWQgdC9mIG9yIG9uL29mZiwgZ290ICIuLmJvb2wpCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnkgcGhhc2Ugb3IgYXV0by4iCgkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIHBoYXNlIG9yIGF1dG8sIGdvdCAiLi5zdHJpbmcuc3ViKHRleHQsOSkpCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiY2hhbmdlbG9nIikgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDb3BpZWQgdGhlIGNoYW5nZWxvZyB0byB5b3VyIGNsaXBib2FyZCEiCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkdVSSNjaGFuZ2Vsb2ciKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAib3JpZ2luIikgdGhlbgoJCQkJCXhwY2FsbChmdW5jdGlvbigpCgkJCQkJCWxvY2FsIG9yaWdpbiA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJCW9yaWdpbi5BbmNob3JlZCA9IHRydWUKCQkJCQkJb3JpZ2luLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl0KCQkJCQkJb3JpZ2luLk5hbWUgPSAiT3JpZ2luIgoJCQkJCQlvcmlnaW4uTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24KCQkJCQkJb3JpZ2luLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiUmVhbGx5IHJlZCIpCgkJCQkJCW9yaWdpbi5TaXplID0gVmVjdG9yMy5uZXcoMC41LCAwLjUsIDAuNSkKCQkJCQkJb3JpZ2luLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKCQkJCQkJd2FybigiTWFkZSBhIGJsb2NrIGF0IHRoZSBvcmlnaW4hIikKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3MhIENoZWNrIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyIKCQkJCQllbmQsIGZ1bmN0aW9uKGUpCgkJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkKCQkJCQkJd2FybigndHJhY2ViYWNrOicsIGRlYnVnLnRyYWNlYmFjaygpKQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9ibG9iL21haW4vRG9jcy5tZCIpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvY3VtZW50YXRpb24gY29waWVkIHRvIGNsaXBib2FyZCEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJpbmZvIikgdGhlbgoJCQkJCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAic3RhdHVzIiB0aGVuCgkJCQkJCXByaW50KCJUaGUgY3VycmVudCBzdGF0dXMgb2YgRUJHdWkgaXMgIiAuLiBzdGF0dXMpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkd1aSBTdGF0dXM6ICIgLi4gc3RhdHVzCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInJlcG8iIG9yIHN0cmluZy5zdWIodGV4dCwgNykgPT0gImdpdGh1YiIgdGhlbgoJCQkJCQlwcmludCgiVGhlIEdpdEh1YiByZXBvc2l0b3J5IGxpbmsgaXMgIiAuLiByZXBvKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1cGRhdGUiKSB0aGVuCgkJCQkJbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL21haW4vYmluL2luZm8ubHVhJykpKCkKCQkJCQlpZiB2ZXJOdW0gPT0gY3VycmVudCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJObyB1cGRhdGUgcmVxdWlyZWQhIgoJCQkJCWVsc2VpZiB2ZXJOdW0gPT0gbGFzdCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJWZXJzaW9uIG91dGRhdGVkISBDdXJyZW50OiAiIC4uIGN1cnJlbnQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJicm8gdXIgb24gYSBkZXYgYnVpbGQgb3Igc20iCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LDEsNSkgPT0gKHByZWZpeC4uImRlc3AiKSB0aGVuCgkJCQkJbG9jYWwgYXJnID0gc3RyaW5nLnN1Yih0ZXh0LDcpCgkJCQkJbG9jYWwgZnVuY3Rpb24gcmVsb2FkRVNQKCkKCQkJCQkJaWYgRVNQRW5hYmxlZCB0aGVuCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJCQkJcGNhbGwoVW5sb2FkUGxheWVyLCB2KQoJCQkJCQkJCXBjYWxsKExvYWRQbGF5ZXIsIHYpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWlmIEdFU1BFbmFibGVkIHRoZW4KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQkJCQkJcGNhbGwoR1VubG9hZFBsYXllciwgdikKCQkJCQkJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCQlsb2NhbCBmdW5jdGlvbiBpc251bWJlcihuKQoJCQkJCQlyZXR1cm4gKHR5cGUobikgPT0gIm51bWJlciIpIGFuZCAobWF0aC5mbG9vcihuKSA9PSBuKQoJCQkJCWVuZAoJCQkJCWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCAodG9udW1iZXIoYXJnKSA+PSAxMDAgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAwMDAwKSB0aGVuCgkJCQkJCUVTUEluZm8uTWF4RGlzdCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCw3KSkKCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnLk1heERpc3RhbmNlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQlFU1BJbmZvLkdvbGQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCw3KSkKCQkJCQkJcmVsb2FkRVNQKCkKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlNldCBFU1AgTWF4IERpc3RhbmNlIHRvICIgLi4gYXJnCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpIDw9IDEwIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk51bWJlciB0b28gbG93ISBUcnkgc29tZXRoaW5nIGJpZ2dlci4iCgkJCQkJZWxzZWlmIGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCB0b251bWJlcihhcmcpID49IDEwMDAwMCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJXT0FIIFRIQVQnUyBBIEJJRyBOVU1CRVIuIFVzZSBzb21ldGhpbmcgc21hbGxlciEiCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAidCIgb3IgYXJnID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgRVNQSW5mby5FbmFibGVkIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFU1AgTWF4IERpc3RhbmNlIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlFU1BJbmZvLkVuYWJsZWQgPSB0cnVlCgkJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSBFU1BJbmZvLk1heERpc3QKCQkJCQkJCUVTUEluZm8uR29sZC5OYW1lVGFnLk1heERpc3RhbmNlID0gRVNQSW5mby5NYXhEaXN0CgkJCQkJCQlyZWxvYWRFU1AoKQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvbiBFU1AgTWF4IERpc3RhbmNlISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAiZiIgb3IgYXJnID09ICJvZmYiKSB0aGVuCgkJCQkJCWlmIEVTUEluZm8uRW5hYmxlZCB0aGVuCgkJCQkJCQlFU1BJbmZvLkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnLk1heERpc3RhbmNlID0gMAoJCQkJCQkJRVNQSW5mby5Hb2xkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSAwCgkJCQkJCQlyZWxvYWRFU1AoKQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgRVNQIE1heCBEaXN0YW5jZSEiCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFU1AgTWF4IERpc3RhbmNlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZW5kCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBhcmd1bWVudCEgRGlkIHlvdSBzcGVjaWZ5IGEgbnVtYmVyPyIKCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZS4gR290ICIgLi4gYXJnIC4uICIsIGV4cGVjdGVkIGJvb2xlYW4gb3IgbnVtYmVyIikKCQkJCQllbmQJCQkJCQkJCQkJCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LDEsOCkgPT0gKHByZWZpeCAuLiAiYW50aWFmayIpIHRoZW4KCQkJCQlpZiBBbnRpQWZrIHRoZW4KCQkJCQkJQW50aUFmayA9IGZhbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIGFudGktYWZrISIKCQkJCQllbHNlCgkJCQkJCUFudGlBZmsgPSB0cnVlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gYW50aS1hZmshIgoJCQkJCQl3YWl0KDEuNSkKCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJZW5kCgkJCQkJCWxvY2FsIHN0b3BwZWRDb3VudCA9IDAKCQkJCQkJcmVwZWF0CgkJCQkJCQlsb2NhbCBpZGxlY29ubmVjdAoJCQkJCQkJaWRsZWNvbm5lY3QgPSBwbGF5ZXIuSWRsZWQ6Y29ubmVjdChmdW5jdGlvbigpCgkJCQkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJWaXJ0dWFsVXNlciIpOkNsaWNrQnV0dG9uMihWZWN0b3IyLm5ldyhVRGltMi5uZXcoLjUpKSkKCQkJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIikuQnV0dG9uMlVwOmNvbm5lY3QoZnVuY3Rpb24oKSAKCQkJCQkJCQkJbG9jYWwgb3JpZ2luYWwKCQkJCQkJCQkJaWYgc3RvcHBlZENvdW50IHRoZW4gc3RvcHBlZENvdW50ID0gc3RvcHBlZENvdW50ICsgMSBlbmQKCQkJCQkJCQllbmQpCgkJCQkJCQkJcHJpbnQoIlN0b3BwZWQgaWRsZSBkaXNjb25uZWN0ICIuLnN0b3BwZWRDb3VudC4uIiB0aW1lKHMpLiIpCgkJCQkJCQkJaWRsZWNvbm5lY3Q6RGlzY29ubmVjdCgpCgkJCQkJCQllbmQpCQkJCQkJCQoJCQkJCQkJd2FpdCgpIAoJCQkJCQl1bnRpbCBBbnRpQWZrID09IGZhbHNlCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgY29tbWFuZCEgRGlkIHlvdSB0eXBlIGl0IHdyb25nPyIKCQkJCQl3YXJuKCJHb3QgYW4gaW52YWxpZCBjb21tYW5kIGF0IHJ1bnRpbWUuIENvbW1hbmQgcmVjZWl2ZWQgd2FzICIuLnRleHQpCgkJCQllbmQKCgkJCQl3YWl0KDEuNSkKCQkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgkJCQllbmQKCQkJZWxzZQoJCQkJbG9jYWwgbWF0Y2hlcyA9IGZpbmRQbGF5ZXIodGV4dCkKCgkJCQlpZiAjbWF0Y2hlcyA9PSAxIHRoZW4KCQkJCQl0YXJnZXQgPSBtYXRjaGVzWzFdCgkJCQkJaWYgbWF0Y2hlc1sxXSA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIJCQkJCQkKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gbWF0Y2hlc1sxXQoJCQkJCWVuZAoJCQkJCXdhaXQoMSkKCQkJCWVsc2UKCQkJCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCQkJCXdhcm4oIlRhcmdldCBub3QgZm91bmQhIERvIG11bHRpcGxlIHBsYXllcnMgaGF2ZSB0aGF0IHNhbWUgc3Vic3RyaW5nIGluIHRoZWlyIG5hbWVzPyIpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgVGFyZ2V0ISBUeXBlIHRoZWlyIG5hbWUgYWdhaW4uIgoJCQkJCXdhaXQoMS41KQoJCQkJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpjb25uZWN0KGZ1bmN0aW9uKHBsYXllcikKCQkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4KCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoVGFyZ2V0IGxlZnQhKSIKCQkJZW5kCgkJZW5kKQoKCQljb21tYW5kQm94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKGVudGVyUHJlc3NlZCkKCQkJaWYgZW50ZXJQcmVzc2VkIHRoZW4KCQkJCWlmIGNvbW1hbmRCb3guVGV4dCB+PSAiIiB0aGVuCgkJCQkJaW5wdXRCb3goKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkKCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgKG1hdGguY2VpbCgjYnV0dG9ucyAqIDM3KSAvIDIpIC0gNykKCQllbmQpKQoKCQktLSBFeHBsb2l0cwoKCQlsb2NhbCBmdW5jdGlvbiBmZigpCgkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJaWYgZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCXJldHVybiB0cnVlCgkJCQllbHNlCgkJCQkJcmV0dXJuIGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJcmV0dXJuIGZhbHNlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBleHBsb2l0KCkKCQkJLS0gRXhwbG9pdCBmdW5jdGlvbi4gV2hlbiBDIGlzIHByZXNzZWQgYW5kIG9uZSBvZiB0aGVzZSBhcmUgInRydWUiLCBpdCB3aWxsIGZpcmUgaXQuCgkJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcgoJCQlsb2NhbCBEQ00gPSBSU1IuRG9DbGllbnRNYWdpYwoJCQlsb2NhbCBETSA9IFJTUi5Eb01hZ2ljCgoJCQlpZiBtdnRnLkFvRXMuQ2hhb3MuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNoYW9zIiwiU3BhY2UtVGltZSBSdXB0dXJlIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkNoYW9zIiwKCQkJCQlbMl0gPSAiU3BhY2UtVGltZSBSdXB0dXJlIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsNSwwKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlN0b3JtIiwiTGlnaHRuaW5nIEJvbHQiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQm9sdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIk9yaWdpbiJdID0gbW91c2UuSGl0LnAgKyBWZWN0b3IzLm5ldygwLDE1LDApCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuU29sYXIuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvbGFyIiwiVW5tYXRjaGVkIFBvd2VyIG9mIHRoZSBTdW4iKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJVbm1hdGNoZWQgUG93ZXIgb2YgdGhlIFN1biIsCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsIkxpZ2h0IERpc2MiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIkxpZ2h0IERpc2MiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJQb3NpdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCVJTUi5SZW1vdGVFdmVudDpGaXJlU2VydmVyKCJMaWdodERpc2MyIikKCQkJCXdhaXQoMikKCQkJCVJTUi5SZW1vdGVFdmVudDpGaXJlU2VydmVyKCJMaWdodERpc2NEZWxldGUiKQoJCQllbmQKCgkJCWlmIG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIkV4cGxvc2l2ZSBMZWFwIikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkV4cGxvc2lvbiIsCgkJCQkJWzJdID0gIkV4cGxvc2l2ZSBMZWFwIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiTGFzdFBvcyJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24KCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvbGFyIiwgIkR5aW5nIFN0YXIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgRmlzdCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJFYXJ0aCIsCgkJCQkJWzJdID0gIlJvY2sgRmlzdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkdyb3VuZGVkIl0gPSB0cnVlCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkxpZ2h0IiwKCQkJCQlbMl0gPSAiT3JicyBvZiBFbmxpZ2h0ZW5tZW50IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiQ29vcmRpbmF0ZXMiXSA9IHsKCQkJCQkJCVsxXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs0XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs2XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs3XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVs5XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxMF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTFdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzEyXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTRdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE1XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxNl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTddID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE4XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxOV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMjBdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApCgkJCQkJCX0sCgkJCQkJCVsiT3JpZ2luIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlJlYXBlci5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiUmVhcGVyIiwgIlJlYXBlcidzIFJhZ2UiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiUmVhcGVyIiwKCQkJCQlbMl0gPSAiUmVhcGVyJ3MgUmFnZSIsCgkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQJCQoKCQkJaWYgbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDcmVhdGlvbiIsICJDb250aW51b3VzIFN0cmlrZXMiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiQ3JlYXRpb24iLAoJCQkJCVsyXSA9ICJDb250aW51b3VzIFN0cmlrZXMiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJDRiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLAoJCQkJCQlbIkNoYXJnZSJdID0gIjIiCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiSHlwZXJhbmciLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJNdXJreSBNaXNzaWxlcyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIiwge2xhc3RNb3VzZVBvc2l0aW9uID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbil9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU3Rvcm0iLCAiTGlnaHRuaW5nIERpc3BlcnNpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIsIHtHcm91bmRlZCA9IHRydWV9KQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlNvbGFyLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsIkRvdWJsZSBSYXkiKQkJCQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU29sYXIiLAoJCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwKCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlN0b3JtIiwKCQkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiCgkJCQl9CQkJCgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCQkJCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCYXJyYWdlIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiRGlyZWN0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkKCQkJCQl9CgkJCQl9CQkJCgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiVGVjaG5vbG9neSIsCgkJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCw1MDAsMCkpCgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Bpcml0IiwKCQkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iCgkJCQl9CgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGlyaXQiLAoJCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIsCgkJCQkJWzNdID0gewoJCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwYWNlIiwKCQkJCQlbMl0gPSAiQXN0ZXJvaWQgQmVsdCIsCgkJCQkJWzNdID0gewoJCQkJCQlbMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzJdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzVdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs2XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbN10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzhdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs5XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMTBdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKQoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkZpcmUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIk5hdHVyZSIsICJWaW5lIFRyYXAiLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuUGxhc21hLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJZW5kCgoJCQlpZiBTbGltZUJ1ZGRpZXNFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIikKCQkJCURNOkludm9rZVNlcnZlcigiU2xpbWUiLCAiU2xpbWUgQnVkZGllcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJDcnlzdGFsIiwgIkNyeXN0YWwgQXJtYW1lbnQiLCB7TGFzdFBvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikKCQkJCURNOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5HcmF2aXR5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGF0aW9uYWwgRmllbGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAxNSwgMCkpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBbWF1cm90aWMgTGFtYmVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50Iiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikKCQkJCURNOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5Wb2lkLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIiwge3BvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMTUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuVGltZS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCURNOkludm9rZVNlcnZlcigiVGltZSIsICJHZW5lc2lzIFJheSIsIHtsdiA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBjaGFyZ2UgPSBHUkNoYXJnZX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiVGhlIFdvcmxkIiwge3JoaXQgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydCwgbm9ybSA9IFZlY3RvcjMubmV3KDAsIDAsIDApLCBycG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb259KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5BdXJvcmEuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIikKCQkJCURNOkludm9rZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgYW5kIEVjaG9lc1BoYXNlIH49IG5pbCB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU291bmQiLCAiRWNob2VzIikKCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCURNOkludm9rZVNlcnZlcigiU291bmQiLCAiRWNob2VzIiwge0VjaG9lc1BoYXNlLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCQllbHNlCgkJCQkJRE06SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIG1vdXNlLkhpdC5wfSkKCQkJCWVuZAoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkV4cGxvc2lvbiIsICJTaGF0dGVyaW5nIEVydXB0aW9uIikKCQkJCURNOkludm9rZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5JbGx1c2lvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIikKCQkJCURNOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiRXRoZXJlYWwgQWN1bWVuIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5EcmFnb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQoJCQkJRE06SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuQWNpZC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQlEQ006RmlyZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkFjaWQiLCAiVG94aWMgQmFzaWxpc2siLCB7RGlyZWN0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCBGbG9vciA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZX0pCgkJCQl3YWl0KDE3LjUpCgkJCQlpZiBGcmVlemVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJZW5kCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJBbmdlbCIsICJBcmNhbmUgR3VhcmRpYW4iLCB7UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDUwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIikKCQkJCURNOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24sIFZlY3RvcjMubmV3KDAsIDAsIDApfSkKCQkJZW5kCgkJZW5kCgoJCS0tW1tsb2NhbCBmdW5jdGlvbiBCZWdpblRyYWNraW5nKCkKCQkJbG9jYWwgYyA9IGdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikuQ3VycmVudENhbWVyYQoJCQlsb2NhbCBoYiA9IGdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpLkhlYXJ0YmVhdAoJCQlsb2NhbCBtID0gcGxheWVyOkdldE1vdXNlKCkKCQkJbG9jYWwgcCA9IGM6V29ybGRUb1NjcmVlblBvaW50KHBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJaGI6Y29ubmVjdChmdW5jdGlvbihzdGVwKQoJCQkJbW91c2Vtb3ZlYWJzKHAuWCwgKHAuWSArIDI1KSkKCQkJZW5kKQoJCWVuZF1dIC0tIEZvciBBaW1ib3QsIGN1cnJlbnRseSB1bmRlciBkZXZlbG9wbWVudAoKCQktLSBVSVMKCgkJbG9jYWwgVUlTID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikKCQlsb2NhbCB0ZXJtaW5hdGV1aXMgPSBmYWxzZQoJCWxvY2FsIGNvbm5lY3Rpb24KCgkJY29ubmVjdGlvbiA9IFVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQoJCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4KCQkJCWlmIG5vdCBncCB0aGVuCgkJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyCgoJCQkJCWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlplcm8gdGhlbgoJCQkJCQljb21tYW5kQm94OkNhcHR1cmVGb2N1cygpCgkJCQkJCXdhaXQoKQoJCQkJCQlpZiBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkpID09ICIwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94LlRleHQgPSBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgMSwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpIC0gMSkKCQkJCQkJZW5kCgkJCQkJLS1bW2Vsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MIHRoZW4KCQkJCQkJdG9nZ2xlQWltYm90KCldXQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4KCQkJCQkJZXhwbG9pdCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbgoJCQkJCQlUUFRvVGFyZ2V0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuCgkJCQkJCUFudGlCbGluZEZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4KCQkJCQkJYmVnaW5TcGVlZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbgoJCQkJCQlpZiBtdnRnLk1pc2MuSW52aXMuVmFsdWUgPT0gdHJ1ZSB0aGVuCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlAgdGhlbgoJCQkJCQlpZiBTYW5zVGVsZXBvcnRFbmFibGVkIHRoZW4KCQkJCQkJCWlmIGdhbWUuUGxhY2VJZCA9PSA1NjYzOTkyNDQgb3IgZ2FtZS5QbGFjZUlkID09IDI1Njk2MjU4MDkgdGhlbgoJCQkJCQkJCWxvY2FsIFNhbnNQb3MgPSBDRnJhbWUubmV3KC0xNjg1LjkxMDUyLCAyMzAuMDM1MTI2LCAtMTgxLjc5ODI2NCkKCQkJCQkJCQlsb2NhbCBTYW5zQW5nbGVzID0gQ0ZyYW1lLkFuZ2xlcygwLCBtYXRoLnJhZCgyMCksIDApCgoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBTYW5zUG9zICogU2Fuc0FuZ2xlcwoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQkJCQkJd2FpdCgxKQoJCQkJCQkJCWlmIG5vdCBGcmVlemVFbmFibGVkIHRoZW4KCQkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuCgkJCQkJCWJlZ2luTnVsbGlmeUZvcmNlcygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkcgdGhlbgoJCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5KIHRoZW4KCQkJCQkJaWYgQ2xpY2tUUEVuYWJsZWQgdGhlbgoJCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5GIHRoZW4KCQkJCQkJRnJlZXplRnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2txdW90ZSB0aGVuCgkJCQkJCWlmIG12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCQkJCWxvbmdmbGFzaCgpCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5WIHRoZW4KCQkJCQkJdmlldygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkIgdGhlbgoJCQkJCQl0b2dnbGVFU1AoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5NIHRoZW4KCQkJCQkJdG9nZ2xlRVNQR29sZCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkxlZnRCcmFja2V0IHRoZW4KCQkJCQkJaWYgbm90IGNsb3NlZGZvcmV2ZXIgdGhlbgoJCQkJCQkJaWYgbm90IGJ1dHRvbnNkZWJvdW5jZSB0aGVuCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQoJCQkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gZmFsc2UgdGhlbgoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoJCQkJCQkJCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLAoJCQkJCQkJCQkJIk91dCIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiSW4iLAoJCQkJCQkJCQkJIlNpbmUiLAoJCQkJCQkJCQkJLjUsCgkJCQkJCQkJCQl0cnVlCgkJCQkJCQkJCSkKCQkJCQkJCQllbmQKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUmlnaHRCcmFja2V0IHRoZW4KCQkJCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQoJCQkJCQlpZiBjb21tYW5kc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCQkJCQkJIkluIiwKCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJLjUsCgkJCQkJCQkJdHJ1ZQoJCQkJCQkJKQoJCQkJCQllbmQKCQkJCQkJd2FpdCgxKQoJCQkJCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQoJCQkJCWVsc2VpZiBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5MZWZ0KSBhbmQgVUlTOklzS2V5RG93bihFbnVtLktleUNvZGUuUmlnaHQpIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRoYW5rcyBmb3IgdXNpbmcgRUJHdWkhIgoJCQkJCQl3YWl0KDIpCgkJCQkJCWlmIGJ1dHRvbnNvcGVuZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQkJCQl0ZXJtRUJHdWkoKQoJCQkJCQkJY29ubmVjdGlvbjpEaXNjb25uZWN0KCkKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTY3JpcHRzIGFuZCBGdW5jdGlvbnMgRU5ECgoJCS0tIEVudHJhbmNlIEFuaW1hdGlvbgoKCQl3YWl0KDAuNSkKCgkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJVURpbTIubmV3KDEsIDAsIDAuNjUsIDApLAoJCQkiT3V0IiwKCQkJIlNpbmUiLAoJCQkuNSwKCQkJdHJ1ZQoJCSkKCgkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCVVEaW0yLm5ldygxLCAwLCAwLjQ1LCAwKSwKCQkJIk91dCIsCgkJCSJTaW5lIiwKCQkJLjUsCgkJCXRydWUKCQkpCgoJCS0tIEluZm8KCgkJcHJpbnQoW1sKCgkJXV0pCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldlbGNvbWUgdG8gRUJHdWkhIgoJCXdhaXQoMikKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiCgllbmQsIGZ1bmN0aW9uKGUpCgkJbG9jYWwgY3Jhc2ggPSB7CgkJCSJJJ20gc28sIHNvLCBzbyBzbyBTTyBzb3JyeSEiLAoJCQkiV2F0ZXIgY29vbGluZz8gSSBwcmVmZXIgbGF2YSBjb29saW5nLiIsCgkJCSJZb3VyIEVCR3VpIHJhbiBpbnRvIGEgcHJvYmxlbSBhbmQgbmVlZHMgdG8gcmVzdGFydC4iLAoJCQkiU1RPUCBDb2RlOiAweERFQURCRUVGIiwKCQkJIklzIHRoaXMgd2hhdCBkZXZlbG9wbWVudCBpcyBsaWtlPyBJIGhhdGUgaXQuIiwKCQkJIlRoZSBVbnN0b3BwYWJsZSBNYXJjaGluZyBvRiB0aU1lIHRoYXQgaXMgc2xPd2x5IGd1aWRpbmcgdXMgYWxsIHRPd2FyZHMgYW4gSW5ldml0YUJsRSBERUFUSC4gVGhhdCBzcGVsbHMgXCJUdW0gRk0uIE93TyBPLCBJIGJlIGRlYXRoLlwiIiwKCQkJIkkgZ3Vlc3MgeW91IGNvdWxkIGNhbGwgbWUgYW4gXCJPb2VyXCIuIiwKCQkJIkVycm9yIE1lc3NhZ2UhIiwKCQkJIldob29wcywgd2UncmUgbG93IG9uIG1lbW9yeSEgVHJ5IHJlbWVtYmVyaW5nIGxhdGVyLiIsCgkJCSJXaG9vcHMsIHdlJ3JlIGxvdyBvbiBtZW1lb3J5LiBUcnkgc2VuZGluZyBQZXBlcyBsYXRlci4iLAoJCQkiT2theSwgd2hvIGtpbGxlZCB0aGUgY29tcHV0ZXIgaGFtc3RlcnM/IiwKCQkJIkNhbid0IGtlZXAgdXAhIElzIHRoZSBzY3JpcHQgb3ZlcmxvYWRlZCwgb3IgaGF2ZSB5b3UgbWVsdGVkIHlvdXIgQ1BVPyIsCgkJCSJPaCwgY29uZ3JhdHVsYXRpb25zLCAiIC4uIHBsYXllci5OYW1lIC4uICIsIHlvdSBicm9rZSBpdCEiLAoJCQkiSSBzd2VhciB0aGF0IHdhcyBpbnRlbnRpb25hbC4iLAoJCQkiSSBwcm9taXNlIGl0IHdvbid0IGhhcHBlbiBhZ2Fpbi4iLAoJCQkiT2theSwgZ29ubmEgYmUgcmVhbCwgTk8gQ0xVRSB3aGF0IHdlbnQgd3JvbmcgdGhlcmUuIiwKCQkJIk9oLCBubywgbmV2ZXJtaW5kLCBJIGtub3cgZXhhY3RseSB3aGF0IHdlbnQgd3JvbmcuIiwKCQkJIkEgcHJpZXN0LCBhIG1pbmlzdGVyLCBhbmQgYSByYWJiaXQgd2FsayBpbnRvIGEgYmxvb2QgYmFuay4iLAoJCQkiVGhlIG51cnNlIG9uIGR1dHkgYXNrcyB0aGUgdGhyZWUgZm9yIHRoZWlyIGJsb29kIHR5cGUgZ3JvdXAgdG8gZ2V0IHRoZW0gc2V0IHVwLiIsCgkJCSJUaGUgcHJpZXN0LCBkaWduaWZpZWQsIHNheXMgXCJJJ20gQUIhXCIuIiwKCQkJIlRoZSBtaW5pc3RlciwgaW5kaWZmZXJlbnQsIHJlcGxpZXMgXCJJIGJlbGlldmUgSSdtIHR5cGUgQS5cIiIsCgkJCSJUaGUgcmFiYml0LCBzaHlseSBhbmQgbmVydm91c2x5LCBsb29rcyBhcm91bmQgdGhlIHJvb20sIGJlZm9yZSBhbm5vdW5jaW5nLCBcIkkgdGhpbmsgSSBtaWdodCBiZSBhIHR5cGUgTy5cIi4iLAoJCQkiSGV5LCByZW1lbWJlciB0aGF0IHRpbWUgeW91ICpkaWRuJ3QqIGJyZWFrIGV2ZXJ5dGhpbmc/IE1lIG5laXRoZXIuIiwKCQkJIk9vcHMsIG15IGJhZC4iLAoJCQkiTWF5YmUgaWYgeW91IGJvdWdodCBHb2xkIHRoaXMgd291bGRuJ3QgaGF2ZSBoYXBwZW5lZC4iLAoJCQkiUXVpY2ssIHRvIHRoZSBEaXNjb3JkISIsCgkJCSJOb3cgd291bGQgYmUgYSBmYW50YXN0aWMgdGltZSB0byBnbyBvcGVuIGEgdGlja2V0Li4uIiwKCQkJIlRoaXMgaXMgd2hhdCBJIGdldD8gSSBkbyBhbGwgb2YgdGhpcyBmb3IgeW91LCBhbmQgeW91IGtpbGwgbWU/IiwKCQkJIldobyB0aGUgaGVsbCBzYWlkIFwib21hZSB3YSBtb3Ugc2hpbmRlcnVcIiBhdCBtZT8hIiwKCQkJIllvdSdyZSBsdWNreSB0aGlzIGlzIFJvYmxveCBvciBJJ2QgaGF2ZSBzb21lIGNob2ljZSB3b3JkcyBmb3IgeW91LiIsCgkJCSJEaWQgdGhhdCByZWFsbHkganVzdCBoYXBwZW4/ISIsCgkJCSJHb2QsIEknbSBzbyBzb3JyeSwgSSBwcm9taXNlIEknbGwgZG8gYmV0dGVyLiIsCgkJCSJUaGlzIGlzIHVzdWFsbHkgdGhlIHBhcnQgd2hlcmUtIG9oLCB0aGVyZSdzIHRoYXQgY3Jhc2ggZHVtcC4iLAoJCQkiVW5mb3J0dW5hdGVseSwgaXQgYXBwZWFycyBJJ3ZlIGRyb3BwZWQgaXQuIiwKCQkJIldlJ3JlIGN1cnJlbnRseSBleHBlcmllbmNpbmcgdGVjaG5pY2FsIGRpZmZpY3VsdGllcy4gUGxlYXNlIHN0YW5kIGJ5LiIsCgkJCSJUb25pZ2h0LCB3ZSBhcmUgdW5hYmxlIHRvIGJyaW5nIHlvdSBCaW5nbyBOaWdodCBMaXZlLiIsCgkJCSJZYWtub3csIGlmIHRoaXMgd2VyZSBhIEJCQyB0ZWxldmlzaW9uIGJyb2FkY2FzdCwgdGhpcyBpc3N1ZSBtaWdodCBzZWVtIG5vcm1hbC4iLAoJCQkiSXQncyBqdXN0IG9uZSBvZiB0aG9zZSBkYXlzLCBpc24ndCBpdD8iLAoJCQkiSnVzdCB3aGFjayB0aGUgc2lkZSBhIGNvdXBsZSB0aW1lcywgdGhhdCBzaG91bGQgZG8gaXQuIiwKCQkJIk9uIHRoZSBmaXJzdCBkYXkgb2YgQ2hyaXN0bWFzLCBteSB0cnVlIGxvdmUgZ2F2ZSB0byBtZS4uLiIsCgkJfQoKCQlwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKCQlwcmludChjcmFzaFttYXRoLnJhbmRvbSgxLCNjcmFzaCldKQoJCXByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQoJCXdhcm4oIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggRUJHdWkhIikKCQlwcmludChlKQoJCXByaW50KCJUaGlzIGNyYXNoIHJlcG9ydCB3YXMgZ2VuZXJhdGVkIG9uICIgLi4gb3MuZGF0ZSgnJXggJVgnLG9zLnRpbWUoKSkgLi4gIiBhbmQgd2lsbCBiZSBzYXZlZCBpbiB5b3VyIGV4ZWN1dG9yJ3MgV29ya3NwYWNlIGZvbGRlci4iKQoKCQlsb2NhbCB1ZiA9IG9zLmRhdGUoIiV4XyVYIixvcy50aW1lKCkpCgkJbG9jYWwgZGYgPSBzdHJpbmcuZ3N1Yih1ZiwiLyIsIi0iKQoJCWxvY2FsIGR0ZiA9IHN0cmluZy5nc3ViKGRmLCI6IiwiLSIpCgkJbG9jYWwgZXhlYyA9IGlkZW50aWZ5ZXhlY3V0b3IoKQoKCQlpZiBub3QgaXNmb2xkZXIoIkVCR3VpIikgdGhlbiBtYWtlZm9sZGVyKCJFQkd1aSIpIGVuZAoJCXdyaXRlZmlsZSgiRUJHdWlcXENyYXNoRHVtcC0iLi5kdGYuLiIudHh0IiwKCgkJIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4iIC4uIGNyYXNoW21hdGgucmFuZG9tKDEsI2NyYXNoKV0gLi4gIlxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuIiAuLgoKCQlbW0VCR3VpIHN0b3BwZWQgZXhlY3V0aW5nIGJlY2F1c2UgaXQgZW5jb3VudGVyZWQgYSBwcm9ibGVtIGl0IGRpZG4ndCBrbm93IGhvdyB0byBoYW5kbGUuCgkJClBsZWFzZSByZXBvcnQgdGhpcyBjcmFzaCBpbiB0aGUgRGlzY29yZCBieSBnb2luZyB0byAjcm9ib3RzLXVuaXRlIGFuZCBvcGVuaW5nIGEgdGlja2V0Ll1dIC4uCgoJCSItLSBCZWdpbiBFcnJvciBSZXBvcnQgLS1cbihHZW5lcmF0ZWQgb24gIiAuLiB1ZiAuLiAiKVxuXG4iIC4uCgoJCSJFeGVjdXRvcjogIiAuLiB0b3N0cmluZyhleGVjKSAuLgoJCSJcbkNsaWVudCBJRDogIiAuLiB0b3N0cmluZyhjbGllbnRpZCkgLi4KCQkiXG5QbGFjZUlkOiAiIC4uIHRvc3RyaW5nKGdhbWUuUGxhY2VJZCkgLi4KCQkiXG5TbWFydEF0dGFjayBFbmFibGVkPzogIiAuLiB0b3N0cmluZyhTbWFydEF0dGFjaykgLi4KCQkiXG5JcyBHb2xkPzogIiAuLiB0b3N0cmluZyhpc0dvbGQpIC4uIAoJCSJcbklzIE1hc3Rlcj86ICIgLi4gdG9zdHJpbmcoaXNNYXN0ZXIpIC4uCgoJCSJcblxuRXJyb3I6ICIgLi4gZSAuLgoJCSJcbkF0OiAiIC4uIGRlYnVnLnRyYWNlYmFjaygpIC4uCgoJCSJcblxuLS0gRW5kIEVycm9yIFJlcG9ydCAtLSIpCgllbmQpCmVuZA=="