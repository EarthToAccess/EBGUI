encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbgoJZ2FtZS5Mb2FkZWQ6V2FpdCgpCmVuZAoKaWYgKGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiZWJndWkiKSkgdGhlbgoJZ2FtZS5Db3JlR3VpLmViZ3VpOkRlc3Ryb3koKQplbmQKCmxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpCgpsb2NhbCBibG9ja2xpc3QgPSB7CgkxODc3MjYzMTMzCn0KCmxvY2FsIG1hc3Rlcmxpc3QgPSB7CgkiNjMzMDU3NWUtOGI5Yy00ZmI2LWE0MmQtYmFhNTU1NmI2ZTk5Igp9Cgpsb2NhbCBrZXlsaXN0ID0gewoJWyJTdGFuZGFyZCJdID0gIjI3ODYxMl9WclBZdllrQjMwXzAxMjAyMyIsCglbIkdvbGQiXSA9IHsKCQlbIk1haW4iXSA9ICJHXzE1NzM0NV9WOFV3QmZ2bzNqXzAxMjAyMyIsCgkJWyJQcm9tbyJdID0gewoJCQlbIndlbGxmZWQiXSA9IHsKCQkJCVsiS2V5Il0gPSAiUF81MjUxNjhfV3RZRmxoYUF2cV8wMTIwMjMiLAoJCQkJWyJUaW1lIl0gPSAxNjc1NDY4ODAwCgkJCX0sCgkJCVsibm9hbm5vdW5jZSJdID0gewoJCQkJWyJLZXkiXSA9ICJQXzUzODc4Ml9uRDQzVnhIb3REXzAxMjAyMyIsCgkJCQlbIlRpbWUiXSA9IDE2Nzc5MDYwMDAKCQkJfQoJCX0KCX0KfQoKbG9jYWwgcGxheWVycyA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpCmxvY2FsIHBsYXllciA9IHBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgUlNSID0gZ2FtZS5SZXBsaWNhdGVkU3RvcmFnZTpXYWl0Rm9yQ2hpbGQoIlJlbW90ZXMiKQpsb2NhbCBJRCA9IHBsYXllci5Vc2VySWQKbG9jYWwgaXNCbG9ja2VkID0gZmFsc2UKbG9jYWwgaXNNYXN0ZXIgPSBmYWxzZQpsb2NhbCBpc0dvbGQgPSBmYWxzZQpsb2NhbCBoYXNLZXkgPSBmYWxzZQpsb2NhbCB2ZXJOdW0gPSAidjMuMS4yIgoKaWYgRUJHdWlHb2xkID09IG5pbCB0aGVuIGVsc2UKCWlmIEVCR3VpR29sZCA9PSBrZXlsaXN0LkdvbGQuTWFpbiB0aGVuCgkJaXNHb2xkID0gdHJ1ZQoJZWxzZQoJCWZvciBpLHYgaW4gcGFpcnMoa2V5bGlzdC5Hb2xkLlByb21vKSBkbwoJCQlpZiBFQkd1aUdvbGQgPT0gdi5LZXkgYW5kIG9zLnRpbWUoKSA8IHYuVGltZSB0aGVuCgkJCQlpc0dvbGQgPSB0cnVlCgkJCQlicmVhawoJCQllbmQKCQllbmQKCWVuZAplbmQKCmlmIEVCR3VpS2V5IH49IG5pbCB0aGVuCglpZiBFQkd1aUtleSA9PSBrZXlsaXN0LlN0YW5kYXJkIHRoZW4gCgkJaGFzS2V5ID0gdHJ1ZQoJZWxzZSBlbmQKZWxzZSBlbmQKCmZvciBpLHYgaW4gcGFpcnMoYmxvY2tsaXN0KSBkbwogICAgaWYgdiA9PSBJRCB0aGVuCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQogICAgICAgIGJyZWFrCiAgICBlbmQKZW5kCgpmb3IgaSx2IGluIHBhaXJzKG1hc3Rlcmxpc3QpIGRvCiAgICBpZiB2Omxvd2VyKCkgPT0gY2xpZW50aWQgdGhlbgogICAgICAgIGlzTWFzdGVyID0gdHJ1ZQogICAgICAgIGJyZWFrCiAgICBlbmQKZW5kCgppZiBpc0Jsb2NrZWQgdGhlbgogICAgd2Fybigi4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQW1sgQVRURU5USU9OIF1d4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgVGhpcyBhY2NvdW50IGhhcyBiZWVuIGJsb2NrZWQuICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICBQbGVhc2UgdmlzaXQgdGhlIEVCR3VpIERpc2NvcmQgZm9yIG1vcmUgaW5mb3JtYXRpb24uICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnSIpCglnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuRGVmYXVsdENoYXRTeXN0ZW1DaGF0RXZlbnRzLlNheU1lc3NhZ2VSZXF1ZXN0OkZpcmVTZXJ2ZXIoIkkganVzdCB0cmllZCB0byB0dXJuIG9uIGV4cGxvaXRzIHdoaWxlIGJlaW5nIGJsb2NrZWQgZnJvbSB1c2luZyB0aGUgc2NyaXB0ISBJJ20gYmlnLCBmYXQsIGFuZCBzdHVwaWQhIiwiQWxsIikKZWxzZWlmIG5vdCAoRUJHdWlLZXkgb3IgaXNCbG9ja2VkIG9yIGlzTWFzdGVyIG9yIGlzR29sZCkgdGhlbgogICAgd2Fybigi4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQW1sgQVRURU5USU9OIF1d4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnSIpCmVsc2VpZiAoKG5vdCBoYXNLZXkpIGFuZCAobm90IGlzR29sZCkpIGFuZCBub3QgKGlzQmxvY2tlZCBvciBpc01hc3RlcikgdGhlbgoJd2Fybigi4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQW1sgQVRURU5USU9OIF1d4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgIFlvdXIgdW5sb2NrIGtleSBpcyBpbmNvcnJlY3QuICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAg4pWRIikKICAgIHdhcm4oIuKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWRIikKICAgIHdhcm4oIuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnSIpCmVsc2UKCXhwY2FsbChmdW5jdGlvbigpCgkJbG9jYWwgZHVtYlF1b3RlcyA9IHsKCQkJIkplZXosIHdoZW4nZCBpdCBnZXQgc28gaG90IGluIGhlcmU/IiwKCQkJIklzIGl0IGp1c3QgbWUgb3IgaXMgdGhhdCAqdG9vKiBibHVlPyIsCgkJCSJMaWtlIHRha2luZyBjYW5keSBmcm9tIGEgYmFieS4iLAoJCQkiRGVleiBudXRzIGFyZSB0b28gc3F1YXJlISIsCgkJCSJBbHNvIHRyeSBNaW5lY3JhZnQhIiwKCQkJIkFsc28gdHJ5IFRlcnJhcmlhISIsCgkJCSJNZWgsIEkgbGlrZWQgUmlzayBvZiBSYWluIDIgYmV0dGVyLiIsCgkJCSJZb3UgbmVlZCBhIGZhaXJseSBoaWdoIElRIHRvIHVuZGVyc3RhbmQgRUJHdWkuIiwKCQkJIkpha2UsIGZyb20gU3RhdGUgRmFybT8hIiwKCQkJIldoYXQgd291bGQgKnlvdSogZG8gZm9yIGEgS2xvbmRpa2UgYmFyPyIsCgkJCSJOb3cgd2l0aCAxMDAlIG1vcmUgR29sZCEiLAoJCQkiTWFkZSBpbiBMdWEhIiwKCQkJIklGICVFUlJPUkxFVkVMJSBFUVUgMSBHT1RPOkVPRiIsCgkJCSJicnVoIG5lcmYgc29sYXIgYWxyZWFkeSIsCgkJCSJCZWNhdXNlIHRoZSBkZXZzIHdvbid0IGRvIGl0LiIsCgkJCSJQZXRpdGlvbiBZT1VSIGxvY2FsIGRldmVsb3BlciBmb3IgbW9yZSB1cGRhdGVzISIsCgkJCSJ3aHkgYXJlIHlvdSBidXlpbmcgY2xvdGhlcyBhdCB0aGUgc291cCBzdG9yZSIsCgkJCSJJIGp1c3Qgd2FubmEgYmUgYSBub3JtYWwgR1VJIHdpdGggbm9ybWFsIGtuZWVzLiIsCgkJCSI6KCl7Onw6Jn07OiIsCgkJCSJDOlxcRE9TLiBDOlxcRE9TXFxSVU4gUlVOXFxET1NcXFJVTi4iLAoJCQkiTHVhVTsgQmVjYXVzZSBub3JtYWwgTHVhIHdhcyBqdXN0IHRvbyBlYXN5LiIsCgkJCSJpbGtvLix1eXVraWp5LGhnaHl0ZnJlZTN2Zmd3MzJ3cXF3cSIsCgkJCSJTb3JyeSBmb3IgdGhhdCBvbmUgcXVvdGUuIE15IGNhdCBnb3Qgb24gbXkga2V5Ym9hcmQuIiwKCQkJIkkgZG9uJ3QgYWN0dWFsbHkgaGF2ZSBhIGNhdC4iLAoJCQkiVGhpcyBzZW50ZW5jZSBpcyBmYWxzZS4iLAoJCQkiV2VsbCBub3csICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgZG9uJ3Qgd2UgaGF2ZSBhIHByZWRpY2FtZW50ISIsCgkJCSJKZWUsIEJpbGwsIGhvdyBjb21lIHlvdXIgbW9tIGxldHMgeW91IGhhdmUgVFdPIHdlaW5lcnM/ISIsCgkJCSJJJ2QgbGlrZSB0byB0aGFuayBteSBtb20gYW5kIG15IGRhZCwiLAoJCQkiWSdrbm93IHRoZXkgcmVhbGx5IGdvdHRhIHN0YXJ0IHBhdGNoaW5nIG1vcmUuIiwKCQkJIk5pY2UgdG8gbWVldCB5b3UgUm9zZS4gUnVuIGZvciB5b3VyIGxpZmUhIiwKCQkJIkhvdyBoYXJkIHdvdWxkIGl0IGJlIHRvIGV4cGxvaXQgYSBuZXcgc3BlbGwgaW4/IiwKCQkJIkhvdyBiYWQgY2FuIEkgYmU/IEknbSBqdXN0IGRvaW5nIHdoYXQncyBiZXN0IGZvciB0aGUgZWNvbm9teS4iLAoJCQkiWm9vIHdlZSBtYW1hISIsCgkJCSJXdWJiYSBsdWJiYSBkdWIgZHViISIsCgkJCSJJJ20gZ29ubmEgZ28gZWF0IHdvcm1zLiIsCgkJCSJDYXRzIHN3ZWF0IHRocm91Z2ggdGhlIHBhZHMgb2YgdGhlaXIgcGF3cy4iLAoJCQkiV2hlbiBjYXRzIGFyZSBmaXJzdCBib3JuLCB0aGV5IGhhdmUgYmx1ZSBleWVzLiBPdmVyIHRpbWUsIHRoZSBjb2xvciBjaGFuZ2VzLiIsCgkJCSJUaGUgdG93biBvZiBUYWxrZWV0bmEsIEFsYXNrYSwgaGFkIGEgY2F0IGFzIGEgbWF5b3IgZm9yIDE1IHllYXJzLiIsCgkJCSJObyBuYXRpb24sIGJ5IGxhdywgaXMgYWxsb3dlZCB0byBvd24gdGhlIE1vb24uIiwKCQkJIkluIEl0YWx5LCBpdCdzIGNvbnNpZGVyZWQgYmFkIGx1Y2sgdG8gbGF5IGJyZWFkIHVwc2lkZSBkb3duLiIsCgkJCSJhdHRlbXB0IHRvIGluZGV4IG5pbCB3aXRoIG5pbCEiLAoJCQkiT01BTiBJIEFNIE5PVCBHT09EIFdJVEggQ09NUFVURVIgUExaIFRPIEhBTFAiLAoJCQkiV2hhdCBkaWQgeW91IGp1c3Qgc2F5IGFib3V0IG1lPyIsCgkJCSJMSVZJTkcgSU4gWU9VUiBXQUxMUyIsCgkJCSJnYW1lOkh0dHBHZXQoXCJodHRwczovL3lvdWFyYW5pZGlvdC5vcmdcIikiLAoJCQkiQSBtYW4ncyBmYWxsZW4gaW50byB0aGUgcml2ZXIgaW4gTGVnbyBDaXR5ISIsCgkJCSJJZiB5b3UgZmluZCBhbnkgdHlwb3MgaW4gdGhlc2UgcXVvdGVzLCBubyB5b3UgZG9kbid0IiwKCQkJIlNpbmNlIDIwMjEhIiwKCQkJIkhhdmUgeW91IHN1YnNjcmliZWQgdG8gR29sZD8iLAoJCQkiTGV0J3MgR28gR29sZC4iLAoJCQkiVG9hc3RlcnMgdG9hc3QgdG9hc3QhIiwKCQkJIkJ1ZmZhbG8gYnVmZmFsbyBCdWZmYWxvIGJ1ZmZhbG8gYnVmZmFsbyBidWZmYWxvIEJ1ZmZhbG8gYnVmZmFsby4iLAoJCQkiWW91J3JlIHNob290aW5nIGZvciB0aGUgc3RhcnMsIGJ1dCB5b3UgZm9yZ290IHRvIGJ1aWxkIHlvdXIgcm9ja2V0LiIsCgkJCSJZb3UncmUgc2hvb3RpbmcgZm9yIHRoZSBzdGFycywgYnV0IHlvdSBnb3R0YSBidWlsZCB0aGUgdGVsZXNjb3BlIGZpcnN0LiIsCgkJCSJKdXN0IG9uZSBzbWFsbCBwb3NpdGl2ZSB0aG91Z2h0IGluIHRoZSBtb3JuaW5nIGhhcyB0aGUgcG90ZW50aWFsIHRvIGNoYW5nZSB5b3VyIHdob2xlIGRheS4iLAoJCQkiT3Bwb3J0dW5pdGllcyBkb24ndCBqdXN0IGhhcHBlbiwgeW91IGNyZWF0ZSB0aGVtLiIsCgkJCSJGLkkuUy5ILiBGb3JnZXQgSXQsIFN0dWZmIEhhcHBlbnMuIiwKCQkJIllvdSBpbnNlY3VyZSB0dXJkIGhhbW1lciEiLAoJCQkiR2xhZCB0byBzZWUgeW91IHdvbiB0aGUgRGFyd2luIEF3YXJkISIsCgkJCSJZb3UgZG9udXQuIiwKCQkJIllvdSBob3VzZXBsYW50LiIsCgkJCSJIZWxsbywgZXZlcnlib2R5LCBteSBuYW1lIGlzIE1hcmtpcGxpZXIuIiwKCQkJIlZTYXVjZSwgTWljaGFlbCBoZXJlLiIsCgkJCSJGdWRuaW5nIGZvciB0aGlzIHByb2dyYW0gd2FzIG1hZGUgcG9zc2libGUgYnkgY29udHJpYnV0aW9ucyBmcm9tIHZpZXdlcnMgbGlrZSB5b3UuIiwKCQkJIlNwb25zb3JlZCBieSBPcGVuQUkhIEJ1dCBub3QgcmVhbGx5LiIsCgkJCSJBIGRhbW4gYXJ0aWZpY2lhbCBpbnRlbGxpZ2VuY2UgdGF1Z2h0IG1lIGhvdyB0byBwcm9ncmFtLCBJJ20gYWJzb2x1dGVseSBsaXZpZCIsCgkJCSJEb24ndCBjYXJlLCBkaWRuJ3QgYXNrLCBjcnkgYWJvdXQgaXQsIHN0YXkgbWFkLCBnZXQgcmVhbCwgTCwgbWFsZCwgc2VldGhlLCBjb3BlIiwKCQkJIlRoaXMgaXMgRG91Z0RvdWcsIHdoZXJlIHdlIHNvbHZlIHByb2JsZW1zIHRoYXQgbm9ib2R5IGhhcy4iLAoJCQkiUGFpZCBmb3IgdGhyb3VnaCB0aGUgZW1iZXp6bGVtZW50IG9mIGxlbW9ucy4iLAoJCQkiSSdtIHdhbnRlZCBpbiBudW1lcm91cyBjb3VudHJpZXMgZm9yIHdhciBjcmltZXMhIiwKCQkJIkkgZ290IGEgcm9jay4iLAoJCQkiSGVsbG8sIE14LiAiIC4uIHBsYXllci5OYW1lIC4uICIsIGFuZCB3ZWxjb21lIHRvIEtvbnBla2kgUGxhemEuIiwJCQoJCX0KCgkJbG9jYWwgZnJpZW5kbHlEYXRlID0gb3MuZGF0ZSgiJWIgJWQiKQoJCWlmIGZyaWVuZGx5RGF0ZSA9PSAiRGVjIDI1IiB0aGVuCgkJCXByaW50KCJNRVJSWSBDSFJJU1RNQVMhIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJBdWcgMjEiIHRoZW4KCQkJcHJpbnQoIkhBUFBZIEJJUlRIREFZISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiT2N0IDAzIiB0aGVuCgkJCXByaW50KCJUZWxsIEVhcnRoIHlvdSBzYWlkIGhhcHB5IGJpcnRoZGF5ISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiT2N0IDMxIiB0aGVuCgkJCXByaW50KCJJUyBTUE9PS1kgTU9OVEghIikKCQllbHNlaWYgZnJpZW5kbHlEYXRlID09ICJKYW4gMDEiIHRoZW4KCQkJcHJpbnQoIkhBUFBZIE5FVyBZRUFSISIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiRmViIDE0IiB0aGVuCgkJCXByaW50KCJHaXZlIHlvdXIgbG92ZSB0aGUgZ2lmdCBvZiBHb2xkLiIpCgkJZWxzZWlmIGZyaWVuZGx5RGF0ZSA9PSAiQXByIDAxIiB0aGVuCgkJCXByaW50KCJZb3UgZmVlbCBhIGNoaWxsIGdvIGRvd24geW91ciBzcGluZS4iKQoJCWVsc2VpZiBmcmllbmRseURhdGUgPT0gIkp1bCAwNCIgdGhlbgoJCQlwcmludCgiJ01VUklDQSEhISEhISEhISEiKQoJCWVuZAoKCQl3YXJuKFtbLS0tLS0tLS0tLS0tLS0tLQoJCQkJX19fX19fIF9fX19fIF9fX19fICAgICAgIF8gCgkJCQl8ICBfX198IF9fXyBcICBfXyBcICAgICAoXykKCQkJCXwgfF9fIHwgfF8vIC8gfCAgXC9fICAgXyBfIAoJCQkJfCAgX198fCBfX18gXCB8IF9ffCB8IHwgfCB8CgkJCQl8IHxfX198IHxfLyAvIHxfXCBcIHxffCB8IHwKCQkJCVxfX19fL1xfX19fLyBcX19fXy9cX18sX3xffCAgXV0uLnZlck51bSkKCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludChkdW1iUXVvdGVzW21hdGgucmFuZG9tKDEsI2R1bWJRdW90ZXMpXSkKCQlwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQl3YXJuKCJXZWxjb21lIHRvIEVCR3VpLCAiIC4uIHBsYXllci5OYW1lIC4uICIhIikKCQl3YXJuKCJZb3UncmUgb24gdGhlIFN0YWJsZSBicmFuY2ggb2YgRUJHdWkiKQoJCXdhcm4oIlF1ZXN0aW9ucyBvciBjb25jZXJucz8gTGV0IHVzIGtub3cgaW4gdGhlIERpc2NvcmQsIikKCQl3YXJuKCJvciBlbWFpbCBFYXJ0aCBoaW1zZWxmIGF0IGVhcnRodG9hY2Nlc3NAZ21haWwuY29tISIpCgkJd2FpdCgwLjUpCgkJCgkJaWYgaXNNYXN0ZXIgdGhlbgoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKSAgIAoJCQl3YXJuKCJMb2FkZWQgaW4gdXNpbmcgdGhlIE1hc3RlciBMaXN0ISBPdmVycmlkaW5nIGFjY2VzcyBnaXZlbi4iKQoJCQl3YXJuKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCWVuZAoKCQlpZiBpc0dvbGQgdGhlbgoJCQlwcmludChbWwkJCQlfX19fICAgICAgICAgICAgIF9fXyAgICAgIF9fXyAKCQkJNk1NTU1iLyAgICAgICAgICAgYE1NICAgICAgYE1NIAoJCQk4UCAgICBZTSAgICAgICAgICAgIE1NICAgICAgIE1NIAoJCQk2TSAgICAgIFkgICBfX19fXyAgICBNTSAgIF9fX19NTSAKCQkJTU0gICAgICAgICA2TU1NTU1iICAgTU0gIDZNTU1NTU0gCgkJCU1NICAgICAgICA2TScgICBgTWIgIE1NIDZNJyAgYE1NIAoJCQlNTSAgICAgX19fTU0gICAgIE1NICBNTSBNTSAgICBNTSAKCQkJTU0gICAgIGBNJ01NICAgICBNTSAgTU0gTU0gICAgTU0gCgkJCVlNICAgICAgTSBNTSAgICAgTU0gIE1NIE1NICAgIE1NIAoJCQk4YiAgICBkOSBZTS4gICAsTTkgIE1NIFlNLiAgLE1NIAoJCQlZTU1NTTkgICBZTU1NTU05ICBfTU1fIFlNTU1NTU1fXV0pCgkJCXdhcm4oIlRoYW5rIHlvdSBmb3IgYmVpbmcgYSBHT0xERU4gbWVtYmVyISIpCgkJCXdhcm4oJ0Vuam95IHRoZSB2YXJpb3VzICJvdmVycG93ZXJlZCIgc2NyaXB0cyB3ZSBoYXZlIGluIHN0b3JlIScpCgkJZW5kCgoJCS0tIEdVSSBJbnN0YW5jZXMsIEV2ZW50cyBhbmQgRnVuY3Rpb25zCgoJCWxvY2FsIGViZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQoJCWViZ3VpLk5hbWUgPSAiZWJndWkiCgkJZWJndWkuUGFyZW50ID0gZ2FtZTpXYWl0Rm9yQ2hpbGQoIkNvcmVHdWkiKQoKCgkJbG9jYWwgRVNQSW5mbyA9IHsKCQkJWyJTdGFuZGFyZCJdID0gewoJCQkJWyJOYW1lVGFnIl0gPSBuaWwsCgkJCQlbIkVuYWJsZWQiXSA9IGZhbHNlCgkJCX0sCgkJCVsiR29sZCJdID0gewoJCQkJWyJOYW1lVGFnIl0gPSBuaWwsCgkJCQlbIkVuYWJsZWQiXSA9IGZhbHNlCgkJCX0sCgkJCVsiTWF4RGlzdCJdID0gewoJCQkJWyJWYWx1ZSJdID0gNzUwLAoJCQkJWyJFbmFibGVkIl0gPSB0cnVlCgkJCX0KCQl9CgoJCWxvY2FsIG12dGcgPSB7CgkJCVsiQW9FcyJdID0gewoJCQkJWyJGaXJlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3Rvcm0iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IExpZ2h0bmluZyBEaXNwZXJzaW9uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwJCQkKCQkJCVsiTmF0dXJlIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiUGxhc21hIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJHcmF2aXR5Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJMaWdodCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJEYXJrbmVzcyJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IE11cmt5IE1pc3NpbGVzIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJOaWdodG1hcmUiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFpbWVkIEluc3RhbnQgU2tlbGV0b24gR3JhYiAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGltZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQ2hhb3MiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNwYWNlLVRpbWUgUnVwdHVyZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJJbGx1c2lvbiJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbGx1c2l2ZSBBdGFrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJEcmFnb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJGb3JtaWRhYmxlIFJvYXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTbGltZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkNyZWF0aW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5zdGFudCBDaGFpbiBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgkJCX0sCgkJCVsiQnVsbGV0cyJdID0gewoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU3Bpcml0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIkxpZ2h0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiTGlnaHQgT3JicyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiTGlnaHQgT3JicyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTcGFjZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJIeXBlcmFuZyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb2xhciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkR5aW5nIFN0YXIgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfQoJCQl9LAoJCQlbIkJsYXN0cyJdID0gewoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkV4cGxvZGUgYXQgTW91c2UgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJFeHBsb2RlIGF0IE1vdXNlIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTcGVjdHJ1bSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb3VuZCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkNvbnRyb2xsZWQgRWNob2VzIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiU29sYXIiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IERvdWJsZSBSYXkgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJUZWxlcG9ydHMiXSA9IHsKCQkJCVsiRWFydGgiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFJvY2sgRmlzdCAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluc3RhbnQgUm9jayBGaXN0IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTdG9ybSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkxvbmcgRmxhc2ggKE9mZikgW2AgdG8gdXNlXSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiRXhwbG9zaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IExlYXAgU3R1biAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGVjaG5vbG9neSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlRlY2ggRGlzYyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0KCQkJfSwKCQkJWyJVbHRzIl0gPSB7CgkJCQlbIkxpZ2h0Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJWb2lkIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiVGltZSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlRoZSBXb3JsZCBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlJlYXBlciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQXVyb3JhIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiUG9sYXJpcyBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiUG9sYXJpcyBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJFeHBsb3Npb24iXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIklsbHVzaW9uIl0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiRXRoZXJlYWwgQWN1bWVuIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiQWNpZCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9mZikiLAoJCQkJCVsiSW5pdFRleHQiXSA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJBbmdlbCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9mZikiLAoJCQkJCVsiQnV0dG9uIl0gPSBuaWwKCQkJCX0sCgkJCQlbIlRlY2hub2xvZ3kiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9LAoJCQkJWyJTb2xhciJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJfSwKCQkJWyJNaXNjIl0gPSB7CgkJCQlbIlNsaW1lSGVhbCJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiSW5lcnRpYSJdID0gewoJCQkJCVsiVmFsdWUiXSA9IGZhbHNlLAoJCQkJCVsiVGV4dCJdID0gIkluZXJ0aWEgR3Jhdml0eSAoT2ZmKSIsCgkJCQkJWyJJbml0VGV4dCJdID0gIkluZXJ0aWEgZ3Jhdml0eSAoT2ZmKSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiSW52aXMiXSA9IHsKCQkJCQlbIlZhbHVlIl0gPSBmYWxzZSwKCQkJCQlbIlRleHQiXSA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9mZikgW1hdIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPZmYpIFtYXSIsCgkJCQkJWyJCdXR0b24iXSA9IG5pbAoJCQkJfSwKCQkJCVsiSW5mU3ByaW50Il0gPSB7CgkJCQkJWyJWYWx1ZSJdID0gZmFsc2UsCgkJCQkJWyJUZXh0Il0gPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIiwKCQkJCQlbIkluaXRUZXh0Il0gPSAiSW5maW5pdGUgU3ByaW50IChPZmYpIiwKCQkJCQlbIkJ1dHRvbiJdID0gbmlsCgkJCQl9CgoJCQl9CgkJfQoKCQlnYW1lLkNvcmVHdWkuQ2hpbGRSZW1vdmVkOmNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCgkJCWlmIGNoaWxkLk5hbWUgPT0gImViZ3VpIiB0aGVuCgkJCQljbG9zZWRmb3JldmVyID0gdHJ1ZQoJCQkJYnV0dG9uc29wZW5lZCA9IGZhbHNlCgkJCQljb21tYW5kc29wZW5lZCA9IGZhbHNlCgkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlCgkJCQlVSVMgPSBuaWwKCQkJCVNsaW1lQnVkZGllc0VuYWJsZWQgPSBuaWwKCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBuaWwKCQkJCUFudGlCbGluZEVuYWJsZWQgPSBuaWwKCQkJCUFudGlMYWdFbmFibGVkID0gbmlsCgkJCQlTcGVlZGhhY2tFbmFibGVkID0gbmlsCgkJCQlTZXRTcGVlZCA9IG5pbAoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBuaWwKCQkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IG5pbAoJCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsCgkJCQlDbGlja1RQRW5hYmxlZCA9IG5pbAoJCQkJRnJlZXplRW5hYmxlZCA9IG5pbAoJCQkJdmlld2luZyA9IG5pbAoJCQkJVFBUYXJnZXRFbmFibGVkID0gbmlsCgkJCQlMb29wVFBUYXJnZXRFbmFibGVkID0gbmlsCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSBuaWwKCQkJCVRQRGlhbW9uZHNFbmFibGVkID0gbmlsCgkJCQlBaW1ib3RFbmFibGVkID0gbmlsCgkJCQlFU1BJbmZvLk1heERpc3QuVmFsdWUgPSA3NTAKCQkJCUVTUEluZm8uTWF4RGlzdC5FbmFibGVkID0gdHJ1ZQoJCQkJQWx0RmFybUVuYWJsZWQgPSBuaWwKCQkJCUVjaG9lc0F1dG8gPSBuaWwKCQkJCUFudGlBZmsgPSB0cnVlCgkJCWVuZAoJCWVuZCkKCgkJbG9jYWwgbW91c2UgPSBwbGF5ZXI6R2V0TW91c2UoKQoKCQlsb2NhbCBib3JkZXJzID0ge30KCgkJbG9jYWwgYnV0dG9uc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQlidXR0b25zbWFpbi5OYW1lID0gImJ1dHRvbnNtYWluIgoJCWJ1dHRvbnNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApCgkJYnV0dG9uc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDAuMjI1LCAwKQoJCXRhYmxlLmluc2VydChib3JkZXJzLCBidXR0b25zbWFpbikKCgkJYnV0dG9uc2RlYm91bmNlID0gZmFsc2UKCQlidXR0b25zb3BlbmVkID0gdHJ1ZQoKCQlsb2NhbCBjb21tYW5kc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQljb21tYW5kc21haW4uTmFtZSA9ICJjb21tYW5kc21haW4iCgkJY29tbWFuZHNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApCgkJY29tbWFuZHNtYWluLlNpemUgPSBVRGltMi5uZXcoMC4zLCAwLCAwLjE3NSwgMCkKCQl0YWJsZS5pbnNlcnQoYm9yZGVycywgY29tbWFuZHNtYWluKQoKCQljb21tYW5kZGVib3VuY2UgPSBmYWxzZQoJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoKCQljbG9zZWRmb3JldmVyID0gZmFsc2UKCgkJbG9jYWwgZnJhbWVzID0ge30KCgkJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgYnV0dG9ucy4KCQlsb2NhbCBidXR0b25zZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikKCQlidXR0b25zZnJhbWUuTmFtZSA9ICJidXR0b25zZnJhbWUiCgkJYnV0dG9uc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNiwgMCwgNjQpCgkJYnV0dG9uc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDIKCQlidXR0b25zZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQlidXR0b25zZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQoJCXRhYmxlLmluc2VydChmcmFtZXMsIGJ1dHRvbnNmcmFtZSkKCQlidXR0b25zZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4KCgkJLS0gRnJhbWUgZm9yIGFyb3VuZCB0aGUgY29tbWFuZCBib3guCgkJbG9jYWwgY29tbWFuZHNmcmFtZSA9IEluc3RhbmNlLm5ldygiRnJhbWUiKQoJCWNvbW1hbmRzZnJhbWUuTmFtZSA9ICJjb21tYW5kc2ZyYW1lIgoJCWNvbW1hbmRzZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kc2ZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNiwgMCwgNjQpCgkJY29tbWFuZHNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRzZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWNvbW1hbmRzZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJY29tbWFuZHNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkKCQl0YWJsZS5pbnNlcnQoZnJhbWVzLCBjb21tYW5kc2ZyYW1lKQoJCWNvbW1hbmRzZnJhbWUuUGFyZW50ID0gY29tbWFuZHNtYWluCgoJCS0tIENvbW1hbmQgQm94LiBUaGlzIGlzIHdoZXJlIHVzZXJzIHR5cGUgaW4gY29tbWFuZHMgYW5kIHRhcmdldHMuCgkJbG9jYWwgY29tbWFuZEJveCA9IEluc3RhbmNlLm5ldygiVGV4dEJveCIpCgkJY29tbWFuZEJveC5OYW1lID0gImNvbW1hbmRCb3giCgkJY29tbWFuZEJveC5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQoJCWNvbW1hbmRCb3guQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1LCA0MCwgNDApCgkJY29tbWFuZEJveC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRCb3guQm9yZGVyU2l6ZVBpeGVsID0gMgoJCWNvbW1hbmRCb3guUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjMsIDApCgkJY29tbWFuZEJveC5TaXplID0gVURpbTIubmV3KDAuODUsIDAsIDAuMjAsIDApCgkJY29tbWFuZEJveC5Gb250ID0gRW51bS5Gb250LkNvZGUKCQljb21tYW5kQm94LlRleHQgPSAiIgoJCWNvbW1hbmRCb3guVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJY29tbWFuZEJveC5UZXh0U2NhbGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3guVGV4dFNpemUgPSAxNC4wMDAKCQljb21tYW5kQm94LlRleHRXcmFwcGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3guQ2xlYXJUZXh0T25Gb2N1cyA9IGZhbHNlCgkJY29tbWFuZEJveC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCWxvY2FsIGxhYmVscyA9IHt9CgoJCS0tIFRoZSBvdXRwdXQgZm9yIHRoZSBDb21tYW5kIEJveC4KCQlsb2NhbCBjb21tYW5kQm94T3V0cHV0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCWNvbW1hbmRCb3hPdXRwdXQuTmFtZSA9ICJjb21tYW5kQm94T3V0cHV0IgoJCWNvbW1hbmRCb3hPdXRwdXQuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCWNvbW1hbmRCb3hPdXRwdXQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJY29tbWFuZEJveE91dHB1dC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyU2l6ZVBpeGVsID0gMAoJCWNvbW1hbmRCb3hPdXRwdXQuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjYsIDApCgkJY29tbWFuZEJveE91dHB1dC5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC4yLCAwKQoJCWNvbW1hbmRCb3hPdXRwdXQuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJY29tbWFuZEJveE91dHB1dC5UZXh0U2NhbGVkID0gdHJ1ZQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFNpemUgPSAxNC4wMDAKCQljb21tYW5kQm94T3V0cHV0LlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIGNvbW1hbmRCb3hPdXRwdXQpCgkJY29tbWFuZEJveE91dHB1dC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tIFRoZSBpbmZvcm1hdGlvbiBhYm92ZSB0aGUgTWFpbiBNZW51LCBlLmcuIHVzZXIncyBuYW1lLCBjaGFubmVsCgkJbG9jYWwgRGV0YWlscyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzLk5hbWUgPSAiRGV0YWlscyIKCQlEZXRhaWxzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHMuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwCgkJRGV0YWlscy5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC4wMTUsIC02KQoJCURldGFpbHMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQoJCURldGFpbHMuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJaWYgbm90IGlzR29sZCB0aGVuCgkJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSB8IFN0YWJsZSIKCQllbHNlCgkJCURldGFpbHMuVGV4dCA9IHBsYXllci5OYW1lIC4uICIgfCBFQkd1aSBHb2xkIHwgU3RhYmxlIgoJCWVuZAoJCURldGFpbHMuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlscy5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMuWkluZGV4ID0gNQoJCURldGFpbHMuVGV4dFNpemUgPSAxMi4wMDAKCQlEZXRhaWxzLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMpCgkJRGV0YWlscy5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gIkNsb3NlIHRoaXMgR1VJIiBmb3IgdGhlIENvbW1hbmQgQm94LgoJCWxvY2FsIERldGFpbHMyID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCURldGFpbHMyLk5hbWUgPSAiRGV0YWlsczIiCgkJRGV0YWlsczIuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQlEZXRhaWxzMi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlEZXRhaWxzMi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzMi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHMyLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC45LCAtMTApCgkJRGV0YWlsczIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQoJCURldGFpbHMyLkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCURldGFpbHMyLlRleHQgPSAiUHJlc3MgXSB0byBvcGVuIGFuZCBjbG9zZSB0aGlzIEdVSS4iCgkJRGV0YWlsczIuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJRGV0YWlsczIuVGV4dFNjYWxlZCA9IHRydWUKCQlEZXRhaWxzMi5UZXh0U2l6ZSA9IDE0LjAwMAoJCURldGFpbHMyLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIERldGFpbHMyKQoJCURldGFpbHMyLlBhcmVudCA9IGNvbW1hbmRzZnJhbWUKCgkJLS0gIkNsb3NlIHRoaXMgR1VJIiBmb3IgdGhlIE1haW4gTWVudS4KCQlsb2NhbCBEZXRhaWxzMyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikKCQlEZXRhaWxzMy5OYW1lID0gIkRldGFpbHMzIgoJCURldGFpbHMzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCURldGFpbHMzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMAoJCURldGFpbHMzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJRGV0YWlsczMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC44NzUsIDApCgkJRGV0YWlsczMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAtMTApCgkJRGV0YWlsczMuRm9udCA9IEVudW0uRm9udC5Db2RlCgkJRGV0YWlsczMuVGV4dCA9ICJQcmVzcyBbIHRvIG9wZW4gYW5kIGNsb3NlIHRoaXMgR1VJLiIKCQlEZXRhaWxzMy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkKCQlEZXRhaWxzMy5UZXh0U2NhbGVkID0gdHJ1ZQoJCURldGFpbHMzLlRleHRTaXplID0gMTIuMDAwCgkJRGV0YWlsczMuVGV4dFdyYXBwZWQgPSB0cnVlCgkJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlsczMpCgkJRGV0YWlsczMuUGFyZW50ID0gYnV0dG9uc2ZyYW1lCgoJCS0tIFNjcmlwdCB0ZXJtaW5hdGlvbiBpbnN0cnVjdGlvbnMuCgkJbG9jYWwgRGV0YWlsczQgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJRGV0YWlsczQuTmFtZSA9ICJEZXRhaWxzNCIKCQlEZXRhaWxzNC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQlEZXRhaWxzNC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlEZXRhaWxzNC5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQoJCURldGFpbHM0LlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDEuMSwgMCkKCQlEZXRhaWxzNC5TaXplID0gVURpbTIubmV3KDEsIDAsIDAuMTc1LCAwKQoJCURldGFpbHM0LkZvbnQgPSBFbnVtLkZvbnQuQ29kZQoJCURldGFpbHM0LlRleHQgPSAiSG9sZCB0aGUgTGVmdCBhbmQgUmlnaHQgYXJyb3cga2V5cywgdGhlbiBwcmVzcyBhbnkga2V5IHRvIHF1aXQgRUJHdWkuIgoJCURldGFpbHM0LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCURldGFpbHM0LlRleHRTY2FsZWQgPSB0cnVlCgkJRGV0YWlsczQuVGV4dFNpemUgPSAxNC4wMDAKCQlEZXRhaWxzNC5UZXh0V3JhcHBlZCA9IHRydWUKCQlEZXRhaWxzNC5QYXJlbnQgPSBidXR0b25zZnJhbWUKCgkJLS0gVGhlIHZlcnNpb24gbnVtYmVyIGFib3ZlIHRoZSBDb21tYW5kIEJveC4KCQlsb2NhbCBWZXJzaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQoJCVZlcnNpb24uTmFtZSA9ICJWZXJzaW9uIgoJCVZlcnNpb24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJVmVyc2lvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDAKCQlWZXJzaW9uLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpCgkJVmVyc2lvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjA1LCAwKQoJCVZlcnNpb24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjEsIDApCgkJVmVyc2lvbi5Gb250ID0gRW51bS5Gb250LkNvZGUKCQlWZXJzaW9uLlRleHQgPSAiVmVyc2lvbiAiIC4uIHZlck51bQoJCVZlcnNpb24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJVmVyc2lvbi5UZXh0U2NhbGVkID0gdHJ1ZQoJCVZlcnNpb24uVGV4dFNpemUgPSAxNC4wMDAKCQlWZXJzaW9uLlRleHRXcmFwcGVkID0gdHJ1ZQoJCXRhYmxlLmluc2VydChsYWJlbHMsIFZlcnNpb24pCgkJVmVyc2lvbi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lCgoJCS0tIFRoZSBzY3JvbGxpbmcgYXJlYSBmb3IgdGhlIE1haW4gTWVudS4KCQlsb2NhbCBtYWluZnJhbWUgPSBJbnN0YW5jZS5uZXcoIlNjcm9sbGluZ0ZyYW1lIikKCQltYWluZnJhbWUuTmFtZSA9ICJtYWluZnJhbWUiCgkJbWFpbmZyYW1lLkFjdGl2ZSA9IHRydWUKCQltYWluZnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDY0LCA2LCAzMSkKCQltYWluZnJhbWUuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkKCQltYWluZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMgoJCW1haW5mcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuNSwgMCkKCQltYWluZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkKCQltYWluZnJhbWUuU2l6ZSA9IFVEaW0yLm5ldygwLjg2Nzc2ODU4NiwgMCwgMC42LCAwKQoJCW1haW5mcmFtZS5TY3JvbGxCYXJUaGlja25lc3MgPSA2CgkJbWFpbmZyYW1lLlBhcmVudCA9IGJ1dHRvbnNtYWluCgoJCS0tIEdyaWQgbGF5b3V0IGZvciB0aGUgYnV0dG9ucy4KCQlsb2NhbCBVSUdyaWRMYXlvdXQgPSBJbnN0YW5jZS5uZXcoIlVJR3JpZExheW91dCIpCgkJVUlHcmlkTGF5b3V0LkZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbAoJCVVJR3JpZExheW91dC5Ib3Jpem9udGFsQWxpZ25tZW50ID0gRW51bS5Ib3Jpem9udGFsQWxpZ25tZW50LkNlbnRlcgoJCVVJR3JpZExheW91dC5DZWxsUGFkZGluZyA9IFVEaW0yLm5ldygwLCA3LCAwLCA3KQoJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCAzMCkKCQlVSUdyaWRMYXlvdXQuU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIKCQlVSUdyaWRMYXlvdXQuUGFyZW50ID0gbWFpbmZyYW1lCgoKCQktLSBQbGF5ZXIgYW5jaG9yIGZ1bmN0aW9uCgkJbG9jYWwgZnVuY3Rpb24gYW5jaG9yKGJvb2wpCgkJCXdhaXQoLjc1KQoJCQlpZiBib29sID09IGZhbHNlIHRoZW4KCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgYW5kIHYuQW5jaG9yZWQgdGhlbgoJCQkJCQl2LkFuY2hvcmVkID0gZmFsc2UKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlaWYgYm9vbCA9PSB0cnVlIHRoZW4KCQkJCWZvciBpLHYgaW4gcGxheWVyLkNoYXJhY3RlcjpHZXREZXNjZW5kYW50cygpIGRvCgkJCQkJaWYgdjpJc0EoIkJhc2VQYXJ0IikgYW5kIG5vdCB2LkFuY2hvcmVkIHRoZW4KCQkJCQkJdi5BbmNob3JlZCA9IHRydWUKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlmb3IgaSx2IGluIHBsYXllci5DaGFyYWN0ZXI6R2V0RGVzY2VuZGFudHMoKSBkbwoJCQkJCWlmIHY6SXNBKCJCYXNlUGFydCIpIHRoZW4KCQkJCQkJcHJpbnQodi5BbmNob3JlZCkKCQkJCQkJYnJlYWsKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gY29weSh0YmwpCgkJCXJldHVybiB1bnBhY2sodGJsKQoJCWVuZAoKCQlsb2NhbCBidXR0b25zID0ge30KCgkJLS0tLS0tIEJ1dHRvbnMgZm9yIGhhY2tzLgoKCQlmdW5jdGlvbiBjaGVja01vdmVzKGVsKQoJCQlsb2NhbCBldAoJCQlsb2NhbCBjaCA9IGZhbHNlCgkJCWlmIGVsID09IDEgdGhlbgoJCQkJZXQgPSAiQW9FcyIKCQkJZWxzZWlmIGVsID09IDIgdGhlbgoJCQkJZXQgPSAiQnVsbGV0cyIKCQkJZWxzZWlmIGVsID09IDMgdGhlbgoJCQkJZXQgPSAiQmxhc3RzIgoJCQllbHNlaWYgZWwgPT0gNCB0aGVuCgkJCQlldCA9ICJUZWxlcG9ydHMiCgkJCWVsc2VpZiBlbCA9PSA1IHRoZW4KCQkJCWV0ID0gIlVsdHMiCgkJCWVsc2UgCgkJCQl3YXJuKCJFbGVtZW50IHR5cGUgbm90IGFwcGxpY2FibGUhIEdvdCAiLi50b3N0cmluZyhlKS4uIiwgZXhwZWN0ZWQgbnVtYmVyIDEgdGhyb3VnaCA1IikKCQkJCWV0ID0gbmlsCgkJCWVuZAoJCQkKCQkJaWYgZXQgfj0gbmlsIHRoZW4KCQkJCWZvciBpLHYgaW4gcGFpcnMobXZ0Z1tldF0pIGRvCgkJCQkJaWYgdi5WYWx1ZSB0aGVuCgkJCQkJCWNoID0gdHJ1ZQoJCQkJCQl2LlZhbHVlID0gZmFsc2UKCQkJCQkJcHJpbnQoIkRpc2FibGVkICIgLi4gaSAuLiAiICIgLi4gc3RyaW5nLnN1YihldCwxLC0yKSkKCQkJCQkJbXZ0Z1tldF1baV0uQnV0dG9uLlRleHQgPSBtdnRnW2V0XVtpXS5Jbml0VGV4dAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCWVycm9yKCJlbGVtZW50IHR5cGUgb3V0IG9mIHJhbmdlIikKCQkJZW5kCgkJCXJldHVybiBjaAoJCWVuZAoKCQktLS0tIEFvRXMKCQktLSBJbnN0YW50IEJsYXplIENvbHVtbgoKCQlsb2NhbCBCbGF6ZUNvbHVtbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQmxhemVDb2x1bW4uTmFtZSA9ICJCbGF6ZUNvbHVtbiIKCQlCbGF6ZUNvbHVtbi5UZXh0ID0gbXZ0Zy5Bb0VzLkZpcmUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBCbGF6ZUNvbHVtbikKCQltdnRnLkFvRXMuRmlyZS5CdXR0b24gPSBCbGF6ZUNvbHVtbgoKCQltdnRnLkFvRXMuRmlyZS5WYWx1ZSA9IGZhbHNlCgoJCUJsYXplQ29sdW1uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5GaXJlLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5GaXJlLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkZpcmUuVGV4dCA9ICJJbnN0YW50IEJsYXplIENvbHVtbiAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuRmlyZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuRmlyZS5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPZmYpIgoJCQllbmQKCQkJQmxhemVDb2x1bW4uVGV4dCA9IG12dGcuQW9Fcy5GaXJlLlRleHQKCQllbmQpCgoJCS0tIEFtcGxpZmllZCBHZW5lc2lzIFJheQoKCQlsb2NhbCBHZW5lc2lzUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHZW5lc2lzUmF5Lk5hbWUgPSAiR2VuZXNpc1JheSIKCQlHZW5lc2lzUmF5LlRleHQgPSBtdnRnLkFvRXMuVGltZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdlbmVzaXNSYXkpCgkJbXZ0Zy5Bb0VzLlRpbWUuQnV0dG9uID0gR2VuZXNpc1JheQoKCQltdnRnLkFvRXMuVGltZS5WYWx1ZSA9IGZhbHNlCgkJbG9jYWwgR1JDaGFyZ2UgPSAxCgoJCUdlbmVzaXNSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLlRpbWUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLlRpbWUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuVGltZS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuVGltZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuVGltZS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT2ZmKSIKCQkJZW5kCgkJCUdlbmVzaXNSYXkuVGV4dCA9IG12dGcuQW9Fcy5UaW1lLlRleHQKCQllbmQpCgoJCS0tIENyZWF0aW9uIEhvbGQgSGFjawoKCQlsb2NhbCBDaGFpbkhvbGQgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJQ2hhaW5Ib2xkLkJ1dHRvbi5OYW1lID0gIkNoYWluSG9sZCIKCQlDaGFpbkhvbGQuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuQ3JlYXRpb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBDaGFpbkhvbGQpCgkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLkJ1dHRvbiA9IENoYWluSG9sZC5CdXR0b24KCgkJbXZ0Zy5Bb0VzLkNyZWF0aW9uLlZhbHVlID0gZmFsc2UKCgkJQ2hhaW5Ib2xkLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygxKQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVGV4dCA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgPSBmYWxzZQoJCQkJCW12dGcuQW9Fcy5DcmVhdGlvbi5UZXh0ID0gIkluc3RhbnQgQ2hhaW4gSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQllbHNlCgkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDEpCgkJCQltdnRnLkFvRXMuQ3JlYXRpb24uVGV4dCA9ICJJbnN0YW50IENoYWluIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlDaGFpbkhvbGQuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuQ3JlYXRpb24uVGV4dAoJCWVuZCkKCgkJLS0gU3BhY2UtVGltZSBSdXB0dXJlCgoJCWxvY2FsIFNUUkhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVNUUkhhY2suTmFtZSA9ICJTVFJIYWNrIgoJCVNUUkhhY2suVGV4dCA9IG12dGcuQW9Fcy5DaGFvcy5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsU1RSSGFjaykKCQltdnRnLkFvRXMuQ2hhb3MuQnV0dG9uID0gU1RSSGFjawoKCQltdnRnLkFvRXMuQ2hhb3MuVmFsdWUgPSBmYWxzZQoKCQlTVFJIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5DaGFvcy5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuQ2hhb3MuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuQ2hhb3MuVGV4dCA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuQ2hhb3MuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkNoYW9zLlRleHQgPSAiU3BhY2UtVGltZSBSdXB0dXJlIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlTVFJIYWNrLlRleHQgPSBtdnRnLkFvRXMuQ2hhb3MuVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBWaW5lIFRyYXAKCgkJbG9jYWwgVmluZVRyYXAgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVZpbmVUcmFwLk5hbWUgPSAiVmluZVRyYXAiCgkJVmluZVRyYXAuVGV4dCA9IG12dGcuQW9Fcy5OYXR1cmUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaW5lVHJhcCkKCQltdnRnLkFvRXMuTmF0dXJlLkJ1dHRvbiA9IFZpbmVUcmFwCgoJCW12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPSBmYWxzZQoKCQlWaW5lVHJhcC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuTmF0dXJlLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5OYXR1cmUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuTmF0dXJlLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuTmF0dXJlLlRleHQgPSAiSW5zdGFudCBWaW5lIFRyYXAgKE9mZikiCgkJCWVuZAoJCQlWaW5lVHJhcC5UZXh0ID0gbXZ0Zy5Bb0VzLk5hdHVyZS5UZXh0CgkJZW5kKQoKCQktLSBJbGx1c2l2ZSBBdGFrZSBIYWNrCgoJCWxvY2FsIElsbHVzaXZlQXRha2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUlsbHVzaXZlQXRha2UuTmFtZSA9ICJJbGx1c2l2ZUF0YWtlIgoJCUlsbHVzaXZlQXRha2UuVGV4dCA9IG12dGcuQW9Fcy5JbGx1c2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElsbHVzaXZlQXRha2UpCgkJbXZ0Zy5Bb0VzLklsbHVzaW9uLkJ1dHRvbiA9IElsbHVzaXZlQXRha2UKCgkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlID0gZmFsc2UKCgkJSWxsdXNpdmVBdGFrZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLklsbHVzaW9uLlRleHQgPSAiSWxsdXNpdmUgQXRha2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUlsbHVzaXZlQXRha2UuVGV4dCA9IG12dGcuQW9Fcy5JbGx1c2lvbi5UZXh0CgkJZW5kKQoKCQktLSBJbnN0YW50IE11cmt5IE1pc3NpbGVzCgoJCWxvY2FsIERhcmtBb2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCURhcmtBb2UuTmFtZSA9ICJEYXJrQW9lIgoJCURhcmtBb2UuVGV4dCA9IG12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIERhcmtBb2UpCgkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLkJ1dHRvbiA9IERhcmtBb2UKCgkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlID0gZmFsc2UKCgkJRGFya0FvZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5EYXJrbmVzcy5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkRhcmtuZXNzLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5EYXJrbmVzcy5UZXh0ID0gIkluc3RhbnQgTXVya3kgTWlzc2lsZXMgKE9mZikiCgkJCWVuZAoJCQlEYXJrQW9lLlRleHQgPSBtdnRnLkFvRXMuRGFya25lc3MuVGV4dAoJCWVuZCkKCQkKCQktLSBJbnN0YW50IEFpciBEaXNwZXJzaW9uCgoJCWxvY2FsIFN0b3JtQW9lID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCVN0b3JtQW9lLkJ1dHRvbi5OYW1lID0gIlN0b3JtQW9lIgoJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3Rvcm1Bb2UpCgkJbXZ0Zy5Bb0VzLlN0b3JtLkJ1dHRvbiA9IFN0b3JtQW9lLkJ1dHRvbgoKCQltdnRnLkFvRXMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoKCQlTdG9ybUFvZS5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIG5vdCBtdnRnLkFvRXMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMSkKCQkJCQltdnRnLkFvRXMuU3Rvcm0uVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlRleHQgPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQW9Fcy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5Bb0VzLlN0b3JtLlRleHQgPSAiSW5zdGFudCBMaWdodG5pbmcgRGlzcGVyc2lvbiAoT2ZmKSIKCQkJCWVuZAoJCQkJU3Rvcm1Bb2UuQnV0dG9uLlRleHQgPSBtdnRnLkFvRXMuU3Rvcm0uVGV4dAoJCQllbHNlCgkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlTdG9ybUFvZS5CdXR0b24uVGV4dCA9IG12dGcuQW9Fcy5TdG9ybS5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkFvRXMuU3Rvcm0uVGV4dCA9ICJJbnN0YW50IFN0b3JtIEFvRSAoT2ZmKSIKCQkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQkJZW5kCgkJCVN0b3JtQW9lLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIFNwbGl0dGluZyBTbGltZSBIYWNrCgoJCWxvY2FsIFNwbGl0dGluZ1NsaW1lID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTcGxpdHRpbmdTbGltZS5OYW1lID0gIlNwbGl0dGluZ1NsaW1lIgoJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSBtdnRnLkFvRXMuU2xpbWUuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGxpdHRpbmdTbGltZSkKCQltdnRnLkFvRXMuU2xpbWUuQnV0dG9uID0gU3BsaXR0aW5nU2xpbWUKCgkJbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID0gZmFsc2UKCgkJU3BsaXR0aW5nU2xpbWUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLlNsaW1lLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5TbGltZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5TbGltZS5UZXh0ID0gIlNwbGl0dGluZyBTbGltZSBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5TbGltZS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSBtdnRnLkFvRXMuU2xpbWUuVGV4dAoJCWVuZCkKCgkJLS0gQW1hdXJvdGljIExhbWJlbnQgSGFjawoKCQlsb2NhbCBBbWF1cm90aWNMYW1iZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlBbWF1cm90aWNMYW1iZW50Lk5hbWUgPSAiQW1hdXJvdGljTGFtYmVudCIKCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSBtdnRnLkFvRXMuTGlnaHQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbWF1cm90aWNMYW1iZW50KQoJCW12dGcuQW9Fcy5MaWdodC5CdXR0b24gPSBBbWF1cm90aWNMYW1iZW50CgoJCW12dGcuQW9Fcy5MaWdodC5WYWx1ZSA9IGZhbHNlCgoJCUFtYXVyb3RpY0xhbWJlbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMSkKCQkJCW12dGcuQW9Fcy5MaWdodC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5MaWdodC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5MaWdodC5UZXh0ID0gIkFtYXVyb3RpYyBMYW1iZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBbWF1cm90aWNMYW1iZW50LlRleHQgPSBtdnRnLkFvRXMuTGlnaHQuVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uCgoJCWxvY2FsIFBsYXNtYUltcGxvc2lvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJUGxhc21hSW1wbG9zaW9uLk5hbWUgPSAiUGxhc21hSW1wbG9zaW9uIgoJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gbXZ0Zy5Bb0VzLlBsYXNtYS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBsYXNtYUltcGxvc2lvbikKCQltdnRnLkFvRXMuUGxhc21hLkJ1dHRvbiA9IFBsYXNtYUltcGxvc2lvbgoKCQltdnRnLkFvRXMuUGxhc21hLlZhbHVlID0gZmFsc2UKCgkJUGxhc21hSW1wbG9zaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5QbGFzbWEuVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5Bb0VzLlBsYXNtYS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuUGxhc21hLlRleHQgPSAiSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uIChPZmYpIgoJCQllbmQKCQkJUGxhc21hSW1wbG9zaW9uLlRleHQgPSBtdnRnLkFvRXMuUGxhc21hLlRleHQKCQllbmQpCgoJCS0tIEZvcm1pZGFibGUgUm9hciBIYWNrCgoJCWxvY2FsIEZvcm1pZGFibGVSb2FyID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlGb3JtaWRhYmxlUm9hci5OYW1lID0gIkZvcm1pZGFibGVSb2FyIgoJCUZvcm1pZGFibGVSb2FyLlRleHQgPSBtdnRnLkFvRXMuRHJhZ29uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRm9ybWlkYWJsZVJvYXIpCgkJbXZ0Zy5Bb0VzLkRyYWdvbi5CdXR0b24gPSBGb3JtaWRhYmxlUm9hcgoKCQltdnRnLkFvRXMuRHJhZ29uLlZhbHVlID0gZmFsc2UKCgkJRm9ybWlkYWJsZVJvYXIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDEpCgkJCQltdnRnLkFvRXMuRHJhZ29uLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQW9Fcy5EcmFnb24uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5Bb0VzLkRyYWdvbi5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPZmYpIgoJCQllbmQKCQkJRm9ybWlkYWJsZVJvYXIuVGV4dCA9IG12dGcuQW9Fcy5EcmFnb24uVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBTa2VsZXRvbiBHcmFiCgoJCWxvY2FsIFNrZWxldG9uR3JhYiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU2tlbGV0b25HcmFiLk5hbWUgPSAiU2tlbGV0b25HcmFiIgoJCVNrZWxldG9uR3JhYi5UZXh0ID0gbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNrZWxldG9uR3JhYikKCQltdnRnLkFvRXMuTmlnaHRtYXJlLkJ1dHRvbiA9IFNrZWxldG9uR3JhYgoKCQltdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID0gZmFsc2UKCgkJU2tlbGV0b25HcmFiLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQW9Fcy5OaWdodG1hcmUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9uKSBbQUlNRURdIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQW9Fcy5OaWdodG1hcmUuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9mZikgW0FJTUVEXSIKCQkJZW5kCgkJCVNrZWxldG9uR3JhYi5UZXh0ID0gbXZ0Zy5Bb0VzLk5pZ2h0bWFyZS5UZXh0CgkJZW5kKQoKCQktLSBHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sKCgkJbG9jYWwgR3Jhdml0YXRpb25hbEZpZWxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHcmF2aXRhdGlvbmFsRmllbGQuTmFtZSA9ICJHcmF2aXRhdGlvbmFsRmllbGQiCgkJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSBtdnRnLkFvRXMuR3Jhdml0eS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGF0aW9uYWxGaWVsZCkKCQltdnRnLkFvRXMuR3Jhdml0eS5CdXR0b24gPSBHcmF2aXRhdGlvbmFsRmllbGQKCgkJbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgPSBmYWxzZQoKCQlHcmF2aXRhdGlvbmFsRmllbGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygxKQoJCQkJbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgPSB0cnVlCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkFvRXMuR3Jhdml0eS5UZXh0ID0gIkdyYXZpdGF0aW9uYWwgRmllbGQgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUdyYXZpdGF0aW9uYWxGaWVsZC5UZXh0ID0gbXZ0Zy5Bb0VzLkdyYXZpdHkuVGV4dAoJCWVuZCkKCgkJLS0tLSBQbGF5ZXIgbW9kaWZpY2F0aW9ucwoJCS0tIEluc3RhbnQgUm9jayBBcm1vcgoKCQlsb2NhbCBSb2NrQXJtb3IgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVJvY2tBcm1vci5OYW1lID0gIlJvY2tBcm1vciIKCQlSb2NrQXJtb3IuVGV4dCA9ICJJbnN0YW50IFJvY2sgQXJtb3IiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tBcm1vcikKCgkJUm9ja0FybW9yLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkKCQkJZW5kCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQoJCWVuZCkKCgkJLS0gU2xpbWUgQnVkZGllcyBIYWNrCgoJCWxvY2FsIFNsaW1lQnVkZGllcyA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLk5hbWUgPSAiU2xpbWVCdWRkaWVzIgoJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5TbGltZUhlYWwuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTbGltZUJ1ZGRpZXMpCgkJbXZ0Zy5NaXNjLlNsaW1lSGVhbC5CdXR0b24gPSBTbGltZUJ1ZGRpZXMuQnV0dG9uCgoJCW12dGcuTWlzYy5TbGltZUhlYWwuVmFsdWUgPSBmYWxzZQoKCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLk1pc2MuU2xpbWVIZWFsLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCQltdnRnLk1pc2MuU2xpbWVIZWFsLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuTWlzYy5TbGltZUhlYWwuVGV4dCA9ICJTbGltZSBCdWRkaWVzIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLk1pc2MuU2xpbWVIZWFsLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLk1pc2MuU2xpbWVIZWFsLlRleHQgPSAiU2xpbWUgQnVkZGllcyBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlTbGltZUJ1ZGRpZXMuQnV0dG9uLlRleHQgPSBtdnRnLk1pc2MuU2xpbWVIZWFsLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5TbGltZUhlYWwuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5NaXNjLlNsaW1lSGVhbC5UZXh0ID0gIlNsaW1lIEJ1ZGRpZXMgSGFjayAoT2ZmKSIKCQkJCVNsaW1lQnVkZGllcy5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5TbGltZUhlYWwuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEluZXJ0aWEgR3Jhdml0eQoKCQlsb2NhbCBJbmVydGlhR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSW5lcnRpYUdyYXZpdHkuTmFtZSA9ICJJbmVydGlhR3Jhdml0eSIKCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gbXZ0Zy5NaXNjLkluZXJ0aWEuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBJbmVydGlhR3Jhdml0eSkKCQltdnRnLk1pc2MuSW5lcnRpYS5CdXR0b24gPSBJbmVydGlhR3Jhdml0eQoKCQltdnRnLk1pc2MuSW5lcnRpYS5WYWx1ZSA9IGZhbHNlCgoJCUluZXJ0aWFHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuTWlzYy5JbmVydGlhLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCW12dGcuTWlzYy5JbmVydGlhLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5NaXNjLkluZXJ0aWEuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9uKSIKCQkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikKCQkJCUJvZHlGb3JjZS5QYXJlbnQgPSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCUJvZHlGb3JjZS5OYW1lID0gIkluZXJ0aWFHcmF2aXR5Rm9yY2UiCgkJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCAxNjM4LCAwKQoJCQllbHNlCgkJCQltdnRnLk1pc2MuSW5lcnRpYS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLk1pc2MuSW5lcnRpYS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT2ZmKSIKCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSW5lcnRpYUdyYXZpdHlGb3JjZSIpIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuSW5lcnRpYUdyYXZpdHlGb3JjZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQkJSW5lcnRpYUdyYXZpdHkuVGV4dCA9IG12dGcuTWlzYy5JbmVydGlhLlRleHQKCQllbmQpCgoJCS0tIFNwZWN0cmFsIEVtYm9kaW1lbnQKCgkJbG9jYWwgU3BlY3RyYWxFbWJvZGltZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlTcGVjdHJhbEVtYm9kaW1lbnQuTmFtZSA9ICJTcGVjdHJhbEVtYm9kaW1lbnQiCgkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSBtdnRnLk1pc2MuSW52aXMuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVjdHJhbEVtYm9kaW1lbnQpCgkJbXZ0Zy5NaXNjLkludmlzLkJ1dHRvbiA9IFNwZWN0cmFsRW1ib2RpbWVudAoKCQltdnRnLk1pc2MuSW52aXMuVmFsdWUgPSBmYWxzZQoKCQlTcGVjdHJhbEVtYm9kaW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5NaXNjLkludmlzLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCW12dGcuTWlzYy5JbnZpcy5WYWx1ZSA9IHRydWUKCQkJCW12dGcuTWlzYy5JbnZpcy5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT24pIFtYXSIKCQkJZWxzZQoJCQkJbXZ0Zy5NaXNjLkludmlzLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuTWlzYy5JbnZpcy5UZXh0ID0gIlNwZWN0cmFsIEVtYm9kaW1lbnQgS2V5YmluZCAoT2ZmKSBbWF0iCgkJCWVuZAoJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9IG12dGcuTWlzYy5JbnZpcy5UZXh0CgkJZW5kKQoKCQktLSBBbnRpLUJsaW5kCgoJCWxvY2FsIEFudGlCbGluZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIgoJCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9mZikgW0tdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpQmxpbmQpCgoJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBub3JtYWxGb2dDb2xvciA9IGdhbWUuTGlnaHRpbmcuRm9nQ29sb3IKCQlsb2NhbCBub3JtYWxGb2dFbmQgPSBnYW1lLkxpZ2h0aW5nLkZvZ0VuZAoJCWxvY2FsIG5vcm1hbEJyaWdodG5lc3MgPSBnYW1lLkxpZ2h0aW5nLkJyaWdodG5lc3MKCQlsb2NhbCBub3JtYWxDbG9ja1RpbWUgPSBnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZQoKCQlsb2NhbCBmdW5jdGlvbiBBbnRpQmxpbmRGdW5jKCkKCQkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpQmxpbmRFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT24pIFtLXSIKCQkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yID0gbm9ybWFsRm9nQ29sb3IKCQkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZAoJCQkJCWdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcyA9IG5vcm1hbEJyaWdodG5lc3MKCQkJCQlnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZSA9IG5vcm1hbENsb2NrVGltZQoJCQkJZW5kCgkJCWVsc2UKCQkJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT2ZmKSBbS10iCgkJCWVuZAoJCWVuZAoKCQlBbnRpQmxpbmQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlCbGluZEZ1bmMpCgoJCXBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCWlmIEFudGlCbGluZEVuYWJsZWQgdGhlbgoJCQkJaWYgZC5OYW1lID09ICJTY3JlZW5HdWkiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLlNjcmVlbkd1aTpEZXN0cm95KCkKCQkJCWVsc2VpZiBkLk5hbWUgPT0gIkRpc3RvcnQiIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLkRpc3RvcnQ6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQktLSBTcGVlZCBoYWNrCgoJCWxvY2FsIFNwZWVkaGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU3BlZWRoYWNrLk5hbWUgPSAiU3BlZWRoYWNrIgoJCVNwZWVkaGFjay5UZXh0ID0gIlNwZWVkaGFjayBbZGVmYXVsdCA2NF0gKE9mZikgW1RdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVlZGhhY2spCgoJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQoJCVNldFNwZWVkID0gNjQKCgkJZnVuY3Rpb24gbW9kaWZ5U3BlZWQoKQoJCQlwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkNoYW5nZWQ6Y29ubmVjdChmdW5jdGlvbigpCgkJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQKCQkJCWVsc2UKCQkJCQlyZXR1cm4KCQkJCWVuZAoJCQllbmQpCgkJZW5kCgoJCWZ1bmN0aW9uIGJlZ2luU3BlZWQoKQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCVNwZWVkaGFja0VuYWJsZWQgPSB0cnVlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPbikgW1RdIgoJCQkJbW9kaWZ5U3BlZWQoKQoJCQkJd2FpdCgpCgkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQl3aGlsZSBTcGVlZGhhY2tFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQltb2RpZnlTcGVlZCgpCgkJCQkJCXdhaXQoKQoJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLldhbGtTcGVlZCA9IFNldFNwZWVkCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlCgkJCQlTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPZmYpIFtUXSIKCQkJZW5kCgkJZW5kCgoJCVNwZWVkaGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5TcGVlZCkKCgkJLS0tLSBCdWxsZXRzCgkJLS0gSHlwZXJhbmcgSGFjawoKCQlsb2NhbCBUZWNoUmFuZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVGVjaFJhbmcuTmFtZSA9ICJUZWNoUmFuZyIKCQlUZWNoUmFuZy5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBUZWNoUmFuZykKCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5CdXR0b24gPSBUZWNoUmFuZwoKCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgoJCVRlY2hSYW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG5vdCBtdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlRleHQgPSAiSHlwZXJhbmcgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLkJ1bGxldHMuVGVjaG5vbG9neS5UZXh0ID0gIkh5cGVyYW5nIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlUZWNoUmFuZy5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlRlY2hub2xvZ3kuVGV4dAoJCWVuZCkKCgkJLS0gQXN0ZXJvaWQgQmVsdCBIYWNrCgoJCWxvY2FsIEFzdGVyb2lkQmVsdEhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFzdGVyb2lkQmVsdEhhY2suTmFtZSA9ICJBc3Rlcm9pZEJlbHRIYWNrIgoJCUFzdGVyb2lkQmVsdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGFjZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFzdGVyb2lkQmVsdEhhY2spCgkJbXZ0Zy5CdWxsZXRzLlNwYWNlLkJ1dHRvbiA9IEFzdGVyb2lkQmVsdEhhY2sKCQkKCQltdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPSBmYWxzZQoJCQoJCUFzdGVyb2lkQmVsdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwYWNlLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5TcGFjZS5UZXh0ID0gIkFzdGVyb2lkIEJlbHQgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPZmYpIgoJCQllbmQKCQkJQXN0ZXJvaWRCZWx0SGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNwYWNlLlRleHQKCQllbmQpCgoJCS0tIE9yYnMgb2YgRW5saWdodGVubWVudCBIYWNrCgoJCWxvY2FsIExpZ2h0T3Jic0hhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxpZ2h0T3Jic0hhY2suTmFtZSA9ICJMaWdodE9yYnNIYWNrIgoJCUxpZ2h0T3Jic0hhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5MaWdodC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExpZ2h0T3Jic0hhY2spCgkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LkJ1dHRvbiA9IExpZ2h0T3Jic0hhY2sKCgkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlID0gZmFsc2UKCgkJTGlnaHRPcmJzSGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLkxpZ2h0LlZhbHVlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMikKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5MaWdodC5UZXh0ID0gIkxpZ2h0IE9yYnMgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLkJ1bGxldHMuTGlnaHQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQgPSAiTGlnaHQgT3JicyBIYWNrIChPZmYpIgoJCQllbmQKCQkJTGlnaHRPcmJzSGFjay5UZXh0ID0gbXZ0Zy5CdWxsZXRzLkxpZ2h0LlRleHQKCQllbmQpCgoJCS0tIFZpZ29yIEd5cmF0aW9uIEhhY2sKCgkJbG9jYWwgVmlnR3lyYXRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaWdHeXJhdEhhY2suTmFtZSA9ICJWaWdHeXJhdEhhY2siCgkJVmlnR3lyYXRIYWNrLlRleHQgPSBtdnRnLkJ1bGxldHMuU3Bpcml0LlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlnR3lyYXRIYWNrKQoJCW12dGcuQnVsbGV0cy5TcGlyaXQuQnV0dG9uID0gVmlnR3lyYXRIYWNrCgkJCgkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9IGZhbHNlCgkJCgkJVmlnR3lyYXRIYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3ZlcygyKQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuQnVsbGV0cy5TcGlyaXQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNwaXJpdC5UZXh0ID0gIlZpZ29yIEd5cmF0aW9uIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlWaWdHeXJhdEhhY2suVGV4dCA9IG12dGcuQnVsbGV0cy5TcGlyaXQuVGV4dAoJCWVuZCkKCgkJLS0gTGlnaHRuaW5nIEJhcnJhZ2UgSGFjawoKCQlsb2NhbCBCYXJyYWdlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlCYXJyYWdlLk5hbWUgPSAiQmFycmFnZSIKCQlCYXJyYWdlLlRleHQgPSBtdnRnLkJ1bGxldHMuU3Rvcm0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBCYXJyYWdlKQoJCW12dGcuQnVsbGV0cy5TdG9ybS5CdXR0b24gPSBCYXJyYWdlCgoJCW12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCUJhcnJhZ2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IG12dGcuQnVsbGV0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQljaGVja01vdmVzKDIpCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJ1bGxldHMuU3Rvcm0uVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQnVsbGV0cy5TdG9ybS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUJhcnJhZ2UuVGV4dCA9IG12dGcuQnVsbGV0cy5TdG9ybS5UZXh0CgkJZW5kKQoKCQktLSBEeWluZyBTdGFyIEhhY2sKCgkJbG9jYWwgRHlpbmdTdGFySGFjayA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5OYW1lID0gIkR5aW5nU3RhckhhY2siCgkJRHlpbmdTdGFySGFjay5CdXR0b24uVGV4dCA9IG12dGcuQnVsbGV0cy5Tb2xhci5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIER5aW5nU3RhckhhY2spCgkJbXZ0Zy5CdWxsZXRzLlNvbGFyLkJ1dHRvbiA9IER5aW5nU3RhckhhY2suQnV0dG9uCgoJCW12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgoJCUR5aW5nU3RhckhhY2suQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlIHRoZW4KCQkJCQljaGVja01vdmVzKDIpCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5UZXh0ID0gIkR5aW5nIFN0YXIgSGFjayAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQnVsbGV0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiRHlpbmcgU3RhciBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJRHlpbmdTdGFySGFjay5CdXR0b24uVGV4dCA9IG12dGcuQnVsbGV0cy5Tb2xhci5UZXh0CgkJCQl3YWl0KDEpCgkJCQltdnRnLkJ1bGxldHMuU29sYXIuVGV4dCA9ICJEeWluZyBTdGFyIEhhY2sgKE9mZikiCgkJCQlEeWluZ1N0YXJIYWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CdWxsZXRzLlNvbGFyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLS0tIEJsYXN0cwoKCQktLSBFeHBsb2RlIGF0IE1vdXNlIChCb2x0IEhhY2spCgoJCWxvY2FsIEV4cGxvZGVBdE1vdXNlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFeHBsb2RlQXRNb3VzZS5OYW1lID0gIkV4cGxvZGVBdE1vdXNlIgoJCUV4cGxvZGVBdE1vdXNlLlRleHQgPSBtdnRnLkJsYXN0cy5TdG9ybS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsRXhwbG9kZUF0TW91c2UpCgkJbXZ0Zy5CbGFzdHMuU3Rvcm0uQnV0dG9uID0gRXhwbG9kZUF0TW91c2UKCgkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoKCQlFeHBsb2RlQXRNb3VzZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBub3QgbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJY2hlY2tNb3ZlcygzKQoJCQkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgPSB0cnVlCgkJCQltdnRnLkJsYXN0cy5TdG9ybS5UZXh0ID0gIkV4cGxvZGUgYXQgTW91c2UgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU3Rvcm0uVGV4dCA9ICJFeHBsb2RlIGF0IE1vdXNlIChPZmYpIgoJCQllbmQKCQkJRXhwbG9kZUF0TW91c2UuVGV4dCA9IG12dGcuQmxhc3RzLlN0b3JtLlRleHQKCQllbmQpCgoJCS0tIE9yYml0YWwgU3RyaWtlIEhhY2sKCgkJbG9jYWwgT3JiaXRhbCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlPcmJpdGFsLkJ1dHRvbi5OYW1lID0gIk9yaWJ0YWwiCgkJT3JiaXRhbC5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBPcmJpdGFsKQoJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuQnV0dG9uID0gT3JiaXRhbC5CdXR0b24KCgkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgoJCU9yYml0YWwuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSB0aGVuCgkJCQkJY2hlY2tNb3ZlcygzKQoJCQkJCW12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVmFsdWUgPSB0cnVlCgkJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJT3JiaXRhbC5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dAoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5UZWNobm9sb2d5LlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJT3JiaXRhbC5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlRlY2hub2xvZ3kuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9mZikiCgkJCQlPcmJpdGFsLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSW5zdGFudCBEb3VibGUgUmF5CgoJCWxvY2FsIERvdWJsZVJheSA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlEb3VibGVSYXkuQnV0dG9uLk5hbWUgPSAiRG91YmxlUmF5IgoJCURvdWJsZVJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRG91YmxlUmF5KQoJCW12dGcuQmxhc3RzLlNvbGFyLkJ1dHRvbiA9IERvdWJsZVJheS5CdXR0b24KCgkJbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoKCQlEb3VibGVSYXkuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBub3QgbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoMykKCQkJCQltdnRnLkJsYXN0cy5Tb2xhci5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLkJsYXN0cy5Tb2xhci5UZXh0ID0gIkluc3RhbnQgRG91YmxlIFJheSAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuQmxhc3RzLlNvbGFyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLkJsYXN0cy5Tb2xhci5UZXh0ID0gIkluc3RhbnQgRG91YmxlIFJheSAoT2ZmKSIKCQkJCWVuZAoJCQkJRG91YmxlUmF5LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5CbGFzdHMuU29sYXIuVGV4dAoJCQllbHNlCgkJCQltdnRnLkJsYXN0cy5Tb2xhci5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCURvdWJsZVJheS5CdXR0b24uVGV4dCA9IG12dGcuQmxhc3RzLlNvbGFyLlRleHQKCQkJCXdhaXQoMSkKCQkJCW12dGcuQmxhc3RzLlNvbGFyLlRleHQgPSAiSW5zdGFudCBEb3VibGUgUmF5IChPZmYpIgoJCQkJRG91YmxSYXkuQnV0dG9uLlRleHQgPSBtdnRnLkJsYXN0cy5Tb2xhci5UZXh0CgkJCWVuZAoJCWVuZCkKCgkJLS0gSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaAoKCQlsb2NhbCBIb2xvYmVhbSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJSG9sb2JlYW0uTmFtZSA9ICJIb2xvYmVhbSIKCQlIb2xvYmVhbS5UZXh0ID0gbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBIb2xvYmVhbSkKCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5CdXR0b24gPSBIb2xvYmVhbQoKCQltdnRnLkJsYXN0cy5TcGVjdHJ1bS5WYWx1ZSA9IGZhbHNlCgoJCWZ1bmN0aW9uIGF0dGFjaENhbWVyYSh2KQoJCQlpZiAodiB+PSBuaWwpIHRoZW4KCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgKHYuTmFtZSA9PSAiSG9sb2JlYW0iKSB0aGVuCgkJCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddW3YuTmFtZV0KCQkJCWVsc2UKCQkJCQl2OkRlc3Ryb3koKQoJCQkJCXJldHVybgoJCQkJZW5kCgkJCQkKCQkJCXYuVHJhbnNwYXJlbmN5ID0gMAoKCQkJCXdhaXQoNCkKCQkJCWlmIG5vdCh2aWV3aW5nKSBhbmQgbm90KGdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID09IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQpIHRoZW4KCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCWVuZAoJCQkJCgkJCQl2OkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCQkKCQlnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCWlmIG12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlIHRoZW4KCQkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKHBsYXllci5DaGFyYWN0ZXIpIHRoZW4KCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2LlBvc2l0aW9uKS5NYWduaXR1ZGUKCQkJCQkKCQkJCQlpZiAodi5TaXplID09IFZlY3RvcjMubmV3KDUsIDUsIDUpKSBhbmQgKGRpc3RhbmNlIDwgMTApIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbgoJCQkJCQoJCQkJCQl2Lk5hbWUgPSAiSG9sb2JlYW0iCgkJCQkJCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpIAoJCQkJCQkJCWF0dGFjaENhbWVyYSh2KSAKCQkJCQkJCWVuZCkpCgkJCQkJCWVuZCkKCQkJCQkJCgkJCQkJCWxvY2FsIGd1aSA9IHBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIKCQkJCQkJCgkJCQkJCXdhaXQoMC41KQoJCQkJCQkKCQkJCQkJd2hpbGUgd2FpdCgpIGRvCgkJCQkJCQlpZiBub3QoZ3VpWycxJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzInXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMyddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc0J10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzUnXS5DRC5UZXh0ID09ICIuLi4iKSB0aGVuCgkJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuCgkJCQkJCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCQkJCQkJZW5kCgkJCQkKCQkJCQkJCQkJdjpEZXN0cm95KCkKCQkJCQkJCQllbmQpCgkJCQkJCQkJCgkJCQkJCQkJYnJlYWsKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCUhvbG9iZWFtLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoMykKCQkJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5CbGFzdHMuU3BlY3RydW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPbikiCgkJCQkKCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuIHY6RGVzdHJveSgpIGVuZAoJCQkJZW5kCgkJCWVsc2UKCQkJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuQmxhc3RzLlNwZWN0cnVtLlRleHQgPSAiSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaCAoT2ZmKSIKCQkJZW5kCgkJCUhvbG9iZWFtLlRleHQgPSBtdnRnLkJsYXN0cy5TcGVjdHJ1bS5UZXh0CgkJZW5kKQoKCQktLSBDb250cm9sbGVkIEVjaG9lcwoKCQlsb2NhbCBFY2hvZXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUVjaG9lcy5OYW1lID0gIkVjaG9lcyIKCQlFY2hvZXMuVGV4dCA9IG12dGcuQmxhc3RzLlNvdW5kLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRWNob2VzKQoJCW12dGcuQmxhc3RzLlNvdW5kLkJ1dHRvbiA9IEVjaG9lcwoKCQltdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9IGZhbHNlCgkJRWNob2VzQXV0byA9IGZhbHNlCgkJRWNob2VzUGhhc2UgPSAxCgoJCUVjaG9lcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDMpCgkJCQltdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSA9IHRydWUKCQkJCW12dGcuQmxhc3RzLlNvdW5kLlRleHQgPSAiQ29udHJvbGxlZCBFY2hvZXMgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5CbGFzdHMuU291bmQuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT2ZmKSIKCQkJZW5kCgkJCUVjaG9lcy5UZXh0ID0gbXZ0Zy5CbGFzdHMuU291bmQuVGV4dAoJCWVuZCkKCgkJLS0tLSBTaGllbGRzCgkJLS0gQ3J5c3RhbCBBcm1hbWVudCBhbmQgR3Jhdml0YWwgR2xvYmUgSGFja3MKCgkJbG9jYWwgQ3J5c3RhbEFybWFtZW50ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlDcnlzdGFsQXJtYW1lbnQuTmFtZSA9ICJDcnlzdGFsQXJtYW1lbnQiCgkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiSW5zdGFudCBDcnlzdGFsIEFybWFtZW50IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBDcnlzdGFsQXJtYW1lbnQpCgoJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBHcmF2aXRhbEdsb2JlID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlHcmF2aXRhbEdsb2JlLk5hbWUgPSAiR3Jhdml0YWxHbG9iZSIKCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR3Jhdml0YWxHbG9iZSkKCgkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoKCQlHcmF2aXRhbEdsb2JlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgdGhlbgoJCQkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQoJCQkJCXByaW50KCJEaXNhYmxlZCBDcnlzdGFsIikKCQkJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiCgkJCQllbmQKCQkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gdHJ1ZQoJCQkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoJCQkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9mZikiCgkJCWVuZAoJCWVuZCkJCQoKCQlDcnlzdGFsQXJtYW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlpZiBHcmF2aXRhbEdsb2JlRW5hYmxlZCB0aGVuCgkJCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQoJCQkJCXByaW50KCJEaXNhYmxlZCBHcmF2aXR5IikKCQkJCQlHcmF2aXRhbEdsb2JlLlRleHQgPSAiR3Jhdml0YWwgR2xvYmUgSGFjayAoT2ZmKSIKCQkJCWVuZAoJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IHRydWUKCQkJCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkluc3RhbnQgQ3J5c3RhbCBBcm1hbWVudCAoT24pIgkJCQkKCQkJZWxzZQoJCQkJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlCgkJCQlDcnlzdGFsQXJtYW1lbnQuVGV4dCA9ICJJbnN0YW50IENyeXN0YWwgQXJtYW1lbnQgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJLS0tLSBVbHRzCgkJLS0gRGlzYWJsZSBjb29sZG93bnMKCQlsb2NhbCBFbmFibGVVbHRzID0gewoJCQlbIkJ1dHRvbiJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiksCgkJCVsiSXNHb2xkIl0gPSB0cnVlCgkJfQoJCUVuYWJsZVVsdHMuQnV0dG9uLk5hbWUgPSAiRW5hYmxlVWx0cyIKCQlFbmFibGVVbHRzLkJ1dHRvbi5UZXh0ID0gIlJlbW92ZSBVbHQgQ29vbGRvd24iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsRW5hYmxlVWx0cykKCgkJRW5hYmxlVWx0cy5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkRhcmtuZXNzIiwgIlZvaWQgb2YgVGVycm9yIiwgQ0ZyYW1lLm5ldyhwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24tVmVjdG9yMy5uZXcoMCwyNTAsMCkpKQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJEYXJrbmVzcyIsICJWb2lkIG9mIFRlcnJvciIpCgkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiVm9pZCBvZiBUZXJyb3IiLCBDRnJhbWUubmV3KHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbi1WZWN0b3IzLm5ldygwLDI1MCwwKSkpCgkJCWVsc2UKCQkJCUVuYWJsZVVsdHMuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJRW5hYmxlVWx0cy5CdXR0b24uVGV4dCA9ICJSZW1vdmUgVWx0IENvb2xkb3duIgoJCQllbmQKCQllbmQpCgoJCS0tIFJlYXBlcidzIFJhZ2UKCQlsb2NhbCBSZWFwZXJVbHQgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJUmVhcGVyVWx0LkJ1dHRvbi5OYW1lID0gIlJlYXBlclVsdCIKCQlSZWFwZXJVbHQuQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuUmVhcGVyLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmVhcGVyVWx0KQoJCW12dGcuVWx0cy5SZWFwZXIuQnV0dG9uID0gUmVhcGVyVWx0LkJ1dHRvbgoKCQltdnRnLlVsdHMuUmVhcGVyLlZhbHVlID0gZmFsc2UKCgkJUmVhcGVyVWx0LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbm90IG12dGcuVWx0cy5SZWFwZXIuVmFsdWUgdGhlbgoJCQkJCWNoZWNrTW92ZXMoNSkKCQkJCQltdnRnLlVsdHMuUmVhcGVyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuVWx0cy5SZWFwZXIuVGV4dCA9ICJSZWFwZXIncyBSYWdlIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLlVsdHMuUmVhcGVyLlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLlVsdHMuUmVhcGVyLlRleHQgPSAiUmVhcGVyJ3MgUmFnZSBIYWNrIChPZmYpIgoJCQkJZW5kCgkJCQlSZWFwZXJVbHQuQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuUmVhcGVyLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCQkJd2FpdCgxKQoJCQkJbXZ0Zy5VbHRzLlJlYXBlci5UZXh0ID0gIlJlYXBlcidzIFJhZ2UgSGFjayAoT2ZmKSIKCQkJCVJlYXBlclVsdC5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5SZWFwZXIuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEFibGF6ZSBKdWRnZW1lbnQgSGFjawoKCQlsb2NhbCBBYmxhemVKdWRnZW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFibGF6ZUp1ZGdlbWVudC5OYW1lID0gIkFibGF6ZUp1ZGdlbWVudCIKCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9IG12dGcuVWx0cy5MaWdodC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFibGF6ZUp1ZGdlbWVudCkKCQltdnRnLlVsdHMuTGlnaHQuQnV0dG9uID0gQWJsYXplSnVkZ2VtZW50CgoJCW12dGcuVWx0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgoJCUFibGF6ZUp1ZGdlbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuTGlnaHQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkxpZ2h0LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5MaWdodC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuTGlnaHQuVGV4dCA9ICJBYmxhemUgSnVkZ2VtZW50IEhhY2sgKE9mZikiCgkJCWVuZAoJCQlBYmxhemVKdWRnZW1lbnQuVGV4dCA9IG12dGcuVWx0cy5MaWdodC5UZXh0CgkJZW5kKQoKCQktLSBWb2lkIE9wZW5pbmcgSGFjawoKCQlsb2NhbCBWb2lkT3BlbmluZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVm9pZE9wZW5pbmcuTmFtZSA9ICJWb2lkT3BlbmluZyIKCQlWb2lkT3BlbmluZy5UZXh0ID0gbXZ0Zy5VbHRzLlZvaWQuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWb2lkT3BlbmluZykKCQltdnRnLlVsdHMuVm9pZC5CdXR0b24gPSBWb2lkT3BlbmluZwoKCQltdnRnLlVsdHMuVm9pZC5WYWx1ZSA9IGZhbHNlCgoJCVZvaWRPcGVuaW5nLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5Wb2lkLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5Wb2lkLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLlZvaWQuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuVm9pZC5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuVm9pZC5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPZmYpIgoJCQllbmQKCQkJVm9pZE9wZW5pbmcuVGV4dCA9IG12dGcuVWx0cy5Wb2lkLlRleHQKCQllbmQpCgoJCS0tIFRoZSBXb3JsZCBIYWNrCgoJCWxvY2FsIFRoZVdvcmxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUaGVXb3JsZC5OYW1lID0gIlRoZVdvcmxkIgoJCVRoZVdvcmxkLlRleHQgPSBtdnRnLlVsdHMuVGltZS5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRoZVdvcmxkKQoJCW12dGcuVWx0cy5UaW1lLkJ1dHRvbiA9IFRoZVdvcmxkCgoJCW12dGcuVWx0cy5UaW1lLlZhbHVlID0gZmFsc2UKCgkJVGhlV29ybGQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLlRpbWUuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuVGltZS5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5UaW1lLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5UaW1lLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9mZikiCgkJCWVuZAoJCQlUaGVXb3JsZC5UZXh0ID0gbXZ0Zy5VbHRzLlRpbWUuVGV4dAoJCWVuZCkKCgkJLS0gUG9sYXJpcyBIYWNrCgoJCWxvY2FsIFBvbGFyaXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVBvbGFyaXMuTmFtZSA9ICJQb2xhcmlzIgoJCVBvbGFyaXMuVGV4dCA9IG12dGcuVWx0cy5BdXJvcmEuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBQb2xhcmlzKQoJCW12dGcuVWx0cy5BdXJvcmEuQnV0dG9uID0gUG9sYXJpcwoKCQltdnRnLlVsdHMuQXVyb3JhLlZhbHVlID0gZmFsc2UKCgkJUG9sYXJpcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuQXVyb3JhLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuQXVyb3JhLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5BdXJvcmEuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkF1cm9yYS5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT2ZmKSIKCQkJZW5kCgkJCVBvbGFyaXMuVGV4dCA9IG12dGcuVWx0cy5BdXJvcmEuVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uCgoJCWxvY2FsIFNoYXR0ZXJpbmdFcnVwdGlvbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJU2hhdHRlcmluZ0VydXB0aW9uLk5hbWUgPSAiU2hhdHRlcmluZ0VydXB0aW9uIgoJCVNoYXR0ZXJpbmdFcnVwdGlvbi5UZXh0ID0gbXZ0Zy5VbHRzLkV4cGxvc2lvbi5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNoYXR0ZXJpbmdFcnVwdGlvbikKCQltdnRnLlVsdHMuRXhwbG9zaW9uLkJ1dHRvbiA9IFNoYXR0ZXJpbmdFcnVwdGlvbgoKCQltdnRnLlVsdHMuRXhwbG9zaW9uLlZhbHVlID0gZmFsc2UKCgkJU2hhdHRlcmluZ0VydXB0aW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5FeHBsb3Npb24uVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQgPSAiSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uIChPZmYpIgoJCQllbmQKCQkJU2hhdHRlcmluZ0VydXB0aW9uLlRleHQgPSBtdnRnLlVsdHMuRXhwbG9zaW9uLlRleHQKCQllbmQpCgoJCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrCgoJCWxvY2FsIEV0aGVyZWFsQWN1bWVuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFdGhlcmVhbEFjdW1lbi5OYW1lID0gIkV0aGVyZWFsQWN1bWVuIgoJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSBtdnRnLlVsdHMuSWxsdXNpb24uVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBFdGhlcmVhbEFjdW1lbikKCQltdnRnLlVsdHMuSWxsdXNpb24uQnV0dG9uID0gRXRoZXJlYWxBY3VtZW4KCgkJbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlID0gZmFsc2UKCgkJRXRoZXJlYWxBY3VtZW4uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5JbGx1c2lvbi5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVWx0cy5JbGx1c2lvbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPbikiCgkJCWVsc2UKCQkJCW12dGcuVWx0cy5JbGx1c2lvbiA9IGZhbHNlCgkJCQltdnRnLlVsdHMuSWxsdXNpb24uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT2ZmKSIKCQkJZW5kCgkJCUV0aGVyZWFsQWN1bWVuLlRleHQgPSBtdnRnLlVsdHMuSWxsdXNpb24uVGV4dAoJCWVuZCkKCgkJLS0gVG94aWMgQmFzaWxpc2sgSGFjawoKCQlsb2NhbCBUb3hpY0Jhc2lsaXNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlUb3hpY0Jhc2lsaXNrLk5hbWUgPSAiVG94aWNCYXNpbGlzayIKCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSBtdnRnLlVsdHMuQWNpZC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRveGljQmFzaWxpc2spCgkJbXZ0Zy5VbHRzLkFjaWQuQnV0dG9uID0gVG94aWNCYXNpbGlzawoKCQltdnRnLlVsdHMuQWNpZC5WYWx1ZSA9IGZhbHNlCgoJCVRveGljQmFzaWxpc2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgPSB0cnVlCgkJCQltdnRnLlVsdHMuQWNpZC5UZXh0ID0gIlRveGljIEJhc2lsaXNrIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkFjaWQuVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5VbHRzLkFjaWQuVGV4dCA9ICJUb3hpYyBCYXNpbGlzayBIYWNrIChPZmYpIgoJCQllbmQKCQkJVG94aWNCYXNpbGlzay5UZXh0ID0gbXZ0Zy5VbHRzLkFjaWQuVGV4dAoJCWVuZCkKCgkJLS0gQXJjYW5lIEd1YXJkaWFuIEhhY2sKCgkJbG9jYWwgQXJjYW5lR3VhcmRpYW4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFyY2FuZUd1YXJkaWFuLk5hbWUgPSAiQXJjYW5lR3VhcmRpYW4iCgkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9IG12dGcuVWx0cy5BbmdlbC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFyY2FuZUd1YXJkaWFuKQoJCW12dGcuVWx0cy5BbmdlbC5CdXR0b24gPSBBcmNhbmVHdWFyZGlhbgoKCQltdnRnLlVsdHMuQW5nZWwuVmFsdWUgPSBmYWxzZQoKCQlBcmNhbmVHdWFyZGlhbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlVsdHMuQW5nZWwuVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg1KQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9uKSIKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLkFuZ2VsLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVWx0cy5BbmdlbC5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPZmYpIgoJCQllbmQKCQkJQXJjYW5lR3VhcmRpYW4uVGV4dCA9IG12dGcuVWx0cy5BbmdlbC5UZXh0CgkJZW5kKQoKCQktLSBWaXJ0dWFsIFpvbmUgSGFjawoKCQlsb2NhbCBWaXJ0dWFsWm9uZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVmlydHVhbFpvbmUuTmFtZSA9ICJWaXJ0dWFsWm9uZSIKCQlWaXJ0dWFsWm9uZS5UZXh0ID0gbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaXJ0dWFsWm9uZSkKCQltdnRnLlVsdHMuVGVjaG5vbG9neS5CdXR0b24gPSBWaXJ0dWFsWm9uZQoKCQltdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgoJCVZpcnR1YWxab25lLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCWNoZWNrTW92ZXMoNSkKCQkJCW12dGcuVWx0cy5UZWNobm9sb2d5LlZhbHVlID0gdHJ1ZQoJCQkJbXZ0Zy5VbHRzLlRlY2hub2xvZ3kuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT24pIgoJCQllbHNlCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSA9IGZhbHNlCgkJCQltdnRnLlVsdHMuVGVjaG5vbG9neS5UZXh0ID0gIlZpcnR1YWwgWm9uZSBIYWNrIChPZmYpIgoJCQllbmQKCQkJVmlydHVhbFpvbmUuVGV4dCA9IG12dGcuVWx0cy5UZWNobm9sb2d5LlRleHQKCQllbmQpCgoJCS0tIFVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuCgoJCWxvY2FsIFNvbGFyU3RpY2sgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJU29sYXJTdGljay5CdXR0b24uTmFtZSA9ICJTb2xhclN0aWNrIgoJCVNvbGFyU3RpY2suQnV0dG9uLlRleHQgPSBtdnRnLlVsdHMuU29sYXIuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBTb2xhclN0aWNrKQoJCW12dGcuVWx0cy5Tb2xhci5CdXR0b24gPSBTb2xhclN0aWNrLkJ1dHRvbgoKCQltdnRnLlVsdHMuU29sYXIuVmFsdWUgPSBmYWxzZQoKCQlTb2xhclN0aWNrLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCQljaGVja01vdmVzKDUpCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlZhbHVlID0gdHJ1ZQoJCQkJCW12dGcuVWx0cy5Tb2xhci5UZXh0ID0gIlNvbGFyIFN0aWNrIEJ1ZyAoT24pIgoJCQkJZWxzZQoJCQkJCW12dGcuVWx0cy5Tb2xhci5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiU29sYXIgU3RpY2sgQnVnIChPZmYpIgoJCQkJZW5kCgkJCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQkJZWxzZQoJCQkJbXZ0Zy5VbHRzLlNvbGFyLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJU29sYXJTdGljay5CdXR0b24uVGV4dCA9IG12dGcuVWx0cy5Tb2xhci5UZXh0CgkJCQl3YWl0KDMpCgkJCQltdnRnLlVsdHMuU29sYXIuVGV4dCA9ICJTb2xhciBTdGljayBCdWcgKE9mZikiCgkJCQlTb2xhclN0aWNrLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5VbHRzLlNvbGFyLlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLS0tIE1pc2NlbGxhbmVvdXMKCQktLSBUZWNoIERpc2MgSGFjawoKCQlsb2NhbCBUZWNoRGlzYyA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlUZWNoRGlzYy5CdXR0b24uTmFtZSA9ICJUZWNoRGlzYyIKCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCXRhYmxlLmluc2VydChidXR0b25zLCBUZWNoRGlzYykKCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LkJ1dHRvbiA9IFRlY2hEaXNjLkJ1dHRvbgoKCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCgkJVGVjaERpc2MuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID09IGZhbHNlIHRoZW4KCQkJCQljaGVja01vdmVzKDQpCgkJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiVGVjaCBEaXNjIEhhY2sgKE9uKSIKCQkJCWVsc2UKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlID0gZmFsc2UKCQkJCQltdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQgPSAiVGVjaCBEaXNjIEhhY2sgKE9mZikiCgkJCQllbmQKCQkJCVRlY2hEaXNjLkJ1dHRvbi5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0CgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQlUZWNoRGlzYy5CdXR0b24uVGV4dCA9IG12dGcuVGVsZXBvcnRzLlRlY2hub2xvZ3kuVGV4dAoJCQkJd2FpdCgzKQoJCQkJbXZ0Zy5UZWxlcG9ydHMuVGVjaG5vbG9neS5UZXh0ID0gIlRlY2ggRGlzYyBIYWNrIChPZmYpIgoJCQkJVGVjaERpc2MuQnV0dG9uLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlRleHQKCQkJZW5kCgkJZW5kKQoKCQktLSBBaW1ib3QgfHwgQ3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50CgkJLS1bWwoJCWxvY2FsIEFpbWJvdCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZSwKCQl9CgkJQWltYm90LkJ1dHRvbi5OYW1lID0gIkFpbWJvdCIKCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBBaW1ib3QpCgoJCWZ1bmN0aW9uIHRvZ2dsZUFpbWJvdCgpCgkJCWlmIChub3QgQWltYm90RW5hYmxlZCkgYW5kIChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdEVuYWJsZWQgPSB0cnVlCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiQWltYm90IChPbikiCgkJCQl3aGlsZSBBaW1ib3RFbmFibGVkIGRvCgkJCQkJQmVnaW5UcmFja2luZygpCgkJCQllbmQKCQkJZWxzZWlmIEFpbWJvdEVuYWJsZWQgYW5kIChpc0dvbGQgb3IgaXNNYXN0ZXIpIHRoZW4KCQkJCUFpbWJvdEVuYWJsZWQgPSBmYWxzZQoJCQkJQWltYm90LkJ1dHRvbi5UZXh0ID0gIkFpbWJvdCAoT2ZmKSIKCQkJZWxzZWlmIG5vdCAoaXNHb2xkIG9yIGlzTWFzdGVyKSB0aGVuCgkJCQlBaW1ib3QuQnV0dG9uLlRleHQgPSAiTWVtYmVyIE5vdCBHb2xkIgoJCQkJd2FpdCgzKQoJCQkJQWltYm90LkJ1dHRvbi5UZXh0ID0gIkFpbWJvdCAoT2ZmKSIKCQkJZW5kCgkJZW5kCgoJCUFpbWJvdC5CdXR0b24uTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHRvZ2dsZUFpbWJvdCldXQoKCQktLSBTaGFyZCBDb2xvcnMKCgkJbG9jYWwgUmFuZG9tQ29sb3JzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSYW5kb21Db2xvcnMuTmFtZSA9ICJSYW5kb21Db2xvcnMiCgkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUmFuZG9tQ29sb3JzKQoKCQlsb2NhbCBDb2xvcnNMaXN0ID0geyJSZWFsbHkgcmVkIiwgIlJlYWxseSBibHVlIiwgIk5ldyBZZWxsZXIiLCAiSG90IHBpbmsiLCAiUm95YWwgcHVycGxlIiwgIkxpbWUgZ3JlZW4iLCAiRGVlcCBvcmFuZ2UiLCAiVG9vdGhwYXN0ZSIsICJJbnN0aXR1dGlvbmFsIHdoaXRlIn0KCQlsb2NhbCBTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl06R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHYuTmFtZSA9PSAiU2hhcmQiIGFuZCBub3QgdjpGaW5kRmlyc3RDaGlsZCgic2hhcmRDaGFuZ2VkIikgdGhlbgoJCQkJCXYuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KENvbG9yc0xpc3RbbWF0aC5yYW5kb20oMSw5KV0pCgkJCQkJbG9jYWwgc2hhcmRDaGFuZ2VkID0gSW5zdGFuY2UubmV3KCJCb29sVmFsdWUiKQoJCQkJCXNoYXJkQ2hhbmdlZC5OYW1lID0gInNoYXJkQ2hhbmdlZCIKCQkJCQlzaGFyZENoYW5nZWQuUGFyZW50ID0gdgoJCQkJCXNoYXJkQ2hhbmdlZC5WYWx1ZSA9IHRydWUKCQkJCWVsc2VpZiB2Lk5hbWUgPT0gIlNoYXJkIiBhbmQgdjpGaW5kRmlyc3RDaGlsZCgic2hhcmRDaGFuZ2VkIikuVmFsdWUgdGhlbiBlbmQKCQkJZW5kCgkJZW5kCgoJCVJhbmRvbUNvbG9ycy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBTaGFyZENvbG9yRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlTaGFyZENvbG9yRW5hYmxlZCA9IHRydWUKCQkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9uKSIKCQkJCXdoaWxlIFNoYXJkQ29sb3JFbmFibGVkIGRvCgkJCQkJc2hhcmRSYW5kb21pemVyKCkKCQkJCQl3YWl0KC41KQoJCQkJZW5kCgkJCWVsc2UKCQkJCVNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UKCQkJCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9mZikiCgkJCWVuZAkKCQllbmQpCgoJCS0tIEFudGktTGFnCgoJCWxvY2FsIEFudGlMYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUFudGlMYWcuTmFtZSA9ICJBbnRpTGFnIgoJCUFudGlMYWcuVGV4dCA9ICJBbnRpIGxhZyAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQW50aUxhZykKCgkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiByZW1vdmVMYWcoKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuTG9jYWxFZmZlY3RzJ106R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuCgkJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbgoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiQmFja0RlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIlNwZWNpYWxNZXNoIikgdGhlbgoJCQkJCWlmIHYuRnJvbnREZWNhbC5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vOTc5MDA0MjkxIiB0aGVuCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbHNlaWYgKHYuTmFtZSA9PSAiT3JiaXRhbFN0cmlrZSIpIG9yICh2Lk5hbWUgPT0gIkJvbHRQYXJ0Iikgb3IgKHN0cmluZy5zdWIodi5OYW1lLCAxLCAxMCkgPT0gIlNvdW5kX1RlY2giKSB0aGVuCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCgkJCS0tW1tmb3IgaSwgdiBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsnLklnbm9yZSddWycuQXR0YWNrcyddOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2LkNvbG9yID09IENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkgdGhlbgoJCQkJCWlmIHYuTWVzaC5NZXNoVHlwZSA9PSAiU3BoZXJlIiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZF1dCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJZm9yIF8sIHggaW4gcGFpcnModi5DaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSkgZG8KCQkJCQlpZiB4Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4KCQkJCQkJeDpEZXN0cm95KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikKCQkJaWYgQW50aUxhZ0VuYWJsZWQgdGhlbgoJCQkJaWYgdjpGaW5kRmlyc3RDaGlsZCgiTWVzaCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMSIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJEMiIpIHRoZW4KCQkJCQlpZiB2LkQxLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly8yNjcxNjIyNjQ2IiB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVuZAoJCQkJZWxzZWlmIHYuTmFtZSA9PSAiQW5nZWxTd29yZCIgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpGaW5kRmlyc3RDaGlsZCgiRnJvbnREZWNhbCIpIHRoZW4KCQkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbmQKCQkJCS0tW1tlbHNlaWYgcGNhbGwodi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApKSB0aGVuCgkJCQkJaWYgdi5NZXNoLk1lc2hUeXBlID09ICJTcGhlcmUiIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kXV0KCQkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmICh2Lk5hbWUgPT0gIkxpZ2h0RGlzYyIpIHRoZW4KCQkJCQl2OkRlc3Ryb3koKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJQW50aUxhZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBBbnRpTGFnRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlBbnRpTGFnRW5hYmxlZCA9IHRydWUKCQkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT24pIgoJCQkJcmVtb3ZlTGFnKCkKCQkJZWxzZQoJCQkJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQoJCQkJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPZmYpIgoJCQllbmQKCQllbmQpCgoJCS0tIElnbm9yZSBib2R5IGZvcmNlcwoKCQlsb2NhbCBJZ25vcmVQaHlzaWNzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlJZ25vcmVQaHlzaWNzLk5hbWUgPSAiSWdub3JlQm9keUZvcmNlcyIKCQlJZ25vcmVQaHlzaWNzLlRleHQgPSAiSWdub3JlIGJvZHkgZm9yY2VzIChPZmYpIFtaXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWdub3JlUGh5c2ljcykKCgkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBmdW5jdGlvbiBpbml0aWFsTnVsbGlmeUZvcmNlcygpCgkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgdjpJc0EoIkJvZHlHeXJvIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlQb3NpdGlvbiIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VmVsb2NpdHkiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keUFuZ3VsYXJWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5Rm9yY2UiKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVRocnVzdCIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJSb2NrZXRQcm9wdWxzaW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbmQKCQkJZW5kCgoJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXIuQ2hhcmFjdGVyLkZsaXBzSG9sZGVyOkdldENoaWxkcmVuKCkpIGRvCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4KCQkJCQl3YWl0KCkKCQkJCQl2OkRlc3Ryb3koKQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbgoJCQkJCXdhaXQoKQoJCQkJCXY6RGVzdHJveSgpCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuCgkJCQkJd2FpdCgpCgkJCQkJdjpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkKCQkJcGxheWVyLkNoYXJhY3Rlci5EZXNjZW5kYW50QWRkZWQ6Y29ubmVjdChmdW5jdGlvbih2KQoJCQkJaWYgSWdub3JlUGh5c2ljc0VuYWJsZWQgdGhlbgoJCQkJCWlmIHY6SXNBKCJCb2R5R3lybyIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZWxzZWlmIHY6SXNBKCJCb2R5UG9zaXRpb24iKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keVZlbG9jaXR5IikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlBbmd1bGFyVmVsb2NpdHkiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiQm9keUZvcmNlIikgdGhlbgoJCQkJCQl3YWl0KCkKCQkJCQkJdjpEZXN0cm95KCkKCQkJCQllbHNlaWYgdjpJc0EoIkJvZHlUaHJ1c3QiKSB0aGVuCgkJCQkJCXdhaXQoKQoJCQkJCQl2OkRlc3Ryb3koKQoJCQkJCWVsc2VpZiB2OklzQSgiUm9ja2V0UHJvcHVsc2lvbiIpIHRoZW4KCQkJCQkJd2FpdCgpCgkJCQkJCXY6RGVzdHJveSgpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kKQoJCWVuZAoKCQlmdW5jdGlvbiBiZWdpbk51bGxpZnlGb3JjZXMoKQoJCQlpZiBJZ25vcmVQaHlzaWNzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlJZ25vcmVQaHlzaWNzRW5hYmxlZCA9IHRydWUKCQkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgYm9keSBmb3JjZXMgKE9uKSBbWl0iCgkJCQlpbml0aWFsTnVsbGlmeUZvcmNlcygpCgkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQoJCQkJd2hpbGUgSWdub3JlUGh5c2ljc0VuYWJsZWQgZG8KCQkJCQl3YWl0KCkKCQkJCQlpZiBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCA9PSAwIHRoZW4KCQkJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCB+PSAwCgkJCQkJCUFmdGVyTnVsbGlmeUZvcmNlcygpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBmYWxzZQoJCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBib2R5IGZvcmNlcyAoT2ZmKSBbWl0iCgkJCWVuZAoJCWVuZAoKCQlJZ25vcmVQaHlzaWNzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpbk51bGxpZnlGb3JjZXMpCgoJCS0tIEFudGktR3Jhdml0eQoKCQlsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSIKCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT2ZmKSBbR10iCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQoKCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQoKCQlmdW5jdGlvbiBBbnRpR3Jhdml0eUZ1bmMoKQoJCQlpZiBBbnRpR3Jhdml0eUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gdHJ1ZQoJCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9uKSBbR10iCgkJCQlsb2NhbCBCb2R5Rm9yY2UgPSBJbnN0YW5jZS5uZXcoIkJvZHlGb3JjZSIpCgkJCQlCb2R5Rm9yY2UuUGFyZW50ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0CgkJCQlCb2R5Rm9yY2UuTmFtZSA9ICJBbnRpR3Jhdml0eUZvcmNlIgoJCQkJQm9keUZvcmNlLkZvcmNlID0gVmVjdG9yMy5uZXcoMCwgNTAwMCwgMCkKCQkJZWxzZQoJCQkJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UKCQkJCUFudGlHcmF2aXR5LlRleHQgPSAiQW50aS1HcmF2aXR5IChPZmYpIFtHXSIKCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiQW50aUdyYXZpdHlGb3JjZSIpIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW50aUdyYXZpdHlGb3JjZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykKCgkJLS0gQ2xpY2stVFAKCgkJbG9jYWwgQ2xpY2tUUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiCgkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIHRwIHRvIG1vdXNlXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2xpY2tUUCkKCgkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoKCQlDbGlja1RQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIENsaWNrVFBFbmFibGVkID09IHRydWUgdGhlbgoJCQkJQ2xpY2tUUEVuYWJsZWQgPSBmYWxzZQoJCQkJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPZmYpIFtKIHRvIENsaWNrLVRQXSIKCQkJZWxzZQoJCQkJQ2xpY2tUUEVuYWJsZWQgPSB0cnVlCgkJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9uKSBbSiB0byBDbGljay1UUF0iCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gY2xpY2t0cChwb3NpdGlvbikKCQkJaWYgcGxheWVyID09IG5pbCBvciBwbGF5ZXIuQ2hhcmFjdGVyID09IG5pbCB0aGVuIHJldHVybiBlbmQKCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcocG9zaXRpb24ueCwgcG9zaXRpb24ueSArIDMsIHBvc2l0aW9uLnopKQoJCWVuZAoKCQktLSBGcmVlemUKCgkJbG9jYWwgRnJlZXplID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlGcmVlemUuTmFtZSA9ICJGcmVlemUiCgkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPZmYpIFtGXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRnJlZXplKQoKCQlGcmVlemVFbmFibGVkID0gZmFsc2UKCgkJZnVuY3Rpb24gRnJlZXplRnVuYygpCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJRnJlZXplRW5hYmxlZCA9IHRydWUKCQkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT24pIFtGXSIKCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJZWxzZQoJCQkJRnJlZXplRW5hYmxlZCA9IGZhbHNlCgkJCQlGcmVlemUuVGV4dCA9ICJGcmVlemUgKE9mZikgW0ZdIgoJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UKCQkJZW5kCgkJZW5kCgoJCUZyZWV6ZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoRnJlZXplRnVuYykKCgkJLS0gSW5maW5pdGUgU3ByaW50CgoJCWxvY2FsIEluZlNwcmludCA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlJbmZTcHJpbnQuQnV0dG9uLk5hbWUgPSAiSW5mU3ByaW50IgoJCUluZlNwcmludC5CdXR0b24uVGV4dCA9ICJJbmZpbml0ZSBTcHJpbnQgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZlNwcmludCkKCQltdnRnLk1pc2MuSW5mU3ByaW50LkJ1dHRvbiA9IEluZlNwcmludAoKCQltdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gSXNTcHJpbnRpbmcoKQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIgfj0gbmlsCgkJCWxvY2FsIHNwcmludAoJCQlsb2NhbCBwZAoJCQlwZCA9IFJTUjpXYWl0Rm9yQ2hpbGQoIlBsYXllckRhdGEiKS5PbkNsaWVudEV2ZW50OkNvbm5lY3QoZnVuY3Rpb24ocCwgdCkKCQkJCXNwcmludCA9IHQuUnVubmluZwoJCQkJcGQ6RGlzY29ubmVjdCgpCgkJCWVuZCkKCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBzcHJpbnQgfj0gbmlsCgkJCXJldHVybiBzcHJpbnQKCQllbmQKCgkJSW5mU3ByaW50LkJ1dHRvbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBpc0dvbGQgb3IgaXNNYXN0ZXIgdGhlbgoJCQkJaWYgbXZ0Zy5NaXNjLkluZlNwcmludC5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQkJbXZ0Zy5NaXNjLkluZlNwcmludC5WYWx1ZSA9IHRydWUKCQkJCQltdnRnLk1pc2MuSW5mU3ByaW50LlRleHQgPSAiSW5maW5pdGUgU3ByaW50IChPbikiCgkJCQkJSW5mU3ByaW50LkJ1dHRvbi5UZXh0ID0gbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0CgkJCQkJcmVwZWF0CgkJCQkJCWlmIElzU3ByaW50aW5nKCkgdGhlbgoJCQkJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQkJCQlbMV0gPSAiUnVubmluZyIsCgkJCQkJCQkJWzJdID0gZmFsc2UsCgkJCQkJCQl9CgkJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5QbGF5ZXJEYXRhOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJCQllbmQKCQkJCQkJd2FpdCguNSkKCQkJCQl1bnRpbCBtdnRnLk1pc2MuSW5mU3ByaW50LlZhbHVlID09IGZhbHNlCgkJCQllbHNlCgkJCQkJbXZ0Zy5NaXNjLkluZlNwcmludC5WYWx1ZSA9IGZhbHNlCgkJCQkJbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0ID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIKCQkJCQlJbmZTcHJpbnQuQnV0dG9uLlRleHQgPSBtdnRnLk1pc2MuSW5mU3ByaW50LlRleHQKCQkJCQlpZiBub3QgSXNTcHJpbnRpbmcoKSB0aGVuCgkJCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJCQlbMV0gPSAiUnVubmluZyIsCgkJCQkJCQlbMl0gPSB0cnVlLAoJCQkJCQl9CgkJCQkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLlBsYXllckRhdGE6RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCUluZlNwcmludC5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5JbmZTcHJpbnQuVGV4dAoJCQkJd2FpdCgzKQoJCQkJbXZ0Zy5NaXNjLkluZlNwcmludC5UZXh0ID0gIkluZmluaXRlIFNwcmludCAoT2ZmKSIKCQkJCUluZlNwcmludC5CdXR0b24uVGV4dCA9IG12dGcuTWlzYy5JbmZTcHJpbnQuVGV4dAoJCQllbmQKCQllbmQpCgoJCS0tIEluc3RhbnQgRXhwbG9zaXZlIExlYXAKCgkJbG9jYWwgRXhwbG9zaW9uSGFjayA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJRXhwbG9zaW9uSGFjay5OYW1lID0gIkV4cGxvc2lvbkhhY2siCgkJRXhwbG9zaW9uSGFjay5UZXh0ID0gbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRXhwbG9zaW9uSGFjaykKCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uQnV0dG9uID0gRXhwbG9zaW9uSGFjawoKCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoKCQlFeHBsb3Npb25IYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIG12dGcuVGVsZXBvcnRzLkV4cGxvc2lvbi5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDQpCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgPSB0cnVlCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dCA9ICJJbnN0YW50IExlYXAgU3R1biAoT24pIgoJCQllbHNlCgkJCQltdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVmFsdWUgPSBmYWxzZQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlRleHQgPSAiSW5zdGFudCBMZWFwIFN0dW4gKE9mZikiCgkJCWVuZAoJCQlFeHBsb3Npb25IYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FeHBsb3Npb24uVGV4dAoJCWVuZCkKCgkJLS0gSW5zdGFudCBSb2NrIEZpc3QKCgkJbG9jYWwgUm9ja0Zpc3RIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlSb2NrRmlzdEhhY2suTmFtZSA9ICJSb2NrRmlzdEhhY2siCgkJUm9ja0Zpc3RIYWNrLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5UZXh0CgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJvY2tGaXN0SGFjaykKCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5CdXR0b24gPSBSb2NrRmlzdEhhY2sKCgkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPSBmYWxzZQoKCQlSb2NrRmlzdEhhY2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPT0gZmFsc2UgdGhlbgoJCQkJY2hlY2tNb3Zlcyg0KQoJCQkJbXZ0Zy5UZWxlcG9ydHMuRWFydGguVmFsdWUgPSB0cnVlCgkJCQltdnRnLlRlbGVwb3J0cy5FYXJ0aC5UZXh0ID0gIkluc3RhbnQgUm9jayBGaXN0IChPbikiCgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQgPSAiSW5zdGFudCBSb2NrIEZpc3QgKE9mZikiCgkJCWVuZAoJCQlSb2NrRmlzdEhhY2suVGV4dCA9IG12dGcuVGVsZXBvcnRzLkVhcnRoLlRleHQKCQllbmQpCgoJCS0tIExvbmcgRmxhc2gKCgkJbG9jYWwgTEZsYXNoID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlMRmxhc2guTmFtZSA9ICJGbGFzaCIKCQlMRmxhc2guVGV4dCA9IG12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTEZsYXNoKQoJCW12dGcuVGVsZXBvcnRzLlN0b3JtLkJ1dHRvbiA9IExGbGFzaAoKCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSA9IGZhbHNlCgoJCWZ1bmN0aW9uIGxvbmdmbGFzaCgpCgkJCWxvY2FsIG1vdXNlcG9zID0gbW91c2UuSGl0LnAKCQkJbG9jYWwgYXJncyA9IHsKCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIgoJCQl9CgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQlsb2NhbCBhcmdzID0gewoJCQkJWzFdID0gIlN0b3JtIiwKCQkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giLAoJCQkJWzNdID0gewoJCQkJCVsiRW5kIl0gPSBtb3VzZXBvcywKCQkJCQlbIk9yaWdpbiJdID0gcGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUucAoJCQkJfQoJCQl9CgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJZW5kCgoJCUxGbGFzaC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBtdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSA9PSBmYWxzZSB0aGVuCgkJCQljaGVja01vdmVzKDQpCgkJCQltdnRnLlRlbGVwb3J0cy5TdG9ybS5WYWx1ZSA9IHRydWUKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQgPSAiTG9uZyBGbGFzaCAoT24pIFtgIHRvIHVzZV0iCgkJCWVsc2UKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlZhbHVlID0gZmFsc2UKCQkJCW12dGcuVGVsZXBvcnRzLlN0b3JtLlRleHQgPSAiTG9uZyBGbGFzaCAoT2ZmKSBbYCB0byB1c2VdIgoJCQllbmQKCQkJTEZsYXNoLlRleHQgPSBtdnRnLlRlbGVwb3J0cy5TdG9ybS5UZXh0CgkJZW5kKQoKCQktLSBWaWV3IFRhcmdldAoKCQlsb2NhbCBWaWV3VGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlWaWV3VGFyZ2V0Lk5hbWUgPSAiVmlld1RhcmdldCIKCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9mZikgW1ZdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBWaWV3VGFyZ2V0KQoKCQl2aWV3aW5nID0gZmFsc2UKCgkJZnVuY3Rpb24gdmlldygpCgkJCWlmIHRhcmdldCB+PSBwbGF5ZXIuTmFtZSB0aGVuCgkJCQlpZiB2aWV3aW5nID09IGZhbHNlIHRoZW4KCQkJCQl2aWV3aW5nID0gdHJ1ZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyLkh1bWFub2lkCgkJCQkJVmlld1RhcmdldC5UZXh0ID0gIlZpZXcgVGFyZ2V0IChPbikgW1ZdIgoJCQkJZWxzZQoJCQkJCXZpZXdpbmcgPSBmYWxzZQoJCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZAoJCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCQllbmQKCQkJZWxzZWlmIHZpZXdpbmcgPT0gdHJ1ZSB0aGVuIAoJCQkJdmlld2luZyA9IGZhbHNlCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQKCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT2ZmKSBbVl0iCgkJCWVuZAoJCWVuZAoKCQlWaWV3VGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh2aWV3KQoKCQktLSBUZWxlcG9ydCB0byBUYXJnZXQKCgkJbG9jYWwgVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQVGFyZ2V0Lk5hbWUgPSAiVFBUYXJnZXQiCgkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9mZikgW1VdIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUFRhcmdldCkKCgkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJbG9jYWwgZnVuY3Rpb24gVFBUb1RhcmdldCgpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCBhbmQgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKQoKCQkJCWdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKS5DRnJhbWUgPSBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKS5DRnJhbWUKCQkJZW5kCgkJZW5kCgoJCVRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIFRQVGFyZ2V0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUFRhcmdldEVuYWJsZWQgPSB0cnVlCgkJCQlUUFRhcmdldC5UZXh0ID0gIlRlbGVwb3J0IFRvIFRhcmdldCAoT24pIFtVXSIKCQkJZWxzZQoJCQkJVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCQkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPZmYpIFtVXSIKCQkJZW5kCgkJZW5kKQoKCQktLSBMb29wIFRlbGVwb3J0IHRvIFRhcmdldAoKCQlsb2NhbCBMb29wVFBUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCUxvb3BUUFRhcmdldC5OYW1lID0gIkxvb3BUUFRhcmdldCIKCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTG9vcFRQVGFyZ2V0KQoKCQlMb29wVFBUYXJnZXRFbmFibGVkID0gZmFsc2UKCgkJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpCgkJCWlmIExvb3BUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IHRydWUKCQkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPbikiCgkJCQl3aGlsZSBMb29wVFBUYXJnZXRFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJVFBUb1RhcmdldCgpCgkJCQllbmQKCQkJZWxzZQoJCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlCgkJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQktLSBTdGFuZGFyZCBFU1AKCgkJbG9jYWwgRVNQID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikKCQlFU1AuTmFtZSA9ICJFU1AiCgkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQKQkJCgoJCUVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIEhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQoJCUhvbGRlci5OYW1lID0gIkVTUCIKCgkJbG9jYWwgVXBkYXRlRnVuY3MgPSB7fQoJCWxvY2FsIEJveAoJCWxvY2FsIE5hbWVUYWcKCQlsb2NhbCBUYWcKCgkJZnVuY3Rpb24gQ3JlYXRlU3RhbmRhcmQoKQoJCQlsb2NhbCBtYWRlID0gZmFsc2UKCQkJQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQoJCQlCb3guTmFtZSA9ICJuaWxCb3giCgkJCUJveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkKCQkJQm94LkNvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQkJQm94LlRyYW5zcGFyZW5jeSA9IDAuNwoJCQlCb3guWkluZGV4ID0gMAoJCQlCb3guQWx3YXlzT25Ub3AgPSB0cnVlCgkJCUJveC5WaXNpYmxlID0gdHJ1ZQoKCQkJTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikKCQkJRVNQSW5mby5TdGFuZGFyZC5OYW1lVGFnID0gTmFtZVRhZwoJCQlOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZyIKCQkJTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCQlOYW1lVGFnLlNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCA1MCkKCQkJTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUKCQkJTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQkJTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDc1MAoKCQkJVGFnID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBOYW1lVGFnKQoJCQlUYWcuTmFtZSA9ICJUYWciCgkJCVRhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJCQlUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAwKQoJCQlUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJCQlUYWcuVGV4dFNpemUgPSAyMAoJCQlUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkKCQkJVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCgkJCVRhZy5UZXh0U3Ryb2tlVHJhbnNwYXJlbmN5ID0gMC40CgkJCVRhZy5UZXh0ID0gIk5vdCBBdmFpbGFibGUiCgkJCVRhZy5Gb250ID0gRW51bS5Gb250LlJvYm90b01vbm8KCQkJVGFnLlRleHRTY2FsZWQgPSBmYWxzZQoJCQlUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDAKCQkJbWFkZSA9IHRydWUKCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCBtYWRlCgkJCXJldHVybiBtYWRlCgkJZW5kCgoJCWZ1bmN0aW9uIExvYWRDaGFyYWN0ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwKCQkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpCgkJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQoKCQkJCUNyZWF0ZVN0YW5kYXJkKCkKCgkJCQlpZiBFU1BJbmZvLlN0YW5kYXJkLkVuYWJsZWQgdGhlbgoJCQkJCWxvY2FsIGIgPSBCb3g6Q2xvbmUoKQoJCQkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiQm94IgoJCQkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCQliLlBhcmVudCA9IHZIb2xkZXIKCgkJCQkJbG9jYWwgdCA9IE5hbWVUYWc6Q2xvbmUoKQoJCQkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiTmFtZVRhZyIKCQkJCQl0LlBhcmVudCA9IHZIb2xkZXIKCQkJCQl0LkFkb3JuZWUgPSB2LkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiLCA1KQoJCQkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbgoJCQkJCQlyZXR1cm4gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCQkJZW5kCgkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZQoJCQkJCXQuRW5hYmxlZCA9IHRydWUKCQkJCQl3YWl0KCkKCgkJCQkJbG9jYWwgZnVuY3Rpb24gVXBkYXRlTmFtZVRhZygpCgkJCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJLS0gdi5DaGFyYWN0ZXIuSHVtYW5vaWQuRGlzcGxheURpc3RhbmNlVHlwZSA9IEVudW0uSHVtYW5vaWREaXNwbGF5RGlzdGFuY2VUeXBlLk5vbmUKCQkJCQkJCQlsb2NhbCBtYXhoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLk1heEhlYWx0aCAqIDEwKQoJCQkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApCgkJCQkJCQkJdC5UYWcuVGV4dCA9IHYuTmFtZSAuLiAiXG4iIC4uICgobWF4aCB+PSAwIGFuZCB0b3N0cmluZyhtYXRoLmNlaWwoKGggLyBtYXhoKSAqIDEwMCkpKSBvciAiMCIpIC4uICIlICAiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKQoJCQkJCQkJCWlmIEVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCB0aGVuCgkJCQkJCQkJCXQuVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMQoJCQkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQllbmQKCQkJCQkJCQlpZiBoIC8gbWF4aCA9PSAxIHRoZW4KCQkJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuCgkJCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxOTIsICgxOTIgKiAoaCAvIG1heGgpKSwgKDE5MiAqIChoIC8gbWF4aCkpKQoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKSB0aGVuCgkJCQkJCQlVcGRhdGVGdW5jc1t2XSA9IG5pbAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCQlVcGRhdGVOYW1lVGFnKCkKCQkJCQlVcGRhdGVGdW5jc1t2XSA9IFVwZGF0ZU5hbWVUYWcKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIGFuZCAodkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkJveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiTmFtZVRhZyIpIH49IG5pbCkgdGhlbgoJCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIExvYWRQbGF5ZXIodikKCQkJaWYgdiB+PSBwbGF5ZXIgdGhlbgoJCQkJaWYgSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkgdGhlbgoJCQkJCUhvbGRlclt2Lk5hbWVdOkRlc3Ryb3koKQoJCQkJZW5kCgkJCQlsb2NhbCB2SG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBIb2xkZXIpCgkJCQl2SG9sZGVyLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQlwY2FsbChMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQllbmQpCgkJCQlMb2FkQ2hhcmFjdGVyKHYpCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBVbmxvYWRQbGF5ZXIodikKCQkJVW5sb2FkQ2hhcmFjdGVyKHYpCgkJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyIHRoZW4KCQkJCXZIb2xkZXI6RGVzdHJveSgpCgkJCWVuZAoJCWVuZAoKCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChMb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJcGxheWVycy5QbGF5ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKHYpCgkJCXBjYWxsKFVubG9hZFBsYXllciwgdikKCQllbmQpCgoJCWdhbWUuSXRlbUNoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJCQlpZiBpOklzQSgiUGxheWVyIikgdGhlbgoJCQkJaWYgSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCVVubG9hZENoYXJhY3RlcihpKQoJCQkJCXdhaXQoKQoJCQkJCUxvYWRDaGFyYWN0ZXIoaSkKCQkJCWVuZAoJCQllbHNlaWYgaTpJc0EoIkh1bWFub2lkIikgYW5kIGkuUGFyZW50IHRoZW4KCQkJCWxvY2FsIHAgPSBwbGF5ZXJzOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpCgkJCQlpZiBwIH49IHBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCVVwZGF0ZUZ1bmNzW3BdKCkKCQkJCQllbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQlmdW5jdGlvbiB0b2dnbGVFU1AoKQoJCQlpZiBFU1BJbmZvLlN0YW5kYXJkLkVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJaWYgRVNQSW5mby5Hb2xkLkVuYWJsZWQgdGhlbgoJCQkJCUVTUEluZm8uR29sZC5FbmFibGVkID0gZmFsc2UKCQkJCQlFU1BJbmZvLlN0YW5kYXJkLkVuYWJsZWQgPSB0cnVlCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJTdGFuZGFyZCBFU1AgRW5hYmxlZCIKCQkJCQl3YWl0KDEpCgkJCQkJRVNQR29sZC5CdXR0b24uVGV4dCA9ICJEZXRhaWxlZCBFU1AgKE9mZikgW01dIgoJCQkJZWxzZQoJCQkJCUVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCA9IHRydWUKCQkJCWVuZAoJCQkJRVNQLlRleHQgPSAiRVNQIChPbikgW0JdIgoJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKExvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCWVuZAoJCQllbHNlCgkJCQlFU1BJbmZvLlN0YW5kYXJkLkVuYWJsZWQgPSBmYWxzZQoJCQkJRVNQLlRleHQgPSAiRVNQIChPZmYpIFtCXSIKCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChVbmxvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJRVNQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1ApCgoJCS0tIEdvbGQgRVNQCgoJCWxvY2FsIEVTUEdvbGQgPSB7CgkJCVsiQnV0dG9uIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKSwKCQkJWyJJc0dvbGQiXSA9IHRydWUKCQl9CgkJRVNQR29sZC5CdXR0b24uTmFtZSA9ICJFU1BHb2xkIgoJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRVNQR29sZCkKCgkJRVNQSW5mby5Hb2xkLkVuYWJsZWQgPSBmYWxzZQoKCQlsb2NhbCBHSG9sZGVyID0gSW5zdGFuY2UubmV3KCJGb2xkZXIiLCBnYW1lLkNvcmVHdWkpCgkJR0hvbGRlci5OYW1lID0gIkVTUEdvbGQiCgoJCWxvY2FsIEdVcGRhdGVGdW5jcyA9IHt9CgkJbG9jYWwgR0JveAoJCWxvY2FsIEdOYW1lVGFnCgkJbG9jYWwgR1RhZwoKCQlmdW5jdGlvbiBDcmVhdGVEZXRhaWxlZCgpCgkJCWxvY2FsIG1hZGUgPSBmYWxzZQoJCQlHQm94ID0gSW5zdGFuY2UubmV3KCJCb3hIYW5kbGVBZG9ybm1lbnQiKQoJCQlHQm94Lk5hbWUgPSAibmlsQm94RyIKCQkJR0JveC5TaXplID0gVmVjdG9yMy5uZXcoNCwgNywgNCkKCQkJR0JveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpCgkJCUdCb3guVHJhbnNwYXJlbmN5ID0gMC43CgkJCUdCb3guWkluZGV4ID0gMAoJCQlHQm94LkFsd2F5c09uVG9wID0gdHJ1ZQoJCQlHQm94LlZpc2libGUgPSB0cnVlCgoJCQlHTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikKCQkJRVNQSW5mby5Hb2xkLk5hbWVUYWcgPSBHTmFtZVRhZwoJCQlHTmFtZVRhZy5OYW1lID0gIm5pbE5hbWVUYWdHIgoJCQlHTmFtZVRhZy5FbmFibGVkID0gdHJ1ZQoJCQlHTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApCgkJCUdOYW1lVGFnLkFsd2F5c09uVG9wID0gdHJ1ZQoJCQlHTmFtZVRhZy5TdHVkc09mZnNldCA9IFZlY3RvcjMubmV3KDAsIDMuNiwgMCkKCQkJR05hbWVUYWcuTWF4RGlzdGFuY2UgPSA3NTAKCgkJCUdUYWcgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEdOYW1lVGFnKQoJCQlHVGFnLk5hbWUgPSAiR1RhZyIKCQkJR1RhZy5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQoJCQlHVGFnLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIC01MCwgMCwgLTUpCgkJCUdUYWcuU2l6ZSA9IFVEaW0yLm5ldygwLCAzMDAsIDAsIDIwKQoJCQlHVGFnLlRleHRTaXplID0gMjAKCQkJR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxMDAgLyAyNTUsIDEwMCAvIDI1NSwgMTAwIC8gMjU1KQoJCQlHVGFnLlRleHRTdHJva2VDb2xvcjMgPSBDb2xvcjMubmV3KDAgLyAyNTUsIDAgLyAyNTUsIDAgLyAyNTUpCgkJCUdUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNAoJCQlHVGFnLlRleHQgPSAiTm90IEF2YWlsYWJsZSIKCQkJR1RhZy5Gb250ID0gRW51bS5Gb250LlJvYm90b01vbm8KCQkJR1RhZy5UZXh0U2NhbGVkID0gZmFsc2UKCQkJR1RhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMAoJCQltYWRlID0gdHJ1ZQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIG1hZGUKCQkJcmV0dXJuIG1hZGUKCQllbmQKCgkJZnVuY3Rpb24gR0xvYWRDaGFyYWN0ZXIodikKCQkJCgkJCWxvY2FsIHRibFBsYXllckRhdGEgPSB7fQoJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQlSU1I6V2FpdEZvckNoaWxkKCJQbGF5ZXJEYXRhIikuT25DbGllbnRFdmVudDpDb25uZWN0KGZ1bmN0aW9uKHYsIHRibERhdGEpCgkJCQl0YmxQbGF5ZXJEYXRhW3ZdID0gdGJsRGF0YQoJCQllbmQpCgkJCQoJCQlpZiB2IH49IHBsYXllciB0aGVuCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHYuQ2hhcmFjdGVyIH49IG5pbAoJCQkJdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpCgkJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQkJdkhvbGRlckc6Q2xlYXJBbGxDaGlsZHJlbigpCgoJCQkJQ3JlYXRlRGV0YWlsZWQoKQoKCQkJCWlmIEVTUEluZm8uR29sZC5FbmFibGVkIHRoZW4KCQkJCQlsb2NhbCBiID0gR0JveDpDbG9uZSgpCgkJCQkJYi5OYW1lID0gdi5OYW1lIC4uICJHQm94IgoJCQkJCWIuQWRvcm5lZSA9IHYuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKCQkJCQliLlBhcmVudCA9IHZIb2xkZXJHCgoJCQkJCWxvY2FsIHQgPSBHTmFtZVRhZzpDbG9uZSgpCgkJCQkJdC5OYW1lID0gdi5OYW1lIC4uICJHTmFtZVRhZyIKCQkJCQl0LlBhcmVudCA9IHZIb2xkZXJHCgkJCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkKCQkJCQlpZiBub3QgdC5BZG9ybmVlIHRoZW4KCQkJCQkJcmV0dXJuIEdVbmxvYWRDaGFyYWN0ZXIodikKCQkJCQllbmQKCQkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZQoJCQkJCXQuRW5hYmxlZCA9IHRydWUKCQkJCQl3YWl0KCkKCgkJCQkJbG9jYWwgZnVuY3Rpb24gR1VwZGF0ZU5hbWVUYWcoKQoJCQkJCQlpZiBub3QgcGNhbGwoZnVuY3Rpb24oKQoJCQkJCQkJCS0tIHYuQ2hhcmFjdGVyLkh1bWFub2lkLkRpc3BsYXlEaXN0YW5jZVR5cGUgPSBFbnVtLkh1bWFub2lkRGlzcGxheURpc3RhbmNlVHlwZS5Ob25lCgkJCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkKCQkJCQkJCQlsb2NhbCBoID0gbWF0aC5jZWlsKHYuQ2hhcmFjdGVyLkh1bWFub2lkLkhlYWx0aCAqIDEwKQoJCQkJCQkJCWxvY2FsIHN0cmggPSAiSDogIiAuLiAobm90KG1heGggPT0gMCkgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgxMDAgKiBoIC8gbWF4aCkpIG9yIDApIC4uICIlICgiIC4uIHRvc3RyaW5nKGgpIC4uICIvIiAuLiB0b3N0cmluZyhtYXhoKSAuLiAiKSIKCQkJCQkJCQktLQoJCQkJCQkJCWxvY2FsIG1heG0gPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5NYXhNYW5hICogMTApIG9yIDEwMDAKCQkJCQkJCQlsb2NhbCBtID0gdGJsUGxheWVyRGF0YVt2XSBhbmQgbWF0aC5jZWlsKHRibFBsYXllckRhdGFbdl0uTWFuYSAqIDEwKSBvciAxMDAwCgkJCQkJCQkJbG9jYWwgc3RybSA9ICJNOiAiIC4uIChub3QobWF4bSA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIG0gLyBtYXhtKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcobSkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heG0pIC4uICIpIgoJCQkJCQkJCS0tCgkJCQkJCQkJbG9jYWwgbWF4cyA9IHRibFBsYXllckRhdGFbdl0gYW5kIG1hdGguY2VpbCh0YmxQbGF5ZXJEYXRhW3ZdLk1heFN0YW1pbmEgKiAxMCkgb3IgMTAwMAoJCQkJCQkJCWxvY2FsIHMgPSB0YmxQbGF5ZXJEYXRhW3ZdIGFuZCBtYXRoLmNlaWwodGJsUGxheWVyRGF0YVt2XS5TdGFtaW5hICogMTApIG9yIDEwMDAKCQkJCQkJCQlsb2NhbCBzdHJzID0gICJTOiAiIC4uIChub3QobWF4cyA9PSAwKSBhbmQgdG9zdHJpbmcobWF0aC5jZWlsKDEwMCAqIHMgLyBtYXhzKSkgb3IgMCkgLi4gIiUgKCIgLi4gdG9zdHJpbmcocykgLi4gIi8iIC4uIHRvc3RyaW5nKG1heHMpIC4uICIpIgoKCQkJCQkJCQl0LkdUYWcuVGV4dCA9IHYuTmFtZSAuLiAoIlxuIiAuLiBzdHJoKSAuLiAoIlxuIiAuLiBzdHJtKSAuLiAoIlxuIiAuLiBzdHJzKQoJCQkJCQkJCQoJCQkJCQkJCWlmIEVTUEluZm8uR29sZC5FbmFibGVkIHRoZW4KCQkJCQkJCQkJdC5HVGFnLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43CgkJCQkJCQkJZWxzZQoJCQkJCQkJCQl0LkdUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDEKCQkJCQkJCQkJYi5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJCQkJZW5kCgkJCQkJCQkJaWYgaCAvIG1heGggPj0gMC43NSB0aGVuCgkJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoNjIsIDI1NSwgNjIpCgkJCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTUsIDE1MywgNjQpCgkJCQkJCQkJZWxzZWlmIGggLyBtYXhoIDw9IDAuNzUgYW5kIGggLyBtYXhoID49IDAuNSB0aGVuCgkJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDU1KQoJCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE3OSwgMTMyLCAxNSkKCQkJCQkJCQllbHNlaWYgaCAvIG1heGggPT0gMCB0aGVuCgkJCQkJCQkJCXQuR1RhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyLCAyKQoJCQkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEzNCwgMTIsIDY2KQoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJdC5HVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsICgxOTYgKiAoaCAvIG1heGgpKSwgKDIgKiAoaCAvIG1heGgpKSkKCQkJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNzksICgxMzIgKiAoaCAvIG1heGgpKSwgKDE1ICogKGggLyBtYXhoKSkpCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpIHRoZW4KCQkJCQkJCUdVcGRhdGVGdW5jc1t2XSA9IG5pbAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCQlHVXBkYXRlTmFtZVRhZygpCgkJCQkJR1VwZGF0ZUZ1bmNzW3ZdID0gR1VwZGF0ZU5hbWVUYWcKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJZnVuY3Rpb24gR1VubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyRyBhbmQgKHZIb2xkZXJHOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiR0JveCIpIH49IG5pbCBvciB2SG9sZGVyRzpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkdOYW1lVGFnIikgfj0gbmlsKSB0aGVuCgkJCQl2SG9sZGVyRzpDbGVhckFsbENoaWxkcmVuKCkKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdMb2FkUGxheWVyKHYpCgkJCWlmIHYgfj0gcGxheWVyIHRoZW4KCQkJCWlmIEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKSB0aGVuCgkJCQkJR0hvbGRlclt2Lk5hbWVdOkRlc3Ryb3koKQoJCQkJZW5kCgkJCQlsb2NhbCB2SG9sZGVyRyA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgR0hvbGRlcikKCQkJCXZIb2xkZXJHLk5hbWUgPSB2Lk5hbWUKCQkJCXYuQ2hhcmFjdGVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJaWYgRVNQSW5mby5Hb2xkLkVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCXBjYWxsKEdMb2FkQ2hhcmFjdGVyLCB2KQoJCQkJCWVuZAoJCQkJZW5kKQoJCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlwY2FsbChHVW5sb2FkQ2hhcmFjdGVyLCB2KQoJCQkJZW5kKQoJCQkJR0xvYWRDaGFyYWN0ZXIodikKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIEdVbmxvYWRQbGF5ZXIodikKCQkJR1VubG9hZENoYXJhY3Rlcih2KQoJCQlsb2NhbCB2SG9sZGVyRyA9IEdIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQoJCQlpZiB2SG9sZGVyRyB0aGVuCgkJCQl2SG9sZGVyRzpEZXN0cm95KCkKCQkJZW5kCgkJZW5kCgoJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpCgkJZW5kCgoJCXBsYXllcnMuUGxheWVyQWRkZWQ6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHTG9hZFBsYXllciwgdikKCQllbmQpCgoJCXBsYXllcnMuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQoJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCWVuZCkKCgkJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuCgkJCQlpZiBHSG9sZGVyOkZpbmRGaXJzdENoaWxkKGkuTmFtZSkgdGhlbgoJCQkJCUdVbmxvYWRDaGFyYWN0ZXIoaSkKCQkJCQl3YWl0KCkKCQkJCQlHTG9hZENoYXJhY3RlcihpKQoJCQkJZW5kCgkJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbgoJCQkJbG9jYWwgcCA9IHBsYXllcnM6R2V0UGxheWVyRnJvbUNoYXJhY3RlcihpLlBhcmVudCkKCQkJCWlmIHAgfj0gcGxheWVyIGFuZCBwIH49IG5pbCBhbmQgR0hvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4KCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCUdVcGRhdGVGdW5jc1twXSgpCgkJCQkJZW5kKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCgkJZnVuY3Rpb24gdG9nZ2xlRVNQR29sZCgpCgkJCWlmIGlzR29sZCBvciBpc01hc3RlciB0aGVuCgkJCQlpZiBFU1BJbmZvLkdvbGQuRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJaWYgRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkIHRoZW4KCQkJCQkJRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkID0gZmFsc2UKCQkJCQkJRVNQSW5mby5Hb2xkLkVuYWJsZWQgPSB0cnVlCgkJCQkJCUVTUC5UZXh0ID0gIkRldGFpbGVkIEVTUCBFbmFibGVkIgoJCQkJCQl3YWl0KDEpCgkJCQkJCUVTUC5UZXh0ID0gIkVTUCAoT2ZmKSBbQl0iCgkJCQkJZWxzZQoJCQkJCQlFU1BJbmZvLkdvbGQuRW5hYmxlZCA9IHRydWUKCQkJCQllbmQKCQkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIkRldGFpbGVkIEVTUCAoT24pIFtNXSIKCQkJCQlmb3IgaSx2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdMb2FkUGxheWVyLCB2KSBlbmQpCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJRVNQSW5mby5Hb2xkLkVuYWJsZWQgPSBmYWxzZQoJCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKEdVbmxvYWRQbGF5ZXIsIHYpIGVuZCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlFU1BHb2xkLkJ1dHRvbi5UZXh0ID0gIk1lbWJlciBOb3QgR29sZCIKCQkJCXdhaXQoMykKCQkJCUVTUEdvbGQuQnV0dG9uLlRleHQgPSAiRGV0YWlsZWQgRVNQIChPZmYpIFtNXSIKCQkJZW5kCgkJZW5kCgoJCUVTUEdvbGQuQnV0dG9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1BHb2xkKQoKCQktLSBUUCB0byBEcm9wcwoJCS0tLS0gQ3VycmVudGx5IGRpc2FibGVkIGR1ZSB0byB0aHJlYXRsZXZlbAoKCQktLVtbbG9jYWwgVFBTaGFyZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQoJCVRQU2hhcmRzLk5hbWUgPSAiVFBTaGFyZHMiCgkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQU2hhcmRzKQoKCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQkKCgkJbG9jYWwgVFBEaWFtb25kcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpCgkJVFBEaWFtb25kcy5OYW1lID0gIlRQRGlhbW9uZHMiCgkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCXRhYmxlLmluc2VydChidXR0b25zLCBUUERpYW1vbmRzKQoKCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIHBsYXRlID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQlwbGF0ZS5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZQoJCXBsYXRlLlNpemUgPSBWZWN0b3IzLm5ldyg0MCwgMSwgNDApCgkJcGxhdGUuUG9zaXRpb24gPSBWZWN0b3IzLm5ldygwLCAxMDAwMDAsIDApCgkJcGxhdGUuQW5jaG9yZWQgPSB0cnVlCgkJcGxhdGUuUmVmbGVjdGFuY2UgPSAwLjUKCQlwbGF0ZS5UcmFuc3BhcmVuY3kgPSAwLjUKCgkJbG9jYWwgdGltZSA9IDAKCQlsb2NhbCBjYW5JbnZpcyA9IGZhbHNlCgoJCWZ1bmN0aW9uIHRlbGVwb3J0VG9Ecm9wcygpCgkJCWxvY2FsIGhycCA9IHBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLlNlcnZlckVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIlNoYXJkIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVsc2VpZiBUUERpYW1vbmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJEaWFtb25kIiB0aGVuCgkJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lCgkJCQkJd2FpdCguMikKCQkJCWVuZAoKCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQlpZiB0aW1lID09IDUgdGhlbiAKCQkJCQkJYnJlYWsKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCgkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCgkJCXJldHVybiAKCQllbmQKCgoJCWZ1bmN0aW9uIHN0YXJ0VGltZXIoKQoJCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJCXdoaWxlIHdhaXQoKSBkbwoJCQkJaWYgVFBTaGFyZHNFbmFibGVkIG9yIFRQRGlhbW9uZHNFbmFibGVkIHRoZW4KCQkJCQlpZiB0aW1lIH49IDAgdGhlbiByZXR1cm4KCQkJCQllbHNlCgkJCQkJCWlmIGNhbkludmlzIHRoZW4KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQkJd2FpdCgxKQoJCQkJCQkJcmVwZWF0CgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl0aW1lID0gdGltZSArIDEKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQl1bnRpbCB0aW1lID09IDYKCQkJCQkJCWhycC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KDAsIDEwMDAwMywgLTEwKSkKCQkJCQkJCXdhaXQoNy41KQoJCQkJCQkJdGltZSA9IDAKCQkJCQkJZWxzZQoJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCWlmIG5vdCBUUFNoYXJkc0VuYWJsZWQgYW5kIG5vdCBUUERpYW1vbmRzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJZW5kCgkJCQkJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbCh0ZWxlcG9ydFRvRHJvcHMpIGVuZCkKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbHNlCgkJCQkJYnJlYWsKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybgoJCWVuZAoKCQlUUFNoYXJkcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJVFBTaGFyZHNFbmFibGVkID0gdHJ1ZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9uKSIKCQkJCXN0YXJ0VGltZXIoKQoJCQkJd2hpbGUgVFBTaGFyZHNFbmFibGVkIGRvCgkJCQkJd2FpdCgpCgkJCQkJaWYgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuCgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMAoJCQkJCQlzdGFydFRpbWVyKCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlCgkJCQlUUFNoYXJkc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9mZikiCgkJCWVuZAoJCWVuZCkKCgkJVFBEaWFtb25kcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKTpXYWl0Rm9yQ2hpbGQoIk1haW4iKS5DaGFyYWN0ZXIuQXZhaWxhYmxlLlNjcm9sbGluZ0ZyYW1lLkZyYW1lOkZpbmRGaXJzdENoaWxkKCJTcGVjdHJhbCBFbWJvZGltZW50IikgdGhlbgoJCQkJY2FuSW52aXMgPSB0cnVlCgkJCWVuZAoJCQlpZiBUUERpYW1vbmRzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQlUUERpYW1vbmRzRW5hYmxlZCA9IHRydWUKCQkJCVRQRGlhbW9uZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBEaWFtb25kcyAoT24pIgoJCQkJc3RhcnRUaW1lcigpCgkJCQl3aGlsZSBUUERpYW1vbmRzRW5hYmxlZCBkbwoJCQkJCXdhaXQoKQoJCQkJCWlmIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbgoJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDAKCQkJCQkJc3RhcnRUaW1lcigpCgkJCQkJZW5kCgkJCQllbmQKCQkJZWxzZQoJCQkJVFBEaWFtb25kc0VuYWJsZWQgPSBmYWxzZQoJCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPZmYpIgoJCQllbmQKCQllbmQpXV0KCgkJLS0gQWx0IEZhcm1pbmcKCgkJbG9jYWwgQWx0RmFybSA9IHsKCQkJWyJCdXR0b24iXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpLAoJCQlbIklzR29sZCJdID0gdHJ1ZQoJCX0KCQlBbHRGYXJtLk5hbWUgPSAiQWx0RmFybSIKCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIkZhcm1pbmcgTW9kZSAoT2ZmKSIKCQl0YWJsZS5pbnNlcnQoYnV0dG9ucyxBbHRGYXJtKQoKCQlBbHRGYXJtRW5hYmxlZCA9IGZhbHNlCgoJCWxvY2FsIGxvY3MgPSB7ezQyNCwgMjUwMDAsIDYxfSx7LTY3LCAyNTAwMCwgMjYxOX0sey0yNjAwLCAyNTAwMCwgNDgzfX0KCQlsb2NhbCBocnAgPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCgkJbG9jYWwgaHVtID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkIikKCQlsb2NhbCBsYXN0cG9zCgoJCWxvY2FsIGZ1bmN0aW9uIGRvRmFybSgpCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJaHJwID0gcGxheWVyLkNoYXJhY3RlcjpXYWl0Rm9yQ2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQoJCQlodW0gPSBwbGF5ZXIuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQoJCQlodW0uSGVhbHRoQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCXBsYXllci5DaGFyYWN0ZXI6QnJlYWtKb2ludHMoKQoJCQllbmQpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIGFsdHRwKGxpLGxwKQoJCQlsb2NhbCBuZXdMb2MgPSBWZWN0b3IzLm5ldyh1bnBhY2sobG9jc1tsaV0pKQoJCQlpZiBuZXdMb2Mgfj0gbHAgdGhlbgoJCQkJcGxheWVyLkNoYXJhY3RlcjpNb3ZlVG8obmV3TG9jKQoJCQllbmQKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gYWx0cGxhdGUoZGUsbGkpCgkJCWlmIG5vdCBsaSB0aGVuIGxpID0gbmlsIGVuZAoJCQlpZiBkZSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBBbHRQbGF0ZSA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQlBbHRQbGF0ZS5QYXJlbnQgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpWyIuSWdub3JlIl0KCQkJCUFsdFBsYXRlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcobG9jc1tsaV1bMV0sIChsb2NzW2xpXVsyXSAtIDUpLCBsb2NzW2xpXVszXSkKCQkJCUFsdFBsYXRlLlNpemUgPSBWZWN0b3IzLm5ldyg1LDEsNSkKCQkJCUFsdFBsYXRlLkFuY2hvcmVkID0gdHJ1ZQoJCQkJQWx0UGxhdGUuVHJhbnNwYXJlbmN5ID0gMQoJCQllbHNlCgkJCQlpZiBub3QgQWx0UGxhdGUgPT0gbmlsIHRoZW4KCQkJCQlBbHRQbGF0ZTpEZXN0cm95KCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCgkJQWx0RmFybS5CdXR0b24uTW91c2VCdXR0b24xRG93bjpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgaXNHb2xkIG9yIGlzTWFzdGVyIHRoZW4KCQkJCWlmIEFsdEZhcm1FbmFibGVkIHRoZW4KCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyOk1vdmVUbyhsYXN0cG9zKQoJCQkJCUFsdEZhcm1FbmFibGVkID0gZmFsc2UKCQkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIkZhcm1pbmcgTW9kZSAoT2ZmKSIKCQkJCQlhbHRwbGF0ZSh0cnVlKQoJCQkJCWh1bS5IZWFsdGhDaGFuZ2VkOkRpc2Nvbm5lY3QoKQoJCQkJZWxzZQoJCQkJCUFsdEZhcm1FbmFibGVkID0gdHJ1ZQoJCQkJCUFsdEZhcm0uQnV0dG9uLlRleHQgPSAiRmFybWluZyBNb2RlIChPbikiCgkJCQkJbGFzdHBvcyA9IGhycC5wb3NpdGlvbgoJCQkJCWxvY2FsIFRQTG9jYXRpb24gPSBtYXRoLnJhbmRvbSgxLCNsb2NzKQoJCQkJCWFsdHBsYXRlKGZhbHNlLFRQTG9jYXRpb24pCgkJCQkJcmVwZWF0CgkJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgcGxheWVyLkNoYXJhY3RlciB+PSBuaWwKCQkJCQkJZG9GYXJtKCkKCQkJCQkJaWYgaHJwLlBvc2l0aW9uIH49IHVucGFjayhsb2NzW1RQTG9jYXRpb25dKSB0aGVuCgkJCQkJCQlhbHR0cChUUExvY2F0aW9uLGxhc3Rwb3MpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KC4xKQoJCQkJCXVudGlsIEFsdEZhcm1FbmFibGVkID09IGZhbHNlCgkJCQllbmQKCQkJZWxzZQoJCQkJQWx0RmFybS5CdXR0b24uVGV4dCA9ICJNZW1iZXIgTm90IEdvbGQiCgkJCQl3YWl0KDMpCgkJCQlBbHRGYXJtLkJ1dHRvbi5UZXh0ID0gIkZhcm1pbmcgTW9kZSAoT2ZmKSIKCQkJZW5kCgkJZW5kKQoKCQlsb2NhbCBmdWxsYnV0dG9ucyA9IGNvcHkoYnV0dG9ucykKCgkJLS0gR1VJIFR3ZWFraW5nCgoJCWZvciBpLHYgaW4gcGFpcnMoYm9yZGVycykgZG8KCQkJdi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDEsIDAuNSkKCQkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJdi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMC43NTAKCQkJdi5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQl2LkJvcmRlclNpemVQaXhlbCA9IDAKCQkJdi5TaXplQ29uc3RyYWludCA9IEVudW0uU2l6ZUNvbnN0cmFpbnQuUmVsYXRpdmVZWQoJCQl2LkFjdGl2ZSA9IHRydWUKCQkJdi5QYXJlbnQgPSBlYmd1aQoJCWVuZAoKCQlmb3IgaSx2IGluIHBhaXJzKGJ1dHRvbnMpIGRvCgkJCWlmIHR5cGVvZih2KSA9PSAidGFibGUiIGFuZCB2LklzR29sZCB0aGVuCgkJCQl2LkJ1dHRvbi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjM2LCAxNzUsIDIwKQoJCQkJdi5CdXR0b24uQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkKCQkJCXYuQnV0dG9uLkJvcmRlclNpemVQaXhlbCA9IDIKCQkJCXYuQnV0dG9uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LkJ1dHRvbi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApCgkJCQl2LkJ1dHRvbi5Gb250ID0gRW51bS5Gb250LkNvZGUKCQkJCXYuQnV0dG9uLkZvbnRGYWNlLldlaWdodCA9IEVudW0uRm9udFdlaWdodC5IZWF2eQoJCQkJdi5CdXR0b24uVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCgkJCQl2LkJ1dHRvbi5UZXh0U2NhbGVkID0gdHJ1ZQoJCQkJdi5CdXR0b24uVGV4dFNpemUgPSAxNC4wMDAKCQkJCXYuQnV0dG9uLlRleHRXcmFwcGVkID0gdHJ1ZQoJCQkJdi5CdXR0b24uTGF5b3V0T3JkZXIgPSBpCgkJCQl2LkJ1dHRvbi5QYXJlbnQgPSBtYWluZnJhbWUKCQkJZWxzZQoJCQkJdi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpCgkJCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApCgkJCQl2LkJvcmRlclNpemVQaXhlbCA9IDIKCQkJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCXYuU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQkJdi5Gb250ID0gRW51bS5Gb250LkNvZGUKCQkJCXYuRm9udEZhY2UuV2VpZ2h0ID0gRW51bS5Gb250V2VpZ2h0LkhlYXZ5CgkJCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCQkJdi5UZXh0U2NhbGVkID0gdHJ1ZQoJCQkJdi5UZXh0U2l6ZSA9IDE0LjAwMAoJCQkJdi5UZXh0V3JhcHBlZCA9IHRydWUKCQkJCXYuTGF5b3V0T3JkZXIgPSBpCgkJCQl2LlBhcmVudCA9IG1haW5mcmFtZQoJCQllbmQKCQllbmQKCgkJLS0gY29tbWFuZEJveAoKCQl0YXJnZXQgPSBwbGF5ZXIuTmFtZQoJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCWxvb3BpbmcgPSBmYWxzZQoJCVNtYXJ0QXR0YWNrID0gdHJ1ZQoJCUhlYWxTZXR0aW5nID0gMQoJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCWxvY2FsIGJ1dHRvbkhlaWdodCA9IDMwCgkJbG9jYWwgYnV0dG9uR2FwID0gNwoKCQlsb2NhbCBzdHVuQ29ubmVjdGlvbiA9IGdldGNvbm5lY3Rpb25zKFJTUjpXYWl0Rm9yQ2hpbGQoIkNvbWJhdCIpLk9uQ2xpZW50RXZlbnQpCgkJbG9jYWwgbGFnZ2VycyA9IHsKCQkJIjFCMEY5OEJFLUUxMEItNDY3NC05RkI0LTZGNjUxNzFBMzQ3RiIsIC0tIGxvZwoJCQkiNkEzMzEwNEEtMUZFOS00RkE4LTkzNzQtQzE2NEQyOEY4MzUxIiwgLS0gYnJpYW4KCQkJIjgzNzczNkFBLTAxOTItNDdGOS05OEM1LThERDBERjE4RkU3NCIsIC0tIGpldAoJCQkiNTVDMjA0OUQtQzZCRC00NTIzLTg4MDQtRDUzOUMzODc5MkEzIiwgLS0gcGVudGFyYWN0CgkJCSI5NDY0QjY4QS0zNjNDLTQxRjgtQkI3RC1CNEJFRDhBQzA5NjMiLCAtLSB2YXN0b3JpbwoJCQktLSAiODMwQkQ0RTktNUVCRS00QTEzLUI0N0ItOUJFNjAwODNCODM2IiwgLS0gbG9sb2sKCQkJLS0gIjYzQjM5RTI3LURBMUItNDgyRS1CMjhDLTZBMzM5OEM5NUE0QyIsIC0tIGFsZXgKCQkJIjg0NkE2NUUyLUU5NjMtNEEwQS05MDI1LUU5QjhFOTU4OTYxMyIsIC0tIGJyYW0KCQkJIjNGMTY4NDQwLUE1QzAtNEY3MS04RTUxLTNGREY5MDI1RjUxQiIsIC0tIHRvbWVrCgkJCSI2QTk3MDUyQS02MzRFLTQ3RTEtOEQ5MC01RUUzQ0E0QTk2RkEiLCAtLSByYXZlbgoJCQkiRjU5NzVEN0QtMkFDNS00NEFBLTgwMUYtODI3NjI1RDZENzYzIiwgLS0gYWxleGlhCgkJCSI0ODI4NzE4Mi05RTc3LTRGOTctQTY1NC05NzA2OUVEODE2NkMiLCAtLSBqZXNzCgkJCSI3NDg5Q0JBRS03OTg2LTQ1QTktQkU0MC1BMjE4RURDRDBGMDEiIC0tIGNlcGhhcwoJCX0KCgkJbG9jYWwgYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUKCgkJZm9yIGksIHYgaW4gcGFpcnMobGFnZ2VycykgZG8KCQkJdiA9IHY6bG93ZXIoKQoKCQkJaWYgKHYgPT0gY2xpZW50aWQpIHRoZW4KCQkJCWFsbG93ZWRUb0Ryb3BGUFMgPSB0cnVlCgkJCWVuZAoJCWVuZAoKCQlmdW5jdGlvbiBnZXRIUlAoY2hyKQoJCQlsb2NhbCBIUlAgPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikKCQkJcmV0dXJuIEhSUAoJCWVuZAoKCQlmdW5jdGlvbiBnZXRIVU0oY2hyKQoJCQlsb2NhbCBIVU0gPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikKCQkJcmV0dXJuIEhVTQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiByZXNwYXduKHBscikKCQkJbG9jYWwgY2hyID0gcGxyLkNoYXJhY3RlcgoKCQkJaWYgKGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikpIHRoZW4gY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKTpDaGFuZ2VTdGF0ZSgxNSkgZW5kCgkJCWNocjpDbGVhckFsbENoaWxkcmVuKCkKCgkJCWxvY2FsIG5ld2NociA9IEluc3RhbmNlLm5ldygiTW9kZWwiKQoJCQluZXdjaHIuUGFyZW50ID0gd29ya3NwYWNlCgkJCXBsci5DaGFyYWN0ZXIgPSBuZXdjaHIKCgkJCXdhaXQoKQoKCQkJcGxyLkNoYXJhY3RlciA9IGNocgoJCQluZXdjaHI6RGVzdHJveSgpCgkJZW5kCgoJCWxvY2FsIGZ1bmN0aW9uIHJlZnJlc2gocGxyKQoJCQlsb2NhbCBodW0gPSBwbHIuQ2hhcmFjdGVyIGFuZCBwbHIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiLCB0cnVlKQoJCQlsb2NhbCBwb3MgPSBodW0gYW5kIGh1bS5Sb290UGFydCBhbmQgaHVtLlJvb3RQYXJ0LkNGcmFtZQoJCQlsb2NhbCBwb3MxID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lCgoJCQlyZXNwYXduKHBscikKCgkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCXBsci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCk6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpLlJvb3RQYXJ0LkNGcmFtZSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lID0gcG9zLCB3YWl0KCkgYW5kIHBvczEKCQkJZW5kKQoJCWVuZAoKCQlsb2NhbCBmdW5jdGlvbiBzcGxpdEFyZ3MoY29tbWFuZCkKCQkJY29tbWFuZCA9IHN0cmluZy5nc3ViKGNvbW1hbmQsICIsIiwgIiAiKQoJCQljb21tYW5kID0gc3RyaW5nLnNwbGl0KGNvbW1hbmQsICIgIikKCgkJCWZvciBpLCB2IGluIGlwYWlycyhjb21tYW5kKSBkbwoJCQkJdiA9IHN0cmluZy5nc3ViKHYsICIlcysiLCAiIikKCQkJCWlmIHYgPT0gIiIgdGhlbgoJCQkJCXRhYmxlLnJlbW92ZShjb21tYW5kLCBpKQoJCQkJZW5kCgkJCWVuZAoKCQkJcmV0dXJuIGNvbW1hbmQKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gZmluZFBsYXllcih0ZXh0KQoJCQlsb2NhbCBwbGF5ZXJzID0gZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKQoJCQlsb2NhbCBtYXRjaGVzID0ge30KCgkJCWZvciBpLCBQbGF5ZXIgaW4gaXBhaXJzKHBsYXllcnMpIGRvCgkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUKCQkJCXRleHQgPSBzdHJpbmcubG93ZXIodGV4dCkKCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkKCgkJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKG5hbWUsIHRleHQpCgoJCQkJaWYgbWF0Y2ggdGhlbgoJCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkKCQkJCWVuZAoJCQllbmQKCgkJCXJldHVybiBtYXRjaGVzCgkJZW5kCgoJCWxvY2FsIGRydWdzRW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlCgkJbG9jYWwgY29sb3JFeGNsdWRlID0geyJIZWFkIiwiVG9yc28iLCJMZWZ0IEFybSIsIkxlZnQgTGVnIiwiUmlnaHQgQXJtIiwiUmlnaHQgTGVnIiwiU2hhcmQiLCJEaWFtb25kIn0KCgkJLS1bWzk4LzI1NSwgMzcvMjU1LCAyMDkvMjU1XV0KCQlsb2NhbCBjb2xvcjEKCQlsb2NhbCBjb2xvcjIKCQlsb2NhbCBjb2xvcjMKCgkJbG9jYWwgZnVuY3Rpb24gdGVybUVCR3VpKCkKCQkJd2FybigiQ2xvc2luZyBFQkd1aSBmb3IgZ29vZC4uLiIpCgkJCXdhcm4oIlR3ZWVuaW5nIG91dCBVSSBlbGVtZW50cy4uLiIpCgkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksCgkJCQkiSW4iLAoJCQkJIlNpbmUiLAoJCQkJLjUsCgkJCQl0cnVlCgkJCSkKCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC40NSwgMCksCgkJCQkiSW4iLAoJCQkJIlNpbmUiLAoJCQkJLjUsCgkJCQl0cnVlCgkJCSkKCQkJd2FpdCgxKQoJCQl3YXJuKCJSZXNldHRpbmcgdGFyZ2V0Li4uIikKCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJd2FybigiVW5sb2FkaW5nIGFsbCBFU1AgZWxlbWVudHMuLi4iKQoJCQlmb3IgaSwgdiBpbiBwYWlycyhwbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCXBjYWxsKFVubG9hZFBsYXllciwgdikKCQkJCXBjYWxsKEdVbmxvYWRDaGFyYWN0ZXIsIHYpCgkJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCQllbmQKCQkJd2FybigiRW5zdXJpbmcgRVNQIGVsZW1lbnRzIGFyZSBkaXNhYmxlZC4uLiIpCgkJCUVTUEluZm8uU3RhbmRhcmQuRW5hYmxlZCA9IGZhbHNlCgkJCUVTUEluZm8uR29sZC5FbmFibGVkID0gZmFsc2UKCQkJaWYgZ2FtZTpHZXRTZXJ2aWNlKCJDb3JlR3VpIik6RmluZEZpcnN0Q2hpbGQoIkVTUCIpIGFuZCBnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKTpGaW5kRmlyc3RDaGlsZCgiRVNQR29sZCIpIHRoZW4KCQkJCXdhcm4oIkNsZWFuaW5nIHVwIEVTUCBlbGVtZW50cy4uLiIpCgkJCQlnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKS5FU1A6RGVzdHJveSgpCgkJCQlnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKS5FU1BHb2xkOkRlc3Ryb3koKQoJCQllbHNlCgkJCQl3YXJuKCJFU1Agd2FzIG5ldmVyIGVuYWJsZWQsIHNraXBwaW5nIGNsZWFudXAuLi4iKQoJCQllbmQKCQkJd2FybigiUmVzZXR0aW5nIGhhY2sgdmFsdWVzLi4uIikKCQkJZm9yIGEsYiBpbiBwYWlycyhtdnRnKSBkbwoJCQkJaWYgdHlwZW9mKGIpID09ICJ0YWJsZSIgdGhlbgoJCQkJCWZvciBjLGQgaW4gcGFpcnMoYikgZG8KCQkJCQkJaWYgdHlwZW9mKGQpID09ICJ0YWJsZSIgdGhlbgoJCQkJCQkJZm9yIGUsZiBpbiBwYWlycyhkKSBkbwoJCQkJCQkJCWlmIGYgdGhlbiBmID0gZmFsc2UgZW5kCQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCQl3YXJuKCJEZXN0cm95aW5nIEVCR3VpIGFuZCBpdHMgY2hpbGRyZW4uLi4iKQoJCQllYmd1aTpEZXN0cm95KCkKCQllbmQKCgkJbG9jYWwgZnVuY3Rpb24gaW5wdXRCb3goKQoJCQlsb2NhbCB0ZXh0ID0gY29tbWFuZEJveC5UZXh0CgkJCXdhaXQoKQoJCQljb21tYW5kQm94LlRleHQgPSAiIgoKCQkJbG9jYWwgcHJlZml4ID0gIjsiCgkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMSkgPT0gKHByZWZpeCkgdGhlbgoJCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQoKCQkJCWlmICgoc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpKSBhbmQgbm90IChzdHJpbmcuc3ViKHRleHQsMSw3KSA9PSAocHJlZml4IC4uICJyZWpvaW4iKSkpIG9yIChzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInJlZnJlc2giKSkgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXI6QnJlYWtKb2ludHMoKQoJCQkJCXdhaXQoLjEyNSkKCQkJCQlyZWZyZXNoKHBsYXllcikKCQkJCWVsc2VpZiAoc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpKSBvciAoc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJ0ZWxlcG9ydCIpKSB0aGVuCgkJCQkJbG9jYWwgdGVsZXBvcnR0bwoJCQkJCWxvY2FsIHRwbmFtZQoJCQkJCWxvY2FsIHBhcmcKCQkJCQlsb2NhbCBwbGFjZQoJCQkJCWxvY2FsIG1pbmxldgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOSkgPT0gKHByZWZpeCAuLiAidGVsZXBvcnQiKSB0aGVuCgkJCQkJCXBhcmcgPSBzdHJpbmcuc3ViKHRleHQsIDExKQoJCQkJCQlsb2NhbCBzID0gc3RyaW5nLmdzdWIocGFyZywiJXMrIiwiIikKCQkJCQkJcGxhY2UgPSBzdHJpbmcubG93ZXIocykKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJ0cCIpIHRoZW4KCQkJCQkJcGFyZyA9IHN0cmluZy5zdWIodGV4dCwgNSkKCQkJCQkJbG9jYWwgcyA9IHN0cmluZy5nc3ViKHBhcmcsIiVzKyIsIiIpCgkJCQkJCXBsYWNlID0gc3RyaW5nLmxvd2VyKHMpCgkJCQkJZW5kCgoJCQkJCWlmIHBsYWNlID09ICJzdGFuZGFyZGxvdyIgb3IgcGxhY2UgPT0gIjU2NjM5OTI0NCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNTY2Mzk5MjQ0CgkJCQkJCXRwbmFtZSA9ICJMb3diaWUgU3RhbmRhcmQiCgkJCQkJCW1pbmxldiA9IDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN0YW5kYXJkNDAiIG9yIHBsYWNlID09ICJzdGFuZGFyZCIgb3IgcGxhY2UgPT0gIjI1Njk2MjU4MDkiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDI1Njk2MjU4MDkKCQkJCQkJdHBuYW1lID0gIlN0YW5kYXJkIgoJCQkJCQltaW5sZXYgPSAwCgkJCQkJZWxzZWlmIHBsYWNlID09ICJsaWdodCIgb3IgcGxhY2UgPT0gIjU3MDE1ODA4MSIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNTcwMTU4MDgxCgkJCQkJCXRwbmFtZSA9ICJMaWdodCIKCQkJCQkJbWlubGV2ID0gNDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gImZpcmUiIG9yIHBsYWNlID09ICI1Mzc2MDAyMDQiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDUzNzYwMDIwNAoJCQkJCQl0cG5hbWUgPSAiRmlyZSIKCQkJCQkJbWlubGV2ID0gODAKCQkJCQllbHNlaWYgcGxhY2UgPT0gIndhdGVyIiBvciBwbGFjZSA9PSAiNTIwNTY4MjQwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSA1MjA1NjgyNDAKCQkJCQkJdHBuYW1lID0gIldhdGVyIgoJCQkJCQltaW5sZXYgPSAxMjAKCQkJCQllbHNlaWYgcGxhY2UgPT0gImdyYXNzIiBvciBwbGFjZSA9PSAiNTU0OTU1NTYwIiB0aGVuCgkJCQkJCXRlbGVwb3J0dG8gPSA1NTQ5NTU1NjAKCQkJCQkJdHBuYW1lID0gIkdyYXNzIgoJCQkJCQltaW5sZXYgPSAyMDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gImhlYXZlbiIgb3IgcGxhY2UgPT0gIjYwMjA0ODU1MCIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gNjAyMDQ4NTUwCgkJCQkJCXRwbmFtZSA9ICJIZWF2ZW4iCgkJCQkJZWxzZWlmIHBsYWNlID09ICJtaW5pbG92YW5pYSIgb3IgcGxhY2UgPT0gInNhbnMiIG9yIHBsYWNlID09ICI1NzU0NTY2NDYiIHRoZW4KCQkJCQkJdGVsZXBvcnR0byA9IDU3NTQ1NjY0NgoJCQkJCQl0cG5hbWUgPSAiTWluaWxvdmFuaWEiCgkJCQkJCW1pbmxldiA9IDAKCQkJCQllbHNlaWYgcGxhY2UgPT0gInN1cnZpdmFsIiBvciBwbGFjZSA9PSAiMTI0MzYxNTYxMiIgdGhlbgoJCQkJCQl0ZWxlcG9ydHRvID0gMTI0MzYxNTYxMgoJCQkJCQl0cG5hbWUgPSAiU3Vydml2YWwiCgkJCQkJCW1pbmxldiA9IDAKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUaGUgcGxhY2Ugd2FzIGluY29ycmVjdGx5IHNwZWNpZmllZCEiCgkJCQkJZW5kCgoJCQkJCWlmIHRlbGVwb3J0dG8gYW5kIG5vdCAodGVsZXBvcnR0byA9PSBnYW1lLlBsYWNlSWQpIHRoZW4gLS0gSWYgdGVsZXBvcnQgdG8gd2FzIHByb3ZpZGVkIGFuZCBub3QgdGhlIGN1cnJlbnQgcGxhY2UuLi4KCQkJCQkJaWYgbm90ICh0ZWxlcG9ydHRvID09IDYwMjA0ODU1MCkgdGhlbiAtLSBJZiB5b3UncmUgbm90IGNvbm5lY3RpbmcgdG8gSGVhdmVuLi4uCgoJCQkJCQkJbG9jYWwgcGQgLS0gUGxheWVyRGF0YSBjb25uZWN0aW9uCgkJCQkJCQlsb2NhbCBwbGV2IC0tIFZhcmlhYmxlIGZvciBwbGF5ZXIncyBjdXJyZW50IGxldmVsCgkJCQkJCQlsb2NhbCBIYXNIZWF2ZW4gPSBnYW1lOkdldFNlcnZpY2UoIk1hcmtldHBsYWNlU2VydmljZSIpOlVzZXJPd25zR2FtZVBhc3NBc3luYyhJRCwgMjE2MjQ0OCkKCQkJCQkJCS0tIF5eIFJldHVybnMgYSBib29sIHZhbHVlIGRlcGVuZGluZyBvbiBpZiB5b3Ugb3duIEhlYXZlbgoJCQkJCQkJcGQgPSBSU1I6V2FpdEZvckNoaWxkKCJQbGF5ZXJEYXRhIikuT25DbGllbnRFdmVudDpDb25uZWN0KGZ1bmN0aW9uKHAsdCkKCQkJCQkJCQlpZiBwLk5hbWUgfj0gcGxheWVyLk5hbWUgdGhlbiByZXR1cm4gZW5kCgkJCQkJCQkJcGxldiA9IHRvbnVtYmVyKHQuRGF0YS5MZXZlbCkKCQkJCQkJCQlwZDpEaXNjb25uZWN0KCkKCQkJCQkJCWVuZCkgLS0gR3JhYnMgdGhlIHBsYXllcidzIGxldmVsIGFuZCBzYXZlcyBpdCB0byBwbGV2CgkJCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIHBsZXYgfj0gbmlsIC0tIFRvIGF2b2lkIHRoZSByZW1haW5kZXIgb2YgdGhlIGNvZGUgcnVubmluZwoJCQkJCQkJLS0gYmVmb3JlIHRoZSBjb25uZWN0aW9uIGNhbiBjbG9zZSwgd2FpdCB1bnRpbCBwbGV2IGlzIG5vIGxvbmdlciBuaWwKCgkJCQkJCSAgICBpZiB0b251bWJlcihwbGV2KSA9PSBuaWwgdGhlbiAtLSBJZiwgc29tZWhvdywgcGxldiBpcyBub3QgYSBudW1iZXIsCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlNvbWV0aGluZyB3ZW50IHdyb25nISIgLS0gLi4uY2hhbmdlIG91dHB1dAoJCQkJCQkJCXdhcm4oIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoZW4gZ2V0dGluZyBjdXJyZW50IGxldmVsISIpIC0tIC4uLndhcm4gcGxheWVyCgkJCQkJCQkJcHJpbnQoIkdvdCB5b3VyIGN1cnJlbnQgbGV2ZWwgYXMgIiAuLiB0b3N0cmluZyhwbGV2KSkgLS0gLi4ucmV0dXJuIHdoYXQgcGxldiBpcwoJCQkJCQkJZWxzZWlmIHBsZXYgPj0gbWlubGV2IHRoZW4gLS0gT3RoZXJ3aXNlLCBpZiBwbGV2IGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWlubGV2IG9mIGEgY2VydGFpbiBtYXAuLi4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGVsZXBvcnRpbmcgdG8gIiAuLiB0cG5hbWUgLi4gIiEiIC0tIC4uLmNoYW5nZSBvdXRwdXQKCQkJCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pIC0tIC4uLnRlbGVwb3J0IHBsYXllcgoJCQkJCQkJZWxzZSAtLSBJZiBhbGwgZWxzZSBmYWlscy4uLgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UncmUgbm90IGhpZ2ggZW5vdWdoIG9mIGEgbGV2ZWwgZm9yIHRoaXMgYXJlYSEiIC0tIC4uLmNoYW5nZSBvdXRwdXQKCQkJCQkJCWVuZAoJCQkJCQllbHNlIC0tIE90aGVyd2lzZS4uLgoJCQkJCQkJaWYgSGFzSGVhdmVuIHRoZW4gLS0gLi4uaWYgeW91IGhhdmUgdGhlIEhlYXZlbiBnYW1lcGFzcy4uLgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUZWxlcG9ydGluZyB0byAiIC4uIHRwbmFtZSAuLiAiISIgLS0gLi4uY2hhbmdlIG91dHB1dAoJCQkJCQkJCWdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIik6VGVsZXBvcnQodGVsZXBvcnR0bykgLS0gLi4udGVsZXBvcnQgcGxheWVyCgkJCQkJCQllbHNlIC0tIE90aGVyd2lzZS4uLgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UgbmVlZCB0aGUgSGVhdmVuIEdhbWVwYXNzIHRvIGdvIGhlcmUhIiAtLSAuLi5jaGFuZ2Ugb3V0cHV0CgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHRlbGVwb3J0dG8gPT0gZ2FtZS5QbGFjZUlkIHRoZW4gLS0gT3RoZXJ3aXNlLi4uCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJZb3UncmUgYWxyZWFkeSBpbiAiIC4uIHRwbmFtZSAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gImRlY2x1dHRlciIpIHRoZW4KCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5GcmFtZTEuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQkJcGxheWVyLlBsYXllckd1aS5NYWluLkNoYXJhY3Rlci5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uQm9vay5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2hvcC5JbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQkJCQlwbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLlNpemUgPSBVRGltMi5uZXcoMC4zNzUsIDAsIDAuMzc1LCAwKQoJCQkJCXBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJyYWluIikgdGhlbgoJCQkJCWxvY2FsIGN1cnJlbnRDQU0gPSB3b3Jrc3BhY2UuQ3VycmVudENhbWVyYQoJCQkJCWxvY2FsIHJhaW5Tb3VuZCA9IEluc3RhbmNlLm5ldygiU291bmQiKQoJCQkJCXJhaW5Tb3VuZC5Mb29wZWQgPSB0cnVlCgkJCQkJcmFpblNvdW5kLlNvdW5kSWQgPSAicmJ4YXNzZXRpZDovLzI4MzE2NDU5MyIKCQkJCQlyYWluU291bmQuVm9sdW1lID0gMQoJCQkJCXJhaW5Tb3VuZC5QYXJlbnQgPSB3b3Jrc3BhY2UKCQkJCQlyYWluU291bmQ6UGxheSgpCgoJCQkJCWxvY2FsIHJhaW5QYXJ0ID0gSW5zdGFuY2UubmV3KCJQYXJ0IikKCQkJCQlyYWluUGFydC5TaXplID0gVmVjdG9yMy5uZXcoMzAwLCAzMDAsIDMwMCkKCQkJCQlyYWluUGFydC5UcmFuc3BhcmVuY3kgPSAxCgkJCQkJcmFpblBhcnQuQW5jaG9yZWQgPSB0cnVlCgkJCQkJcmFpblBhcnQuQ2FuQ29sbGlkZSA9IGZhbHNlCgoJCQkJCWxvY2FsIHJhaW5FZmZlY3QgPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6V2FpdEZvckNoaWxkKCJFZmZlY3RzIik6V2FpdEZvckNoaWxkKCJSYWluIikKCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQoJCQkJCXJhaW5FZmZlY3QuUGFyZW50ID0gcmFpblBhcnQKCgkJCQkJbG9jYWwgaWdub3JlID0gd29ya3NwYWNlOldhaXRGb3JDaGlsZCgiLklnbm9yZSIpCgkJCQkJcmFpblBhcnQuUGFyZW50ID0gaWdub3JlOldhaXRGb3JDaGlsZCgiLlNlcnZlckVmZmVjdHMiKQoKCQkJCQlsb2NhbCBmb3YgPSAyICogbWF0aC50YW4obWF0aC5yYWQoY3VycmVudENBTS5GaWVsZE9mVmlldykgLyAyKQoJCQkJCWxvY2FsIG5ld1JheSA9IFJheS5uZXcKCQkJCQlsb2NhbCBoZWlnaHQgPSBWZWN0b3IzLm5ldygwLCA1MCwgMCkKCQkJCQlsb2NhbCBkZXB0aCA9IENGcmFtZS5uZXcoMCwgZm92ICogNTAsIC02MCkKCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIik6QmluZFRvUmVuZGVyU3RlcCgiUmFpbiIsIEVudW0uUmVuZGVyUHJpb3JpdHkuQ2FtZXJhLlZhbHVlLCBmdW5jdGlvbigpCgkJCQkJCWxvY2FsIHJjID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChuZXdSYXkoY3VycmVudENBTS5DRnJhbWUucCwgaGVpZ2h0KSwge2lnbm9yZX0pCgoJCQkJCQlpZiAocmMpIHRoZW4KCQkJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQlyYWluU291bmQuVm9sdW1lID0gMC41CgkJCQkJCQlyZXR1cm4KCQkJCQkJZW5kCgoJCQkJCQlsb2NhbCB2aWV3cG9ydCA9IGN1cnJlbnRDQU0uVmlld3BvcnRTaXplCgkJCgkJCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldyhmb3YgKiB2aWV3cG9ydC54IC8gdmlld3BvcnQueSAqIDUwLCAwLjIsIDEwMCkKCQkJCQkJcmFpblBhcnQuQ0ZyYW1lID0gY3VycmVudENBTS5DRnJhbWUgKiBkZXB0aAoJCQoJCQkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQoJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSB0cnVlCgkJCgkJCQkJCXJhaW5Tb3VuZC5Wb2x1bWUgPSAxCgkJCQkJZW5kKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNCkgPT0gKHByZWZpeCAuLiAiZml4IikgdGhlbgoJCQkJCWlmIHBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikgdGhlbgoJCQkJCQlwbGF5ZXIuUGxheWVyR3VpOldhaXRGb3JDaGlsZCgiTWVudSIpOkZpbmRGaXJzdENoaWxkKCJCbGFja1NjcmVlbiIpLlZpc2libGUgPSBmYWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRml4aW5nIHRoZSBNZW51IEdVSSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMykgPT0gKHByZWZpeCAuLiAiYnV0dG9uaGVpZ2h0IikgdGhlbgoJCQkJCWJ1dHRvbkhlaWdodCA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKQoJCQkJCVVJR3JpZExheW91dC5DZWxsU2l6ZSA9IFVEaW0yLm5ldygwLjQ1LCAwLCAwLCBidXR0b25IZWlnaHQpCgkJCQkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgbWF0aC5jZWlsKCNidXR0b25zIC8gMikgKiAoYnV0dG9uSGVpZ2h0ICsgYnV0dG9uR2FwKSAtIGJ1dHRvbkdhcCkKCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBoZWlnaHQgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKSAuLiAiISIKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJidXR0b25nYXAiKSB0aGVuCgkJCQkJYnV0dG9uR2FwID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpCgkJCQkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIGJ1dHRvbkdhcCkKCQkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQoKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQnV0dG9uIGdhcCB3YXMgc2V0IHRvICIgLi4gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpIC4uICIhIgoJCQkJZWxzZWlmICgoc3RyaW5nLnN1Yih0ZXh0LCAxLCAzKSA9PSAocHJlZml4IC4uICJyZSIpKSBhbmQgKHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAicmVqb2luIikpKSBvciAoc3RyaW5nLnN1Yih0ZXh0LDEsMykgPT0gKHByZWZpeCAuLiAicmoiKSkgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZWpvaW5pbmcuLi4iCgkJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKTpUZWxlcG9ydChnYW1lLlBsYWNlSWQsIHBsYXllcikKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImF1cmEvb2ZmIikgdGhlbgoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpCgoJCQkJCWlmIGdldEhSUChwbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIikgdGhlbgoJCQkJCQlnZXRIUlAocGxheWVyLkNoYXJhY3Rlcik6RmluZEZpcnN0Q2hpbGQoIkF1cmFHUCIpOkRlc3Ryb3koKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQXVyYSBoYXMgYmVlbiByZW1vdmVkLiIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGRvZXMgbm90IGV4aXN0ISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDE0KSA9PSAocHJlZml4IC4uICJ0YXJnZXRzZXR0aW5nIikgdGhlbgoJCQkJCXRhcmdldFNldHRpbmcgPSBzdHJpbmcuc3ViKHRleHQsIDE2KQoKCQkJCQlyZXBlYXQKCQkJCQkJaWYgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBzZWxlY3QhIgoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gY2xvc2VzdCEiCgkJCQkJCQl3YWl0KDIpCgkJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiZmFydGhlc3QiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGZhcnRoZXN0ISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFJQKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBkaXN0YW5jZSA9IChnZXRIUlAodi5DaGFyYWN0ZXIpLlBvc2l0aW9uIC0gZ2V0SFJQKHBsYXllci5DaGFyYWN0ZXIpLlBvc2l0aW9uKS5NYWduaXR1ZGUKCgkJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAocGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQoKCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdGhlIHRhcmdldCBzZXR0aW5nIHRvIGxvd2hwISIKCQkJCQkJCXdhaXQoMikKCQkJCQkJCXdoaWxlIHRhcmdldFNldHRpbmcgPT0gImxvd2hwIiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBoaWdoaHAhIgoJCQkJCQkJd2FpdCgyKQoJCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiBkbwoJCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30KCgkJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8KCQkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKHBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IHBsYXllciB0aGVuCgkJCQkJCQkJCQlpZiBTbWFydEF0dGFjayB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbgoJCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aAoKCQkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWxvY2FsIGhlYWx0aCA9IGdldEhVTSh2LkNoYXJhY3RlcikuSGVhbHRoCgoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCgkJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgCgkJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpCgkJCQkJCQkJCQlyZXR1cm4gYVsyXSA+IGJbMl0KCQkJCQkJCQkJZW5kCgkJCQkJCQkJKQoKCQkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBwbGF5ZXIuTmFtZQoKCQkJCQkJCQlpZiB0YXJnZXQgfj0gcGxheWVyLk5hbWUgdGhlbgoJCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJCWVuZAoKCQkJCQkJCQl3YWl0KCkKCQkJCQkJCWVuZAoJCQkJCQktLVtbZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImNsaWNrIiB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU2V0IHRhcmdldCBzZXR0aW5nIHRvIGNsaWNrISIKCQkJCQkJCXdhaXQoMikJCQkJCQkJCgkJCQkJCQlpZiBub3QgKHRhcmdldCA9PSBwbGF5ZXIuTmFtZSkgdGhlbgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCQkJZW5kCgoJCQkJCQkJbG9jYWwgbWNvbgoJCQkJCQkJbG9jYWwgcG1vZAoJCQkJCQkJbWNvbiA9IG1vdXNlLkJ1dHRvbjFVcDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQkJCQltb3VzZS5UYXJnZXRGaWx0ZXIgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpWyJNYXAiXQoJCQkJCQkJCWlmIG1vdXNlLlRhcmdldCB+PSBuaWwgdGhlbgoJCQkJCQkJCQlwbW9kID0gbW91c2UuVGFyZ2V0OkZpbmRGaXJzdEFuY2VzdG9yT2ZDbGFzcygiTW9kZWwiKQoJCQkJCQkJCWVsc2UKCQkJCQkJCQkJcG1vZCA9IHsKCQkJCQkJCQkJCVsiTmFtZSJdID0gIk5BIgoJCQkJCQkJCQl9CgkJCQkJCQkJZW5kCgkJCQkJCQkJcHJpbnQocG1vZC5OYW1lKQoJCQkJCQkJCWlmIHBtb2QuTmFtZSB+PSAiTkEiIHRoZW4KCQkJCQkJCQkJZm9yIGksdiBpbiBwYWlycyhwbGF5ZXJzOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJCQkJCQlpZiB2Lk5hbWUgPT0gcG1vZC5OYW1lIHRoZW4KCQkJCQkJCQkJCQl0YXJnZXQgPSB2Lk5hbWUKCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQllbmQKCQkJCQkJCQllbmQKCQkJCQkJCQltY29uOkRpc2Nvbm5lY3QoKQoJCQkJCQkJZW5kKV1dCgkJCQkJCWVsc2UKCQkJCQkJCXRhcmdldFNldHRpbmcgPSAic2VsZWN0IgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgdGFyZ2V0IHNldHRpbmchIFNldHRpbmcgaGFzIGJlZW4gc2V0IHRvIHNlbGVjdC4gU2VlIGNvbnNvbGUgZm9yIG9wdGlvbnMuIgoJCQkJCQkJcHJpbnQoIlZhbGlkIHRhcmdldCBzZXR0aW5nIG9wdGlvbnM7IHNlbGVjdCwgY2xvc2VzdCwgZmFydGhlc3QsIGxvd2hwLCBoaWdoaHAsIGNsaWNrLiIpCgkJCQkJCWVuZAoJCQkJCXVudGlsIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCIKCgkJCQkJdGFyZ2V0ID0gcGxheWVyLk5hbWUKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gImxvb3AiKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGxvb3BpbmcgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlsb29waW5nID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0YXJ0ZWQgbG9vcGluZyBhdHRhY2tzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA5KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTG9vcGluZyBhdHRhY2tzIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJbG9vcGluZyA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3RvcHBlZCBsb29waW5nIGF0dGFja3MhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWxvb3BpbmcgPSBub3QgbG9vcGluZwoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBsb29waW5nID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgbG9vcGluZyBhdHRhY2tzICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoKCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCXdoaWxlIGxvb3BpbmcgZG8KCQkJCQkJCWV4cGxvaXQoKQoJCQkJCQkJd2FpdCgpCgkJCQkJCWVuZAoJCQkJCQlyZXR1cm4KCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJncmNoYXJnZSIpIHRoZW4KCQkJCQlHUkNoYXJnZSA9IHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTEpKQoJCQkJCXdhaXQoKQoJCQkJCWlmIEdSQ2hhcmdlID09IG5pbCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyIKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBjaGFyZ2UgdG8gIiAuLiBHUkNoYXJnZSAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gInNwZWVkIikgdGhlbgoJCQkJCVNldFNwZWVkID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCA4KSkKCQkJCQl3YWl0KCkKCQkJCQlpZiBTZXRTcGVlZCA9PSBuaWwgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIERpZCB5b3UgZW50ZXIgYW4gaW50ZWdlcj8iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHNldCB0aGUgc3BlZWQgdG8gIiAuLiBTZXRTcGVlZCAuLiAiISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEyKSA9PSAocHJlZml4IC4uICJzbWFydGF0dGFjayIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNCkgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTUpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb24hIgoJCQkJCQllbHNlCgkJCQkJCQlTbWFydEF0dGFjayA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJOb3cgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoImYiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNikgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIFNtYXJ0QXR0YWNrID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGb3JjZWZpZWxkIGRldGVjdGlvbiBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCVNtYXJ0QXR0YWNrID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdG9wcGVkIGRldGVjdGluZyBmb3JjZWZpZWxkcyEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJU21hcnRBdHRhY2sgPSBub3QgU21hcnRBdHRhY2sKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgU21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbgoJCQkJCQkJT25Pck9mZiA9ICJPZmYiCgkJCQkJCWVuZAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVG9nZ2xlZCBmb3JjZWZpZWxkIGRldGVjdGlvbiAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJnYW1lY29sb3IiKSB0aGVuCgkJCQkJaWYgbm90IGdhbWUuTGlnaHRpbmc6RmluZEZpcnN0Q2hpbGQoIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIpIHRoZW4KCQkJCQkJSW5zdGFuY2UubmV3KCJDb2xvckNvcnJlY3Rpb25FZmZlY3QiLCBnYW1lLkxpZ2h0aW5nKS5OYW1lID0gIkVCR0d1aUNvbG9yQ29ycmVjdGlvbiIKCQkJCQkJd2FpdCgpCgkJCQkJZW5kCgoJCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDE3KSA9PSAibm9ybWFsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gMAoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMAoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmV2ZXJ0aW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImdyYXlzY2FsZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTEKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkdyYXlzY2FsaW5nLi4uIgoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGh1ZSIgdGhlbgoJCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBodWUuLi4iCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0YWxsIiB0aGVuCgkJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTIKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBhbGwuLi4iCgkJCQkJZWxzZQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJsYWNrY2FzdCIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IHRydWUKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGVuYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4KCQkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVsc2UKCQkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZAoJCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9uIgoJCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgYmxhY2sgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISIKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInN0dW4iKSB0aGVuCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvbiEiCgkJCQkJCWVsc2UKCQkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZW5hYmxlZCEiCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJc3R1bkVuYWJsZWQgPSBmYWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCXN0dW5FbmFibGVkID0gbm90IHN0dW5FbmFibGVkCgkJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT24iCgkJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvCgkJCQkJCQkJY29ubmVjdGlvbjpEaXNhYmxlKCkKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8KCQkJCQkJCQljb25uZWN0aW9uOkVuYWJsZSgpCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIHN0dW4gKCIgLi4gT25Pck9mZiAuLiAiKSEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJkcnVncyIpIHRoZW4KCQkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgOSkgPT0gKCJvbiIpIHRoZW4KCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBlbmFibGVkISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuCgkJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJZWxzZQoJCQkJCQkJZHJ1Z3NFbmFibGVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZGlzYWJsZWQhIgoJCQkJCQllbmQKCQkJCQllbHNlCgkJCQkJCWRydWdzRW5hYmxlZCA9IG5vdCBkcnVnc0VuYWJsZWQKCQkJCQkJbG9jYWwgT25Pck9mZiA9ICJPbiIKCQkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCU9uT3JPZmYgPSAiT2ZmIgoJCQkJCQllbmQKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZHJ1ZyBtb2RlICgiIC4uIE9uT3JPZmYgLi4gIikhIgoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuCgkJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgMTMpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiAoYXJnc1sxXSA9PSAidCIpIG9yIChhcmdzWzFdID09ICJvbiIpIHRoZW4KCQkJCQkJaWYgKGNvbG9yMSB+PSBuaWwpIGFuZCAoY29sb3IyIH49IG5pbCkgYW5kIChjb2xvcjMgfj0gbmlsKSB0aGVuCgkJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IGZhbHNlIHRoZW4KCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgZW5hYmxlZCEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiWW91IG11c3QgaGF2ZSBjb2xvcnMgc2V0IHdpdGggdGhpcyBjb21tYW5kIGJlZm9yZSB0dXJuaW5nIGl0IGJhY2sgb24hIgoJCQkJCQllbmQKCQkJCQllbHNlaWYgKGFyZ3NbMV0gPT0gImYiKSBvciAoYXJnc1sxXSA9PSAib2ZmIikgdGhlbgoJCQkJCQlpZiBjb2xvcnNFbmFibGVkID09IHRydWUgdGhlbgoJCQkJCQkJY29sb3JzRW5hYmxlZCA9IGZhbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGRpc2FibGVkISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJYXJnc1sxXSA9IHRvbnVtYmVyKGFyZ3NbMV0pCgkJCQkJCWFyZ3NbMl0gPSB0b251bWJlcihhcmdzWzJdKQoJCQkJCQlhcmdzWzNdID0gdG9udW1iZXIoYXJnc1szXSkKCgkJCQkJCWlmIG5vdCBhcmdzWzNdIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcz8iCgkJCQkJCWVsc2UKCQkJCQkJCWlmIChhcmdzWzFdIH49IG5pbCkgYW5kIChhcmdzWzJdIH49IG5pbCkgYW5kIChhcmdzWzNdIH49IG5pbCkgdGhlbgoJCQkJCQkJCWxvY2FsIGV4ZWN1dGFibGUgPSB0cnVlCgoJCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbwoJCQkJCQkJCQlpZiAoYXJnc1tpXSA8IDApIG9yIChhcmdzW2ldID4gMjU1KSB0aGVuCgkJCQkJCQkJCQlleGVjdXRhYmxlID0gZmFsc2UKCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoKCQkJCQkJCQlpZiBleGVjdXRhYmxlID09IHRydWUgdGhlbgoJCQkJCQkJCQljb2xvcjEgPSBhcmdzWzFdCgkJCQkJCQkJCWNvbG9yMiA9IGFyZ3NbMl0KCQkJCQkJCQkJY29sb3IzID0gYXJnc1szXQoKCQkJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUKCQkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciB3YXMgc2V0IHRvICIgLi4gY29sb3IxIC4uICIsICIgLi4gY29sb3IyIC4uICIsIGFuZCAiIC4uIGNvbG9yMyAuLiAiISIKCQkJCQkJCQllbHNlCgkJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgVGhlIG51bWJlcnMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NSEiCgkJCQkJCQkJZW5kCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBQbGVhc2UgdXNlIG51bWJlcnMgdG8gc3BlY2lmeSBSLCBHLCBhbmQgQiB2YWx1ZXMuIgoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNykgPT0gKHByZWZpeCAuLiAiY29sb3JzIikgdGhlbgoJCQkJCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKGQpCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkgCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQlpZiBkLlBhcmVudCB+PSBuaWwgdGhlbgoJCQkJCQkJCQkJaWYgZHJ1Z3NFbmFibGVkIHRoZW4KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3IzLmZyb21SR0IobWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSwgbWF0aC5yYW5kb20oMCwgMjU1KSkKCQkJCQkJCQkJCQl3YWl0KChtYXRoLnJhbmRvbSgxLCA1KSkvMTApCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJaWYgbm90IHRhYmxlLmZpbmQoY29sb3JFeGNsdWRlLCBkLk5hbWUpIHRoZW4gCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihjb2xvcjEsIGNvbG9yMiwgY29sb3IzKQoJCQkJCQkJCQkJCQl3YWl0KCkKCQkJCQkJCQkJCQllbHNlIGJyZWFrIGVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJYnJlYWsKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCgkJCQkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkKCQkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbgoJCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvCgkJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuCgkJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQoJCQkJCQkJCQkJZW5kCgkJCQkJCQkJCWVuZAoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQllbmQpCgoJCQkJCQlzcGF3bihmdW5jdGlvbigpCgkJCQkJCQlwY2FsbChmdW5jdGlvbigpCgkJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkKCQkJCQkJCQkJd2hpbGUgdHJ1ZSBkbwoJCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4KCQkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbgoJCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7CgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLAoJCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkKCQkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuCgkJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sKCQkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksCgkJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQkJd2FpdCgpCgkJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCQlicmVhawoJCQkJCQkJCQkJCWVuZAoJCQkJCQkJCQkJZWxzZQoJCQkJCQkJCQkJCWJyZWFrCgkJCQkJCQkJCQllbmQKCQkJCQkJCQkJZW5kCgkJCQkJCQkJZW5kCgkJCQkJCQllbmQpCgkJCQkJCWVuZCkKCQkJCQllbmQpCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbgoJCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpCgkJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQoKCQkJCQlpZiBhcmdzWzFdIHRoZW4JCQkJCgkJCQkJCWlmICgjKGZpbmRQbGF5ZXIoYXJnc1sxXSkpID09IDEpIHRoZW4KCQkJCQkJCWxvY2FsIGhlYWxpbmdQbGF5ZXIgPSBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdCgkJCQkJCQlsb2NhbCBjaHIgPSBnYW1lLlBsYXllcnNbaGVhbGluZ1BsYXllcl0uQ2hhcmFjdGVyCgoJCQkJCQkJaWYgY2hyIHRoZW4KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiIKCQkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiKQoJCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pCgkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikKCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJCQkJCWlmIGNociA9PSBwbGF5ZXIuQ2hhcmFjdGVyIHRoZW4KCQkJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCJBbmdlbGljIEF1cmEiKQoJCQkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwiQW5nZWxpYyBBdXJhIikKCQkJCQkJCQllbmQKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gImVjaG9lcyIpIHRoZW4JCQkJCQoJCQkJCWlmIHN0cmluZy5maW5kKHRleHQsInBoYXNlIikgYW5kIG5vdCBzdHJpbmcuZmluZCh0ZXh0LCJhdXRvIikgdGhlbgoJCQkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgMTUpCgkJCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSA9PSBuaWwgdGhlbgoJCQkJCQkJaWYgKHBoYXNlID09ICJwb3ciKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAxCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbHNlaWYgKHBoYXNlID09ICJicm4iKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAyCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIEJSTiEiCgkJCQkJCQllbHNlaWYgKHBoYXNlID09ICJzdG4iKSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAzCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFNUTiEiCgkJCQkJCQllbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnk6IFBPVzsgQlJOOyBTVE4sIG9yIG51bWJlciAxLTMuIgoJCQkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIFBPVywgQlJOLCBTVE4sIG9yIG51bWJlciAxLTMsIGdvdCAiLi5waGFzZSkKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgdG9udW1iZXIocGhhc2UpIH49IG5pbCB0aGVuCgkJCQkJCQlpZiBtYXRoLmZsb29yKHRvbnVtYmVyKHBoYXNlKSkgPT0gMSB0aGVuCgkJCQkJCQkJRWNob2VzUGhhc2UgPSAxCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBjaGFuZ2VkIHRvIFBPVyEiCgkJCQkJCQllbHNlaWYgbWF0aC5mbG9vcih0b251bWJlcihwaGFzZSkpID09IDIgdGhlbgoJCQkJCQkJCUVjaG9lc1BoYXNlID0gMgoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFY2hvZXMgcGhhc2UgY2hhbmdlZCB0byBCUk4hIgoJCQkJCQkJZWxzZWlmIG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKSA9PSAzIHRoZW4KCQkJCQkJCQlFY2hvZXNQaGFzZSA9IDMKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIHBoYXNlIGNoYW5nZWQgdG8gUE9XISIKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQllbHNlaWYgc3RyaW5nLmZpbmQodGV4dCwiYXV0byIpIGFuZCBub3Qgc3RyaW5nLmZpbmQodGV4dCwicGhhc2UiKSB0aGVuCgkJCQkJCWxvY2FsIGJvb2wgPSBzdHJpbmcuc3ViKHRleHQsMTQpCgkJCQkJCWlmIChib29sID09ICJ0Iikgb3IgKGJvb2wgPT0gIm9uIikgdGhlbgoJCQkJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBhdXRvLXRhcmdldCBpcyBhbHJlYWR5IG9uISIKCQkJCQkJCWVsc2UKCQkJCQkJCQlFY2hvZXNBdXRvID0gdHJ1ZQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gRWNob2VzIGF1dG8tdGFyZ2V0ISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgKGJvb2wgPT0gImYiKSBvciAoYm9vbCA9PSAib2ZmIikgdGhlbgoJCQkJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJCQkJRWNob2VzQXV0byA9IGZhbHNlCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvZmYgRWNob2VzIGF1dG8tdGFyZ2V0ISIKCQkJCQkJCWVsc2UKCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRWNob2VzIGF1dG8tdGFyZ2V0IGlzIGFscmVhZHkgb2ZmISIKCQkJCQkJCWVuZAoJCQkJCQllbHNlaWYgYm9vbCA9PSAiIiB0aGVuCgkJCQkJCQlsb2NhbCBBdXRvCgkJCQkJCQlFY2hvZXNBdXRvID0gbm90IEVjaG9lc0F1dG8KCQkJCQkJCWlmIEVjaG9lc0F1dG8gdGhlbgoJCQkJCQkJCUF1dG8gPSAib24iCgkJCQkJCQllbHNlCgkJCQkJCQkJQXV0byA9ICJvZmYiCgkJCQkJCQllbmQKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIEVjaG9lcyBhdXRvLXRhcmdldCB0byAiLi5BdXRvLi4iISIKCQkJCQkJZWxzZQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnkgdC9mLCBvbi9vZmYuIgoJCQkJCQkJd2FybigiR290IGludmFsaWQgYXJndW1lbnQgYXQgcnVudGltZSEgRXhwZWN0ZWQgdC9mIG9yIG9uL29mZiwgZ290ICIuLmJvb2wpCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIFNwZWNpZnkgcGhhc2Ugb3IgYXV0by4iCgkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUhIEV4cGVjdGVkIHBoYXNlIG9yIGF1dG8sIGdvdCAiLi5zdHJpbmcuc3ViKHRleHQsOSkpCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCAxMCkgPT0gKHByZWZpeCAuLiAiY2hhbmdlbG9nIikgdGhlbgoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDb3BpZWQgdGhlIGNoYW5nZWxvZyB0byB5b3VyIGNsaXBib2FyZCEiCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkdVSSNjaGFuZ2Vsb2ciKQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgOCkgPT0gKHByZWZpeCAuLiAib3JpZ2luIikgdGhlbgoJCQkJCXhwY2FsbChmdW5jdGlvbigpCgkJCQkJCWxvY2FsIG9yaWdpbiA9IEluc3RhbmNlLm5ldygiUGFydCIpCgkJCQkJCW9yaWdpbi5BbmNob3JlZCA9IHRydWUKCQkJCQkJb3JpZ2luLlBhcmVudCA9IGdhbWUuV29ya3NwYWNlWyIuSWdub3JlIl1bIi5TZXJ2ZXJFZmZlY3RzIl0KCQkJCQkJb3JpZ2luLk5hbWUgPSAiT3JpZ2luIgoJCQkJCQlvcmlnaW4uTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24KCQkJCQkJb3JpZ2luLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldygiUmVhbGx5IHJlZCIpCgkJCQkJCW9yaWdpbi5TaXplID0gVmVjdG9yMy5uZXcoMC41LCAwLjUsIDAuNSkKCQkJCQkJb3JpZ2luLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKCQkJCQkJd2FybigiTWFkZSBhIGJsb2NrIGF0IHRoZSBvcmlnaW4hIikKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3MhIENoZWNrIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyIKCQkJCQllbmQsIGZ1bmN0aW9uKGUpCgkJCQkJCXByaW50KCJFbmNvdW50ZXJlZCBhbiBlcnJvciEgeHBjYWxsIHNheXM6IiwgZSkKCQkJCQkJd2FybigndHJhY2ViYWNrOicsIGRlYnVnLnRyYWNlYmFjaygpKQoJCQkJCWVuZCkKCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDYpID09IChwcmVmaXggLi4gImhlbHAiKSB0aGVuCgkJCQkJc2V0Y2xpcGJvYXJkKCJodHRwczovL2dpdGh1Yi5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9ibG9iL21haW4vRG9jcy5tZCIpCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRvY3VtZW50YXRpb24gY29waWVkIHRvIGNsaXBib2FyZCEiCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJpbmZvIikgdGhlbgoJCQkJCWxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRWFydGhUb0FjY2Vzcy9FQkd1aS9tYWluL2Jpbi9pbmZvLmx1YScpKSgpCgkJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3KSA9PSAic3RhdHVzIiB0aGVuCgkJCQkJCXByaW50KCJUaGUgY3VycmVudCBzdGF0dXMgb2YgRUJHdWkgaXMgIiAuLiBzdGF0dXMpCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkd1aSBTdGF0dXM6ICIgLi4gc3RhdHVzCgkJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgNykgPT0gInJlcG8iIG9yIHN0cmluZy5zdWIodGV4dCwgNykgPT0gImdpdGh1YiIgdGhlbgoJCQkJCQlwcmludCgiVGhlIEdpdEh1YiByZXBvc2l0b3J5IGxpbmsgaXMgIiAuLiByZXBvKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgaW5mbyEiCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJ1cGRhdGUiKSB0aGVuCgkJCQkJbG9hZHN0cmluZyhnYW1lOkh0dHBHZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9FYXJ0aFRvQWNjZXNzL0VCR3VpL21haW4vYmluL2luZm8ubHVhJykpKCkKCQkJCQlpZiB2ZXJOdW0gPT0gY3VycmVudCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJObyB1cGRhdGUgcmVxdWlyZWQhIgoJCQkJCWVsc2VpZiB2ZXJOdW0gPT0gbGFzdCB0aGVuCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJWZXJzaW9uIG91dGRhdGVkISBDdXJyZW50OiAiIC4uIGN1cnJlbnQKCQkJCQllbHNlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJicm8gdXIgb24gYSBkZXYgYnVpbGQgb3Igc20iCgkJCQkJZW5kCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LDEsNSkgPT0gKHByZWZpeC4uImRlc3AiKSB0aGVuCgkJCQkJbG9jYWwgYXJnID0gc3RyaW5nLnN1Yih0ZXh0LDcpCgkJCQkJbG9jYWwgZnVuY3Rpb24gcmVsb2FkRVNQKCkKCQkJCQkJaWYgRVNQSW5mby5TdGFuZGFyZC5FbmFibGVkIHRoZW4KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKHBsYXllcnM6R2V0UGxheWVycygpKSBkbwoJCQkJCQkJCXBjYWxsKFVubG9hZENoYXJhY3RlciwgdikKCQkJCQkJCQlwY2FsbChVbmxvYWRQbGF5ZXIsIHYpCgkJCQkJCQkJcGNhbGwoTG9hZFBsYXllciwgdikKCQkJCQkJCWVuZAoJCQkJCQllbmQKCQkJCQkJaWYgRVNQSW5mby5Hb2xkLkVuYWJsZWQgdGhlbgoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMocGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvCgkJCQkJCQkJcGNhbGwoR1VubG9hZENoYXJhY3RlciwgdikKCQkJCQkJCQlwY2FsbChHVW5sb2FkUGxheWVyLCB2KQoJCQkJCQkJCXBjYWxsKEdMb2FkUGxheWVyLCB2KQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVuZAoJCQkJCWxvY2FsIGZ1bmN0aW9uIGlzbnVtYmVyKG4pCgkJCQkJCXJldHVybiAodHlwZShuKSA9PSAibnVtYmVyIikgYW5kIChtYXRoLmZsb29yKG4pID09IG4pCgkJCQkJZW5kCgkJCQkJaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kICh0b251bWJlcihhcmcpID49IDEwMCBhbmQgdG9udW1iZXIoYXJnKSA8PSAxMDAwMDApIHRoZW4KCQkJCQkJRVNQSW5mby5NYXhEaXN0LlZhbHVlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsNykpCgkJCQkJCUVTUEluZm8uR29sZC5OYW1lVGFnLk1heERpc3RhbmNlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LDcpKQoJCQkJCQlyZWxvYWRFU1AoKQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU2V0IEVTUCBNYXggRGlzdGFuY2UgdG8gIiAuLiBhcmcKCQkJCQllbHNlaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIHRvbnVtYmVyKGFyZykgPD0gMTAgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiTnVtYmVyIHRvbyBsb3chIFRyeSBzb21ldGhpbmcgYmlnZ2VyLiIKCQkJCQllbHNlaWYgaXNudW1iZXIodG9udW1iZXIoYXJnKSkgYW5kIHRvbnVtYmVyKGFyZykgPj0gMTAwMDAwIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIldPQUggVEhBVCdTIEEgQklHIE5VTUJFUi4gVXNlIHNvbWV0aGluZyBzbWFsbGVyISIKCQkJCQllbHNlaWYgbm90IGlzbnVtYmVyKHRvbnVtYmVyKGFyZykpIGFuZCAoYXJnID09ICJ0IiBvciBhcmcgPT0gIm9uIikgdGhlbgoJCQkJCQlpZiBFU1BJbmZvLk1heERpc3QuRW5hYmxlZCB0aGVuCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRVNQIE1heCBEaXN0YW5jZSBpcyBhbHJlYWR5IG9uISIKCQkJCQkJZWxzZQoJCQkJCQkJRVNQSW5mby5NYXhEaXN0LkVuYWJsZWQgPSB0cnVlCgkJCQkJCQlFU1BJbmZvLlN0YW5kYXJkLk5hbWVUYWcuTWF4RGlzdGFuY2UgPSBFU1BJbmZvLk1heERpc3QuVmFsdWUKCQkJCQkJCUVTUEluZm8uR29sZC5OYW1lVGFnLk1heERpc3RhbmNlID0gRVNQSW5mby5NYXhEaXN0LlZhbHVlCgkJCQkJCQlyZWxvYWRFU1AoKQoJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlR1cm5lZCBvbiBFU1AgTWF4IERpc3RhbmNlISIKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIG5vdCBpc251bWJlcih0b251bWJlcihhcmcpKSBhbmQgKGFyZyA9PSAiZiIgb3IgYXJnID09ICJvZmYiKSB0aGVuCgkJCQkJCWlmIEVTUEluZm8uTWF4RGlzdC5FbmFibGVkIHRoZW4KCQkJCQkJCUVTUEluZm8uTWF4RGlzdC5FbmFibGVkID0gZmFsc2UKCQkJCQkJCUVTUEluZm8uU3RhbmRhcmQuTmFtZVRhZy5NYXhEaXN0YW5jZSA9IDAKCQkJCQkJCUVTUEluZm8uR29sZC5OYW1lVGFnLk1heERpc3RhbmNlID0gMAoJCQkJCQkJcmVsb2FkRVNQKCkKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIEVTUCBNYXggRGlzdGFuY2UhIgoJCQkJCQllbHNlCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRVNQIE1heCBEaXN0YW5jZSBpcyBhbHJlYWR5IG9mZiEiCgkJCQkJCWVuZAoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgYXJndW1lbnQhIERpZCB5b3Ugc3BlY2lmeSBhIG51bWJlcj8iCgkJCQkJCXdhcm4oIkdvdCBpbnZhbGlkIGFyZ3VtZW50IGF0IHJ1bnRpbWUuIEdvdCAiIC4uIGFyZyAuLiAiLCBleHBlY3RlZCBib29sZWFuIG9yIG51bWJlciIpCgkJCQkJZW5kCQkJCQkJCQkJCQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwxLDgpID09IChwcmVmaXggLi4gImFudGlhZmsiKSB0aGVuCQkJCQkKCQkJCQlsb2NhbCBzYyA9IDAKCQkJCQlsb2NhbCBkYgoJCQkJCWlmIEFudGlBZmsgdGhlbgoJCQkJCQlBbnRpQWZrID0gZmFsc2UKCQkJCQkJc2MgPSAwCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb2ZmIGFudGktYWZrISIKCQkJCQllbHNlCgkJCQkJCUFudGlBZmsgPSB0cnVlCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUdXJuZWQgb24gYW50aS1hZmshIgoJCQkJCQl3YWl0KDEuNSkKCQkJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0CgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCQkJZW5kCgkJCQkJCXJlcGVhdAoJCQkJCQkJcGxheWVyLklkbGVkOk9uY2UoZnVuY3Rpb24oKQoJCQkJCQkJCWdhbWU6R2V0U2VydmljZSgiVmlydHVhbFVzZXIiKTpDbGlja0J1dHRvbjIoVmVjdG9yMi5uZXcoVURpbTIubmV3KC41KSkpCgkJCQkJCQkJaWYgbm90IGRiIHRoZW4KCQkJCQkJCQkJc2MgPSBzYyArIDEKCQkJCQkJCQkJcHJpbnQoIlN0b3BwZWQgaWRsZSBkaXNjb25uZWN0ICIuLnNjLi4iIHRpbWVzLiIpCgkJCQkJCQkJCWRiID0gdHJ1ZQoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kKQoJCQkJCQkJZGIgPSBmYWxzZQoJCQkJCQkJd2FpdCgpCgkJCQkJCXVudGlsIEFudGlBZmsgPT0gZmFsc2UKCQkJCQllbmQKCQkJCWVsc2UKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb21tYW5kISBEaWQgeW91IHR5cGUgaXQgd3Jvbmc/IgoJCQkJCXdhcm4oIkdvdCBhbiBpbnZhbGlkIGNvbW1hbmQgYXQgcnVudGltZS4gQ29tbWFuZCByZWNlaXZlZCB3YXMgIi4udGV4dCkKCQkJCWVuZAoKCQkJCXdhaXQoMS41KQoJCQkJaWYgdGFyZ2V0IH49IHBsYXllci5OYW1lIHRoZW4KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldAoJCQkJZWxzZQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCQkJCWVuZAoJCQllbHNlCgkJCQlsb2NhbCBtYXRjaGVzID0gZmluZFBsYXllcih0ZXh0KQoKCQkJCWlmICNtYXRjaGVzID09IDEgdGhlbgoJCQkJCXRhcmdldCA9IG1hdGNoZXNbMV0KCQkJCQlpZiBtYXRjaGVzWzFdID09IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgkJCQkJCQoJCQkJCWVsc2UKCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiBtYXRjaGVzWzFdCgkJCQkJZW5kCgkJCQkJd2FpdCgxKQoJCQkJZWxzZQoJCQkJCXRhcmdldCA9IHBsYXllci5OYW1lCgkJCQkJd2FybigiVGFyZ2V0IG5vdCBmb3VuZCEgRG8gbXVsdGlwbGUgcGxheWVycyBoYXZlIHRoYXQgc2FtZSBzdWJzdHJpbmcgaW4gdGhlaXIgbmFtZXM/IikKCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBUYXJnZXQhIFR5cGUgdGhlaXIgbmFtZSBhZ2Fpbi4iCgkJCQkJd2FpdCgxLjUpCgkJCQkJaWYgdGFyZ2V0ID09IHBsYXllci5OYW1lIHRoZW4KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgoJCQkJCWVuZAoJCQkJZW5kCgkJCWVuZAoJCWVuZAoKCQlwbGF5ZXJzLlBsYXllclJlbW92aW5nOmNvbm5lY3QoZnVuY3Rpb24ocGxheWVyKQoJCQlpZiB0YXJnZXQgPT0gcGxheWVyLk5hbWUgdGhlbgoJCQkJdGFyZ2V0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUKCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChUYXJnZXQgbGVmdCEpIgoJCQllbmQKCQllbmQpCgoJCWNvbW1hbmRCb3guRm9jdXNMb3N0OkNvbm5lY3QoZnVuY3Rpb24oZW50ZXJQcmVzc2VkKQoJCQlpZiBlbnRlclByZXNzZWQgdGhlbgoJCQkJaWYgY29tbWFuZEJveC5UZXh0IH49ICIiIHRoZW4KCQkJCQlpbnB1dEJveCgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoKCQljb3JvdXRpbmUucmVzdW1lKGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQoJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAobWF0aC5jZWlsKCNidXR0b25zICogMzcpIC8gMikgLSA3KQoJCWVuZCkpCgoJCS0tIEV4cGxvaXRzCgoJCWxvY2FsIGZ1bmN0aW9uIGZmKCkKCQkJaWYgU21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuCgkJCQlpZiBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuCgkJCQkJcmV0dXJuIHRydWUKCQkJCWVsc2UKCQkJCQlyZXR1cm4gZmFsc2UKCQkJCWVuZAoJCQllbHNlCgkJCQlyZXR1cm4gZmFsc2UKCQkJZW5kCgkJZW5kCgoJCWZ1bmN0aW9uIGV4cGxvaXQoKQoJCQktLSBFeHBsb2l0IGZ1bmN0aW9uLiBXaGVuIEMgaXMgcHJlc3NlZCBhbmQgb25lIG9mIHRoZXNlIGFyZSAidHJ1ZSIsIGl0IHdpbGwgZmlyZSBpdC4KCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyCgkJCWxvY2FsIERDTSA9IFJTUi5Eb0NsaWVudE1hZ2ljCgkJCWxvY2FsIERNID0gUlNSLkRvTWFnaWMKCgkJCWlmIG12dGcuQW9Fcy5DaGFvcy5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQ2hhb3MiLCJTcGFjZS1UaW1lIFJ1cHR1cmUiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiQ2hhb3MiLAoJCQkJCVsyXSA9ICJTcGFjZS1UaW1lIFJ1cHR1cmUiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJPcmlnaW4iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCw1LDApCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJsYXN0cy5TdG9ybS5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU3Rvcm0iLCJMaWdodG5pbmcgQm9sdCIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTdG9ybSIsCgkJCQkJWzJdID0gIkxpZ2h0bmluZyBCb2x0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiT3JpZ2luIl0gPSBtb3VzZS5IaXQucCArIFZlY3RvcjMubmV3KDAsMTUsMCkKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5Tb2xhci5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiU29sYXIiLCJVbm1hdGNoZWQgUG93ZXIgb2YgdGhlIFN1biIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTb2xhciIsCgkJCQkJWzJdID0gIlVubWF0Y2hlZCBQb3dlciBvZiB0aGUgU3VuIiwKCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMjUwLDApKQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlRlbGVwb3J0cy5UZWNobm9sb2d5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwiTGlnaHQgRGlzYyIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwKCQkJCQlbMl0gPSAiTGlnaHQgRGlzYyIsCgkJCQkJWzNdID0gewoJCQkJCQlbIlBvc2l0aW9uIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJUlNSLlJlbW90ZUV2ZW50OkZpcmVTZXJ2ZXIoIkxpZ2h0RGlzYzIiKQoJCQkJd2FpdCgyKQoJCQkJUlNSLlJlbW90ZUV2ZW50OkZpcmVTZXJ2ZXIoIkxpZ2h0RGlzY0RlbGV0ZSIpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuRXhwbG9zaW9uLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJFeHBsb3Npb24iLCAiRXhwbG9zaXZlIExlYXAiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiRXhwbG9zaW9uIiwKCQkJCQlbMl0gPSAiRXhwbG9zaXZlIExlYXAiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJMYXN0UG9zIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbgoJCQkJCX0KCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNvbGFyLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb2xhciIsICJEeWluZyBTdGFyIikKCQkJCURNOkludm9rZVNlcnZlcigiU29sYXIiLCAiRHlpbmcgU3RhciIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLlRlbGVwb3J0cy5FYXJ0aC5WYWx1ZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRWFydGgiLCAiUm9jayBGaXN0IikKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIkVhcnRoIiwKCQkJCQlbMl0gPSAiUm9jayBGaXN0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsiR3JvdW5kZWQiXSA9IHRydWUKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5MaWdodC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTGlnaHQiLCJPcmJzIG9mIEVubGlnaHRlbm1lbnQiKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiTGlnaHQiLAoJCQkJCVsyXSA9ICJPcmJzIG9mIEVubGlnaHRlbm1lbnQiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJDb29yZGluYXRlcyJdID0gewoJCQkJCQkJWzFdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzNdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzRdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzVdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzZdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzddID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzhdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzldID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzEwXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxMV0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzEzXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxNF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMTVdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE2XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsxN10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCksCgkJCQkJCQlbMThdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCw1LDApLAoJCQkJCQkJWzE5XSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsNSwwKSwKCQkJCQkJCVsyMF0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLDUsMCkKCQkJCQkJfSwKCQkJCQkJWyJPcmlnaW4iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuUmVhcGVyLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJSZWFwZXIiLCAiUmVhcGVyJ3MgUmFnZSIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJSZWFwZXIiLAoJCQkJCVsyXSA9ICJSZWFwZXIncyBSYWdlIiwKCQkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAkJCgoJCQlpZiBtdnRnLkFvRXMuQ3JlYXRpb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNyZWF0aW9uIiwgIkNvbnRpbnVvdXMgU3RyaWtlcyIpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJDcmVhdGlvbiIsCgkJCQkJWzJdID0gIkNvbnRpbnVvdXMgU3RyaWtlcyIsCgkJCQkJWzNdID0gewoJCQkJCQlbIkNGIl0gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsCgkJCQkJCVsiQ2hhcmdlIl0gPSAiMiIKCQkJCQl9CgkJCQl9CgkJCQlETTpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQllbmQKCgkJCWlmIG12dGcuQnVsbGV0cy5UZWNobm9sb2d5LlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUZWNobm9sb2d5IiwgIkh5cGVyYW5nIikKCQkJCURNOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJIeXBlcmFuZyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuRGFya25lc3MuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkRhcmtuZXNzIiwgIk11cmt5IE1pc3NpbGVzIikKCQkJCURNOkludm9rZVNlcnZlcigiRGFya25lc3MiLCAiTXVya3kgTWlzc2lsZXMiLCB7bGFzdE1vdXNlUG9zaXRpb24gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLlN0b3JtLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTdG9ybSIsICJMaWdodG5pbmcgRGlzcGVyc2lvbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlN0b3JtIiwgIkxpZ2h0bmluZyBEaXNwZXJzaW9uIiwge0dyb3VuZGVkID0gdHJ1ZX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuU29sYXIuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNvbGFyIiwiRG91YmxlIFJheSIpCQkJCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTb2xhciIsCgkJCQkJWzJdID0gIkRvdWJsZSBSYXkiLAoJCQkJCVszXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQoJCQkJfQkJCQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuU3Rvcm0uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3Rvcm0iLAoJCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIKCQkJCX0JCQkKCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkJCQkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlN0b3JtIiwKCQkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiLAoJCQkJCVszXSA9IHsKCQkJCQkJWyJEaXJlY3Rpb24iXSA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5BbmdsZXMobWF0aC5yYWQoOTApLCAwLCAwKQoJCQkJCX0KCQkJCX0JCQkKCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CbGFzdHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwKCQkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiCgkJCQl9CgkJCQlEQ006RmlyZVNlcnZlcih1bnBhY2soYXJncykpCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwKCQkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiLAoJCQkJCVszXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLDUwMCwwKSkKCQkJCX0KCQkJCURNOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5CdWxsZXRzLlNwaXJpdC5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlsb2NhbCBhcmdzID0gewoJCQkJCVsxXSA9ICJTcGlyaXQiLAoJCQkJCVsyXSA9ICJWaWdvciBHeXJhdGlvbiIKCQkJCX0KCQkJCURDTTpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJCWxvY2FsIGFyZ3MgPSB7CgkJCQkJWzFdID0gIlNwaXJpdCIsCgkJCQkJWzJdID0gIlZpZ29yIEd5cmF0aW9uIiwKCQkJCQlbM10gPSB7CgkJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJ1bGxldHMuU3BhY2UuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IgoJCQkJfQoJCQkJRENNOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQoJCQkJbG9jYWwgYXJncyA9IHsKCQkJCQlbMV0gPSAiU3BhY2UiLAoJCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IiwKCQkJCQlbM10gPSB7CgkJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpLAoJCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsNSwwKSksCgkJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCw1LDApKSwKCQkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLDUsMCkpCgkJCQkJfQoJCQkJfQoJCQkJRE06SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuRmlyZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkZpcmUiLCAiQmxhemUgQ29sdW1uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLk5hdHVyZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkKCQkJCURNOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5QbGFzbWEuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgVmVjdG9yMy5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQkJRE06SW52b2tlU2VydmVyKCJQbGFzbWEiLCAiUGxhc21hIEltcGxvc2lvbiIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQoJCQllbmQKCgkJCWlmIFNsaW1lQnVkZGllc0VuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNsaW1lIEJ1ZGRpZXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJTbGltZSIsICJTbGltZSBCdWRkaWVzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIENyeXN0YWxBcm1hbWVudEVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiQ3J5c3RhbCBBcm1hbWVudCIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YWwgR2xvYmUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIiwge2xhc3RQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiArIFZlY3RvcjMubmV3KDAsIDE1LCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkdyYXZpdHkuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkdyYXZpdHkiLCAiR3Jhdml0YXRpb25hbCBGaWVsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDE1LCAwKSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuTGlnaHQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50IikKCQkJCURNOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuTGlnaHQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFibGF6ZSBKdWRnZW1lbnQiKQoJCQkJRE06SW52b2tlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50Iiwge09yaWdpbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uIC0gVmVjdG9yMy5uZXcoMCwgMjUsIDApLCBvcmJQb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDEwLCAwKX0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLlZvaWQuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlZvaWQiLCAiVm9pZCBPcGVuaW5nIikKCQkJCURNOkludm9rZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciLCB7cG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxNTAsIDApfSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuTmlnaHRtYXJlLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJOaWdodG1hcmUiLCAiU2tlbGV0b24gR3JhYiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQoJCQllbmQKCgkJCWlmIG12dGcuQW9Fcy5UaW1lLlZhbHVlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5IiwgcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQkJRE06SW52b2tlU2VydmVyKCJUaW1lIiwgIkdlbmVzaXMgUmF5Iiwge2x2ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIGNoYXJnZSA9IEdSQ2hhcmdlfSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuVGltZS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikKCQkJCURNOkludm9rZVNlcnZlcigiVGltZSIsICJUaGUgV29ybGQiLCB7cmhpdCA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LCBub3JtID0gVmVjdG9yMy5uZXcoMCwgMCwgMCksIHJwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbn0pCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkF1cm9yYS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiQXVyb3JhIiwgIlBvbGFyaXMiKQoJCQkJRE06SW52b2tlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkJsYXN0cy5Tb3VuZC5WYWx1ZSBhbmQgRWNob2VzUGhhc2Ugfj0gbmlsIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiKQoJCQkJaWYgRWNob2VzQXV0byB0aGVuCgkJCQkJRE06SW52b2tlU2VydmVyKCJTb3VuZCIsICJFY2hvZXMiLCB7RWNob2VzUGhhc2UsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkKCQkJCWVsc2UKCQkJCQlETTpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgbW91c2UuSGl0LnB9KQoJCQkJZW5kCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLkV4cGxvc2lvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQoJCQkJRE06SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuSWxsdXNpb24uVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIikKCQkJCURNOkludm9rZVNlcnZlcigiSWxsdXNpb24iLCAiSWxsdXNpdmUgQXRha2UiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5VbHRzLklsbHVzaW9uLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCURDTTpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iKQoJCQkJRE06SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpCgkJCWVuZAoKCQkJaWYgbXZ0Zy5Bb0VzLkRyYWdvbi5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiRHJhZ29uIiwgIkZvcm1pZGFibGUgUm9hciIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lLCAxNzV9KQoJCQllbmQKCgkJCWlmIG12dGcuVWx0cy5BY2lkLlZhbHVlIGFuZCBmZigpID09IGZhbHNlIHRoZW4KCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJCURDTTpGaXJlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIikKCQkJCURNOkludm9rZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIsIHtEaXJlY3Rpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIEZsb29yID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lfSkKCQkJCXdhaXQoMTcuNSkKCQkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbgoJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlCgkJCQllbmQKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuQW5nZWwuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIkFuZ2VsIiwgIkFyY2FuZSBHdWFyZGlhbiIsIHtQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgNTAsIDApfSkKCQkJZW5kCgoJCQlpZiBtdnRnLkFvRXMuU2xpbWUuVmFsdWUgYW5kIGZmKCkgPT0gZmFsc2UgdGhlbgoJCQkJRENNOkZpcmVTZXJ2ZXIoIlNsaW1lIiwgIlNwbGl0dGluZyBTbGltZSIpCgkJCQlETTpJbnZva2VTZXJ2ZXIoIlNsaW1lIiwgIlNwbGl0dGluZyBTbGltZSIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAtIFZlY3RvcjMubmV3KDAsIDIwLCAwKSkKCQkJZW5kCgoJCQlpZiBtdnRnLlVsdHMuVGVjaG5vbG9neS5WYWx1ZSBhbmQgZmYoKSA9PSBmYWxzZSB0aGVuCgkJCQlEQ006RmlyZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiKQoJCQkJRE06SW52b2tlU2VydmVyKCJUZWNobm9sb2d5IiwgIlZpcnR1YWwgWm9uZSIsIHt0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiwgVmVjdG9yMy5uZXcoMCwgMCwgMCl9KQoJCQllbmQKCQllbmQKCgkJLS1bW2xvY2FsIGZ1bmN0aW9uIEJlZ2luVHJhY2tpbmcoKQoJCQlsb2NhbCBjID0gZ2FtZTpHZXRTZXJ2aWNlKCJXb3Jrc3BhY2UiKS5DdXJyZW50Q2FtZXJhCgkJCWxvY2FsIGhiID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuSGVhcnRiZWF0CgkJCWxvY2FsIG0gPSBwbGF5ZXI6R2V0TW91c2UoKQoJCQlsb2NhbCBwID0gYzpXb3JsZFRvU2NyZWVuUG9pbnQocGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQoJCQloYjpjb25uZWN0KGZ1bmN0aW9uKHN0ZXApCgkJCQltb3VzZW1vdmVhYnMocC5YLCAocC5ZICsgMjUpKQoJCQllbmQpCgkJZW5kXV0gLS0gRm9yIEFpbWJvdCwgY3VycmVudGx5IHVuZGVyIGRldmVsb3BtZW50CgoJCS0tIFVJUwoKCQlsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQoJCWxvY2FsIHRlcm1pbmF0ZXVpcyA9IGZhbHNlCgkJbG9jYWwgY29ubmVjdGlvbgoKCQljb25uZWN0aW9uID0gVUlTLklucHV0QmVnYW46Y29ubmVjdChmdW5jdGlvbihpbnB1dCwgZ3ApCgkJCWlmIG5vdCB0ZXJtaW5hdGV1aXMgdGhlbgoJCQkJaWYgbm90IGdwIHRoZW4KCQkJCQlsb2NhbCB0YXJnZXRDaHIgPSBnYW1lLlBsYXllcnNbdGFyZ2V0XS5DaGFyYWN0ZXIKCgkJCQkJaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWmVybyB0aGVuCgkJCQkJCWNvbW1hbmRCb3g6Q2FwdHVyZUZvY3VzKCkKCQkJCQkJd2FpdCgpCgkJCQkJCWlmIHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCksIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSkgPT0gIjAiIHRoZW4KCQkJCQkJCWNvbW1hbmRCb3guVGV4dCA9IHN0cmluZy5zdWIoY29tbWFuZEJveC5UZXh0LCAxLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkgLSAxKQoJCQkJCQllbmQKCQkJCQktLVtbZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkwgdGhlbgoJCQkJCQl0b2dnbGVBaW1ib3QoKV1dCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkMgdGhlbgoJCQkJCQlleHBsb2l0KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuVSB0aGVuCgkJCQkJCVRQVG9UYXJnZXQoKQoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5LIHRoZW4KCQkJCQkJQW50aUJsaW5kRnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlQgdGhlbgoJCQkJCQliZWdpblNwZWVkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWCB0aGVuCgkJCQkJCWlmIG12dGcuTWlzYy5JbnZpcy5WYWx1ZSA9PSB0cnVlIHRoZW4KCQkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikKCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQoJCQkJCQllbmQKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUCB0aGVuCgkJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbgoJCQkJCQkJaWYgZ2FtZS5QbGFjZUlkID09IDU2NjM5OTI0NCBvciBnYW1lLlBsYWNlSWQgPT0gMjU2OTYyNTgwOSB0aGVuCgkJCQkJCQkJbG9jYWwgU2Fuc1BvcyA9IENGcmFtZS5uZXcoLTE2ODUuOTEwNTIsIDIzMC4wMzUxMjYsIC0xODEuNzk4MjY0KQoJCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkKCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSA9IFNhbnNQb3MgKiBTYW5zQW5nbGVzCgkJCQkJCQkJcGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZDpDaGFuZ2VTdGF0ZShFbnVtLkh1bWFub2lkU3RhdGVUeXBlLkNsaW1iaW5nKQoJCQkJCQkJCXdhaXQoKQoJCQkJCQkJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IHRydWUKCQkJCQkJCQl3YWl0KDEpCgkJCQkJCQkJaWYgbm90IEZyZWV6ZUVuYWJsZWQgdGhlbgoJCQkJCQkJCQlwbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQoJCQkJCQkJCWVuZAoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5aIHRoZW4KCQkJCQkJYmVnaW5OdWxsaWZ5Rm9yY2VzKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuRyB0aGVuCgkJCQkJCUFudGlHcmF2aXR5RnVuYygpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkogdGhlbgoJCQkJCQlpZiBDbGlja1RQRW5hYmxlZCB0aGVuCgkJCQkJCQljbGlja3RwKG1vdXNlLkhpdCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkYgdGhlbgoJCQkJCQlGcmVlemVGdW5jKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQmFja3F1b3RlIHRoZW4KCQkJCQkJaWYgbXZ0Zy5UZWxlcG9ydHMuU3Rvcm0uVmFsdWUgdGhlbgoJCQkJCQkJbG9uZ2ZsYXNoKCkKCQkJCQkJZW5kCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlYgdGhlbgoJCQkJCQl2aWV3KCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuQiB0aGVuCgkJCQkJCXRvZ2dsZUVTUCgpCgkJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLk0gdGhlbgoJCQkJCQl0b2dnbGVFU1BHb2xkKCkKCQkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbgoJCQkJCQlpZiBub3QgY2xvc2VkZm9yZXZlciB0aGVuCgkJCQkJCQlpZiBub3QgYnV0dG9uc2RlYm91bmNlIHRoZW4KCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlCgkJCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSBmYWxzZSB0aGVuCgkJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlCgkJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJCQkJCQkJCQkiT3V0IiwKCQkJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkJCS41LAoJCQkJCQkJCQkJdHJ1ZQoJCQkJCQkJCQkpCgkJCQkJCQkJZWxzZQoJCQkJCQkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UKCQkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigKCQkJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwKCQkJCQkJCQkJCSJJbiIsCgkJCQkJCQkJCQkiU2luZSIsCgkJCQkJCQkJCQkuNSwKCQkJCQkJCQkJCXRydWUKCQkJCQkJCQkJKQoJCQkJCQkJCWVuZAoJCQkJCQkJCXdhaXQoMSkKCQkJCQkJCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQoJCQkJCQkJZW5kCgkJCQkJCWVuZAoJCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5SaWdodEJyYWNrZXQgdGhlbgoJCQkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlCgkJCQkJCWlmIGNvbW1hbmRzb3BlbmVkID09IGZhbHNlIHRoZW4KCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQoJCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oCgkJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLAoJCQkJCQkJCSJPdXQiLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVsc2UKCQkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UKCQkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKAoJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwKCQkJCQkJCQkiSW4iLAoJCQkJCQkJCSJTaW5lIiwKCQkJCQkJCQkuNSwKCQkJCQkJCQl0cnVlCgkJCQkJCQkpCgkJCQkJCWVuZAoJCQkJCQl3YWl0KDEpCgkJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlCgkJCQkJZWxzZWlmIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLkxlZnQpIGFuZCBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5SaWdodCkgdGhlbgoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiVGhhbmtzIGZvciB1c2luZyBFQkd1aSEiCgkJCQkJCXdhaXQoMikKCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSB0cnVlIHRoZW4KCQkJCQkJCXRlcm1pbmF0ZXVpcyA9IHRydWUKCQkJCQkJCXRlcm1FQkd1aSgpCgkJCQkJCQljb25uZWN0aW9uOkRpc2Nvbm5lY3QoKQoJCQkJCQllbmQKCQkJCQllbmQKCQkJCWVuZAoJCQllbmQKCQllbmQpCgoJCS0tIFNjcmlwdHMgYW5kIEZ1bmN0aW9ucyBFTkQKCgkJLS0gRW50cmFuY2UgQW5pbWF0aW9uCgoJCXdhaXQoMC41KQoKCQlidXR0b25zbWFpbjpUd2VlblBvc2l0aW9uKAoJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksCgkJCSJPdXQiLAoJCQkiU2luZSIsCgkJCS41LAoJCQl0cnVlCgkJKQoKCQljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigKCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLAoJCQkiT3V0IiwKCQkJIlNpbmUiLAoJCQkuNSwKCQkJdHJ1ZQoJCSkKCgkJLS0gSW5mbwoKCQlwcmludChbWwoKCQldXSkKCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiV2VsY29tZSB0byBFQkd1aSEiCgkJd2FpdCgyKQoJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSIKCWVuZCwgZnVuY3Rpb24oZSkKCQlsb2NhbCBjcmFzaCA9IHsKCQkJIkknbSBzbywgc28sIHNvIHNvIFNPIHNvcnJ5ISIsCgkJCSJXYXRlciBjb29saW5nPyBJIHByZWZlciBsYXZhIGNvb2xpbmcuIiwKCQkJIllvdXIgRUJHdWkgcmFuIGludG8gYSBwcm9ibGVtIGFuZCBuZWVkcyB0byByZXN0YXJ0LiIsCgkJCSJTVE9QIENvZGU6IDB4REVBREJFRUYiLAoJCQkiSXMgdGhpcyB3aGF0IGRldmVsb3BtZW50IGlzIGxpa2U/IEkgaGF0ZSBpdC4iLAoJCQkiVGhlIFVuc3RvcHBhYmxlIE1hcmNoaW5nIG9GIHRpTWUgdGhhdCBpcyBzbE93bHkgZ3VpZGluZyB1cyBhbGwgdE93YXJkcyBhbiBJbmV2aXRhQmxFIERFQVRILiBUaGF0IHNwZWxscyBcIlR1bSBGTS4gT3dPIE8sIEkgYmUgZGVhdGguXCIiLAoJCQkiSSBndWVzcyB5b3UgY291bGQgY2FsbCBtZSBhbiBcIk9vZXJcIi4iLAoJCQkiRXJyb3IgTWVzc2FnZSEiLAoJCQkiV2hvb3BzLCB3ZSdyZSBsb3cgb24gbWVtb3J5ISBUcnkgcmVtZW1iZXJpbmcgbGF0ZXIuIiwKCQkJIldob29wcywgd2UncmUgbG93IG9uIG1lbWVvcnkuIFRyeSBzZW5kaW5nIFBlcGVzIGxhdGVyLiIsCgkJCSJPa2F5LCB3aG8ga2lsbGVkIHRoZSBjb21wdXRlciBoYW1zdGVycz8iLAoJCQkiQ2FuJ3Qga2VlcCB1cCEgSXMgdGhlIHNjcmlwdCBvdmVybG9hZGVkLCBvciBoYXZlIHlvdSBtZWx0ZWQgeW91ciBDUFU/IiwKCQkJIk9oLCBjb25ncmF0dWxhdGlvbnMsICIgLi4gcGxheWVyLk5hbWUgLi4gIiwgeW91IGJyb2tlIGl0ISIsCgkJCSJJIHN3ZWFyIHRoYXQgd2FzIGludGVudGlvbmFsLiIsCgkJCSJJIHByb21pc2UgaXQgd29uJ3QgaGFwcGVuIGFnYWluLiIsCgkJCSJPa2F5LCBnb25uYSBiZSByZWFsLCBOTyBDTFVFIHdoYXQgd2VudCB3cm9uZyB0aGVyZS4iLAoJCQkiT2gsIG5vLCBuZXZlcm1pbmQsIEkga25vdyBleGFjdGx5IHdoYXQgd2VudCB3cm9uZy4iLAoJCQkiQSBwcmllc3QsIGEgbWluaXN0ZXIsIGFuZCBhIHJhYmJpdCB3YWxrIGludG8gYSBibG9vZCBiYW5rLiIsCgkJCSJUaGUgbnVyc2Ugb24gZHV0eSBhc2tzIHRoZSB0aHJlZSBmb3IgdGhlaXIgYmxvb2QgdHlwZSBncm91cCB0byBnZXQgdGhlbSBzZXQgdXAuIiwKCQkJIlRoZSBwcmllc3QsIGRpZ25pZmllZCwgc2F5cyBcIkknbSBBQiFcIi4iLAoJCQkiVGhlIG1pbmlzdGVyLCBpbmRpZmZlcmVudCwgcmVwbGllcyBcIkkgYmVsaWV2ZSBJJ20gdHlwZSBBLlwiIiwKCQkJIlRoZSByYWJiaXQsIHNoeWx5IGFuZCBuZXJ2b3VzbHksIGxvb2tzIGFyb3VuZCB0aGUgcm9vbSwgYmVmb3JlIGFubm91bmNpbmcsIFwiSSB0aGluayBJIG1pZ2h0IGJlIGEgdHlwZSBPLlwiLiIsCgkJCSJIZXksIHJlbWVtYmVyIHRoYXQgdGltZSB5b3UgKmRpZG4ndCogYnJlYWsgZXZlcnl0aGluZz8gTWUgbmVpdGhlci4iLAoJCQkiT29wcywgbXkgYmFkLiIsCgkJCSJNYXliZSBpZiB5b3UgYm91Z2h0IEdvbGQgdGhpcyB3b3VsZG4ndCBoYXZlIGhhcHBlbmVkLiIsCgkJCSJRdWljaywgdG8gdGhlIERpc2NvcmQhIiwKCQkJIk5vdyB3b3VsZCBiZSBhIGZhbnRhc3RpYyB0aW1lIHRvIGdvIG9wZW4gYSB0aWNrZXQuLi4iLAoJCQkiVGhpcyBpcyB3aGF0IEkgZ2V0PyBJIGRvIGFsbCBvZiB0aGlzIGZvciB5b3UsIGFuZCB5b3Uga2lsbCBtZT8iLAoJCQkiV2hvIHRoZSBoZWxsIHNhaWQgXCJvbWFlIHdhIG1vdSBzaGluZGVydVwiIGF0IG1lPyEiLAoJCQkiWW91J3JlIGx1Y2t5IHRoaXMgaXMgUm9ibG94IG9yIEknZCBoYXZlIHNvbWUgY2hvaWNlIHdvcmRzIGZvciB5b3UuIiwKCQkJIkRpZCB0aGF0IHJlYWxseSBqdXN0IGhhcHBlbj8hIiwKCQkJIkdvZCwgSSdtIHNvIHNvcnJ5LCBJIHByb21pc2UgSSdsbCBkbyBiZXR0ZXIuIiwKCQkJIlRoaXMgaXMgdXN1YWxseSB0aGUgcGFydCB3aGVyZS0gb2gsIHRoZXJlJ3MgdGhhdCBjcmFzaCBkdW1wLiIsCgkJCSJVbmZvcnR1bmF0ZWx5LCBpdCBhcHBlYXJzIEkndmUgZHJvcHBlZCBpdC4iLAoJCQkiV2UncmUgY3VycmVudGx5IGV4cGVyaWVuY2luZyB0ZWNobmljYWwgZGlmZmljdWx0aWVzLiBQbGVhc2Ugc3RhbmQgYnkuIiwKCQkJIlRvbmlnaHQsIHdlIGFyZSB1bmFibGUgdG8gYnJpbmcgeW91IEJpbmdvIE5pZ2h0IExpdmUuIiwKCQkJIllha25vdywgaWYgdGhpcyB3ZXJlIGEgQkJDIHRlbGV2aXNpb24gYnJvYWRjYXN0LCB0aGlzIGlzc3VlIG1pZ2h0IHNlZW0gbm9ybWFsLiIsCgkJCSJJdCdzIGp1c3Qgb25lIG9mIHRob3NlIGRheXMsIGlzbid0IGl0PyIsCgkJCSJKdXN0IHdoYWNrIHRoZSBzaWRlIGEgY291cGxlIHRpbWVzLCB0aGF0IHNob3VsZCBkbyBpdC4iLAoJCQkiT24gdGhlIGZpcnN0IGRheSBvZiBDaHJpc3RtYXMsIG15IHRydWUgbG92ZSBnYXZlIHRvIG1lLi4uIiwKCQl9CgoJCXByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQoJCXByaW50KGNyYXNoW21hdGgucmFuZG9tKDEsI2NyYXNoKV0pCgkJcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpCgkJd2FybigiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCBFQkd1aSEiKQoJCXByaW50KGUpCgkJcHJpbnQoIlRoaXMgY3Jhc2ggcmVwb3J0IHdhcyBnZW5lcmF0ZWQgb24gIiAuLiBvcy5kYXRlKCcleCAlWCcsb3MudGltZSgpKSAuLiAiIGFuZCB3aWxsIGJlIHNhdmVkIGluIHlvdXIgZXhlY3V0b3IncyBXb3Jrc3BhY2UgZm9sZGVyLiIpCgoJCWxvY2FsIHVmID0gb3MuZGF0ZSgiJXhfJVgiLG9zLnRpbWUoKSkKCQlsb2NhbCBkZiA9IHN0cmluZy5nc3ViKHVmLCIvIiwiLSIpCgkJbG9jYWwgZHRmID0gc3RyaW5nLmdzdWIoZGYsIjoiLCItIikKCQlsb2NhbCBleGVjID0gaWRlbnRpZnlleGVjdXRvcigpCgoJCWlmIG5vdCBpc2ZvbGRlcigiRUJHdWkiKSB0aGVuIG1ha2Vmb2xkZXIoIkVCR3VpIikgZW5kCgkJd3JpdGVmaWxlKCJFQkd1aVxcQ3Jhc2hEdW1wLSIuLmR0Zi4uIi50eHQiLAoKCQkiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiIgLi4gY3Jhc2hbbWF0aC5yYW5kb20oMSwjY3Jhc2gpXSAuLiAiXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4iIC4uCgoJCVtbRUJHdWkgc3RvcHBlZCBleGVjdXRpbmcgYmVjYXVzZSBpdCBlbmNvdW50ZXJlZCBhIHByb2JsZW0gaXQgZGlkbid0IGtub3cgaG93IHRvIGhhbmRsZS4KCQkKUGxlYXNlIHJlcG9ydCB0aGlzIGNyYXNoIGluIHRoZSBEaXNjb3JkIGJ5IGdvaW5nIHRvICNyb2JvdHMtdW5pdGUgYW5kIG9wZW5pbmcgYSB0aWNrZXQuXV0gLi4KCgkJIi0tIEJlZ2luIEVycm9yIFJlcG9ydCAtLVxuKEdlbmVyYXRlZCBvbiAiIC4uIHVmIC4uICIpXG5cbiIgLi4KCgkJIkV4ZWN1dG9yOiAiIC4uIHRvc3RyaW5nKGV4ZWMpIC4uCgkJIlxuQ2xpZW50IElEOiAiIC4uIHRvc3RyaW5nKGNsaWVudGlkKSAuLgoJCSJcblBsYWNlSWQ6ICIgLi4gdG9zdHJpbmcoZ2FtZS5QbGFjZUlkKSAuLgoJCSJcblNtYXJ0QXR0YWNrIEVuYWJsZWQ/OiAiIC4uIHRvc3RyaW5nKFNtYXJ0QXR0YWNrKSAuLgoJCSJcbklzIEdvbGQ/OiAiIC4uIHRvc3RyaW5nKGlzR29sZCkgLi4gCgkJIlxuSXMgTWFzdGVyPzogIiAuLiB0b3N0cmluZyhpc01hc3RlcikgLi4KCgkJIlxuXG5FcnJvcjogIiAuLiBlIC4uCgkJIlxuQXQ6ICIgLi4gZGVidWcudHJhY2ViYWNrKCkgLi4KCgkJIlxuXG4tLSBFbmQgRXJyb3IgUmVwb3J0IC0tIikKCWVuZCkKZW5k"