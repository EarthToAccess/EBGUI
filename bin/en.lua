encui = "aWYgbm90KGdhbWU6SXNMb2FkZWQoKSkgdGhlbg0KCWdhbWUuTG9hZGVkOldhaXQoKQ0KZW5kDQoNCmlmIChnYW1lLkNvcmVHdWk6RmluZEZpcnN0Q2hpbGQoImViZ3VpIikpIHRoZW4NCglnYW1lLkNvcmVHdWkuZWJndWk6RGVzdHJveSgpDQplbmQNCg0KbG9jYWwgYmxvY2tsaXN0ID0gew0KfQ0KDQpsb2NhbCBtYXN0ZXJsaXN0ID0gew0KCTMyNTczMzM0DQp9DQoNCmxvY2FsIHBsYXllciA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcg0KbG9jYWwgSUQgPSBwbGF5ZXIuVXNlcklkDQpsb2NhbCBpc0Jsb2NrZWQgPSBmYWxzZQ0KbG9jYWwgaXNNYXN0ZXIgPSBmYWxzZQ0KDQpmb3IgaSx2IGluIHBhaXJzKGJsb2NrbGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNCbG9ja2VkID0gdHJ1ZQ0KICAgICAgICBicmVhaw0KICAgIGVuZA0KZW5kDQoNCmZvciBpLHYgaW4gcGFpcnMobWFzdGVybGlzdCkgZG8NCiAgICBpZiB2ID09IElEIHRoZW4NCiAgICAgICAgaXNNYXN0ZXIgPSB0cnVlDQogICAgICAgIGJyZWFrDQogICAgZW5kDQplbmQNCg0KaWYgaXNCbG9ja2VkIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICBUaGlzIGFjY291bnQgaGFzIGJlZW4gYmxvY2tlZC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgIFBsZWFzZSB2aXNpdCB0aGUgRUJHdWkgRGlzY29yZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2VpZiBub3QgRUJHdWlLZXkgYW5kIG5vdCBpc0Jsb2NrZWQgYW5kIG5vdCBpc01hc3RlciB0aGVuDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT1bWyBBVFRFTlRJT04gXV09PT09PT09PT09PT09PT09PT09PT09PSIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UgZG9uJ3QgaGF2ZSB0aGUgdW5sb2NrIGtleSBpbiB5b3VyIHNjcmlwdC4gICAgICAgfCIpDQogICAgd2FybigifCAgICAgICBZb3UnbGwgbmVlZCB0byBmaW5kIHRoZSBhcHByb3ByaWF0ZSBrZXkgZmlyc3QuICAgICAgfCIpDQogICAgd2FybigifCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCIpDQogICAgd2FybigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSIpDQplbHNlaWYgRUJHdWlLZXkgfj0gInNjcmlwdF9FbGVtZW50YWwwODIwMjJfMjIwNTAzIiBhbmQgbm90IGlzQmxvY2tlZCBhbmQgbm90IGlzTWFzdGVyIHRoZW4NCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PVtbIEFUVEVOVElPTiBdXT09PT09PT09PT09PT09PT09PT09PT09IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgWW91ciB1bmxvY2sga2V5IGlzIGluY29ycmVjdC4gICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgIFlvdSdsbCBuZWVkIHRvIGZpbmQgdGhlIGFwcHJvcHJpYXRlIGtleSBmaXJzdC4gICAgICB8IikNCiAgICB3YXJuKCJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IikNCiAgICB3YXJuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikNCmVsc2UNCg0KCWxvY2FsIGR1bWJRdW90ZXMgPSB7DQoJCSJKZWV6LCB3aGVuJ2QgaXQgZ2V0IHNvIGhvdCBpbiBoZXJlPyIsDQoJCSJJcyBpdCBqdXN0IG1lIG9yIGlzIHRoYXQgKnRvbyogYmx1ZT8iLA0KCQkiTGlrZSB0YWtpbmcgY2FuZHkgZnJvbSBhIGJhYnkuIiwNCgkJIkRlZXogbnV0cyBhcmUgdG9vIHNxdWFyZSEiLA0KCQkiQWxzbyB0cnkgTWluZWNyYWZ0ISIsDQoJCSJBbHNvIHRyeSBUZXJyYXJpYSEiLA0KCQkiTWVoLCBJIGxpa2VkIFJpc2sgb2YgUmFpbiAyIGJldHRlci4iLA0KCQkiWW91IG5lZWQgYSBmYWlybHkgaGlnaCBJUSB0byB1bmRlcnN0YW5kIEVCR3VpLiIsDQoJCSJKYWtlLCBmcm9tIFN0YXRlIEZhcm0/ISINCgl9DQoNCiAgICB3YXJuKFtbX19fX19fX19fX18gX19fX18gICAgICAgXyANCiAgICAgICAgICAgIHwgIF9fX3wgX19fIFwgIF9fIFwgICAgIChfKQ0KICAgICAgICAgICAgfCB8X18gfCB8Xy8gLyB8ICBcL18gICBfIF8gDQogICAgICAgICAgICB8ICBfX3x8IF9fXyBcIHwgX198IHwgfCB8IHwNCiAgICAgICAgICAgIHwgfF9fX3wgfF8vIC8gfF9cIFwgfF98IHwgfA0KICAgICAgICAgICAgXF9fX18vXF9fX18vIFxfX19fL1xfXyxffF98IHYyLjBdXSkNCglwcmludCgiICIpDQoJcHJpbnQoZHVtYlF1b3Rlc1ttYXRoLnJhbmRvbSgxLDApXSkNCglwcmludCgiICIpDQoJd2FybigiV2VsY29tZSB0byBFQkd1aSwgIiAuLiBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSAuLiAiISIpDQoJd2FybigiWW91J3JlIG9uIHRoZSBTdGFibGUgYnJhbmNoIG9mIEVCR3VpIikNCgl3YXJuKCJRdWVzdGlvbnMgb3IgY29uY2VybnM/IExldCB1cyBrbm93IGluIHRoZSBEaXNjb3JkLCIpDQoJd2Fybigib3IgZW1haWwgRWFydGggaGltc2VsZiBhdCBlYXJ0aHRvYWNjZXNzQGdtYWlsLmNvbSEiKQ0KCXdhaXQoMC41KQ0KDQoJLS0gR1VJIEluc3RhbmNlcywgRXZlbnRzIGFuZCBGdW5jdGlvbnMNCg0KCWxvY2FsIGViZ3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiKQ0KCWViZ3VpLk5hbWUgPSAiZWJndWkiDQoJZWJndWkuUGFyZW50ID0gZ2FtZTpXYWl0Rm9yQ2hpbGQoIkNvcmVHdWkiKQ0KDQoJZ2FtZS5Db3JlR3VpLkNoaWxkUmVtb3ZlZDpjb25uZWN0KGZ1bmN0aW9uKGNoaWxkKQ0KCQlpZiBjaGlsZC5OYW1lID09ICJlYmd1aSIgdGhlbg0KCQkJY2xvc2VkZm9yZXZlciA9IHRydWUNCgkJCWJ1dHRvbnNvcGVuZWQgPSBmYWxzZQ0KCQkJY29tbWFuZHNvcGVuZWQgPSBmYWxzZQ0KCQkJYnV0dG9uc2RlYm91bmNlID0gdHJ1ZQ0KCQkJY29tbWFuZGRlYm91bmNlID0gdHJ1ZQ0KCQkJdGVybWluYXRldWlzID0gdHJ1ZQ0KCQkJVUlTID0gbmlsDQoJCQlicmVha2FibGUgPSB0cnVlDQoJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSBuaWwNCgkJCVZpbmVUcmFwRW5hYmxlZCA9IG5pbA0KCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IG5pbA0KCQkJTHVtaW5vdXNEaXNwZXJzaW9uRW5hYmxlZCA9IG5pbA0KCQkJTERSYWRpdXMgPSBuaWwNCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBuaWwNCgkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gbmlsDQoJCQlBYmxhemVKdWRnZW1lbnRIYWNrRW5hYmxlZCA9IG5pbA0KCQkJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IG5pbA0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IG5pbA0KCQkJVGhlV29ybGRFbmFibGVkID0gbmlsDQoJCQlQb2xhcmlzRW5hYmxlZCA9IG5pbA0KCQkJTGFnU2VydmVyRW5hYmxlZCA9IG5pbA0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IG5pbA0KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBuaWwNCgkJCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IG5pbA0KCQkJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gbmlsDQoJCQlTZXdlckJ1cnN0RW5hYmxlZCA9IG5pbA0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSBuaWwNCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IG5pbA0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gbmlsDQoJCQlBbnRpQmxpbmRFbmFibGVkID0gbmlsDQoJCQlBbnRpTGFnRW5hYmxlZCA9IG5pbA0KCQkJU3BlZWRoYWNrRW5hYmxlZCA9IG5pbA0KCQkJSG9sb2JlYW1FbmFibGVkID0gbmlsDQoJCQlTZXRTcGVlZCA9IG5pbA0KCQkJSWdub3JlUGh5c2ljc0VuYWJsZWQgPSBuaWwNCgkJCUFudGlHcmF2aXR5RW5hYmxlZCA9IG5pbA0KCQkJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gbmlsDQoJCQlDbGlja1RQRW5hYmxlZCA9IG5pbA0KCQkJRnJlZXplRW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0RW5hYmxlZCA9IG5pbA0KCQkJVGhydXN0UG93ZXIgPSBuaWwNCgkJCXZpZXdpbmcgPSBuaWwNCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IG5pbA0KCQkJRVNQRW5hYmxlZCA9IG5pbA0KCQkJVFBTaGFyZHNFbmFibGVkID0gbmlsDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IG5pbA0KCQkJRlBTRHJvcHBpbmcgPSBuaWwNCgkJCXNhbnNLaWxsZWQgPSAid2lwIg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IG5pbA0KCQkJVmlnb3JIYWNrRW5hYmxlZCA9IG5pbA0KCQkJT3JpYnRhbEhhY2tFbmFibGVkID0gbmlsDQoJCQlTdG9ybUJ1bGxldHNFbmFibGVkID0gbmlsDQoJCQlEb3VibGVSYXlFbmFibGVkID0gbmlsDQoJCWVuZA0KCWVuZCkNCg0KCWxvY2FsIG1vdXNlID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyOkdldE1vdXNlKCkNCg0KCWxvY2FsIGJvcmRlcnMgPSB7fQ0KDQoJbG9jYWwgYnV0dG9uc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCglidXR0b25zbWFpbi5OYW1lID0gImJ1dHRvbnNtYWluIg0KCWJ1dHRvbnNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNjUsIDApDQoJYnV0dG9uc21haW4uU2l6ZSA9IFVEaW0yLm5ldygwLjQsIDAsIDAuMjI1LCAwKQ0KCXRhYmxlLmluc2VydChib3JkZXJzLCBidXR0b25zbWFpbikNCg0KCWJ1dHRvbnNkZWJvdW5jZSA9IGZhbHNlDQoJYnV0dG9uc29wZW5lZCA9IHRydWUNCg0KDQoJLS1pZiAoaW5pdGlhdGlvbk1vZGUgPT0gIk1vZGVybiIpIHRoZW4NCglsb2NhbCBjb21tYW5kc21haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCgljb21tYW5kc21haW4uTmFtZSA9ICJjb21tYW5kc21haW4iDQoJY29tbWFuZHNtYWluLlBvc2l0aW9uID0gVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApDQoJY29tbWFuZHNtYWluLlNpemUgPSBVRGltMi5uZXcoMC4zLCAwLCAwLjE3NSwgMCkNCgl0YWJsZS5pbnNlcnQoYm9yZGVycywgY29tbWFuZHNtYWluKQ0KCS0tZW5kDQoNCgljb21tYW5kZGVib3VuY2UgPSBmYWxzZQ0KCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQ0KDQoJY2xvc2VkZm9yZXZlciA9IGZhbHNlDQoNCglsb2NhbCBmcmFtZXMgPSB7fQ0KDQoJbG9jYWwgYnV0dG9uc2ZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIpDQoJYnV0dG9uc2ZyYW1lLk5hbWUgPSAiYnV0dG9uc2ZyYW1lIg0KCWJ1dHRvbnNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJYnV0dG9uc2ZyYW1lLkJvcmRlclNpemVQaXhlbCA9IDINCglidXR0b25zZnJhbWUuQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSkNCglidXR0b25zZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJYnV0dG9uc2ZyYW1lLlNpemUgPSBVRGltMi5uZXcoMC45LCAwLCAwLjg1LCAwKQ0KCXRhYmxlLmluc2VydChmcmFtZXMsIGJ1dHRvbnNmcmFtZSkNCglidXR0b25zZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCWxvY2FsIGNvbW1hbmRzZnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIikNCgljb21tYW5kc2ZyYW1lLk5hbWUgPSAiY29tbWFuZHNmcmFtZSINCgljb21tYW5kc2ZyYW1lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZHNmcmFtZS5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTgsIDU0LCAxNzkpDQoJY29tbWFuZHNmcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCWNvbW1hbmRzZnJhbWUuQm9yZGVyU2l6ZVBpeGVsID0gMg0KCWNvbW1hbmRzZnJhbWUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApDQoJY29tbWFuZHNmcmFtZS5TaXplID0gVURpbTIubmV3KDAuOSwgMCwgMC44NSwgMCkNCgl0YWJsZS5pbnNlcnQoZnJhbWVzLCBjb21tYW5kc2ZyYW1lKQ0KCWNvbW1hbmRzZnJhbWUuUGFyZW50ID0gY29tbWFuZHNtYWluDQoNCglsb2NhbCBjb21tYW5kQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IikNCgljb21tYW5kQm94Lk5hbWUgPSAiY29tbWFuZEJveCINCgljb21tYW5kQm94LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZEJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUsIDQwLCA0MCkNCgljb21tYW5kQm94LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJY29tbWFuZEJveC5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJY29tbWFuZEJveC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsIDAsIDAuMywgMCkNCgljb21tYW5kQm94LlNpemUgPSBVRGltMi5uZXcoMC44NSwgMCwgMC4yMCwgMCkNCgljb21tYW5kQm94LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCgljb21tYW5kQm94LlRleHQgPSAiIg0KCWNvbW1hbmRCb3guVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1MSwgMjUxLCAyNTUpDQoJY29tbWFuZEJveC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3guVGV4dFNpemUgPSAxNC4wMDANCgljb21tYW5kQm94LlRleHRXcmFwcGVkID0gdHJ1ZQ0KCWNvbW1hbmRCb3guQ2xlYXJUZXh0T25Gb2N1cyA9IGZhbHNlDQoJY29tbWFuZEJveC5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCglsb2NhbCBsYWJlbHMgPSB7fQ0KDQoJbG9jYWwgY29tbWFuZEJveE91dHB1dCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCgljb21tYW5kQm94T3V0cHV0Lk5hbWUgPSAiY29tbWFuZEJveE91dHB1dCINCgljb21tYW5kQm94T3V0cHV0LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpDQoJY29tbWFuZEJveE91dHB1dC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCgljb21tYW5kQm94T3V0cHV0LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCWNvbW1hbmRCb3hPdXRwdXQuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCgljb21tYW5kQm94T3V0cHV0LkJvcmRlclNpemVQaXhlbCA9IDANCgljb21tYW5kQm94T3V0cHV0LlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC42LCAwKQ0KCWNvbW1hbmRCb3hPdXRwdXQuU2l6ZSA9IFVEaW0yLm5ldygwLjksIDAsIDAuMiwgMCkNCgljb21tYW5kQm94T3V0cHV0LkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCgljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJY29tbWFuZEJveE91dHB1dC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCgljb21tYW5kQm94T3V0cHV0LlRleHRTY2FsZWQgPSB0cnVlDQoJY29tbWFuZEJveE91dHB1dC5UZXh0U2l6ZSA9IDE0LjAwMA0KCWNvbW1hbmRCb3hPdXRwdXQuVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgY29tbWFuZEJveE91dHB1dCkNCgljb21tYW5kQm94T3V0cHV0LlBhcmVudCA9IGNvbW1hbmRzZnJhbWUNCg0KCWxvY2FsIERldGFpbHMgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlscy5OYW1lID0gIkRldGFpbHMiDQoJRGV0YWlscy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSkNCglEZXRhaWxzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAuMDE0MTQxNDE0MywgMCkNCglEZXRhaWxzLlNpemUgPSBVRGltMi5uZXcoMSwgMCwgMC4xNSwgMCkNCglEZXRhaWxzLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzLlRleHQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSAuLiAiIHwgRUJHVUkgfCBTdGFibGUiDQoJRGV0YWlscy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjUxLCAyNTEsIDI1NSkNCglEZXRhaWxzLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlscy5aSW5kZXggPSA1DQoJRGV0YWlscy5UZXh0U2l6ZSA9IDE0LjAwMA0KCURldGFpbHMuVGV4dFdyYXBwZWQgPSB0cnVlDQoJdGFibGUuaW5zZXJ0KGxhYmVscywgRGV0YWlscykNCglEZXRhaWxzLlBhcmVudCA9IGJ1dHRvbnNmcmFtZQ0KDQoJbG9jYWwgRGV0YWlsczIgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpDQoJRGV0YWlsczIuTmFtZSA9ICJEZXRhaWxzMiINCglEZXRhaWxzMi5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCURldGFpbHMyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMyLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMyLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczIuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjksIDApDQoJRGV0YWlsczIuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMyLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzMi5UZXh0ID0gIlByZXNzIF0gdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIg0KCURldGFpbHMyLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMyLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczIuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzMi5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMikNCglEZXRhaWxzMi5QYXJlbnQgPSBjb21tYW5kc2ZyYW1lDQoNCglsb2NhbCBEZXRhaWxzMyA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIikNCglEZXRhaWxzMy5OYW1lID0gIkRldGFpbHMzIg0KCURldGFpbHMzLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCURldGFpbHMzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMA0KCURldGFpbHMzLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJRGV0YWlsczMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC44NzUsIDApDQoJRGV0YWlsczMuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE1LCAwKQ0KCURldGFpbHMzLkZvbnQgPSBFbnVtLkZvbnQuU2FycGFuY2gNCglEZXRhaWxzMy5UZXh0ID0gIlByZXNzIFsgdG8gb3BlbiBhbmQgY2xvc2UgdGhpcyBHVUkuIg0KCURldGFpbHMzLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCURldGFpbHMzLlRleHRTY2FsZWQgPSB0cnVlDQoJRGV0YWlsczMuVGV4dFNpemUgPSAxNC4wMDANCglEZXRhaWxzMy5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBEZXRhaWxzMykNCglEZXRhaWxzMy5QYXJlbnQgPSBidXR0b25zZnJhbWUNCg0KCWxvY2FsIERldGFpbHM0ID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCURldGFpbHM0Lk5hbWUgPSAiRGV0YWlsczQiDQoJRGV0YWlsczQuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJRGV0YWlsczQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEuMDAwDQoJRGV0YWlsczQuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTI4LCAxMjgsIDEyOCkNCglEZXRhaWxzNC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAxLjEsIDApDQoJRGV0YWlsczQuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjE3NSwgMCkNCglEZXRhaWxzNC5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJRGV0YWlsczQuVGV4dCA9ICJIb2xkIExlZnQgYW5kIFJpZ2h0LCB0aGVuIHByZXNzIGFueXRoaW5nIHRvIHRlcm1pbmF0ZSB0aGUgc2NyaXB0IGFuZCBHVUlzLiINCglEZXRhaWxzNC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCglEZXRhaWxzNC5UZXh0U2NhbGVkID0gdHJ1ZQ0KCURldGFpbHM0LlRleHRTaXplID0gMTQuMDAwDQoJRGV0YWlsczQuVGV4dFdyYXBwZWQgPSB0cnVlDQoJRGV0YWlsczQuUGFyZW50ID0gYnV0dG9uc2ZyYW1lDQoNCglsb2NhbCBWZXJzaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiKQ0KCVZlcnNpb24uTmFtZSA9ICJWZXJzaW9uIg0KCVZlcnNpb24uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJVmVyc2lvbi5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMS4wMDANCglWZXJzaW9uLkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDEyOCwgMTI4LCAxMjgpDQoJVmVyc2lvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLjA1LCAwKQ0KCVZlcnNpb24uU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLjEsIDApDQoJVmVyc2lvbi5Gb250ID0gRW51bS5Gb250LlNhcnBhbmNoDQoJVmVyc2lvbi5UZXh0ID0gIlZlcnNpb24gdjIuMCINCglWZXJzaW9uLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCVZlcnNpb24uVGV4dFNjYWxlZCA9IHRydWUNCglWZXJzaW9uLlRleHRTaXplID0gMTQuMDAwDQoJVmVyc2lvbi5UZXh0V3JhcHBlZCA9IHRydWUNCgl0YWJsZS5pbnNlcnQobGFiZWxzLCBWZXJzaW9uKQ0KCVZlcnNpb24uUGFyZW50ID0gY29tbWFuZHNmcmFtZQ0KDQoJbG9jYWwgbWFpbmZyYW1lID0gSW5zdGFuY2UubmV3KCJTY3JvbGxpbmdGcmFtZSIpDQoJbWFpbmZyYW1lLk5hbWUgPSAibWFpbmZyYW1lIg0KCW1haW5mcmFtZS5BY3RpdmUgPSB0cnVlDQoJbWFpbmZyYW1lLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig0OSwgODMsIDg5KQ0KCW1haW5mcmFtZS5Cb3JkZXJDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxMjgsIDEyOCwgMTI4KQ0KCW1haW5mcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJbWFpbmZyYW1lLlBvc2l0aW9uID0gVURpbTIubmV3KDAuNSwgMCwgMC41LCAwKQ0KCW1haW5mcmFtZS5BbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KQ0KCW1haW5mcmFtZS5TaXplID0gVURpbTIubmV3KDAuODY3NzY4NTg2LCAwLCAwLjYsIDApDQoJbWFpbmZyYW1lLlNjcm9sbEJhclRoaWNrbmVzcyA9IDYNCgltYWluZnJhbWUuUGFyZW50ID0gYnV0dG9uc21haW4NCg0KCWxvY2FsIFVJR3JpZExheW91dCA9IEluc3RhbmNlLm5ldygiVUlHcmlkTGF5b3V0IikNCglVSUdyaWRMYXlvdXQuRmlsbERpcmVjdGlvbiA9IEVudW0uRmlsbERpcmVjdGlvbi5Ib3Jpem9udGFsDQoJVUlHcmlkTGF5b3V0Lkhvcml6b250YWxBbGlnbm1lbnQgPSBFbnVtLkhvcml6b250YWxBbGlnbm1lbnQuQ2VudGVyDQoJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIDcpDQoJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIDMwKQ0KCVVJR3JpZExheW91dC5Tb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlcg0KCVVJR3JpZExheW91dC5QYXJlbnQgPSBtYWluZnJhbWUNCg0KCWxvY2FsIGJ1dHRvbnMgPSB7fQ0KDQoJLS0gSW5zdGFudCBCbGF6ZSBDb2x1bW4NCg0KCWxvY2FsIEJsYXplQ29sdW1uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglCbGF6ZUNvbHVtbi5OYW1lID0gIkJsYXplQ29sdW1uIg0KCUJsYXplQ29sdW1uLlRleHQgPSAiSW5zdGFudCBCbGF6ZSBDb2x1bW4gKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEJsYXplQ29sdW1uKQ0KDQoJQmxhemVDb2x1bW5FbmFibGVkID0gZmFsc2UNCg0KCUJsYXplQ29sdW1uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEJsYXplQ29sdW1uRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlCbGF6ZUNvbHVtbkVuYWJsZWQgPSB0cnVlDQoJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPTikiDQoJCWVsc2UNCgkJCUJsYXplQ29sdW1uRW5hYmxlZCA9IGZhbHNlDQoJCQlCbGF6ZUNvbHVtbi5UZXh0ID0gIkluc3RhbnQgQmxhemUgQ29sdW1uIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBJbnN0YW50IFJvY2sgQXJtb3INCg0KCWxvY2FsIFJvY2tBcm1vciA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUm9ja0FybW9yLk5hbWUgPSAiUm9ja0FybW9yIg0KCVJvY2tBcm1vci5UZXh0ID0gIkluc3RhbnQgUm9jayBBcm1vciINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgUm9ja0FybW9yKQ0KDQoJUm9ja0FybW9yLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkJvZHkgQ29sb3JzIikgdGhlbg0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlclsiQm9keSBDb2xvcnMiXTpEZXN0cm95KCkNCgkJZW5kDQoJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQ0KCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkVhcnRoIiwgIlJvY2sgQXJtb3IiKQ0KCWVuZCkNCg0KCS0tIEluc3RhbnQgVmluZSBUcmFwDQoNCglsb2NhbCBWaW5lVHJhcCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJVmluZVRyYXAuTmFtZSA9ICJWaW5lVHJhcCINCglWaW5lVHJhcC5UZXh0ID0gIkluc3RhbnQgVmluZSBUcmFwIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBWaW5lVHJhcCkNCg0KCVZpbmVUcmFwRW5hYmxlZCA9IGZhbHNlDQoNCglWaW5lVHJhcC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWaW5lVHJhcEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVmluZVRyYXBFbmFibGVkID0gdHJ1ZQ0KCQkJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT04pIg0KCQllbHNlDQoJCQlWaW5lVHJhcEVuYWJsZWQgPSBmYWxzZQ0KCQkJVmluZVRyYXAuVGV4dCA9ICJJbnN0YW50IFZpbmUgVHJhcCAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBQbGFzbWEgSW1wbG9zaW9uDQoNCglsb2NhbCBQbGFzbWFJbXBsb3Npb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVBsYXNtYUltcGxvc2lvbi5OYW1lID0gIlBsYXNtYUltcGxvc2lvbiINCglQbGFzbWFJbXBsb3Npb24uVGV4dCA9ICJJbnN0YW50IFBsYXNtYSBJbXBsb3Npb24gKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBsYXNtYUltcGxvc2lvbikNCg0KCVBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPSBmYWxzZQ0KDQoJUGxhc21hSW1wbG9zaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFBsYXNtYUltcGxvc2lvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJUGxhc21hSW1wbG9zaW9uRW5hYmxlZCA9IHRydWUNCgkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT04pIg0KCQllbHNlDQoJCQlQbGFzbWFJbXBsb3Npb25FbmFibGVkID0gZmFsc2UNCgkJCVBsYXNtYUltcGxvc2lvbi5UZXh0ID0gIkluc3RhbnQgUGxhc21hIEltcGxvc2lvbiAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQXN0ZXJvaWQgQmVsdCBIYWNrDQoNCglsb2NhbCBBc3Rlcm9pZEF0TW91c2UgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFzdGVyb2lkQXRNb3VzZS5OYW1lID0gIkFzdGVyb2lkQmVsdEhhY2siDQoJQXN0ZXJvaWRBdE1vdXNlLlRleHQgPSAiQXRlcm9pZHMgQmVsdCBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBc3Rlcm9pZEF0TW91c2UpDQoJDQoJbG9jYWwgQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IGZhbHNlDQoJDQoJQXN0ZXJvaWRBdE1vdXNlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQXN0ZXJvaWRCZWx0RW5hYmxlZCA9IHRydWUNCgkJCUFzdGVyb2lkQXRNb3VzZS5UZXh0ID0gIkFzdGVyb2lkIEJlbHQgSGFjayAoT04pIg0KCQllbHNlDQoJCQlBc3Rlcm9pZEJlbHRFbmFibGVkID0gZmFsc2UNCgkJCUFzdGVyb2lkQXRNb3VzZS5UZXh0ID0gIkF0ZXJvaWRzIEJlbHQgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVmlnb3IgR3lyYXRpb24gSGFjaw0KDQoJbG9jYWwgVmlnR3lyYXRIYWNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWaWdHeXJhdEhhY2suTmFtZSA9ICJWaWdHeXJhdEhhY2siDQoJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlnR3lyYXRIYWNrKQ0KCQ0KCWxvY2FsIFZpZ29ySGFja0VuYWJsZWQgPSBmYWxzZQ0KCQ0KCVZpZ0d5cmF0SGFjay5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWaWdvckhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpZ29ySGFja0VuYWJsZWQgPSB0cnVlDQoJCQlWaWdHeXJhdEhhY2suVGV4dCA9ICJWaWdvciBHeXJhdGlvbiBIYWNrIChPTikiDQoJCWVsc2UNCgkJCVZpZ29ySGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJVmlnR3lyYXRIYWNrLlRleHQgPSAiVmlnb3IgR3lyYXRpb24gSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQW1wbGlmaWVkIEx1bWlub3VzIERpc3BlcnNpb24gSGFjaw0KDQoJbG9jYWwgTHVtaW5vdXNEaXNwZXJzaW9uID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglMdW1pbm91c0Rpc3BlcnNpb24uTmFtZSA9ICJMdW1pbm91c0Rpc3BlcnNpb24iDQoJTHVtaW5vdXNEaXNwZXJzaW9uLlRleHQgPSAiQW1wbGlmaWVkIEx1bWlub3VzIERpc3BlcnNpb24gSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgTHVtaW5vdXNEaXNwZXJzaW9uKQ0KDQoJbG9jYWwgTHVtaW5vdXNEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgTERSYWRpdXMgPSAzMCAtLSAyNTAwMA0KDQoJTHVtaW5vdXNEaXNwZXJzaW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEx1bWlub3VzRGlzcGVyc2lvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJTHVtaW5vdXNEaXNwZXJzaW9uRW5hYmxlZCA9IHRydWUNCgkJCUx1bWlub3VzRGlzcGVyc2lvbi5UZXh0ID0gIkFtcGxpZmllZCBMdW1pbm91cyBEaXNwZXJzaW9uIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJTHVtaW5vdXNEaXNwZXJzaW9uRW5hYmxlZCA9IGZhbHNlDQoJCQlMdW1pbm91c0Rpc3BlcnNpb24uVGV4dCA9ICJBbXBsaWZpZWQgTHVtaW5vdXMgRGlzcGVyc2lvbiBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBDcnlzdGFsIEFybWFtZW50IEhhY2sNCg0KCWxvY2FsIENyeXN0YWxBcm1hbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ3J5c3RhbEFybWFtZW50Lk5hbWUgPSAiQ3J5c3RhbEFybWFtZW50Ig0KCUNyeXN0YWxBcm1hbWVudC5UZXh0ID0gIkNyeXN0YWwgQXJtYW1lbnQgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ3J5c3RhbEFybWFtZW50KQ0KDQoJQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9IGZhbHNlDQoNCglDcnlzdGFsQXJtYW1lbnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQ3J5c3RhbEFybWFtZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlDcnlzdGFsQXJtYW1lbnRFbmFibGVkID0gdHJ1ZQ0KCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiQ3J5c3RhbCBBcm1hbWVudCBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUNyeXN0YWxBcm1hbWVudEVuYWJsZWQgPSBmYWxzZQ0KCQkJQ3J5c3RhbEFybWFtZW50LlRleHQgPSAiQ3J5c3RhbCBBcm1hbWVudCBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBTcGVjdHJhbCBFbWJvZGltZW50DQoNCglsb2NhbCBTcGVjdHJhbEVtYm9kaW1lbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNwZWN0cmFsRW1ib2RpbWVudC5OYW1lID0gIlNwZWN0cmFsRW1ib2RpbWVudCINCglTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9GRikgW1hdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBTcGVjdHJhbEVtYm9kaW1lbnQpDQoNCglTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID0gZmFsc2UNCg0KCVNwZWN0cmFsRW1ib2RpbWVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSB0cnVlDQoJCQlTcGVjdHJhbEVtYm9kaW1lbnQuVGV4dCA9ICJTcGVjdHJhbCBFbWJvZGltZW50IEtleWJpbmQgKE9OKSBbWF0iDQoJCWVsc2UNCgkJCVNwZWN0cmFsRW1ib2RpbWVudEVuYWJsZWQgPSBmYWxzZQ0KCQkJU3BlY3RyYWxFbWJvZGltZW50LlRleHQgPSAiU3BlY3RyYWwgRW1ib2RpbWVudCBLZXliaW5kIChPRkYpIFtYXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gR3Jhdml0YWwgR2xvYmUgSGFjaw0KDQoJbG9jYWwgR3Jhdml0YWxHbG9iZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJR3Jhdml0YWxHbG9iZS5OYW1lID0gIkdyYXZpdGFsR2xvYmUiDQoJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEdyYXZpdGFsR2xvYmUpDQoNCglHcmF2aXRhbEdsb2JlRW5hYmxlZCA9IGZhbHNlDQoNCglHcmF2aXRhbEdsb2JlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEdyYXZpdGFsR2xvYmVFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUdyYXZpdGFsR2xvYmVFbmFibGVkID0gdHJ1ZQ0KCQkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJR3Jhdml0YWxHbG9iZUVuYWJsZWQgPSBmYWxzZQ0KCQkJR3Jhdml0YWxHbG9iZS5UZXh0ID0gIkdyYXZpdGFsIEdsb2JlIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEdyYXZpdGF0aW9uYWwgRmllbGQgSGFjaw0KDQoJbG9jYWwgR3Jhdml0YXRpb25hbEZpZWxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglHcmF2aXRhdGlvbmFsRmllbGQuTmFtZSA9ICJHcmF2aXRhdGlvbmFsRmllbGQiDQoJR3Jhdml0YXRpb25hbEZpZWxkLlRleHQgPSAiR3Jhdml0YXRpb25hbCBGaWVsZCBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBHcmF2aXRhdGlvbmFsRmllbGQpDQoNCglHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID0gZmFsc2UNCg0KCUdyYXZpdGF0aW9uYWxGaWVsZC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUdyYXZpdGF0aW9uYWxGaWVsZEVuYWJsZWQgPSB0cnVlDQoJCQlHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJR3Jhdml0YXRpb25hbEZpZWxkRW5hYmxlZCA9IGZhbHNlDQoJCQlHcmF2aXRhdGlvbmFsRmllbGQuVGV4dCA9ICJHcmF2aXRhdGlvbmFsIEZpZWxkIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFtYXVyb3RpYyBMYW1iZW50IEhhY2sNCg0KCWxvY2FsIEFtYXVyb3RpY0xhbWJlbnQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUFtYXVyb3RpY0xhbWJlbnQuTmFtZSA9ICJBbWF1cm90aWNMYW1iZW50Ig0KCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbWF1cm90aWNMYW1iZW50KQ0KDQoJQW1hdXJvdGljTGFtYmVudEVuYWJsZWQgPSBmYWxzZQ0KDQoJQW1hdXJvdGljTGFtYmVudC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbWF1cm90aWNMYW1iZW50RW5hYmxlZCA9IHRydWUNCgkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUFtYXVyb3RpY0xhbWJlbnRFbmFibGVkID0gZmFsc2UNCgkJCUFtYXVyb3RpY0xhbWJlbnQuVGV4dCA9ICJBbWF1cm90aWMgTGFtYmVudCBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBBYmxhemUgSnVkZ2VtZW50IEhhY2sNCg0KCWxvY2FsIEFibGF6ZUp1ZGdlbWVudCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQWJsYXplSnVkZ2VtZW50Lk5hbWUgPSAiQWJsYXplSnVkZ2VtZW50Ig0KCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQWJsYXplSnVkZ2VtZW50KQ0KDQoJQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgPSBmYWxzZQ0KDQoJQWJsYXplSnVkZ2VtZW50Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJQWJsYXplSnVkZ2VtZW50LlRleHQgPSAiQWJsYXplIEp1ZGdlbWVudCBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUFibGF6ZUp1ZGdlbWVudEhhY2tFbmFibGVkID0gZmFsc2UNCgkJCUFibGF6ZUp1ZGdlbWVudC5UZXh0ID0gIkFibGF6ZSBKdWRnZW1lbnQgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVm9pZCBPcGVuaW5nIEhhY2sNCg0KCWxvY2FsIFZvaWRPcGVuaW5nID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglWb2lkT3BlbmluZy5OYW1lID0gIlZvaWRPcGVuaW5nIg0KCVZvaWRPcGVuaW5nLlRleHQgPSAiVm9pZCBPcGVuaW5nIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZvaWRPcGVuaW5nKQ0KDQoJVm9pZE9wZW5pbmdIYWNrRW5hYmxlZCA9IGZhbHNlDQoNCglWb2lkT3BlbmluZy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSB0cnVlDQoJCQlWb2lkT3BlbmluZy5UZXh0ID0gIlZvaWQgT3BlbmluZyBIYWNrIChPTikiDQoJCWVsc2UNCgkJCVZvaWRPcGVuaW5nSGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJVm9pZE9wZW5pbmcuVGV4dCA9ICJWb2lkIE9wZW5pbmcgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBTa2VsZXRvbiBHcmFiDQoNCglsb2NhbCBTa2VsZXRvbkdyYWIgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNrZWxldG9uR3JhYi5OYW1lID0gIlNrZWxldG9uR3JhYiINCglTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9GRikgW0FJTUVEXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2tlbGV0b25HcmFiKQ0KDQoJU2tlbGV0b25HcmFiRW5hYmxlZCA9IGZhbHNlDQoNCglTa2VsZXRvbkdyYWIuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2tlbGV0b25HcmFiRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTa2VsZXRvbkdyYWJFbmFibGVkID0gdHJ1ZQ0KCQkJU2tlbGV0b25HcmFiLlRleHQgPSAiSW5zdGFudCBTa2VsZXRvbiBHcmFiIChPTikgW0FJTUVEXSINCgkJZWxzZQ0KCQkJU2tlbGV0b25HcmFiRW5hYmxlZCA9IGZhbHNlDQoJCQlTa2VsZXRvbkdyYWIuVGV4dCA9ICJJbnN0YW50IFNrZWxldG9uIEdyYWIgKE9GRikgW0FJTUVEXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSG9sb2JlYW0gQ2FtZXJhIEF0dGFjaA0KDQoJbG9jYWwgSG9sb2JlYW0gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUhvbG9iZWFtLk5hbWUgPSAiSG9sb2JlYW0iDQoJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBIb2xvYmVhbSkNCg0KCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBhdHRhY2hDYW1lcmEodikNCgkJaWYgKHYgfj0gbmlsKSB0aGVuDQoJCQlpZiBub3Qodmlld2luZykgYW5kICh2Lk5hbWUgPT0gIkhvbG9iZWFtIikgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXVt2Lk5hbWVdDQoJCQllbHNlDQoJCQkJdjpEZXN0cm95KCkNCgkJCQlyZXR1cm4NCgkJCWVuZA0KCQkJDQoJCQl2LlRyYW5zcGFyZW5jeSA9IDANCg0KCQkJd2FpdCg0KQ0KCQkJaWYgbm90KHZpZXdpbmcpIGFuZCBub3QoZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPT0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZCkgdGhlbg0KCQkJCWdhbWUuV29ya3NwYWNlLkNhbWVyYS5DYW1lcmFTdWJqZWN0ID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJZW5kDQoJCQkNCgkJCXY6RGVzdHJveSgpDQoJCWVuZA0KCWVuZA0KCQ0KCWdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ10uRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24odikNCgkJaWYgSG9sb2JlYW1FbmFibGVkIHRoZW4NCgkJCWlmICh2Lk5hbWUgPT0gIlBhcnQiKSBhbmQgKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpIHRoZW4NCgkJCQlsb2NhbCBkaXN0YW5jZSA9IChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSB2LlBvc2l0aW9uKS5NYWduaXR1ZGUNCgkJCQkNCgkJCQlpZiAodi5TaXplID09IFZlY3RvcjMubmV3KDUsIDUsIDUpKSBhbmQgKGRpc3RhbmNlIDwgMTApIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlWZWxvY2l0eSIsIDEpKSBhbmQgKHY6V2FpdEZvckNoaWxkKCJCb2R5R3lybyIsIDEpKSBhbmQgKHYuQm9keVZlbG9jaXR5LlAgPj0gMTI1MCkgdGhlbg0KCQkJCQ0KCQkJCQl2Lk5hbWUgPSAiSG9sb2JlYW0iDQoJCQkJDQoJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCWNvcm91dGluZS5yZXN1bWUoY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpIA0KCQkJCQkJCWF0dGFjaENhbWVyYSh2KSANCgkJCQkJCWVuZCkpDQoJCQkJCWVuZCkNCgkJCQkJDQoJCQkJCWxvY2FsIGd1aSA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5Ta2lsbHNCYXINCgkJCQkJDQoJCQkJCXdhaXQoMC41KQ0KCQkJCQkNCgkJCQkJd2hpbGUgd2FpdCgpIGRvDQoJCQkJCQlpZiBub3QoZ3VpWycxJ10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzInXS5DRC5UZXh0ID09ICIuLi4iKSBhbmQgbm90KGd1aVsnMyddLkNELlRleHQgPT0gIi4uLiIpIGFuZCBub3QoZ3VpWyc0J10uQ0QuVGV4dCA9PSAiLi4uIikgYW5kIG5vdChndWlbJzUnXS5DRC5UZXh0ID09ICIuLi4iKSB0aGVuDQoJCQkJCQkJcGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQkJCQlpZiBub3Qodmlld2luZykgYW5kIG5vdChnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkKSB0aGVuDQoJCQkJCQkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQkJCQkJZW5kDQoJCQkNCgkJCQkJCQkJdjpEZXN0cm95KCkNCgkJCQkJCQllbmQpDQoJCQkJCQkJDQoJCQkJCQkJYnJlYWsNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCglIb2xvYmVhbS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBIb2xvYmVhbUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJSG9sb2JlYW1FbmFibGVkID0gdHJ1ZQ0KCQkJSG9sb2JlYW0uVGV4dCA9ICJIb2xvYmVhbSBDYW1lcmEgQXR0YWNoIChPTikiDQoJCQkNCgkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuV29ya3NwYWNlWycuSWdub3JlJ11bJy5BdHRhY2tzJ106R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCQlpZiAodi5OYW1lID09ICJQYXJ0IikgYW5kICh2OldhaXRGb3JDaGlsZCgiQm9keVZlbG9jaXR5IiwgMSkpIGFuZCAodjpXYWl0Rm9yQ2hpbGQoIkJvZHlHeXJvIiwgMSkpIGFuZCAodi5Cb2R5VmVsb2NpdHkuUCA+PSAxMjUwKSB0aGVuIHY6RGVzdHJveSgpIGVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCUhvbG9iZWFtRW5hYmxlZCA9IGZhbHNlDQoJCQlIb2xvYmVhbS5UZXh0ID0gIkhvbG9iZWFtIENhbWVyYSBBdHRhY2ggKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFtcGxpZmllZCBHZW5lc2lzIFJheQ0KDQoJbG9jYWwgR2VuZXNpc1JheSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJR2VuZXNpc1JheS5OYW1lID0gIkdlbmVzaXNSYXkiDQoJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgR2VuZXNpc1JheSkNCg0KCWxvY2FsIEdlbmVzaXNSYXlFbmFibGVkID0gZmFsc2UNCglsb2NhbCBHUkNoYXJnZSA9IDEgLS0gMTAwMDAwMA0KDQoJR2VuZXNpc1JheS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBHZW5lc2lzUmF5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlHZW5lc2lzUmF5RW5hYmxlZCA9IHRydWUNCgkJCUdlbmVzaXNSYXkuVGV4dCA9ICJBbXBsaWZpZWQgR2VuZXNpcyBSYXkgKE9OKSINCgkJZWxzZQ0KCQkJR2VuZXNpc1JheUVuYWJsZWQgPSBmYWxzZQ0KCQkJR2VuZXNpc1JheS5UZXh0ID0gIkFtcGxpZmllZCBHZW5lc2lzIFJheSAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVGhlIFdvcmxkIEhhY2sNCg0KCWxvY2FsIFRoZVdvcmxkID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUaGVXb3JsZC5OYW1lID0gIlRoZVdvcmxkIg0KCVRoZVdvcmxkLlRleHQgPSAiVGhlIFdvcmxkIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRoZVdvcmxkKQ0KDQoJVGhlV29ybGRFbmFibGVkID0gZmFsc2UNCg0KCVRoZVdvcmxkLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFRoZVdvcmxkRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlUaGVXb3JsZEVuYWJsZWQgPSB0cnVlDQoJCQlUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPTikiDQoJCWVsc2UNCgkJCVRoZVdvcmxkRW5hYmxlZCA9IGZhbHNlDQoJCQlUaGVXb3JsZC5UZXh0ID0gIlRoZSBXb3JsZCBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBQb2xhcmlzIEhhY2sNCg0KCWxvY2FsIFBvbGFyaXMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVBvbGFyaXMuTmFtZSA9ICJQb2xhcmlzIg0KCVBvbGFyaXMuVGV4dCA9ICJQb2xhcmlzIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFBvbGFyaXMpDQoNCglQb2xhcmlzRW5hYmxlZCA9IGZhbHNlDQoNCglQb2xhcmlzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFBvbGFyaXNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVBvbGFyaXNFbmFibGVkID0gdHJ1ZQ0KCQkJUG9sYXJpcy5UZXh0ID0gIlBvbGFyaXMgSGFjayAoT04pIg0KCQllbHNlDQoJCQlQb2xhcmlzRW5hYmxlZCA9IGZhbHNlDQoJCQlQb2xhcmlzLlRleHQgPSAiUG9sYXJpcyBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBTaGFyZCBDb2xvcnMNCg0KCWxvY2FsIFJhbmRvbUNvbG9ycyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJUmFuZG9tQ29sb3JzLk5hbWUgPSAiUmFuZG9tQ29sb3JzIg0KCVJhbmRvbUNvbG9ycy5UZXh0ID0gIlJhbmRvbSBTaGFyZCBDb2xvcnMgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFJhbmRvbUNvbG9ycykNCg0KCWxvY2FsIENvbG9yc0xpc3QgPSB7IlJlYWxseSByZWQiLCAiUmVhbGx5IGJsdWUiLCAiTmV3IFllbGxlciIsICJIb3QgcGluayIsICJSb3lhbCBwdXJwbGUiLCAiTGltZSBncmVlbiIsICJEZWVwIG9yYW5nZSIsICJUb290aHBhc3RlIiwgIkluc3RpdHV0aW9uYWwgd2hpdGUifQ0KCWxvY2FsIFNoYXJkQ29sb3JFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIHNoYXJkUmFuZG9taXplcigpDQoJCWZvciBpLCBjaGlsZCBpbiBwYWlycyhnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiBub3QgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIHRoZW4gcHJpbnQoIkNoaWxkIG5vdCBhIFNoYXJkIikNCgkJCWVsc2VpZiBjaGlsZC5OYW1lID09ICJTaGFyZCIgYW5kIG5vdCBjaGlsZDpGaW5kRmlyc3RDaGlsZCgiQ0NCb29sIikgdGhlbg0KCQkJCXhwY2FsbChmdW5jdGlvbigpDQoJCQkJCWNoaWxkLkJyaWNrQ29sb3IgPSBCcmlja0NvbG9yLm5ldyhDb2xvcnNMaXN0W21hdGgucmFuZG9tKDEsOSldKQ0KCQkJCWVuZCwgZnVuY3Rpb24oZSkNCgkJCQkJcHJpbnQoIkVuY291bnRlcmVkIGFuIGVycm9yISB4cGNhbGwgc2F5czoiLCBlKQ0KCQkJCQl3YXJuKCJbdHJhY2ViYWNrXSAiLCBkZWJ1Zy50cmFjZWJhY2soKSkNCgkJCQllbmQpDQoJCQkJbG9jYWwgQ0NCb29sID0gSW5zdGFuY2UubmV3KCJCb29sVmFsdWUiKQ0KCQkJCUNDQm9vbC5OYW1lID0gIkNDQm9vbCINCgkJCQlDQ0Jvb2wuUGFyZW50ID0gY2hpbGQNCgkJCQlDQ0Jvb2wuVmFsdWUgPSB0cnVlDQoJCQllbHNlaWYgY2hpbGQuTmFtZSA9PSAiU2hhcmQiIGFuZCBjaGlsZDpGaW5kRmlyc3RDaGlsZCgiQ0NCb29sIikuVmFsdWUgdGhlbiBlbmQNCgkJZW5kDQoJZW5kDQoNCglSYW5kb21Db2xvcnMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2hhcmRDb2xvckVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU2hhcmRDb2xvckVuYWJsZWQgPSB0cnVlDQoJCQlwcmludCgiVHVybmVkIG9uIFJhbmRvbSBTaGFyZCBDb2xvcnMiKQ0KCQkJUmFuZG9tQ29sb3JzLlRleHQgPSAiUmFuZG9tIFNoYXJkIENvbG9ycyAoT04pIg0KCQkJd2hpbGUgU2hhcmRDb2xvckVuYWJsZWQgZG8NCgkJCQlzaGFyZFJhbmRvbWl6ZXIoKQ0KCQkJCXdhaXQoMSkNCgkJCWVuZA0KCQllbHNlDQoJCQlTaGFyZENvbG9yRW5hYmxlZCA9IGZhbHNlDQoJCQlSYW5kb21Db2xvcnMuVGV4dCA9ICJSYW5kb20gU2hhcmQgQ29sb3JzIChPRkYpIg0KCQllbmQJDQoJZW5kKQ0KDQoJLS0gQ29udHJvbGxlZCBFY2hvZXMNCg0KCWxvY2FsIEVjaG9lcyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRWNob2VzLk5hbWUgPSAiRWNob2VzIg0KCUVjaG9lcy5UZXh0ID0gIkNvbnRyb2xsZWQgRWNob2VzIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBFY2hvZXMpDQoNCglDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9IGZhbHNlDQoJRWNob2VzUGhhc2UgPSAxDQoNCglFY2hvZXMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQ29udHJvbGxlZEVjaG9lc0VuYWJsZWQgPSB0cnVlDQoJCQlFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT04pIg0KCQllbHNlDQoJCQlDb250cm9sbGVkRWNob2VzRW5hYmxlZCA9IGZhbHNlDQoJCQlFY2hvZXMuVGV4dCA9ICJDb250cm9sbGVkIEVjaG9lcyAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gT3JiaXRhbCBTdHJpa2UgSGFjaw0KDQoJbG9jYWwgT3JiaXRhbCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJT3JiaXRhbC5OYW1lID0gIk9yaWJ0YWwiDQoJT3JiaXRhbC5UZXh0ID0gIk9yYml0YWwgU3RyaWtlIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIE9yaWJ0YWwpDQoNCglPcmlidGFsSGFja0VuYWJsZWQgPSBmYWxzZQ0KDQoJT3JiaXRhbC5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBub3QgT3JiaXRhbEhhY2tFbmFibGVkIHRoZW4NCgkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IHRydWUNCgkJCU9yYml0YWwuVGV4dCA9ICJPcmJpdGFsIFN0cmlrZSBIYWNrIChPTikiDQoJCWVsc2UNCgkJCU9yYml0YWxIYWNrRW5hYmxlZCA9IGZhbHNlDQoJCQlPcmJpdGFsLlRleHQgPSAiT3JiaXRhbCBTdHJpa2UgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5zdGFudCBTaGF0dGVyaW5nIEVydXB0aW9uDQoNCglsb2NhbCBTaGF0dGVyaW5nRXJ1cHRpb24gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNoYXR0ZXJpbmdFcnVwdGlvbi5OYW1lID0gIlNoYXR0ZXJpbmdFcnVwdGlvbiINCglTaGF0dGVyaW5nRXJ1cHRpb24uVGV4dCA9ICJJbnN0YW50IFNoYXR0ZXJpbmcgRXJ1cHRpb24gKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNoYXR0ZXJpbmdFcnVwdGlvbikNCg0KCVNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPSBmYWxzZQ0KDQoJU2hhdHRlcmluZ0VydXB0aW9uLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIFNoYXR0ZXJpbmdFcnVwdGlvbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJU2hhdHRlcmluZ0VydXB0aW9uRW5hYmxlZCA9IHRydWUNCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT04pIg0KCQllbHNlDQoJCQlTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkID0gZmFsc2UNCgkJCVNoYXR0ZXJpbmdFcnVwdGlvbi5UZXh0ID0gIkluc3RhbnQgU2hhdHRlcmluZyBFcnVwdGlvbiAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSWxsdXNpdmUgQXRha2UgSGFjaw0KDQoJbG9jYWwgSWxsdXNpdmVBdGFrZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJSWxsdXNpdmVBdGFrZS5OYW1lID0gIklsbHVzaXZlQXRha2UiDQoJSWxsdXNpdmVBdGFrZS5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIElsbHVzaXZlQXRha2UpDQoNCglJbGx1c2l2ZUF0YWtlRW5hYmxlZCA9IGZhbHNlDQoNCglJbGx1c2l2ZUF0YWtlLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIElsbHVzaXZlQXRha2VFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUlsbHVzaXZlQXRha2VFbmFibGVkID0gdHJ1ZQ0KCQkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJSWxsdXNpdmVBdGFrZUVuYWJsZWQgPSBmYWxzZQ0KCQkJSWxsdXNpdmVBdGFrZS5UZXh0ID0gIklsbHVzaXZlIEF0YWtlIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEV0aGVyZWFsIEFjdW1lbiBIYWNrDQoNCglsb2NhbCBFdGhlcmVhbEFjdW1lbiA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJRXRoZXJlYWxBY3VtZW4uTmFtZSA9ICJFdGhlcmVhbEFjdW1lbiINCglFdGhlcmVhbEFjdW1lbi5UZXh0ID0gIkV0aGVyZWFsIEFjdW1lbiBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBFdGhlcmVhbEFjdW1lbikNCg0KCUV0aGVyZWFsQWN1bWVuRW5hYmxlZCA9IGZhbHNlDQoNCglFdGhlcmVhbEFjdW1lbi5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJRXRoZXJlYWxBY3VtZW5FbmFibGVkID0gdHJ1ZQ0KCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT04pIg0KCQllbHNlDQoJCQlFdGhlcmVhbEFjdW1lbkVuYWJsZWQgPSBmYWxzZQ0KCQkJRXRoZXJlYWxBY3VtZW4uVGV4dCA9ICJFdGhlcmVhbCBBY3VtZW4gSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRm9ybWlkYWJsZSBSb2FyIEhhY2sNCg0KCWxvY2FsIEZvcm1pZGFibGVSb2FyID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglGb3JtaWRhYmxlUm9hci5OYW1lID0gIkZvcm1pZGFibGVSb2FyIg0KCUZvcm1pZGFibGVSb2FyLlRleHQgPSAiRm9ybWlkYWJsZSBSb2FyIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEZvcm1pZGFibGVSb2FyKQ0KDQoJRm9ybWlkYWJsZVJvYXJFbmFibGVkID0gZmFsc2UNCg0KCUZvcm1pZGFibGVSb2FyLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGb3JtaWRhYmxlUm9hckVuYWJsZWQgPSB0cnVlDQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUZvcm1pZGFibGVSb2FyRW5hYmxlZCA9IGZhbHNlDQoJCQlGb3JtaWRhYmxlUm9hci5UZXh0ID0gIkZvcm1pZGFibGUgUm9hciBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBUb3hpYyBCYXNpbGlzayBIYWNrDQoNCglsb2NhbCBUb3hpY0Jhc2lsaXNrID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUb3hpY0Jhc2lsaXNrLk5hbWUgPSAiVG94aWNCYXNpbGlzayINCglUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVG94aWNCYXNpbGlzaykNCg0KCVRveGljQmFzaWxpc2tFbmFibGVkID0gZmFsc2UNCg0KCVRveGljQmFzaWxpc2suTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJVG94aWNCYXNpbGlza0VuYWJsZWQgPSB0cnVlDQoJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT04pIg0KCQllbHNlDQoJCQlUb3hpY0Jhc2lsaXNrRW5hYmxlZCA9IGZhbHNlDQoJCQlUb3hpY0Jhc2lsaXNrLlRleHQgPSAiVG94aWMgQmFzaWxpc2sgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gQXJjYW5lIEd1YXJkaWFuIEhhY2sNCg0KCWxvY2FsIEFyY2FuZUd1YXJkaWFuID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglBcmNhbmVHdWFyZGlhbi5OYW1lID0gIkFyY2FuZUd1YXJkaWFuIg0KCUFyY2FuZUd1YXJkaWFuLlRleHQgPSAiQXJjYW5lIEd1YXJkaWFuIEhhY2sgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFyY2FuZUd1YXJkaWFuKQ0KDQoJQXJjYW5lR3VhcmRpYW5FbmFibGVkID0gZmFsc2UNCg0KCUFyY2FuZUd1YXJkaWFuLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBcmNhbmVHdWFyZGlhbkVuYWJsZWQgPSB0cnVlDQoJCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPTikiDQoJCWVsc2UNCgkJCUFyY2FuZUd1YXJkaWFuRW5hYmxlZCA9IGZhbHNlDQoJCQlBcmNhbmVHdWFyZGlhbi5UZXh0ID0gIkFyY2FuZSBHdWFyZGlhbiBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBTcGxpdHRpbmcgU2xpbWUgSGFjaw0KDQoJbG9jYWwgU3BsaXR0aW5nU2xpbWUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNwbGl0dGluZ1NsaW1lLk5hbWUgPSAiU3BsaXR0aW5nU2xpbWUiDQoJU3BsaXR0aW5nU2xpbWUuVGV4dCA9ICJTcGxpdHRpbmcgU2xpbWUgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BsaXR0aW5nU2xpbWUpDQoNCglTcGxpdHRpbmdTbGltZUVuYWJsZWQgPSBmYWxzZQ0KDQoJU3BsaXR0aW5nU2xpbWUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU3BsaXR0aW5nU2xpbWVFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVNwbGl0dGluZ1NsaW1lRW5hYmxlZCA9IHRydWUNCgkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJU3BsaXR0aW5nU2xpbWVFbmFibGVkID0gZmFsc2UNCgkJCVNwbGl0dGluZ1NsaW1lLlRleHQgPSAiU3BsaXR0aW5nIFNsaW1lIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIERvdWJsZSBSYXkgSGFjaw0KDQoJbG9jYWwgRG91YmxlUmF5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglEb3VibGVSYXkuTmFtZSA9ICJEb3VibGVSYXkiDQoJRG91YmxlUmF5LlRleHQgPSAiRG91YmxlIFJheSBIYWNrIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBEb3VibGVSYXkpDQoNCglEb3VibGVSYXkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IERvdWJsZVJheUVuYWJsZWQgdGhlbg0KCQkJRG91YmxlUmF5RW5hYmxlZCA9IHRydWUNCgkJCURvdWJsZVJheS5UZXh0ID0gIkRvdWJsZSBSYXkgSGFjayAoT04pIg0KCQllbHNlDQoJCQlEb3VibGVSYXlFbmFibGVkID0gZmFsc2UNCgkJCURvdWJsZVJheS5UZXh0ID0gIkRvdWJsZSBSYXkgSGFjayAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gTGlnaHRuaW5nIEJhcnJhZ2UgSGFjaw0KDQoJbG9jYWwgQmFycmFnZSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQmFycmFnZS5OYW1lID0gIkJhcnJhZ2UiDQoJQmFycmFnZS5UZXh0ID0gIkJhcnJhZ2UgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQmFycmFnZSkNCg0KCUJhcnJhZ2UuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgbm90IFN0b3JtQnVsbGV0c0VuYWJsZWQgdGhlbg0KCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IHRydWUNCgkJCUJhcnJhZ2UuVGV4dCA9ICJCYXJyYWdlIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJU3Rvcm1CdWxsZXRzRW5hYmxlZCA9IGZhbHNlDQoJCQlCYXJyYWdlLlRleHQgPSAiQmFycmFnZSBIYWNrIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCgktLSBWaXJ0dWFsIFpvbmUgSGFjaw0KDQoJbG9jYWwgVmlydHVhbFpvbmUgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpcnR1YWxab25lLk5hbWUgPSAiVmlydHVhbFpvbmUiDQoJVmlydHVhbFpvbmUuVGV4dCA9ICJWaXJ0dWFsIFpvbmUgSGFjayAoT0ZGKSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVmlydHVhbFpvbmUpDQoNCglWaXJ0dWFsWm9uZUVuYWJsZWQgPSBmYWxzZQ0KDQoJVmlydHVhbFpvbmUuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVmlydHVhbFpvbmVFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVZpcnR1YWxab25lRW5hYmxlZCA9IHRydWUNCgkJCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9OKSINCgkJZWxzZQ0KCQkJVmlydHVhbFpvbmVFbmFibGVkID0gZmFsc2UNCgkJCVZpcnR1YWxab25lLlRleHQgPSAiVmlydHVhbCBab25lIEhhY2sgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIEFudGktQmxpbmQNCg0KCWxvY2FsIEFudGlCbGluZCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUJsaW5kLk5hbWUgPSAiQW50aUJsaW5kIg0KCUFudGlCbGluZC5UZXh0ID0gIkFudGktQmxpbmQgKE9GRikgW0tdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpQmxpbmQpDQoNCglBbnRpQmxpbmRFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIG5vcm1hbEZvZ0NvbG9yID0gZ2FtZS5MaWdodGluZy5Gb2dDb2xvcg0KCWxvY2FsIG5vcm1hbEZvZ0VuZCA9IGdhbWUuTGlnaHRpbmcuRm9nRW5kDQoJbG9jYWwgbm9ybWFsQnJpZ2h0bmVzcyA9IGdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcw0KCWxvY2FsIG5vcm1hbENsb2NrVGltZSA9IGdhbWUuTGlnaHRpbmcuQ2xvY2tUaW1lDQoNCglsb2NhbCBmdW5jdGlvbiBBbnRpQmxpbmRGdW5jKCkNCgkJaWYgQW50aUJsaW5kRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpQmxpbmRFbmFibGVkID0gdHJ1ZQ0KCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT04pIFtLXSINCgkJCXdoaWxlIEFudGlCbGluZEVuYWJsZWQgZG8NCgkJCQl3YWl0KCkNCgkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0NvbG9yID0gbm9ybWFsRm9nQ29sb3INCgkJCQlnYW1lLkxpZ2h0aW5nLkZvZ0VuZCA9IG5vcm1hbEZvZ0VuZA0KCQkJCWdhbWUuTGlnaHRpbmcuQnJpZ2h0bmVzcyA9IG5vcm1hbEJyaWdodG5lc3MNCgkJCQlnYW1lLkxpZ2h0aW5nLkNsb2NrVGltZSA9IG5vcm1hbENsb2NrVGltZQ0KCQkJZW5kDQoJCWVsc2UNCgkJCUFudGlCbGluZEVuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUJsaW5kLlRleHQgPSAiQW50aS1CbGluZCAoT0ZGKSBbS10iDQoJCWVuZA0KCWVuZA0KDQoJQW50aUJsaW5kLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChBbnRpQmxpbmRGdW5jKQ0KDQoJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkNCgkJaWYgQW50aUJsaW5kRW5hYmxlZCB0aGVuDQoJCQlpZiBkLk5hbWUgPT0gIlNjcmVlbkd1aSIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuU2NyZWVuR3VpOkRlc3Ryb3koKQ0KCQkJZWxzZWlmIGQuTmFtZSA9PSAiRGlzdG9ydCIgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuRGlzdG9ydDpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBBbnRpLUxhZw0KDQoJbG9jYWwgQW50aUxhZyA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUxhZy5OYW1lID0gIkFudGlMYWciDQoJQW50aUxhZy5UZXh0ID0gIkFudGktTGFnIChPRkYpIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBBbnRpTGFnKQ0KDQoJQW50aUxhZ0VuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gcmVtb3ZlTGFnKCkNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkxvY2FsRWZmZWN0cyddOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OkZpbmRGaXJzdENoaWxkKCJNZXNoIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQxIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkQyIikgdGhlbg0KCQkJCWlmIHYuRDEuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzI2NzE2MjI2NDYiIHRoZW4NCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiB2OkZpbmRGaXJzdENoaWxkKCJGcm9udERlY2FsIikgYW5kIHY6RmluZEZpcnN0Q2hpbGQoIkJhY2tEZWNhbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkKCJTcGVjaWFsTWVzaCIpIHRoZW4NCgkJCQlpZiB2LkZyb250RGVjYWwuVGV4dHVyZSA9PSAicmJ4YXNzZXRpZDovLzk3OTAwNDI5MSIgdGhlbg0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZWxzZWlmICh2Lk5hbWUgPT0gIk9yYml0YWxTdHJpa2UiKSBvciAodi5OYW1lID09ICJCb2x0UGFydCIpIG9yIChzdHJpbmcuc3ViKHYuTmFtZSwgMSwgMTApID09ICJTb3VuZF9UZWNoIikgdGhlbg0KCQkJCXY6RGVzdHJveSgpDQoJCQllbmQNCgkJZW5kDQoNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLkF0dGFja3MnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4NCgkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJZm9yIF8sIHggaW4gcGFpcnModi5DaGFyYWN0ZXI6R2V0Q2hpbGRyZW4oKSkgZG8NCgkJCQlpZiB4Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4NCgkJCQkJeDpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWdhbWUuV29ya3NwYWNlLkRlc2NlbmRhbnRBZGRlZDpjb25uZWN0KGZ1bmN0aW9uKHYpDQoJCWlmIEFudGlMYWdFbmFibGVkIHRoZW4NCgkJCWlmIHY6RmluZEZpcnN0Q2hpbGQoIk1lc2giKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDEiKSBhbmQgdjpGaW5kRmlyc3RDaGlsZCgiRDIiKSB0aGVuDQoJCQkJaWYgdi5EMS5UZXh0dXJlID09ICJyYnhhc3NldGlkOi8vMjY3MTYyMjY0NiIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiB2Lk5hbWUgPT0gIkFuZ2VsU3dvcmQiIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6RmluZEZpcnN0Q2hpbGQoIkZyb250RGVjYWwiKSB0aGVuDQoJCQkJaWYgdi5Gcm9udERlY2FsLlRleHR1cmUgPT0gInJieGFzc2V0aWQ6Ly85NzkwMDQyOTEiIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZW5kDQoJCQllbHNlaWYgdi5Db2xvciA9PSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApIHRoZW4NCgkJCQlpZiB2Lk1lc2guTWVzaFR5cGUgPT0gIlNwaGVyZSIgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbmQNCgkJCWVsc2VpZiAodi5OYW1lID09ICJPcmJpdGFsU3RyaWtlIikgb3IgKHYuTmFtZSA9PSAiQm9sdFBhcnQiKSBvciAoc3RyaW5nLnN1Yih2Lk5hbWUsIDEsIDEwKSA9PSAiU291bmRfVGVjaCIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZCkNCg0KCUFudGlMYWcuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQW50aUxhZ0VuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJQW50aUxhZ0VuYWJsZWQgPSB0cnVlDQoJCQlBbnRpTGFnLlRleHQgPSAiQW50aS1MYWcgKE9OKSINCgkJCXJlbW92ZUxhZygpDQoJCWVsc2UNCgkJCUFudGlMYWdFbmFibGVkID0gZmFsc2UNCgkJCUFudGlMYWcuVGV4dCA9ICJBbnRpLUxhZyAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gSW5maW5pdGUgU3ByaW50DQoNCglsb2NhbCBTcGVlZGhhY2sgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVNwZWVkaGFjay5OYW1lID0gIlNwZWVkaGFjayINCglTcGVlZGhhY2suVGV4dCA9ICJTcGVlZGhhY2sgW2RlZmF1bHQgNjRdIChPRkYpIFtUXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU3BlZWRoYWNrKQ0KDQoJU3BlZWRoYWNrRW5hYmxlZCA9IGZhbHNlDQoJU2V0U3BlZWQgPSA2NA0KDQoJZnVuY3Rpb24gbW9kaWZ5U3BlZWQoKQ0KCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpLkNoYW5nZWQ6Y29ubmVjdChmdW5jdGlvbigpDQoJCQlpZiBTcGVlZGhhY2tFbmFibGVkIGFuZCBTZXRTcGVlZCB+PSBuaWwgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuV2Fsa1NwZWVkID0gU2V0U3BlZWQNCgkJCWVsc2UNCgkJCQlyZXR1cm4NCgkJCWVuZA0KCQllbmQpDQoJZW5kDQoNCglmdW5jdGlvbiBiZWdpblNwZWVkKCkNCgkJaWYgU3BlZWRoYWNrRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTcGVlZGhhY2tFbmFibGVkID0gdHJ1ZQ0KCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT04pIFtUXSINCgkJCW1vZGlmeVNwZWVkKCkNCgkJCXdhaXQoKQ0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJd2hpbGUgU3BlZWRoYWNrRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJbW9kaWZ5U3BlZWQoKQ0KCQkJCQl3YWl0KCkNCgkJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5XYWxrU3BlZWQgPSBTZXRTcGVlZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCVNwZWVkaGFja0VuYWJsZWQgPSBmYWxzZQ0KCQkJU3BlZWRoYWNrLlRleHQgPSAiU3BlZWRoYWNrIFtkZWZhdWx0IDY0XSAoT0ZGKSBbVF0iDQoJCWVuZA0KCWVuZA0KDQoJU3BlZWRoYWNrLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChiZWdpblNwZWVkKQ0KDQoJLS0gU2FucyBJbW11bml0eQ0KDQoJbG9jYWwgU2Fuc0ltbXVuaXR5ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTYW5zSW1tdW5pdHkuTmFtZSA9ICJTYW5zSW1tdW5pdHkiDQoJU2Fuc0ltbXVuaXR5LlRleHQgPSAiRW5hYmxlIFNhbnMgSW1tdW5pdHkiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFNhbnNJbW11bml0eSkNCg0KCVNhbnNJbW11bml0eS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoZnVuY3Rpb24oKQ0KCQlpZiBzYW5zS2lsbGVkID09IG5pbCB0aGVuDQogICAgCQlsb2NhbCBzYW5zSGVhZCA9IGdhbWUuV29ya3NwYWNlLk1hcC5Vcldobw0KCQkJcHJpbnQoIkdvdCB0aGUgaGVhZCBtb2RlbCIpDQoJCQlsb2NhbCB5b3Vyc1RydWx5ID0gc2Fuc0hlYWRbIm1lPyJdDQoJCQlwcmludCgiR290IHRoZSBoZWFkIHBhcnQiKQ0KCQkJbG9jYWwgc0luZGljID0gSW5zdGFuY2UubmV3KCJQYXJ0IikNCgkJCXNJbmRpYy5QYXJlbnQgPSBnYW1lLndvcmtzcGFjZS5NYXANCgkJCXByaW50KCJDcmVhdGVkIGluZGljYXRvciBwYXJ0IikNCiAgICAgICAgICAgIC0tIFZhcmlhYmxlcyBhc3NpZ25lZA0KCQkJaWYgc0luZGljIHRoZW4NCiAgICAJCQlzSW5kaWMuQW5jaG9yZWQgPSB0cnVlDQogICAJCQkJc0luZGljLk5hbWUgPSAiU2Fuc0luZGljYXRvciINCiAgICAJCQlzSW5kaWMuTWF0ZXJpYWwgPSBFbnVtLk1hdGVyaWFsLk5lb24NCiAgICAJCQlzSW5kaWMuU2hhcGUgPSBFbnVtLlBhcnRUeXBlLkJhbGwNCiAgICAJCQlzSW5kaWMuQnJpY2tDb2xvciA9IEJyaWNrQ29sb3IubmV3KCJUb290aHBhc3RlIikNCiAgICAJCQlzSW5kaWMuU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpDQogICAgCQkJc0luZGljLlBvc2l0aW9uID0geW91cnNUcnVseS5Qb3NpdGlvbg0KCQkJCXdhcm4oIkZpbmlzaGVkIGluZGljYXRvciIpDQoJCQkJLS0gSW5kaWNhdG9yIGNyZWF0ZWQNCiAgICAgICAgICAgIAl5b3Vyc1RydWx5LlRvdWNoSW50ZXJlc3Q6RGVzdHJveSgpDQogICAgCQkJeW91cnNUcnVseTpEZXN0cm95KCkNCiAgICAJCQl5b3Vyc1RydWx5ID0gbmlsDQogICAgCQkJc2Fuc0hlYWQ6RGVzdHJveSgpDQogICAgCQkJc2Fuc0hlYWQgPSBuaWwNCgkJCQlTYW5zSW1tdW5pdHkuVGV4dCA9ICJTYW5zIEltbXVuaXR5IEVuYWJsZWQiDQoJCQkJLS0gU2FucyBoZWFkIGRlc3Ryb3llZCwgdmFyaWFibGVzIG5pbCdkIHRvIHByZXZlbnQgbWVtb3J5IGxlYWsNCgkJCWVsc2UNCgkJCQl3YXJuKCJTb21ldGhpbmcgd2VudCB3cm9uZyBjcmVhdGluZyB0aGUgaW5kaWNhdG9yIHBhcnQuIikNCgkJCQlTYW5zSW1tdW5pdHkuVGV4dCA9ICJFcnJvcjsgQ2hlY2sgQ29uc29sZSINCgkJCWVuZA0KCQllbHNlDQoJCQllcnJvcigiVW5leHBlY3RlZCB2YWx1ZSBmb3Igc2Fuc0tpbGxlZC4gRXhwZWN0ZWQgbmlsLCBnb3QgJyIgLi4gc2Fuc0tpbGxlZCkgDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFRlbGVwb3J0IHRvIFNhbnMgSGVhZA0KDQoJbG9jYWwgU2Fuc1RlbGVwb3J0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglTYW5zVGVsZXBvcnQuTmFtZSA9ICJTYW5zVGVsZXBvcnQiDQoJU2Fuc1RlbGVwb3J0LlRleHQgPSAiVGVsZXBvcnQgdG8gU2FucyBIZWFkIChPRkYpIFtQXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgU2Fuc1RlbGVwb3J0KQ0KDQoJU2Fuc1RlbGVwb3J0RW5hYmxlZCA9IGZhbHNlDQoNCglTYW5zVGVsZXBvcnQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgU2Fuc1RlbGVwb3J0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlTYW5zVGVsZXBvcnRFbmFibGVkID0gdHJ1ZQ0KCQkJU2Fuc1RlbGVwb3J0LlRleHQgPSAiVGVsZXBvcnQgdG8gU2FucyBIZWFkIChPTikgW1BdIg0KCQllbHNlDQoJCQlTYW5zVGVsZXBvcnRFbmFibGVkID0gZmFsc2UNCgkJCVNhbnNUZWxlcG9ydC5UZXh0ID0gIlRlbGVwb3J0IHRvIFNhbnMgSGVhZCAoT0ZGKSBbUF0iDQoJCWVuZA0KCWVuZCkNCg0KCS0tIElnbm9yZSBQaHlzaWNzDQoNCglsb2NhbCBJZ25vcmVQaHlzaWNzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglJZ25vcmVQaHlzaWNzLk5hbWUgPSAiZklnbm9yZVBoeXNpY3MiDQoJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPRkYpIFtaXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgSWdub3JlUGh5c2ljcykNCg0KCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIGZ1bmN0aW9uIGluaXRpYWxOdWxsaWZ5Rm9yY2VzKCkNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCg0KCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkZsaXBzSG9sZGVyOkdldENoaWxkcmVuKCkpIGRvDQoJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQl3YWl0KCkNCgkJCQl2OkRlc3Ryb3koKQ0KCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCXdhaXQoKQ0KCQkJCXY6RGVzdHJveSgpDQoJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJd2FpdCgpDQoJCQkJdjpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIEFmdGVyTnVsbGlmeUZvcmNlcygpDQoJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuRGVzY2VuZGFudEFkZGVkOmNvbm5lY3QoZnVuY3Rpb24odikNCgkJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkIHRoZW4NCgkJCQlpZiB2OklzQSgiQm9keUd5cm8iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVsc2VpZiB2OklzQSgiQm9keVBvc2l0aW9uIikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlWZWxvY2l0eSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5QW5ndWxhclZlbG9jaXR5IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIkJvZHlGb3JjZSIpIHRoZW4NCgkJCQkJd2FpdCgpDQoJCQkJCXY6RGVzdHJveSgpDQoJCQkJZWxzZWlmIHY6SXNBKCJCb2R5VGhydXN0IikgdGhlbg0KCQkJCQl3YWl0KCkNCgkJCQkJdjpEZXN0cm95KCkNCgkJCQllbHNlaWYgdjpJc0EoIlJvY2tldFByb3B1bHNpb24iKSB0aGVuDQoJCQkJCXdhaXQoKQ0KCQkJCQl2OkRlc3Ryb3koKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZCkNCgllbmQNCg0KCWZ1bmN0aW9uIGJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCWlmIElnbm9yZVBoeXNpY3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gdHJ1ZQ0KCQkJSWdub3JlUGh5c2ljcy5UZXh0ID0gIklnbm9yZSBQaHlzaWNzIChPTikgW1pdIg0KCQkJaW5pdGlhbE51bGxpZnlGb3JjZXMoKQ0KCQkJQWZ0ZXJOdWxsaWZ5Rm9yY2VzKCkNCgkJCXdoaWxlIElnbm9yZVBoeXNpY3NFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlBZnRlck51bGxpZnlGb3JjZXMoKQ0KCQkJCWVuZA0KCQkJZW5kDQoJCWVsc2UNCgkJCUlnbm9yZVBoeXNpY3NFbmFibGVkID0gZmFsc2UNCgkJCUlnbm9yZVBoeXNpY3MuVGV4dCA9ICJJZ25vcmUgUGh5c2ljcyAoT0ZGKSBbWl0iDQoJCWVuZA0KCWVuZA0KDQoJSWdub3JlUGh5c2ljcy5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoYmVnaW5OdWxsaWZ5Rm9yY2VzKQ0KDQoJLS0gQW50aS1HcmF2aXR5DQoNCglsb2NhbCBBbnRpR3Jhdml0eSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQW50aUdyYXZpdHkuTmFtZSA9ICJBbnRpR3Jhdml0eSINCglBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT0ZGKSBbR10iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEFudGlHcmF2aXR5KQ0KDQoJQW50aUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCWZ1bmN0aW9uIEFudGlHcmF2aXR5RnVuYygpDQoJCWlmIEFudGlHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlBbnRpR3Jhdml0eS5UZXh0ID0gIkFudGktR3Jhdml0eSAoT04pIFtHXSINCgkJCWxvY2FsIEJvZHlGb3JjZSA9IEluc3RhbmNlLm5ldygiQm9keUZvcmNlIikNCgkJCUJvZHlGb3JjZS5QYXJlbnQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQNCgkJCUJvZHlGb3JjZS5OYW1lID0gIkFudGlHcmF2aXR5Rm9yY2UiDQoJCQlCb2R5Rm9yY2UuRm9yY2UgPSBWZWN0b3IzLm5ldygwLCA1MDAwLCAwKQ0KCQllbHNlDQoJCQlBbnRpR3Jhdml0eUVuYWJsZWQgPSBmYWxzZQ0KCQkJQW50aUdyYXZpdHkuVGV4dCA9ICJBbnRpLUdyYXZpdHkgKE9GRikgW0ddIg0KCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0OkZpbmRGaXJzdENoaWxkKCJBbnRpR3Jhdml0eUZvcmNlIikgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbnRpR3Jhdml0eUZvcmNlOkRlc3Ryb3koKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJQW50aUdyYXZpdHkuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KEFudGlHcmF2aXR5RnVuYykNCg0KCS0tIEluZXJ0aWEgR3Jhdml0eQ0KDQoJbG9jYWwgSW5lcnRpYUdyYXZpdHkgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUluZXJ0aWFHcmF2aXR5Lk5hbWUgPSAiSW5lcnRpYUdyYXZpdHkiDQoJSW5lcnRpYUdyYXZpdHkuVGV4dCA9ICJJbmVydGlhIEdyYXZpdHkgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIEluZXJ0aWFHcmF2aXR5KQ0KDQoJSW5lcnRpYUdyYXZpdHlFbmFibGVkID0gZmFsc2UNCg0KCUluZXJ0aWFHcmF2aXR5Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlJbmVydGlhR3Jhdml0eUVuYWJsZWQgPSB0cnVlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT04pIg0KCQkJbG9jYWwgQm9keUZvcmNlID0gSW5zdGFuY2UubmV3KCJCb2R5Rm9yY2UiKQ0KCQkJQm9keUZvcmNlLlBhcmVudCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydA0KCQkJQm9keUZvcmNlLk5hbWUgPSAiSW5lcnRpYUdyYXZpdHlGb3JjZSINCgkJCUJvZHlGb3JjZS5Gb3JjZSA9IFZlY3RvcjMubmV3KDAsIDE2MzgsIDApDQoJCWVsc2UNCgkJCUluZXJ0aWFHcmF2aXR5RW5hYmxlZCA9IGZhbHNlDQoJCQlJbmVydGlhR3Jhdml0eS5UZXh0ID0gIkluZXJ0aWEgR3Jhdml0eSAoT0ZGKSINCgkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydDpGaW5kRmlyc3RDaGlsZCgiSW5lcnRpYUdyYXZpdHlGb3JjZSIpIHRoZW4NCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuSW5lcnRpYUdyYXZpdHlGb3JjZTpEZXN0cm95KCkNCgkJCWVuZA0KCQllbmQNCgllbmQpDQoNCgktLSBDbGljay1UUA0KDQoJbG9jYWwgQ2xpY2tUUCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJQ2xpY2tUUC5OYW1lID0gIkNsaWNrVFAiDQoJQ2xpY2tUUC5UZXh0ID0gIkNsaWNrLVRQIChPRkYpIFtKIHRvIHRwIHRvIG1vdXNlXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgQ2xpY2tUUCkNCg0KCUNsaWNrVFBFbmFibGVkID0gZmFsc2UNCg0KCUNsaWNrVFAuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgQ2xpY2tUUEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQlDbGlja1RQRW5hYmxlZCA9IGZhbHNlDQoJCQlDbGlja1RQLlRleHQgPSAiQ2xpY2stVFAgKE9GRikgW0ogdG8gQ2xpY2stVFBdIg0KCQllbHNlDQoJCQlDbGlja1RQRW5hYmxlZCA9IHRydWUNCgkJCUNsaWNrVFAuVGV4dCA9ICJDbGljay1UUCAoT04pIFtKIHRvIENsaWNrLVRQXSINCgkJZW5kDQoJZW5kKQ0KDQoJZnVuY3Rpb24gY2xpY2t0cChwb3NpdGlvbikNCgkJbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyDQoJCWlmIHBsYXllciA9PSBuaWwgb3IgcGxheWVyLkNoYXJhY3RlciA9PSBuaWwgdGhlbiByZXR1cm4gZW5kDQoJCXBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBDRnJhbWUubmV3KFZlY3RvcjMubmV3KHBvc2l0aW9uLngsIHBvc2l0aW9uLnkgKyAzLCBwb3NpdGlvbi56KSkNCgllbmQNCg0KCS0tIEZyZWV6ZQ0KDQoJbG9jYWwgRnJlZXplID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglGcmVlemUuTmFtZSA9ICJGcmVlemUiDQoJRnJlZXplLlRleHQgPSAiRnJlZXplIChPRkYpIFtGXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgRnJlZXplKQ0KDQoJRnJlZXplRW5hYmxlZCA9IGZhbHNlDQoNCglmdW5jdGlvbiBGcmVlemVGdW5jKCkNCgkJaWYgRnJlZXplRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGcmVlemVFbmFibGVkID0gdHJ1ZQ0KCQkJRnJlZXplLlRleHQgPSAiRnJlZXplIChPTikgW0ZdIg0KCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gdHJ1ZQ0KCQllbHNlDQoJCQlGcmVlemVFbmFibGVkID0gZmFsc2UNCgkJCUZyZWV6ZS5UZXh0ID0gIkZyZWV6ZSAoT0ZGKSBbRl0iDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSBmYWxzZQ0KCQllbmQNCgllbmQNCg0KCUZyZWV6ZS5Nb3VzZUJ1dHRvbjFEb3duOmNvbm5lY3QoRnJlZXplRnVuYykNCg0KCS0tIExvbmcgRmxhc2gNCg0KCWxvY2FsIExGbGFzaCA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIpDQoJTEZsYXNoLk5hbWUgPSAiRmxhc2giDQoJTEZsYXNoLlRleHQgPSAiTG9uZyBGbGFzaCAoT0ZGKSBbYCB0byB1c2VdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBMRmxhc2gpDQoNCglGbGFzaEVuYWJsZWQgPSBmYWxzZQ0KDQoJZnVuY3Rpb24gbG9uZ2ZsYXNoKCkNCgkJbG9jYWwgbW91c2Vwb3MgPSBtb3VzZS5IaXQucA0KCQlsb2NhbCBhcmdzID0gew0KCQkJWzFdID0gIlN0b3JtIiwNCgkJCVsyXSA9ICJMaWdodG5pbmcgRmxhc2giDQoJCX0NCgkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJbG9jYWwgYXJncyA9IHsNCgkJCVsxXSA9ICJTdG9ybSIsDQoJCQlbMl0gPSAiTGlnaHRuaW5nIEZsYXNoIiwNCgkJCVszXSA9IHsNCgkJCQlbIkVuZCJdID0gbW91c2Vwb3MsDQoJCQkJWyJPcmlnaW4iXSA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZS5wDQoJCQl9DQoJCX0NCgkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCWVuZA0KDQoJTEZsYXNoLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIEZsYXNoRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlGbGFzaEVuYWJsZWQgPSB0cnVlDQoJCQlMRmxhc2guVGV4dCA9ICJMb25nIEZsYXNoIChPTikgW2AgdG8gdXNlXSINCgkJZWxzZQ0KCQkJRmxhc2hFbmFibGVkID0gZmFsc2UNCgkJCUxGbGFzaC5UZXh0ID0gIkxvbmcgRmxhc2ggKE9GRikgW2AgdG8gdXNlXSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gVmlldyBUYXJnZXQNCg0KCWxvY2FsIFZpZXdUYXJnZXQgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVZpZXdUYXJnZXQuTmFtZSA9ICJWaWV3VGFyZ2V0Ig0KCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT0ZGKSBbVl0iDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFZpZXdUYXJnZXQpDQoNCgl2aWV3aW5nID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHZpZXcoKQ0KCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJaWYgdmlld2luZyA9PSBmYWxzZSB0aGVuDQoJCQkJdmlld2luZyA9IHRydWUNCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlci5IdW1hbm9pZA0KCQkJCVZpZXdUYXJnZXQuVGV4dCA9ICJWaWV3IFRhcmdldCAoT04pIFtWXSINCgkJCWVsc2UNCgkJCQl2aWV3aW5nID0gZmFsc2UNCgkJCQlnYW1lLldvcmtzcGFjZS5DYW1lcmEuQ2FtZXJhU3ViamVjdCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQNCgkJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9GRikgW1ZdIg0KCQkJZW5kDQoJCWVsc2VpZiB2aWV3aW5nID09IHRydWUgdGhlbiANCgkJCXZpZXdpbmcgPSBmYWxzZQ0KCQkJZ2FtZS5Xb3Jrc3BhY2UuQ2FtZXJhLkNhbWVyYVN1YmplY3QgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkDQoJCQlWaWV3VGFyZ2V0LlRleHQgPSAiVmlldyBUYXJnZXQgKE9GRikgW1ZdIg0KCQllbmQNCgllbmQNCg0KCVZpZXdUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KHZpZXcpDQoNCgktLSBUZWxlcG9ydCB0byBUYXJnZXQNCg0KCWxvY2FsIFRQVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUFRhcmdldC5OYW1lID0gIlRQVGFyZ2V0Ig0KCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPRkYpIFtVXSINCgl0YWJsZS5pbnNlcnQoYnV0dG9ucywgVFBUYXJnZXQpDQoNCglUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KDQoJbG9jYWwgZnVuY3Rpb24gVFBUb1RhcmdldCgpDQoJCWlmIFRQVGFyZ2V0RW5hYmxlZCBhbmQgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyKQ0KDQoJCQlnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuQ0ZyYW1lID0gZ2V0SFJQKGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcikuQ0ZyYW1lDQoJCWVuZA0KCWVuZA0KDQoJVFBUYXJnZXQuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgVFBUYXJnZXRFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQVGFyZ2V0RW5hYmxlZCA9IHRydWUNCgkJCVRQVGFyZ2V0LlRleHQgPSAiVGVsZXBvcnQgVG8gVGFyZ2V0IChPTikgW1VdIg0KCQllbHNlDQoJCQlUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KCQkJVFBUYXJnZXQuVGV4dCA9ICJUZWxlcG9ydCBUbyBUYXJnZXQgKE9GRikgW1VdIg0KCQllbmQNCgllbmQpDQoNCgktLSBMb29wIFRlbGVwb3J0IHRvIFRhcmdldA0KDQoJbG9jYWwgTG9vcFRQVGFyZ2V0ID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglMb29wVFBUYXJnZXQuTmFtZSA9ICJMb29wVFBUYXJnZXQiDQoJTG9vcFRQVGFyZ2V0LlRleHQgPSAiTG9vcCBUZWxlcG9ydCBUbyBUYXJnZXQgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIExvb3BUUFRhcmdldCkNCg0KCUxvb3BUUFRhcmdldEVuYWJsZWQgPSBmYWxzZQ0KDQoJTG9vcFRQVGFyZ2V0Lk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIExvb3BUUFRhcmdldEVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IHRydWUNCgkJCUxvb3BUUFRhcmdldC5UZXh0ID0gIkxvb3AgVGVsZXBvcnQgVG8gVGFyZ2V0IChPTikiDQoJCQl3aGlsZSBMb29wVFBUYXJnZXRFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJVFBUb1RhcmdldCgpDQoJCQllbmQNCgkJZWxzZQ0KCQkJTG9vcFRQVGFyZ2V0RW5hYmxlZCA9IGZhbHNlDQoJCQlMb29wVFBUYXJnZXQuVGV4dCA9ICJMb29wIFRlbGVwb3J0IFRvIFRhcmdldCAoT0ZGKSINCgkJZW5kDQoJZW5kKQ0KDQoJLS0gRVNQDQoNCglsb2NhbCBFU1AgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCUVTUC5OYW1lID0gIkVTUCINCglFU1AuVGV4dCA9ICJFU1AgKE9GRikgW0JdIg0KCXRhYmxlLmluc2VydChidXR0b25zLCBFU1ApDQoNCglFU1BFbmFibGVkID0gZmFsc2UNCg0KCWxvY2FsIEhvbGRlciA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgZ2FtZS5Db3JlR3VpKQ0KCUhvbGRlci5OYW1lID0gIkVTUCINCg0KCWxvY2FsIFVwZGF0ZUZ1bmNzID0ge30NCg0KCWxvY2FsIEJveCA9IEluc3RhbmNlLm5ldygiQm94SGFuZGxlQWRvcm5tZW50IikNCglCb3guTmFtZSA9ICJuaWxCb3giDQoJQm94LlNpemUgPSBWZWN0b3IzLm5ldyg0LCA3LCA0KQ0KCUJveC5Db2xvcjMgPSBDb2xvcjMubmV3KDEwMCAvIDI1NSwgMTAwIC8gMjU1LCAxMDAgLyAyNTUpDQoJQm94LlRyYW5zcGFyZW5jeSA9IDAuNw0KCUJveC5aSW5kZXggPSAwDQoJQm94LkFsd2F5c09uVG9wID0gdHJ1ZQ0KCUJveC5WaXNpYmxlID0gdHJ1ZQ0KDQoJbG9jYWwgTmFtZVRhZyA9IEluc3RhbmNlLm5ldygiQmlsbGJvYXJkR3VpIikNCglOYW1lVGFnLk5hbWUgPSAibmlsTmFtZVRhZyINCglOYW1lVGFnLkVuYWJsZWQgPSB0cnVlDQoJTmFtZVRhZy5TaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNTApDQoJTmFtZVRhZy5BbHdheXNPblRvcCA9IHRydWUNCglOYW1lVGFnLlN0dWRzT2Zmc2V0ID0gVmVjdG9yMy5uZXcoMCwgMy42LCAwKQ0KDQoJbG9jYWwgVGFnID0gSW5zdGFuY2UubmV3KCJUZXh0TGFiZWwiLCBOYW1lVGFnKQ0KCVRhZy5OYW1lID0gIlRhZyINCglUYWcuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDENCglUYWcuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTUwLCAwLCAwKQ0KCVRhZy5TaXplID0gVURpbTIubmV3KDAsIDMwMCwgMCwgMjApDQoJVGFnLlRleHRTaXplID0gMjANCglUYWcuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMTAwIC8gMjU1LCAxMDAgLyAyNTUsIDEwMCAvIDI1NSkNCglUYWcuVGV4dFN0cm9rZUNvbG9yMyA9IENvbG9yMy5uZXcoMCAvIDI1NSwgMCAvIDI1NSwgMCAvIDI1NSkNCglUYWcuVGV4dFN0cm9rZVRyYW5zcGFyZW5jeSA9IDAuNA0KCVRhZy5UZXh0ID0gIm5pbCINCglUYWcuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCVRhZy5UZXh0U2NhbGVkID0gZmFsc2UNCglUYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDANCg0KCWZ1bmN0aW9uIExvYWRDaGFyYWN0ZXIodikNCgkJaWYgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJcmVwZWF0IHdhaXQoKSB1bnRpbCB2LkNoYXJhY3RlciB+PSBuaWwNCgkJCXYuQ2hhcmFjdGVyOldhaXRGb3JDaGlsZCgiSHVtYW5vaWQiKQ0KCQkJbG9jYWwgdkhvbGRlciA9IEhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUpDQoJCQl2SG9sZGVyOkNsZWFyQWxsQ2hpbGRyZW4oKQ0KDQoJCQlsb2NhbCBiID0gQm94OkNsb25lKCkNCgkJCWIuTmFtZSA9IHYuTmFtZSAuLiAiQm94Ig0KCQkJYi5BZG9ybmVlID0gdi5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydA0KCQkJYi5QYXJlbnQgPSB2SG9sZGVyDQoNCgkJCWxvY2FsIHQgPSBOYW1lVGFnOkNsb25lKCkNCgkJCXQuTmFtZSA9IHYuTmFtZSAuLiAiTmFtZVRhZyINCgkJCXQuUGFyZW50ID0gdkhvbGRlcg0KCQkJdC5BZG9ybmVlID0gdi5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IiwgNSkNCgkJCWlmIG5vdCB0LkFkb3JuZWUgdGhlbg0KCQkJCXJldHVybiBVbmxvYWRDaGFyYWN0ZXIodikNCgkJCWVuZA0KCQkJdC5UYWcuVGV4dCA9IHYuTmFtZQ0KCQkJdC5FbmFibGVkID0gdHJ1ZQ0KCQkJd2FpdCgpDQoNCgkJCWxvY2FsIGZ1bmN0aW9uIFVwZGF0ZU5hbWVUYWcoKQ0KCQkJCWlmIG5vdCBwY2FsbChmdW5jdGlvbigpDQoJCQkJCQktLSB2LkNoYXJhY3Rlci5IdW1hbm9pZC5EaXNwbGF5RGlzdGFuY2VUeXBlID0gRW51bS5IdW1hbm9pZERpc3BsYXlEaXN0YW5jZVR5cGUuTm9uZQ0KCQkJCQkJbG9jYWwgbWF4aCA9IG1hdGguY2VpbCh2LkNoYXJhY3Rlci5IdW1hbm9pZC5NYXhIZWFsdGggKiAxMCkNCgkJCQkJCWxvY2FsIGggPSBtYXRoLmNlaWwodi5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoICogMTApDQoJCQkJCQl0LlRhZy5UZXh0ID0gdi5OYW1lIC4uICJcbiIgLi4gKChtYXhoIH49IDAgYW5kIHRvc3RyaW5nKG1hdGguY2VpbCgoaCAvIG1heGgpICogMTAwKSkpIG9yICIwIikgLi4gIiUgICIgLi4gdG9zdHJpbmcoaCkgLi4gIi8iIC4uIHRvc3RyaW5nKG1heGgpDQoJCQkJCQlpZiBFU1BFbmFibGVkIHRoZW4NCgkJCQkJCQl0LlRhZy5UZXh0VHJhbnNwYXJlbmN5ID0gMA0KCQkJCQkJCWIuVHJhbnNwYXJlbmN5ID0gMC43DQoJCQkJCQllbHNlDQoJCQkJCQkJdC5UYWcuVGV4dFRyYW5zcGFyZW5jeSA9IDENCgkJCQkJCQliLlRyYW5zcGFyZW5jeSA9IDENCgkJCQkJCWVuZA0KCQkJCQkJaWYgaCAvIG1heGggPT0gMSB0aGVuDQoJCQkJCQkJdC5UYWcuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpDQoJCQkJCQkJYi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQkJCQkJZWxzZWlmIGggLyBtYXhoID09IDAgdGhlbg0KCQkJCQkJCXQuVGFnLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQkJCQkJCWIuQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJCQkJCWVsc2UNCgkJCQkJCQl0LlRhZy5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTkyLCAoMTkyICogKGggLyBtYXhoKSksICgxOTIgKiAoaCAvIG1heGgpKSkNCgkJCQkJCQliLkNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDE5MiwgKDE5MiAqIChoIC8gbWF4aCkpLCAoMTkyICogKGggLyBtYXhoKSkpDQoJCQkJCQllbmQNCgkJCQkJZW5kKSB0aGVuDQoJCQkJCVVwZGF0ZUZ1bmNzW3ZdID0gbmlsDQoJCQkJZW5kDQoJCQllbmQNCgkJCVVwZGF0ZU5hbWVUYWcoKQ0KCQkJVXBkYXRlRnVuY3Nbdl0gPSBVcGRhdGVOYW1lVGFnDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gVW5sb2FkQ2hhcmFjdGVyKHYpDQoJCWxvY2FsIHZIb2xkZXIgPSBIb2xkZXI6RmluZEZpcnN0Q2hpbGQodi5OYW1lKQ0KCQlpZiB2SG9sZGVyIGFuZCAodkhvbGRlcjpGaW5kRmlyc3RDaGlsZCh2Lk5hbWUgLi4gIkJveCIpIH49IG5pbCBvciB2SG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSAuLiAiTmFtZVRhZyIpIH49IG5pbCkgdGhlbg0KCQkJdkhvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBMb2FkUGxheWVyKHYpDQoJCWlmIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCWxvY2FsIHZIb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIsIEhvbGRlcikNCgkJCXZIb2xkZXIuTmFtZSA9IHYuTmFtZQ0KCQkJdi5DaGFyYWN0ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKCkNCgkJCQlpZiBFU1BFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQlwY2FsbChMb2FkQ2hhcmFjdGVyLCB2KQ0KCQkJCWVuZA0KCQkJZW5kKQ0KCQkJdi5DaGFyYWN0ZXJSZW1vdmluZzpDb25uZWN0KGZ1bmN0aW9uKCkNCgkJCQlwY2FsbChVbmxvYWRDaGFyYWN0ZXIsIHYpDQoJCQllbmQpDQoJCQlMb2FkQ2hhcmFjdGVyKHYpDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gVW5sb2FkUGxheWVyKHYpDQoJCVVubG9hZENoYXJhY3Rlcih2KQ0KCQlsb2NhbCB2SG9sZGVyID0gSG9sZGVyOkZpbmRGaXJzdENoaWxkKHYuTmFtZSkNCgkJaWYgdkhvbGRlciB0aGVuDQoJCQl2SG9sZGVyOkRlc3Ryb3koKQ0KCQllbmQNCgllbmQNCg0KCWZvciBpLCB2IGluIHBhaXJzKGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldFBsYXllcnMoKSkgZG8NCgkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpDQoJZW5kDQoNCglnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXBjYWxsKExvYWRQbGF5ZXIsIHYpDQoJZW5kKQ0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyUmVtb3Zpbmc6Q29ubmVjdChmdW5jdGlvbih2KQ0KCQlwY2FsbChVbmxvYWRQbGF5ZXIsIHYpDQoJZW5kKQ0KDQoJZ2FtZS5JdGVtQ2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpDQoJCWlmIGk6SXNBKCJQbGF5ZXIiKSB0aGVuDQoJCQlpZiBIb2xkZXI6RmluZEZpcnN0Q2hpbGQoaS5OYW1lKSB0aGVuDQoJCQkJVW5sb2FkQ2hhcmFjdGVyKGkpDQoJCQkJd2FpdCgpDQoJCQkJTG9hZENoYXJhY3RlcihpKQ0KCQkJZW5kDQoJCWVsc2VpZiBpOklzQSgiSHVtYW5vaWQiKSBhbmQgaS5QYXJlbnQgdGhlbg0KCQkJbG9jYWwgcCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpOkdldFBsYXllckZyb21DaGFyYWN0ZXIoaS5QYXJlbnQpDQoJCQlpZiBwIH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciBhbmQgcCB+PSBuaWwgYW5kIEhvbGRlcjpGaW5kRmlyc3RDaGlsZChwLk5hbWUpIHRoZW4NCgkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCVVwZGF0ZUZ1bmNzW3BdKCkNCgkJCQllbmQpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJZnVuY3Rpb24gdG9nZ2xlRVNQKCkNCgkJaWYgRVNQRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQlFU1BFbmFibGVkID0gdHJ1ZQ0KCQkJRVNQLlRleHQgPSAiRVNQIChPTikgW0JdIg0KCQkJZm9yIGksdiBpbiBwYWlycyhnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKTpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJc3Bhd24oZnVuY3Rpb24oKSBwY2FsbChMb2FkUGxheWVyLCB2KSBlbmQpDQoJCQllbmQNCgkJZWxzZQ0KCQkJRVNQRW5hYmxlZCA9IGZhbHNlDQoJCQlFU1AuVGV4dCA9ICJFU1AgKE9GRikgW0JdIg0KCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKFVubG9hZFBsYXllciwgdikgZW5kKQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJRVNQLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdCh0b2dnbGVFU1ApDQoNCgktLSBUUCB0byBEcm9wcw0KDQoJbG9jYWwgVFBTaGFyZHMgPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iKQ0KCVRQU2hhcmRzLk5hbWUgPSAiVFBTaGFyZHMiDQoJVFBTaGFyZHMuVGV4dCA9ICJUZWxlcG9ydCB0byBTaGFyZHMgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQU2hhcmRzKQ0KDQoJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UJDQoNCglsb2NhbCBUUERpYW1vbmRzID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIikNCglUUERpYW1vbmRzLk5hbWUgPSAiVFBEaWFtb25kcyINCglUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9GRikiDQoJdGFibGUuaW5zZXJ0KGJ1dHRvbnMsIFRQRGlhbW9uZHMpDQoNCglUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlDQoNCglsb2NhbCBwbGF0ZSA9IEluc3RhbmNlLm5ldygiUGFydCIpDQoJcGxhdGUuUGFyZW50ID0gZ2FtZS5Xb3Jrc3BhY2UNCglwbGF0ZS5TaXplID0gVmVjdG9yMy5uZXcoNDAsIDEsIDQwKQ0KCXBsYXRlLlBvc2l0aW9uID0gVmVjdG9yMy5uZXcoMCwgMTAwMDAwLCAwKQ0KCXBsYXRlLkFuY2hvcmVkID0gdHJ1ZQ0KCXBsYXRlLlJlZmxlY3RhbmNlID0gMC41DQoJcGxhdGUuVHJhbnNwYXJlbmN5ID0gMC41DQoNCglsb2NhbCB0aW1lID0gMA0KCWxvY2FsIGNhbkludmlzID0gZmFsc2UNCg0KCWZ1bmN0aW9uIHRlbGVwb3J0VG9Ecm9wcygpDQoJCWxvY2FsIGhycCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikNCgkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5Xb3Jrc3BhY2VbJy5JZ25vcmUnXVsnLlNlcnZlckVmZmVjdHMnXTpHZXRDaGlsZHJlbigpKSBkbw0KCQkJaWYgVFBTaGFyZHNFbmFibGVkIGFuZCB2Lk5hbWUgPT0gIlNoYXJkIiB0aGVuDQoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lDQoJCQkJd2FpdCguMikNCgkJCWVsc2VpZiBUUERpYW1vbmRzRW5hYmxlZCBhbmQgdi5OYW1lID09ICJEaWFtb25kIiB0aGVuDQoJCQkJaHJwLkNGcmFtZSA9IHYuQ0ZyYW1lDQoJCQkJd2FpdCguMikNCgkJCWVuZA0KDQoJCQlpZiBjYW5JbnZpcyB0aGVuDQoJCQkJaWYgdGltZSA9PSA1IHRoZW4gDQoJCQkJCWJyZWFrDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoNCgkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQ0KDQoJCXJldHVybiANCgllbmQNCg0KDQoJZnVuY3Rpb24gc3RhcnRUaW1lcigpDQoJCWxvY2FsIGhycCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikNCgkJd2hpbGUgd2FpdCgpIGRvDQoJCQlpZiBUUFNoYXJkc0VuYWJsZWQgb3IgVFBEaWFtb25kc0VuYWJsZWQgdGhlbg0KCQkJCWlmIHRpbWUgfj0gMCB0aGVuIHJldHVybg0KCQkJCWVsc2UNCgkJCQkJaWYgY2FuSW52aXMgdGhlbg0KCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTcGlyaXQiLCAiU3BlY3RyYWwgRW1ib2RpbWVudCIpDQoJCQkJCQl3YWl0KDEpDQoJCQkJCQlyZXBlYXQNCgkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQ0KCQkJCQkJCXRpbWUgPSB0aW1lICsgMQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCXVudGlsIHRpbWUgPT0gNg0KCQkJCQkJaHJwLkNGcmFtZSA9IENGcmFtZS5uZXcoVmVjdG9yMy5uZXcoMCwgMTAwMDAzLCAtMTApKQ0KCQkJCQkJd2FpdCg3LjUpDQoJCQkJCQl0aW1lID0gMA0KCQkJCQllbHNlDQoJCQkJCQl3aGlsZSB0cnVlIGRvDQoJCQkJCQkJaWYgbm90IFRQU2hhcmRzRW5hYmxlZCBhbmQgbm90IFRQRGlhbW9uZHNFbmFibGVkIHRoZW4NCgkJCQkJCQkJYnJlYWsNCgkJCQkJCQllbmQNCgkJCQkJCQlzcGF3bihmdW5jdGlvbigpIHBjYWxsKHRlbGVwb3J0VG9Ecm9wcykgZW5kKQ0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbmQNCgkJCWVsc2UNCgkJCQlicmVhaw0KCQkJZW5kDQoJCWVuZA0KDQoJCXJldHVybg0KCWVuZA0KDQoJVFBTaGFyZHMuTW91c2VCdXR0b24xRG93bjpjb25uZWN0KGZ1bmN0aW9uKCkNCgkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIik6V2FpdEZvckNoaWxkKCJNYWluIikuQ2hhcmFjdGVyLkF2YWlsYWJsZS5TY3JvbGxpbmdGcmFtZS5GcmFtZTpGaW5kRmlyc3RDaGlsZCgiU3BlY3RyYWwgRW1ib2RpbWVudCIpIHRoZW4NCgkJCWNhbkludmlzID0gdHJ1ZQ0KCQllbmQNCgkJaWYgVFBTaGFyZHNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQU2hhcmRzRW5hYmxlZCA9IHRydWUNCgkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPTikiDQoJCQlzdGFydFRpbWVyKCkNCgkJCXdoaWxlIFRQU2hhcmRzRW5hYmxlZCBkbw0KCQkJCXdhaXQoKQ0KCQkJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoID09IDAgdGhlbg0KCQkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQuSGVhbHRoIH49IDANCgkJCQkJc3RhcnRUaW1lcigpDQoJCQkJZW5kDQoJCQllbmQNCgkJZWxzZQ0KCQkJVFBTaGFyZHNFbmFibGVkID0gZmFsc2UNCgkJCVRQU2hhcmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gU2hhcmRzIChPRkYpIg0KCQllbmQNCgllbmQpDQoNCglUUERpYW1vbmRzLk1vdXNlQnV0dG9uMURvd246Y29ubmVjdChmdW5jdGlvbigpDQoJCWlmIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpOldhaXRGb3JDaGlsZCgiTWFpbiIpLkNoYXJhY3Rlci5BdmFpbGFibGUuU2Nyb2xsaW5nRnJhbWUuRnJhbWU6RmluZEZpcnN0Q2hpbGQoIlNwZWN0cmFsIEVtYm9kaW1lbnQiKSB0aGVuDQoJCQljYW5JbnZpcyA9IHRydWUNCgkJZW5kDQoJCWlmIFRQRGlhbW9uZHNFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCVRQRGlhbW9uZHNFbmFibGVkID0gdHJ1ZQ0KCQkJVFBEaWFtb25kcy5UZXh0ID0gIlRlbGVwb3J0IHRvIERpYW1vbmRzIChPTikiDQoJCQlzdGFydFRpbWVyKCkNCgkJCXdoaWxlIFRQRGlhbW9uZHNFbmFibGVkIGRvDQoJCQkJd2FpdCgpDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggPT0gMCB0aGVuDQoJCQkJCXJlcGVhdCB3YWl0KCkgdW50aWwgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZC5IZWFsdGggfj0gMA0KCQkJCQlzdGFydFRpbWVyKCkNCgkJCQllbmQNCgkJCWVuZA0KCQllbHNlDQoJCQlUUERpYW1vbmRzRW5hYmxlZCA9IGZhbHNlDQoJCQlUUERpYW1vbmRzLlRleHQgPSAiVGVsZXBvcnQgdG8gRGlhbW9uZHMgKE9GRikiDQoJCWVuZA0KCWVuZCkNCg0KCS0tIFJlam9pbiBTZXJ2ZXIgRnVuY3Rpb24NCg0KCS0tIFRoaXMgd2FzIG9ubHkgcHJlc2VydmVkIGFzIEkgY291bGRuJ3QgdGhpbmsgb2YgYW55IG90aGVyIHBsYWNlIHRvIHB1dCB0aGUgZnVuY3Rpb24gZm9yIG5vdy4NCgktLSBNaWdodCBnZXQgbW92ZWQgbGF0ZXIsIGlkdW5uby4NCglmdW5jdGlvbiByZWpvaW4oKQ0KCQlsb2NhbCB0cyA9IGdhbWU6R2V0U2VydmljZSgiVGVsZXBvcnRTZXJ2aWNlIikNCgkJbG9jYWwgcCA9IGdhbWU6R2V0U2VydmljZSgiUGxheWVycyIpLkxvY2FsUGxheWVyDQoNCgkJdHM6VGVsZXBvcnQoZ2FtZS5QbGFjZUlkLCBwKQ0KCWVuZA0KDQoJLS0gR1VJIFR3ZWFraW5nDQoNCglmb3IgaSwgdiBpbiBwYWlycyhib3JkZXJzKSBkbw0KCQl2LkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMSwgMC41KQ0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQ0KCQl2LkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAwLjc1MA0KCQl2LkJvcmRlckNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApDQoJCXYuQm9yZGVyU2l6ZVBpeGVsID0gMA0KCQl2LlNpemVDb25zdHJhaW50ID0gRW51bS5TaXplQ29uc3RyYWludC5SZWxhdGl2ZVlZDQoJCXYuQWN0aXZlID0gdHJ1ZQ0KCQl2LlBhcmVudCA9IGViZ3VpDQoJZW5kDQoNCglmb3IgaSwgdiBpbiBwYWlycyhidXR0b25zKSBkbw0KCQl2LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyMzYsIDIwLCAxMTUpDQoJCXYuQm9yZGVyQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCkNCgkJdi5Cb3JkZXJTaXplUGl4ZWwgPSAyDQoJCXYuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkNCgkJdi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApDQoJCXYuRm9udCA9IEVudW0uRm9udC5TYXJwYW5jaA0KCQl2LlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTEsIDI1MSwgMjU1KQ0KCQl2LlRleHRTY2FsZWQgPSB0cnVlDQoJCXYuVGV4dFNpemUgPSAxNC4wMDANCgkJdi5UZXh0V3JhcHBlZCA9IHRydWUNCgkJdi5MYXlvdXRPcmRlciA9IGkNCgkJdi5QYXJlbnQgPSBtYWluZnJhbWUNCgllbmQNCg0KCS0tIGNvbW1hbmRCb3gNCg0KCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiDQoJbG9vcGluZyA9IGZhbHNlDQoJc21hcnRBdHRhY2sgPSB0cnVlDQoJSGVhbFNldHRpbmcgPSAxDQoJc3R1bkVuYWJsZWQgPSB0cnVlDQoJRlBTRHJvcHBpbmcgPSBmYWxzZQ0KCWxvY2FsIGJ1dHRvbkhlaWdodCA9IDMwDQoJbG9jYWwgYnV0dG9uR2FwID0gNw0KICAgIGxvY2FsIGhlbHAxID0gW1t8fCBCZWxvdyBpcyBhIGZ1bGwsIGNvbXByZWhlbnNpdmUgbGlzdCBvZiBlYWNoIGNvbW1hbmQgRUJHVUkgaGFzIHRvIG9mZmVyLiB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAoUHJlZml4IGlzIDspDQoNCiAgICAgICAgICAgICAgICAiaGVscCBbbnVtXSIgLSBTaG93cyB0aGlzIGNvbW1hbmRzIGxpc3QhIENob29zZSBiZXR3ZWVuIHBhZ2VzIDEgb3IgMi4NCiAgICAgICAgICAgICAgICAiY2hhbmdlbG9nIiAtIFNob3dzIGEgbGluayB0byB0aGUgY2hhbmdlbG9nIGZvciBFQkdVSSBhbmQgaXRzIENhbmFyeSBicmFuY2guDQogICAgICAgICAgICAgICAgInJlIiAtIFJlZnJlc2hlcyB5b3VyIGNoYXJhY3Rlci4gVGhpcyB3aWxsIHRlbXBvcmFyaWx5IHZhbmlzaCB5b3UsIGFuZCBicmluZyB5b3UgYmFjayB3aXRoIGZ1bGwgc3RhdHMuDQogICAgICAgICAgICAgICAgInRwIDxtYXA+IiAtIFRlbGVwb3J0cyB5b3UgdG8gdGhlIG1hcCBvZiB5b3VyIGNob2ljZS4gSGVhdmVuIGRvZXNuJ3Qgd29yayB3aXRob3V0IHRoZSBnYW1lcGFzcy4NCiAgICAgICAgICAgICAgICAiZGVjbHV0dGVyIiAtIENsZWFycyB0aGUgYmFja2dyb3VuZHMgb2YgdGhlIG1haW4gR1VJcywgYW5kIHNocmlua3MgdGhlIG1vdmVzL3N0YXRzLg0KICAgICAgICAgICAgICAgICJyYWluIiAtIEVuYWJsZXMgdGhlIHJhaW4gZnJvbSBXYXRlciBtYXAuIENhcmVmdWwsIHlvdSBoYXZlIHRvIHJlam9pbiB0byB0dXJuIGl0IG9mZiENCiAgICAgICAgICAgICAgICAiZml4IiAtIFJlbW92ZXMgdGhlICJMT0FESU5HIiBzY3JlZW4gd2hlbiB0ZWxlcG9ydGluZyB0byBjZXJ0YWluIG1hcHMuDQogICAgICAgICAgICAgICAgImJ1dHRvbmhlaWdodCA8bnVtPiIgLSBDaGFuZ2VzIHRoZSBoZWlnaHQsIGluIHBpeGVscywgb2YgRUJHVUkncyBidXR0b25zLg0KICAgICAgICAgICAgICAgICJidXR0b25nYXAgPG51bT4iIC0gQ2hhbmdlcyB0aGUgZ2FwLCBpbiBwaXhlbHMsIGJldHdlZW4gRUJHVUkncyBidXR0b25zLg0KICAgICAgICAgICAgICAgICJyZWpvaW4iIC0gUmVqb2lucyB0aGUgc2VydmVyLg0KICAgICAgICAgICAgICAgICJhdXJhL29mZiIgLSBBbiBhbHRlcm5hdGUgbWV0aG9kIG9mIHNpbGVudGx5IHR1cm5pbmcgb2ZmIGF1cmEuDQogICAgICAgICAgICAgICAgInRhcmdldHNldHRpbmcgPG1vZGU+IiAtIE1vZGlmaWVzIGhvdyBFQkdVSSBzZWxlY3RzIHRhcmdldHMuIFdvbid0IHRhcmdldCB0aG9zZSBpbiBzYWZlem9uZSwgZXhjZXB0IGluICJzZWxlY3QiIG1vZGUuDQogICAgICAgICAgICAgICAgICAgIC0tICJzZWxlY3QiIGFsbG93cyB5b3UgdG8gY2hvb3NlIGJ5IHR5cGluZyBpbnRvIHRoZSBjb21tYW5kIGJveC4gU2V0IHRvIHRoaXMgYnkgZGVmYXVsdC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImNsb3Nlc3QiIHNlbGVjdHMgdGhlIHBlcnNvbiBjbG9zZXN0IHRvIHlvdS4NCiAgICAgICAgICAgICAgICAgICAgLS0gImZhcnRoZXN0IiBzZWxlY3RzIHRoZSBwZXJzb24gZmFydGhlc3QgZnJvbSB5b3UuDQogICAgICAgICAgICAgICAgICAgIC0tICJsb3docCIgc2VsZWN0cyB0aGUgcGVyc29uIHdpdGggdGhlIGxvd2VzdCBIUC4NCiAgICAgICAgICAgICAgICAgICAgLS0gImhpZ2hocCIgc2VsZWN0cyB0aGUgY2xvc2VzdCBwZXJzb24gd2l0aCB0aGUgaGlnaGVzdCBIUC5dXQ0KDQogICAgbG9jYWwgaGVscDIgPSBbWyJsb29wIiAtIExvb3BzIHRoZSB1c2FnZSBvZiBlbmFibGVkIGF0dGFjayBleHBsb2l0cy4NCiAgICAgICAgICAgICAgICAiZ3JjaGFyZ2UgPG51bT4iIC0gTXVsdGlwbGllcyB0aGUgdGltZSBBbXBsaWZpZWQgR2VuZXNpcyBSYXkgYXR0YWNrIGV4cGxvaXQgc3RheXMgYWxpdmUgZm9yLiBEZWZhdWx0LCAxLCBsYXN0cyA2IHNlY29uZHMuDQogICAgICAgICAgICAgICAgInNwZWVkIDxudW0+IiAtIENoYW5nZXMgeW91ciBkZWZhdWx0IHdhbGtzcGVlZC4gRGVmYXVsdCwgNjQsIGVxdWFscyBtYXgtc3BlZWQgc3ByaW50aW5nLg0KICAgICAgICAgICAgICAgICJzbWFydGF0dGFjayIgLSBUb2dnbGVzIGlmIGF0dGFjayBleHBsb2l0cyB3aWxsIGZpcmUgb24gcGVvcGxlIHdobyBhcmUgaW4gc2FmZXpvbmUuIERlZmF1bHQgb24uDQogICAgICAgICAgICAgICAgImdhbWVjb2xvciA8bW9kZT4iIC0gQ2hhbmdlcyB0aGUgY29udHJhc3QgYW5kIHNhdHVyYXRpb24gb2YgdGhlIGdhbWUuDQogICAgICAgICAgICAgICAgICAgIC0tICJub3JtYWwiIHdpbGwgcmVzZXQgZXZlcnl0aGluZyB0byBub3JtYWwuDQogICAgICAgICAgICAgICAgICAgIC0tICJncmF5c2NhbGUiIHR1cm5zIG9mZiB0aGUgc2F0dXJhdGlvbiBhbmQgbWFrZXMgZXZlcnl0aGluZyBncmF5Lg0KICAgICAgICAgICAgICAgICAgICAtLSAiaW52ZXJ0aHVlIiBpbnZlcnRzIHRoZSBodWUgb2YgZXZlcnl0aGluZy4gR3JlZW4gYmVjb21lcyBwdXJwbGUsIGJsdWUgYmVjb21lcyByZWQuDQogICAgICAgICAgICAgICAgICAgIC0tICJpbnZlcnRhbGwiIGludmVydHMgdGhlIGh1ZSwgc2F0dXJhdGlvbiwgYW5kIGNvbnRyYXN0IG9mIGV2ZXJ5dGhpbmcuIE5lZ2F0aXZlIQ0KICAgICAgICAgICAgICAgICJibGFja2Nhc3QiIC0gQ2hhbmdlcyBhbGwgdGhlIG1lZGFscyB0byBibGFjayB3aGVuIGNhc3Rpbmcgc3BlbGxzLg0KICAgICAgICAgICAgICAgICJzdHVuIiAtIFRvZ2dsZXMgd2hldGhlciB5b3Ugd2FudCB0byBiZSBzdHVubmVkIG9yIG5vdC4gTm90IHZlcnkgZGlzY3JlZXQuDQogICAgICAgICAgICAgICAgImRydWdzIiAtIFJhbmRvbWl6ZXMgdGhlIGNvbG9ycyBvZiBhbGwgbWFnaWMgc3BlbGxzLiBSZXF1aXJlcyB5b3UgdG8gcnVuICJjb2xvcnMiIGZpcnN0Lg0KICAgICAgICAgICAgICAgICJtYWdpY2NvbG9yIDxyPiA8Zz4gPGI+IiAtIENoYW5nZXMgdGhlIGNvbG9yIG9mIGFsbCBtYWdpYyBzcGVsbHMgdG8gYW4gUkdCIHZhbHVlLiBSZXF1aXJlcyB5b3UgdG8gcnVuICJjb2xvcnMiIGZpcnN0Lg0KICAgICAgICAgICAgICAgICJjb2xvcnMiIC0gQWxsb3dzIHlvdSB0byBydW4gImRydWdzIiBhbmQgIm1hZ2ljY29sb3IiLg0KICAgICAgICAgICAgICAgICJoZWFsIDxwbGF5ZXI+IiAtIFBsYWNlcyBCbHVlIEFyc29uIGFuZCBHbGVhbWluZyBIYXJtb255IGF0IHRoZSBmZWV0IG9mIGEgcGxheWVyIG9mIHlvdXIgY2hvaWNlLg0KICAgICAgICAgICAgICAgICJlIDxudW0gMS0zPiIgLSBDaGFuZ2VzIHRoZSBwaGFzZSBvZiB0aGUgQ29udHJvbGxlZCBFY2hvZXMgYXR0YWNrIGV4cGxvaXQuDQogICAgICAgICAgICAgICAgICAgIC0tICIxIiB3aWxsIGNoYW5nZSBpdCB0byBQT1csIGFuZCBpcyB0aGUgZGVmYXVsdC4NCiAgICAgICAgICAgICAgICAgICAgLS0gIjIiIHdpbGwgY2hhbmdlIGl0IHRvIEJVUk4uDQogICAgICAgICAgICAgICAgICAgIC0tICIzIiB3aWxsIGNoYW5nZSBpdCB0byBTVFVOLg0KICAgICAgICAgICAgICAgICJvcmlnaW4iIC0gQ3JlYXRlcyBhIHNtYWxsLCByZWQgYmxvY2sgYXQgMCwgMCwgMCB3aXRoaW4gdGhlIHdvcmxkLl1dDQoNCglSU1IgPSBnYW1lLlJlcGxpY2F0ZWRTdG9yYWdlOldhaXRGb3JDaGlsZCgiUmVtb3RlcyIpDQoNCglsb2NhbCBzdHVuQ29ubmVjdGlvbiA9IGdldGNvbm5lY3Rpb25zKFJTUjpXYWl0Rm9yQ2hpbGQoIkNvbWJhdCIpLk9uQ2xpZW50RXZlbnQpDQoJbG9jYWwgbGFnZ2VycyA9IHsNCgkJIjFCMEY5OEJFLUUxMEItNDY3NC05RkI0LTZGNjUxNzFBMzQ3RiIsIC0tIGxvZw0KCQkiNkEzMzEwNEEtMUZFOS00RkE4LTkzNzQtQzE2NEQyOEY4MzUxIiwgLS0gYnJpYW4NCgkJIjgzNzczNkFBLTAxOTItNDdGOS05OEM1LThERDBERjE4RkU3NCIsIC0tIGpldA0KCQkiNTVDMjA0OUQtQzZCRC00NTIzLTg4MDQtRDUzOUMzODc5MkEzIiwgLS0gcGVudGFyYWN0DQoJCSI5NDY0QjY4QS0zNjNDLTQxRjgtQkI3RC1CNEJFRDhBQzA5NjMiLCAtLSB2YXN0b3Jpbw0KCQktLSAiODMwQkQ0RTktNUVCRS00QTEzLUI0N0ItOUJFNjAwODNCODM2IiwgLS0gbG9sb2sNCgkJLS0gIjYzQjM5RTI3LURBMUItNDgyRS1CMjhDLTZBMzM5OEM5NUE0QyIsIC0tIGFsZXgNCgkJIjg0NkE2NUUyLUU5NjMtNEEwQS05MDI1LUU5QjhFOTU4OTYxMyIsIC0tIGJyYW0NCgkJIjNGMTY4NDQwLUE1QzAtNEY3MS04RTUxLTNGREY5MDI1RjUxQiIsIC0tIHRvbWVrDQoJCSI2QTk3MDUyQS02MzRFLTQ3RTEtOEQ5MC01RUUzQ0E0QTk2RkEiLCAtLSByYXZlbg0KCQkiRjU5NzVEN0QtMkFDNS00NEFBLTgwMUYtODI3NjI1RDZENzYzIiwgLS0gYWxleGlhDQoJCSI0ODI4NzE4Mi05RTc3LTRGOTctQTY1NC05NzA2OUVEODE2NkMiLCAtLSBqZXNzDQoJCSI3NDg5Q0JBRS03OTg2LTQ1QTktQkU0MC1BMjE4RURDRDBGMDEiIC0tIGNlcGhhcw0KCX0NCg0KCWxvY2FsIGNsaWVudGlkID0gZ2FtZTpHZXRTZXJ2aWNlKCJSYnhBbmFseXRpY3NTZXJ2aWNlIik6R2V0Q2xpZW50SWQoKTpsb3dlcigpDQoJbG9jYWwgYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUNCg0KCWZvciBpLCB2IGluIHBhaXJzKGxhZ2dlcnMpIGRvDQoJCXYgPSB2Omxvd2VyKCkNCg0KCQlpZiAodiA9PSBjbGllbnRpZCkgdGhlbg0KCQkJYWxsb3dlZFRvRHJvcEZQUyA9IHRydWUNCgkJZW5kDQoJZW5kDQoNCglmdW5jdGlvbiBnZXRIUlAoY2hyKQ0KCQlsb2NhbCBIUlAgPSBjaHI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSBvciBjaHI6RmluZEZpcnN0Q2hpbGQoIlRvcnNvIikgb3IgY2hyOkZpbmRGaXJzdENoaWxkKCJVcHBlclRvcnNvIikNCgkJcmV0dXJuIEhSUA0KCWVuZA0KDQoJZnVuY3Rpb24gZ2V0SFVNKGNocikNCgkJbG9jYWwgSFVNID0gY2hyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpDQoJCXJldHVybiBIVU0NCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIHJlc3Bhd24ocGxyKQ0KCQlsb2NhbCBjaHIgPSBwbHIuQ2hhcmFjdGVyDQoNCgkJaWYgKGNocjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikpIHRoZW4gY2hyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKTpDaGFuZ2VTdGF0ZSgxNSkgZW5kDQoJCWNocjpDbGVhckFsbENoaWxkcmVuKCkNCg0KCQlsb2NhbCBuZXdjaHIgPSBJbnN0YW5jZS5uZXcoIk1vZGVsIikNCgkJbmV3Y2hyLlBhcmVudCA9IHdvcmtzcGFjZQ0KCQlwbHIuQ2hhcmFjdGVyID0gbmV3Y2hyDQoNCgkJd2FpdCgpDQoNCgkJcGxyLkNoYXJhY3RlciA9IGNocg0KCQluZXdjaHI6RGVzdHJveSgpDQoJZW5kDQoNCglsb2NhbCBmdW5jdGlvbiByZWZyZXNoKHBscikNCgkJbG9jYWwgaHVtID0gcGxyLkNoYXJhY3RlciBhbmQgcGxyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIiwgdHJ1ZSkNCgkJbG9jYWwgcG9zID0gaHVtIGFuZCBodW0uUm9vdFBhcnQgYW5kIGh1bS5Sb290UGFydC5DRnJhbWUNCgkJbG9jYWwgcG9zMSA9IHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZQ0KDQoJCXJlc3Bhd24ocGxyKQ0KDQoJCXNwYXduKGZ1bmN0aW9uKCkNCgkJCXBsci5DaGFyYWN0ZXJBZGRlZDpXYWl0KCk6V2FpdEZvckNoaWxkKCJIdW1hbm9pZCIpLlJvb3RQYXJ0LkNGcmFtZSwgd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEuQ0ZyYW1lID0gcG9zLCB3YWl0KCkgYW5kIHBvczENCgkJZW5kKQ0KCWVuZA0KDQoJbG9jYWwgZnVuY3Rpb24gc3BsaXRBcmdzKGNvbW1hbmQpDQoJCWNvbW1hbmQgPSBzdHJpbmcuZ3N1Yihjb21tYW5kLCAiLCIsICIgIikNCgkJY29tbWFuZCA9IHN0cmluZy5zcGxpdChjb21tYW5kLCAiICIpDQoNCgkJZm9yIGksIHYgaW4gaXBhaXJzKGNvbW1hbmQpIGRvDQoJCQl2ID0gc3RyaW5nLmdzdWIodiwgIiVzKyIsICIiKQ0KCQkJaWYgdiA9PSAiIiB0aGVuDQoJCQkJdGFibGUucmVtb3ZlKGNvbW1hbmQsIGkpDQoJCQllbmQNCgkJZW5kDQoNCgkJcmV0dXJuIGNvbW1hbmQNCgllbmQNCg0KCWxvY2FsIGZ1bmN0aW9uIGZpbmRQbGF5ZXIodGV4dCkNCgkJbG9jYWwgcGxheWVycyA9IGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkNCgkJbG9jYWwgbWF0Y2hlcyA9IHt9DQoNCgkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMocGxheWVycykgZG8NCgkJCWxvY2FsIG5hbWUgPSBQbGF5ZXIuTmFtZQ0KCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQ0KCQkJbmFtZSA9IHN0cmluZy5sb3dlcihuYW1lKQ0KDQoJCQlsb2NhbCBtYXRjaCA9IHN0cmluZy5maW5kKG5hbWUsIHRleHQpDQoNCgkJCWlmIG1hdGNoIHRoZW4NCgkJCQl0YWJsZS5pbnNlcnQobWF0Y2hlcywgUGxheWVyLk5hbWUpDQoJCQllbmQNCgkJZW5kDQoNCgkJcmV0dXJuIG1hdGNoZXMNCgllbmQNCg0KCWxvY2FsIGRydWdzRW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgY29sb3JzRW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgYmxhY2tjYXN0RW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgZWJndWljYXN0RW5hYmxlZCA9IGZhbHNlDQoJbG9jYWwgY29sb3JFeGNsdWRlID0geyJIZWFkIiwiVG9yc28iLCJMZWZ0IEFybSIsIkxlZnQgTGVnIiwiUmlnaHQgQXJtIiwiUmlnaHQgTGVnIiwiU2hhcmQiLCJEaWFtb25kIn0NCg0KCS0tW1s5OC8yNTUsIDM3LzI1NSwgMjA5LzI1NV1dDQoJbG9jYWwgY29sb3IxDQoJbG9jYWwgY29sb3IyDQoJbG9jYWwgY29sb3IzDQoNCglsb2NhbCBmdW5jdGlvbiBpbnB1dEJveCgpDQoJCWxvY2FsIHRleHQgPSBjb21tYW5kQm94LlRleHQNCgkJd2FpdCgpDQoJCWNvbW1hbmRCb3guVGV4dCA9ICIiDQoNCgkJbG9jYWwgcHJlZml4ID0gIjsiDQoJCWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMSkgPT0gKHByZWZpeCkgdGhlbg0KCQkJdGV4dCA9IHN0cmluZy5sb3dlcih0ZXh0KQ0KDQoJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDMpID09IChwcmVmaXggLi4gInJlIikgdGhlbg0KCQkJCXJlZnJlc2goZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyKQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMykgPT0gKHByZWZpeCAuLiAidHAiKSB0aGVuDQoJCQkJbG9jYWwgdGVsZXBvcnR0bw0KICAgICAgICAgICAgICAgIGxvY2FsIHRwbmFtZQ0KCQkJCWxvY2FsIHBsYWNlID0gc3RyaW5nLnN1Yih0ZXh0LCA1KQ0KCQkJCWxvY2FsIHBsYWNlcyA9IHsNCgkJCQkJNTY2Mzk5MjQ0LA0KCQkJCQkyNTY5NjI1ODA5LA0KCQkJCQk1NzAxNTgwODEsDQoJCQkJCTUzNzYwMDIwNCwNCgkJCQkJNTIwNTY4MjQwLA0KCQkJCQk1NTQ5NTU1NjAsDQoJCQkJCTYwMjA0ODU1MCwNCgkJCQkJNTc1NDU2NjQ2LA0KCQkJCQkxNzEzOTg2MTEyLA0KCQkJCQkxMjQzNjE1NjEyLA0KCQkJCQk2MzgwNjUzMDIsDQoJCQkJCTYzNDI0MDgyNiwNCgkJCQkJNjMzMDQyNzMxDQoJCQkJfQ0KDQoJCQkJaWYgcGxhY2UgPT0gInN0YW5kYXJkbG93IiBvciBwbGFjZSA9PSAiNTY2Mzk5MjQ0IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkxvd2JpZSBTdGFuZGFyZCINCgkJCQllbHNlaWYgcGxhY2UgPT0gInN0YW5kYXJkNDAiIG9yIHBsYWNlID09ICIyNTY5NjI1ODA5IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMl0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIlN0YW5kYXJkIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAibGlnaHQiIG9yIHBsYWNlID09ICI1NzAxNTgwODEiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1szXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTGlnaHQiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJmaXJlIiBvciBwbGFjZSA9PSAiNTM3NjAwMjA0IiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNF0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkZpcmUiDQoJCQkJZWxzZWlmIHBsYWNlID09ICJ3YXRlciIgb3IgcGxhY2UgPT0gIjUyMDU2ODI0MCIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzVdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJXYXRlciINCgkJCQllbHNlaWYgcGxhY2UgPT0gImdyYXNzIiBvciBwbGFjZSA9PSAiNTU0OTU1NTYwIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbNl0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkdyYXNzIg0KCQkJCWVsc2VpZiBwbGFjZSA9PSAiaGVhdmVuIiBvciBwbGFjZSA9PSAiNjAyMDQ4NTUwIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbN10NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIkhlYXZlbiINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1pbmlsb3ZhbmlhIiBvciBwbGFjZSA9PSAic2FucyIgb3IgcGxhY2UgPT0gIjU3NTQ1NjY0NiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzhdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJNaW5pbG92YW5pYSINCgkJCQllbHNlaWYgcGxhY2UgPT0gImRlZmF1bHQiIG9yIHBsYWNlID09ICJ0b3VybmFtZW50IiBvciBwbGFjZSA9PSAiMTcxMzk4NjExMiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzldDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJUb3VybmFtZW50Ig0KCQkJCWVsc2VpZiBwbGFjZSA9PSAic3Vydml2YWwiIG9yIHBsYWNlID09ICIxMjQzNjE1NjEyIiB0aGVuDQoJCQkJCXRlbGVwb3J0dG8gPSBwbGFjZXNbMTBdDQogICAgICAgICAgICAgICAgICAgIHRwbmFtZSA9ICJTdXJ2aXZhbCINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FzdGFuZGFyZCIgb3IgcGxhY2UgPT0gInN0YW5kYXJkbWVnYSIgb3IgcGxhY2UgPT0gIjYzODA2NTMwMiIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzExXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBTdGFuZGFyZCINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FmaXJlIiBvciBwbGFjZSA9PSAiZmlyZW1lZ2EiIG9yIHBsYWNlID09ICI2MzQyNDA4MjYiIHRoZW4NCgkJCQkJdGVsZXBvcnR0byA9IHBsYWNlc1sxMV0NCiAgICAgICAgICAgICAgICAgICAgdHBuYW1lID0gIk1lZ2EgRmlyZSINCgkJCQllbHNlaWYgcGxhY2UgPT0gIm1lZ2FncmFzcyIgb3IgcGxhY2UgPT0gImdyYXNzbWVnYSIgb3IgcGxhY2UgPT0gIjYzMzA0MjczMSIgdGhlbg0KCQkJCQl0ZWxlcG9ydHRvID0gcGxhY2VzWzEzXQ0KICAgICAgICAgICAgICAgICAgICB0cG5hbWUgPSAiTWVnYSBHcmFzcyINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUaGUgcGxhY2Ugd2FzIGluY29ycmVjdGx5IHNwZWNpZmllZCEiDQoJCQkJZW5kDQoNCgkJCQlpZiB0ZWxlcG9ydHRvIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRlbGVwb3J0aW5nIHRvIFBsYWNlICIgLi4gdHBuYW1lIC4uICIhIg0KCQkJCQlnYW1lOkdldFNlcnZpY2UoIlRlbGVwb3J0U2VydmljZSIpOlRlbGVwb3J0KHRlbGVwb3J0dG8pDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA4KSA9PSAocHJlZml4IC4uICJkZWNsdXR0ZXIiKSB0aGVuDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLkZyYW1lMS5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkNCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uRnJhbWUxLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWkuTWFpbi5DaGFyYWN0ZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLkJvb2suSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlNob3AuSW1hZ2VUcmFuc3BhcmVuY3kgPSAxDQoJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aS5NYWluLlNraWxsc0Jhci5TaXplID0gVURpbTIubmV3KDAuMzc1LCAwLCAwLjM3NSwgMCkNCgkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuUGxheWVyR3VpLk1haW4uU2tpbGxzQmFyLkltYWdlVHJhbnNwYXJlbmN5ID0gMQ0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNSkgPT0gKHByZWZpeCAuLiAicmFpbiIpIHRoZW4NCgkJCQlsb2NhbCBjdXJyZW50Q0FNID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmENCgkJCQlsb2NhbCByYWluU291bmQgPSBJbnN0YW5jZS5uZXcoIlNvdW5kIikNCgkJCQlyYWluU291bmQuTG9vcGVkID0gdHJ1ZQ0KCQkJCXJhaW5Tb3VuZC5Tb3VuZElkID0gInJieGFzc2V0aWQ6Ly8yODMxNjQ1OTMiDQoJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDENCgkJCQlyYWluU291bmQuUGFyZW50ID0gd29ya3NwYWNlDQoJCQkJcmFpblNvdW5kOlBsYXkoKQ0KDQoJCQkJbG9jYWwgcmFpblBhcnQgPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCQkJCXJhaW5QYXJ0LlNpemUgPSBWZWN0b3IzLm5ldygzMDAsIDMwMCwgMzAwKQ0KCQkJCXJhaW5QYXJ0LlRyYW5zcGFyZW5jeSA9IDENCgkJCQlyYWluUGFydC5BbmNob3JlZCA9IHRydWUNCgkJCQlyYWluUGFydC5DYW5Db2xsaWRlID0gZmFsc2UNCg0KCQkJCWxvY2FsIHJhaW5FZmZlY3QgPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIik6V2FpdEZvckNoaWxkKCJFZmZlY3RzIik6V2FpdEZvckNoaWxkKCJSYWluIikNCgkJCQlyYWluRWZmZWN0LlJhdGUgPSByYWluUGFydC5TaXplLm1hZ25pdHVkZQ0KCQkJCXJhaW5FZmZlY3QuUGFyZW50ID0gcmFpblBhcnQNCg0KCQkJCWxvY2FsIGlnbm9yZSA9IHdvcmtzcGFjZTpXYWl0Rm9yQ2hpbGQoIi5JZ25vcmUiKQ0KCQkJCXJhaW5QYXJ0LlBhcmVudCA9IGlnbm9yZTpXYWl0Rm9yQ2hpbGQoIi5TZXJ2ZXJFZmZlY3RzIikNCg0KCQkJCWxvY2FsIGZvdiA9IDIgKiBtYXRoLnRhbihtYXRoLnJhZChjdXJyZW50Q0FNLkZpZWxkT2ZWaWV3KSAvIDIpDQoJCQkJbG9jYWwgbmV3UmF5ID0gUmF5Lm5ldw0KCQkJCWxvY2FsIGhlaWdodCA9IFZlY3RvcjMubmV3KDAsIDUwLCAwKQ0KCQkJCWxvY2FsIGRlcHRoID0gQ0ZyYW1lLm5ldygwLCBmb3YgKiA1MCwgLTYwKQ0KDQoJCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIik6QmluZFRvUmVuZGVyU3RlcCgiUmFpbiIsIEVudW0uUmVuZGVyUHJpb3JpdHkuQ2FtZXJhLlZhbHVlLCBmdW5jdGlvbigpDQoJCQkJCWxvY2FsIHJjID0gd29ya3NwYWNlOkZpbmRQYXJ0T25SYXlXaXRoSWdub3JlTGlzdChuZXdSYXkoY3VycmVudENBTS5DRnJhbWUucCwgaGVpZ2h0KSwge2lnbm9yZX0pDQoNCgkJCQkJaWYgKHJjKSB0aGVuDQoJCQkJCQlyYWluRWZmZWN0LkVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDAuNQ0KCQkJCQkJcmV0dXJuDQoJCQkJCWVuZA0KDQoJCQkJCWxvY2FsIHZpZXdwb3J0ID0gY3VycmVudENBTS5WaWV3cG9ydFNpemUNCgkNCgkJCQkJcmFpblBhcnQuU2l6ZSA9IFZlY3RvcjMubmV3KGZvdiAqIHZpZXdwb3J0LnggLyB2aWV3cG9ydC55ICogNTAsIDAuMiwgMTAwKQ0KCQkJCQlyYWluUGFydC5DRnJhbWUgPSBjdXJyZW50Q0FNLkNGcmFtZSAqIGRlcHRoDQoJDQoJCQkJCXJhaW5FZmZlY3QuUmF0ZSA9IHJhaW5QYXJ0LlNpemUubWFnbml0dWRlDQoJCQkJCXJhaW5FZmZlY3QuRW5hYmxlZCA9IHRydWUNCgkNCgkJCQkJcmFpblNvdW5kLlZvbHVtZSA9IDENCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA0KSA9PSAocHJlZml4IC4uICJmaXgiKSB0aGVuDQoJCQkJaWYgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLlBsYXllckd1aTpXYWl0Rm9yQ2hpbGQoIk1lbnUiKTpGaW5kRmlyc3RDaGlsZCgiQmxhY2tTY3JlZW4iKSB0aGVuDQoJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5QbGF5ZXJHdWk6V2FpdEZvckNoaWxkKCJNZW51Iik6RmluZEZpcnN0Q2hpbGQoIkJsYWNrU2NyZWVuIikuVmlzaWJsZSA9IGZhbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJGaXhpbmcgdGhlIE1lbnUgR1VJISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEzKSA9PSAocHJlZml4IC4uICJidXR0b25oZWlnaHQiKSB0aGVuDQoJCQkJYnV0dG9uSGVpZ2h0ID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxNSkpDQoJCQkJVUlHcmlkTGF5b3V0LkNlbGxTaXplID0gVURpbTIubmV3KDAuNDUsIDAsIDAsIGJ1dHRvbkhlaWdodCkNCgkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQ0KDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBoZWlnaHQgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTUpKSAuLiAiISINCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDEwKSA9PSAocHJlZml4IC4uICJidXR0b25nYXAiKSB0aGVuDQoJCQkJYnV0dG9uR2FwID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMikpDQoJCQkJVUlHcmlkTGF5b3V0LkNlbGxQYWRkaW5nID0gVURpbTIubmV3KDAsIDcsIDAsIGJ1dHRvbkdhcCkNCgkJCQltYWluZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBtYXRoLmNlaWwoI2J1dHRvbnMgLyAyKSAqIChidXR0b25IZWlnaHQgKyBidXR0b25HYXApIC0gYnV0dG9uR2FwKQ0KDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJ1dHRvbiBnYXAgd2FzIHNldCB0byAiIC4uIHRvbnVtYmVyKHN0cmluZy5zdWIodGV4dCwgMTIpKSAuLiAiISINCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDcpID09IChwcmVmaXggLi4gInJlam9pbiIpIHRoZW4NCgkJCQlyZWpvaW4oKQ0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJSZWpvaW5pbmcuLi4iDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA5KSA9PSAocHJlZml4IC4uICJhdXJhL29mZiIpIHRoZW4NCgkJCQlyZXBlYXQgd2FpdCgpIHVudGlsIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKQ0KDQoJCQkJaWYgZ2V0SFJQKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpOkZpbmRGaXJzdENoaWxkKCJBdXJhR1AiKSB0aGVuDQoJCQkJCWdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKTpGaW5kRmlyc3RDaGlsZCgiQXVyYUdQIik6RGVzdHJveSgpDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJBdXJhIGhhcyBiZWVuIHJlbW92ZWQuIg0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkF1cmEgZG9lcyBub3QgZXhpc3QhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTQpID09IChwcmVmaXggLi4gInRhcmdldHNldHRpbmciKSB0aGVuDQoJCQkJdGFyZ2V0U2V0dGluZyA9IHN0cmluZy5zdWIodGV4dCwgMTYpDQoNCgkJCQlyZXBlYXQNCgkJCQkJaWYgdGFyZ2V0U2V0dGluZyA9PSAic2VsZWN0IiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBzZWxlY3QhIg0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiY2xvc2VzdCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gY2xvc2VzdCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJjbG9zZXN0IiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhSUCh2LkNoYXJhY3RlcikgYW5kIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgZGlzdGFuY2UgPSAoZ2V0SFJQKHYuQ2hhcmFjdGVyKS5Qb3NpdGlvbiAtIGdldEhSUChnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKS5Qb3NpdGlvbikuTWFnbml0dWRlDQoNCgkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGRpc3RhbmNlfSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPCBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZWlmIHRhcmdldFNldHRpbmcgPT0gImZhcnRoZXN0IiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBmYXJ0aGVzdCEiDQoJCQkJCQl3aGlsZSB0YXJnZXRTZXR0aW5nID09ICJmYXJ0aGVzdCIgZG8NCgkJCQkJCQlsb2NhbCBuZWFyZXN0UGxheWVycyA9IHt9DQoNCgkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhnYW1lLlBsYXllcnM6R2V0UGxheWVycygpKSBkbw0KCQkJCQkJCQlpZiBnZXRIUlAodi5DaGFyYWN0ZXIpIGFuZCBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikgYW5kIHYgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyIHRoZW4NCgkJCQkJCQkJCWlmIHNtYXJ0QXR0YWNrIHRoZW4NCgkJCQkJCQkJCQlpZiBub3Qgdi5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkZvcmNlRmllbGQiKSB0aGVuDQoJCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgZGlzdGFuY2V9KQ0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWxvY2FsIGRpc3RhbmNlID0gKGdldEhSUCh2LkNoYXJhY3RlcikuUG9zaXRpb24gLSBnZXRIUlAoZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3RlcikuUG9zaXRpb24pLk1hZ25pdHVkZQ0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBkaXN0YW5jZX0pDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl0YWJsZS5zb3J0KG5lYXJlc3RQbGF5ZXJzLCANCgkJCQkJCQkJZnVuY3Rpb24oYSwgYikNCgkJCQkJCQkJCXJldHVybiBhWzJdID4gYlsyXQ0KCQkJCQkJCQllbmQNCgkJCQkJCQkpDQoNCgkJCQkJCQl0YXJnZXQgPSBuZWFyZXN0UGxheWVyc1sxXVsxXSBvciBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KDQoJCQkJCQkJaWYgdGFyZ2V0IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiB0YXJnZXQNCgkJCQkJCQllbHNlDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8IChOb25lKSINCgkJCQkJCQllbmQNCg0KCQkJCQkJCXdhaXQoKQ0KCQkJCQkJZW5kDQoJCQkJCWVsc2VpZiB0YXJnZXRTZXR0aW5nID09ICJsb3docCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzd2l0Y2hlZCB0aGUgdGFyZ2V0IHNldHRpbmcgdG8gbG93aHAhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAibG93aHAiIGRvDQoJCQkJCQkJbG9jYWwgbmVhcmVzdFBsYXllcnMgPSB7fQ0KDQoJCQkJCQkJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQkJCQkJaWYgZ2V0SFVNKHYuQ2hhcmFjdGVyKSBhbmQgZ2V0SFVNKGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIpIGFuZCB2IH49IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllciB0aGVuDQoJCQkJCQkJCQlpZiBzbWFydEF0dGFjayB0aGVuDQoJCQkJCQkJCQkJaWYgbm90IHYuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJGb3JjZUZpZWxkIikgdGhlbg0KCQkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCQllbmQNCgkJCQkJCQkJCWVsc2UNCgkJCQkJCQkJCQlsb2NhbCBoZWFsdGggPSBnZXRIVU0odi5DaGFyYWN0ZXIpLkhlYWx0aA0KDQoJCQkJCQkJCQkJdGFibGUuaW5zZXJ0KG5lYXJlc3RQbGF5ZXJzLCB7di5OYW1lLCBoZWFsdGh9KQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJdGFibGUuc29ydChuZWFyZXN0UGxheWVycywgDQoJCQkJCQkJCWZ1bmN0aW9uKGEsIGIpDQoJCQkJCQkJCQlyZXR1cm4gYVsyXSA8IGJbMl0NCgkJCQkJCQkJZW5kDQoJCQkJCQkJKQ0KDQoJCQkJCQkJdGFyZ2V0ID0gbmVhcmVzdFBsYXllcnNbMV1bMV0gb3IgZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUNCg0KCQkJCQkJCWlmIHRhcmdldCB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZSB0aGVuDQoJCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAoTm9uZSkiDQoJCQkJCQkJZW5kDQoNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlaWYgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiU3VjY2Vzc2Z1bGx5IHN3aXRjaGVkIHRoZSB0YXJnZXQgc2V0dGluZyB0byBoaWdoaHAhIg0KCQkJCQkJd2hpbGUgdGFyZ2V0U2V0dGluZyA9PSAiaGlnaGhwIiBkbw0KCQkJCQkJCWxvY2FsIG5lYXJlc3RQbGF5ZXJzID0ge30NCg0KCQkJCQkJCWZvciBpLCB2IGluIHBhaXJzKGdhbWUuUGxheWVyczpHZXRQbGF5ZXJzKCkpIGRvDQoJCQkJCQkJCWlmIGdldEhVTSh2LkNoYXJhY3RlcikgYW5kIGdldEhVTShnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSBhbmQgdiB+PSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIgdGhlbg0KCQkJCQkJCQkJaWYgc21hcnRBdHRhY2sgdGhlbg0KCQkJCQkJCQkJCWlmIG5vdCB2LkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCQl0YWJsZS5pbnNlcnQobmVhcmVzdFBsYXllcnMsIHt2Lk5hbWUsIGhlYWx0aH0pDQoJCQkJCQkJCQkJZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJbG9jYWwgaGVhbHRoID0gZ2V0SFVNKHYuQ2hhcmFjdGVyKS5IZWFsdGgNCg0KCQkJCQkJCQkJCXRhYmxlLmluc2VydChuZWFyZXN0UGxheWVycywge3YuTmFtZSwgaGVhbHRofSkNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCg0KCQkJCQkJCXRhYmxlLnNvcnQobmVhcmVzdFBsYXllcnMsIA0KCQkJCQkJCQlmdW5jdGlvbihhLCBiKQ0KCQkJCQkJCQkJcmV0dXJuIGFbMl0gPiBiWzJdDQoJCQkJCQkJCWVuZA0KCQkJCQkJCSkNCg0KCQkJCQkJCXRhcmdldCA9IG5lYXJlc3RQbGF5ZXJzWzFdWzFdIG9yIGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoNCgkJCQkJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VycmVudCBUYXJnZXQgfCAiIC4uIHRhcmdldA0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJd2FpdCgpDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJdGFyZ2V0U2V0dGluZyA9ICJzZWxlY3QiDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCB0YXJnZXQgc2V0dGluZyEgRGlkIHlvdSBzcGVjaWZ5IHNlbGVjdCwgY2xvc2VzdCwgZmFydGhlc3QsIGxvd2hwLCBvciBoaWdoaHA/IFNldHRpbmcgaGFzIGJlZW4gc2V0IHRvIHNlbGVjdC4iDQoJCQkJCWVuZA0KCQkJCXVudGlsIHRhcmdldFNldHRpbmcgPT0gInNlbGVjdCINCg0KCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJsb29wIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgNywgNykgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA3LCA4KSA9PSAoIm9uIikgdGhlbg0KCQkJCQlpZiBsb29waW5nID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJbG9vcGluZyA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdGFydGVkIGxvb3BpbmcgYXR0YWNrcyEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGxvb3BpbmcgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkxvb3BpbmcgYXR0YWNrcyBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWxvb3BpbmcgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgbG9vcGluZyBhdHRhY2tzISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlsb29waW5nID0gbm90IGxvb3BpbmcNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgbG9vcGluZyA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGxvb3BpbmcgYXR0YWNrcyAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCg0KCQkJCXNwYXduKGZ1bmN0aW9uKCkNCgkJCQkJd2hpbGUgbG9vcGluZyBkbw0KCQkJCQkJZXhwbG9pdCgpDQoJCQkJCQl3YWl0KCkNCgkJCQkJZW5kDQoJCQkJCXJldHVybg0KCQkJCWVuZCkNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gInVuYnJlYWsiKSB0aGVuDQoJCQkJYnJlYWthYmxlID0gZmFsc2UNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDkpID09IChwcmVmaXggLi4gImdyY2hhcmdlIikgdGhlbg0KCQkJCUdSQ2hhcmdlID0gdG9udW1iZXIoc3RyaW5nLnN1Yih0ZXh0LCAxMSkpDQoJCQkJd2FpdCgpDQoJCQkJaWYgR1JDaGFyZ2UgPT0gbmlsIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IGVudGVyIGFuIGludGVnZXI/Ig0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN1Y2Nlc3NmdWxseSBzZXQgdGhlIGNoYXJnZSB0byAiIC4uIEdSQ2hhcmdlIC4uICIhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAic3BlZWQiKSB0aGVuDQoJCQkJU2V0U3BlZWQgPSB0b251bWJlcihzdHJpbmcuc3ViKHRleHQsIDgpKQ0KCQkJCXdhaXQoKQ0KCQkJCWlmIFNldFNwZWVkID09IG5pbCB0aGVuDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJJbnZhbGlkIEFyZ3VtZW50cyEgRGlkIHlvdSBlbnRlciBhbiBpbnRlZ2VyPyINCgkJCQllbHNlDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzZnVsbHkgc2V0IHRoZSBzcGVlZCB0byAiIC4uIFNldFNwZWVkIC4uICIhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTIpID09IChwcmVmaXggLi4gInNtYXJ0YXR0YWNrIikgdGhlbg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTQsIDE0KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDE0LCAxNSkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRm9yY2VmaWVsZCBkZXRlY3Rpb24gaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCXNtYXJ0QXR0YWNrID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIk5vdyBkZXRlY3RpbmcgZm9yY2VmaWVsZHMhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxNCwgMTQpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTQsIDE2KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgc21hcnRBdHRhY2sgPT0gZmFsc2UgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkZvcmNlZmllbGQgZGV0ZWN0aW9uIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJc21hcnRBdHRhY2sgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0b3BwZWQgZGV0ZWN0aW5nIGZvcmNlZmllbGRzISINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQlzbWFydEF0dGFjayA9IG5vdCBzbWFydEF0dGFjaw0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9OIg0KCQkJCQlpZiBzbWFydEF0dGFjayA9PSBmYWxzZSB0aGVuDQoJCQkJCQlPbk9yT2ZmID0gIk9GRiINCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIGZvcmNlZmllbGQgZGV0ZWN0aW9uICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImdhbWVjb2xvciIpIHRoZW4NCgkJCQlpZiBub3QgZ2FtZS5MaWdodGluZzpGaW5kRmlyc3RDaGlsZCgiRUJHR3VpQ29sb3JDb3JyZWN0aW9uIikgdGhlbg0KCQkJCQlJbnN0YW5jZS5uZXcoIkNvbG9yQ29ycmVjdGlvbkVmZmVjdCIsIGdhbWUuTGlnaHRpbmcpLk5hbWUgPSAiRUJHR3VpQ29sb3JDb3JyZWN0aW9uIg0KCQkJCQl3YWl0KCkNCgkJCQllbmQNCg0KCQkJCWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDE3KSA9PSAibm9ybWFsIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gMA0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gMA0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUmV2ZXJ0aW5nLi4uIg0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImdyYXlzY2FsZSIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTENCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkdyYXlzY2FsaW5nLi4uIg0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAyMCkgPT0gImludmVydGh1ZSIgdGhlbg0KCQkJCQlnYW1lLkxpZ2h0aW5nLkVCR0d1aUNvbG9yQ29ycmVjdGlvbi5TYXR1cmF0aW9uID0gLTINCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBodWUuLi4iDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMTIsIDIwKSA9PSAiaW52ZXJ0YWxsIiB0aGVuDQoJCQkJCWdhbWUuTGlnaHRpbmcuRUJHR3VpQ29sb3JDb3JyZWN0aW9uLkNvbnRyYXN0ID0gLTINCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmVydGluZyBhbGwuLi4iDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBjb2xvciBtb2RlIChvciBub25lIHNwZWNpZmllZCkhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImJsYWNrY2FzdCIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGJsYWNrY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJYmxhY2tjYXN0RW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJCbGFjayBjYXN0aW5nIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgYmxhY2tjYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQmxhY2sgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkJsYWNrIGNhc3RpbmcgZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWJsYWNrY2FzdEVuYWJsZWQgPSBub3QgYmxhY2tjYXN0RW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9OIg0KCQkJCQlpZiBibGFja2Nhc3RFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT0ZGIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgYmxhY2sgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmQNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDUpID09IChwcmVmaXggLi4gInN0dW4iKSB0aGVuDQoJCQkJaWYgc3RyaW5nLnN1Yih0ZXh0LCA3LCA3KSA9PSAoInQiKSBvciBzdHJpbmcuc3ViKHRleHQsIDcsIDgpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIHN0dW5FbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gaXMgYWxyZWFkeSBvbiEiDQoJCQkJCWVsc2UNCgkJCQkJCXN0dW5FbmFibGVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZW5hYmxlZCEiDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDcsIDcpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgNywgOSkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdHVuIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJc3R1bkVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlN0dW4gZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCXN0dW5FbmFibGVkID0gbm90IHN0dW5FbmFibGVkDQoJCQkJCWxvY2FsIE9uT3JPZmYgPSAiT04iDQoJCQkJCWlmIHN0dW5FbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT0ZGIg0KCQkJCQkJZm9yIGksIGNvbm5lY3Rpb24gaW4gcGFpcnMoc3R1bkNvbm5lY3Rpb24pIGRvDQoJCQkJCQkJY29ubmVjdGlvbjpEaXNhYmxlKCkNCgkJCQkJCWVuZA0KCQkJCQllbHNlDQoJCQkJCQlmb3IgaSwgY29ubmVjdGlvbiBpbiBwYWlycyhzdHVuQ29ubmVjdGlvbikgZG8NCgkJCQkJCQljb25uZWN0aW9uOkVuYWJsZSgpDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJUb2dnbGVkIHN0dW4gKCIgLi4gT25Pck9mZiAuLiAiKSEiDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA2KSA9PSAocHJlZml4IC4uICJkcnVncyIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDgsIDgpID09ICgidCIpIG9yIHN0cmluZy5zdWIodGV4dCwgOCwgOSkgPT0gKCJvbiIpIHRoZW4NCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IHRydWUgdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJZHJ1Z3NFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkRydWcgbW9kZSBlbmFibGVkISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgOCwgOCkgPT0gKCJmIikgb3Igc3RyaW5nLnN1Yih0ZXh0LCA4LCAxMCkgPT0gKCJvZmYiKSB0aGVuDQoJCQkJCWlmIGRydWdzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRHJ1ZyBtb2RlIGlzIGFscmVhZHkgb2ZmISINCgkJCQkJZWxzZQ0KCQkJCQkJZHJ1Z3NFbmFibGVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEcnVnIG1vZGUgZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWRydWdzRW5hYmxlZCA9IG5vdCBkcnVnc0VuYWJsZWQNCgkJCQkJbG9jYWwgT25Pck9mZiA9ICJPTiINCgkJCQkJaWYgZHJ1Z3NFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT0ZGIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgZHJ1ZyBtb2RlICgiIC4uIE9uT3JPZmYgLi4gIikhIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTEpID09IChwcmVmaXggLi4gIm1hZ2ljY29sb3IiKSB0aGVuDQoJCQkJbG9jYWwgc3RyaW5nYXJncyA9IHN0cmluZy5zdWIodGV4dCwgMTMpDQoJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQ0KDQoJCQkJaWYgKGFyZ3NbMV0gPT0gInQiKSBvciAoYXJnc1sxXSA9PSAib24iKSB0aGVuDQoJCQkJCWlmIChjb2xvcjEgfj0gbmlsKSBhbmQgKGNvbG9yMiB+PSBuaWwpIGFuZCAoY29sb3IzIH49IG5pbCkgdGhlbg0KCQkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQkJY29sb3JzRW5hYmxlZCA9IHRydWUNCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIGVuYWJsZWQhIg0KCQkJCQkJZWxzZQ0KCQkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvbiEiDQoJCQkJCQllbmQNCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIllvdSBtdXN0IGhhdmUgY29sb3JzIHNldCB3aXRoIHRoaXMgY29tbWFuZCBiZWZvcmUgdHVybmluZyBpdCBiYWNrIG9uISINCgkJCQkJZW5kDQoJCQkJZWxzZWlmIChhcmdzWzFdID09ICJmIikgb3IgKGFyZ3NbMV0gPT0gIm9mZiIpIHRoZW4NCgkJCQkJaWYgY29sb3JzRW5hYmxlZCA9PSB0cnVlIHRoZW4NCgkJCQkJCWNvbG9yc0VuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1c3RvbSBtYWdpYyBjb2xvciBkaXNhYmxlZCEiDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXN0b20gbWFnaWMgY29sb3IgaXMgYWxyZWFkeSBvZmYhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWFyZ3NbMV0gPSB0b251bWJlcihhcmdzWzFdKQ0KCQkJCQlhcmdzWzJdID0gdG9udW1iZXIoYXJnc1syXSkNCgkJCQkJYXJnc1szXSA9IHRvbnVtYmVyKGFyZ3NbM10pDQoNCgkJCQkJaWYgbm90IGFyZ3NbM10gdGhlbg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBEaWQgeW91IHNwZWNpZnkgUiwgRywgYW5kIEIgdmFsdWVzPyINCgkJCQkJZWxzZQ0KCQkJCQkJaWYgKGFyZ3NbMV0gfj0gbmlsKSBhbmQgKGFyZ3NbMl0gfj0gbmlsKSBhbmQgKGFyZ3NbM10gfj0gbmlsKSB0aGVuDQoJCQkJCQkJbG9jYWwgZXhlY3V0YWJsZSA9IHRydWUNCg0KCQkJCQkJCWZvciBpID0gMSwgMywgMSBkbw0KCQkJCQkJCQlpZiAoYXJnc1tpXSA8IDApIG9yIChhcmdzW2ldID4gMjU1KSB0aGVuDQoJCQkJCQkJCQlleGVjdXRhYmxlID0gZmFsc2UNCgkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVuZA0KDQoJCQkJCQkJaWYgZXhlY3V0YWJsZSA9PSB0cnVlIHRoZW4NCgkJCQkJCQkJY29sb3IxID0gYXJnc1sxXQ0KCQkJCQkJCQljb2xvcjIgPSBhcmdzWzJdDQoJCQkJCQkJCWNvbG9yMyA9IGFyZ3NbM10NCg0KCQkJCQkJCQljb2xvcnNFbmFibGVkID0gdHJ1ZQ0KCQkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiQ3VzdG9tIG1hZ2ljIGNvbG9yIHdhcyBzZXQgdG8gIiAuLiBjb2xvcjEgLi4gIiwgIiAuLiBjb2xvcjIgLi4gIiwgYW5kICIgLi4gY29sb3IzIC4uICIhIg0KCQkJCQkJCWVsc2UNCgkJCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkludmFsaWQgQXJndW1lbnRzISBUaGUgbnVtYmVycyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1ISINCgkJCQkJCQllbmQNCgkJCQkJCWVsc2UNCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBBcmd1bWVudHMhIFBsZWFzZSB1c2UgbnVtYmVycyB0byBzcGVjaWZ5IFIsIEcsIGFuZCBCIHZhbHVlcy4iDQoJCQkJCQllbmQNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA3KSA9PSAocHJlZml4IC4uICJjb2xvcnMiKSB0aGVuDQoJCQkJZ2FtZS5Xb3Jrc3BhY2UuRGVzY2VuZGFudEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oZCkNCgkJCQkJc3Bhd24oZnVuY3Rpb24oKSANCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQl3aGlsZSB0cnVlIGRvDQoJCQkJCQkJCWlmIGQuUGFyZW50IH49IG5pbCB0aGVuDQoJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvcjMuZnJvbVJHQihtYXRoLnJhbmRvbSgwLCAyNTUpLCBtYXRoLnJhbmRvbSgwLCAyNTUpLCBtYXRoLnJhbmRvbSgwLCAyNTUpKQ0KCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkNCgkJCQkJCQkJCWVsc2VpZiBjb2xvcnNFbmFibGVkIHRoZW4NCgkJCQkJCQkJCQlpZiBub3QgdGFibGUuZmluZChjb2xvckV4Y2x1ZGUsIGQuTmFtZSkgdGhlbiANCgkJCQkJCQkJCQkJZC5Db2xvciA9IENvbG9yMy5mcm9tUkdCKGNvbG9yMSwgY29sb3IyLCBjb2xvcjMpDQoJCQkJCQkJCQkJCXdhaXQoKQ0KCQkJCQkJCQkJCWVsc2UgYnJlYWsgZW5kDQoJCQkJCQkJCQllbHNlDQoJCQkJCQkJCQkJYnJlYWsNCgkJCQkJCQkJCWVuZA0KCQkJCQkJCQllbHNlDQoJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQllbmQNCgkJCQkJCQllbmQNCgkJCQkJCWVuZCkNCgkJCQkJZW5kKQ0KDQoJCQkJCXNwYXduKGZ1bmN0aW9uKCkNCgkJCQkJCXBjYWxsKGZ1bmN0aW9uKCkNCgkJCQkJCQlpZiAoYmxhY2tjYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbg0KCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuDQoJCQkJCQkJCQkJdi5Db2xvcjMgPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKQ0KCQkJCQkJCQkJZW5kDQoJCQkJCQkJCWVuZA0KCQkJCQkJCWVsc2VpZiAoZWJndWljYXN0RW5hYmxlZCA9PSB0cnVlKSBhbmQgKGQuUGFyZW50IH49IG5pbCkgdGhlbg0KCQkJCQkJCQlmb3IgaSwgdiBpbiBwYWlycyhkOkdldENoaWxkcmVuKCkpIGRvDQoJCQkJCQkJCQlpZiB2OklzQSgiRGVjYWwiKSB0aGVuDQoJCQkJCQkJCQkJdi5UZXh0dXJlID0gImh0dHBzOi8vd3d3LnJvYmxveC5jb20vYXNzZXQvP2lkPTg2MDM3NjU5MDQiDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCg0KCQkJCQlzcGF3bihmdW5jdGlvbigpDQoJCQkJCQlwY2FsbChmdW5jdGlvbigpDQoJCQkJCQkJaWYgZDpJc0EoIlBhcnRpY2xlRW1pdHRlciIpIHRoZW4JCQkNCgkJCQkJCQkJd2hpbGUgdHJ1ZSBkbw0KCQkJCQkJCQkJaWYgZC5QYXJlbnQgfj0gbmlsIHRoZW4NCgkJCQkJCQkJCQlpZiBkcnVnc0VuYWJsZWQgdGhlbg0KCQkJCQkJCQkJCQlkLkNvbG9yID0gQ29sb3JTZXF1ZW5jZS5uZXd7DQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAsIENvbG9yMy5uZXcobWF0aC5yYW5kb20oMCwgMjU1KS8yNTUsIG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSkpLA0KCQkJCQkJCQkJCQkJQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLCBDb2xvcjMubmV3KG1hdGgucmFuZG9tKDAsIDI1NSkvMjU1LCBtYXRoLnJhbmRvbSgwLCAyNTUpLzI1NSwgbWF0aC5yYW5kb20oMCwgMjU1KS8yNTUpKQ0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJCXdhaXQoKG1hdGgucmFuZG9tKDEsIDUpKS8xMCkNCgkJCQkJCQkJCQllbHNlaWYgY29sb3JzRW5hYmxlZCB0aGVuDQoJCQkJCQkJCQkJCWQuQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ld3sNCgkJCQkJCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMCwgQ29sb3IzLm5ldyhjb2xvcjEvMjU1LCBjb2xvcjIvMjU1LCBjb2xvcjMvMjU1KSksDQoJCQkJCQkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEsIENvbG9yMy5uZXcoY29sb3IxLzI1NSwgY29sb3IyLzI1NSwgY29sb3IzLzI1NSkpDQoJCQkJCQkJCQkJCX0NCgkJCQkJCQkJCQkJd2FpdCgpDQoJCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCQlicmVhaw0KCQkJCQkJCQkJCWVuZA0KCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCWJyZWFrDQoJCQkJCQkJCQllbmQNCgkJCQkJCQkJZW5kDQoJCQkJCQkJZW5kDQoJCQkJCQllbmQpDQoJCQkJCWVuZCkNCgkJCQllbmQpDQoJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxLCA1KSA9PSAocHJlZml4IC4uICJoZWFsIikgdGhlbg0KCQkJCWxvY2FsIHN0cmluZ2FyZ3MgPSBzdHJpbmcuc3ViKHRleHQsIDcpDQoJCQkJbG9jYWwgYXJncyA9IHNwbGl0QXJncyhzdHJpbmdhcmdzKQ0KDQoJCQkJaWYgYXJnc1sxXSB0aGVuCQkJCQ0KCQkJCQlpZiAoIyhmaW5kUGxheWVyKGFyZ3NbMV0pKSA9PSAxKSB0aGVuDQoJCQkJCQl3YXJuKCJhdHRlbXB0aW5nIGhlYWwgb24gIiAuLiBmaW5kUGxheWVyKGFyZ3NbMV0pWzFdKQ0KCQkJCQkJbG9jYWwgaGVhbGluZ1BsYXllciA9IGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0NCgkJCQkJCWxvY2FsIGNociA9IGdhbWUuUGxheWVyc1toZWFsaW5nUGxheWVyXS5DaGFyYWN0ZXINCg0KCQkJCQkJaWYgY2hyIHRoZW4NCgkJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSGVhbGluZyAiIC4uIGZpbmRQbGF5ZXIoYXJnc1sxXSlbMV0gLi4gIi4uLiINCgkJCQkJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJDcnlzdGFsIiwgIkdsZWFtaW5nIEhhcm1vbnkiKQ0KCQkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJHbGVhbWluZyBIYXJtb255IiwgY2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGhvZW5peCIsICJCbHVlIEFyc29uIikNCgkJCQkJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBob2VuaXgiLCAiQmx1ZSBBcnNvbiIsIGNoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMikgPT0gKHByZWZpeCAuLiAiZSIpIHRoZW4NCgkJCQlsb2NhbCBwaGFzZSA9IHN0cmluZy5zdWIodGV4dCwgNCkNCg0KCQkJCWlmIHRvbnVtYmVyKHBoYXNlKSB+PSBuaWwgdGhlbg0KCQkJCQlwaGFzZSA9IG1hdGguZmxvb3IodG9udW1iZXIocGhhc2UpKQ0KDQoJCQkJCWlmIChwaGFzZSA9PSAxKSBvciAocGhhc2UgPT0gMikgb3IgKHBoYXNlID09IDMpIHRoZW4NCgkJCQkJCUVjaG9lc1BoYXNlID0gcGhhc2UNCg0KCQkJCQkJbG9jYWwgbW9kZSA9ICIiDQoNCgkJCQkJCWlmIEVjaG9lc1BoYXNlID09IDEgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKFNUQVIpIg0KCQkJCQkJZWxzZWlmIEVjaG9lc1BoYXNlID09IDIgdGhlbg0KCQkJCQkJCW1vZGUgPSAiKEZMQU1FKSINCgkJCQkJCWVsc2VpZiBFY2hvZXNQaGFzZSA9PSAzIHRoZW4NCgkJCQkJCQltb2RlID0gIihTSE9DSykiDQoJCQkJCQllbmQNCg0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVjaG9lcyBwaGFzZSBoYXMgYmVlbiBjaGFuZ2VkISAiIC4uIG1vZGUNCgkJCQkJZWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlBoYXNlIGlzIGludmFsaWQhIE11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAzLiINCgkJCQkJZW5kDQoJCQkJZWxzZQ0KCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiUGhhc2UgaXMgaW52YWxpZCEgTXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMuIg0KCQkJCWVuZA0KCQkJZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImNoYW5nZWxvZyIpIHRoZW4NCgkJCQktLSBUYWc6IENITkdMRw0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJEb25lISBIaXQgQ3RybCtGOSB0byB2aWV3LiINCgkJCQl3YXJuKCJSb2Jsb3ggaXMgZHVtYiBhbmQgZG9lc24ndCBhbGxvdyBtZSB0byBsb2FkIGEgc3RyaW5nIHdpdGggbXVsdGlwbGUgbGluZXMgaGVyZS4iKQ0KCQkJCXByaW50KCJDaGVjayBodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvZkZEcEdNQXIgdG8gc2VlIHRoZSBjaGFuZ2Vsb2cuIikNCgkJCWVsc2VpZiBzdHJpbmcuc3ViKHRleHQsIDEsIDgpID09IChwcmVmaXggLi4gIm9yaWdpbiIpIHRoZW4NCgkJCQl4cGNhbGwoZnVuY3Rpb24oKQ0KCQkJCQlsb2NhbCBvcmlnaW4gPSBJbnN0YW5jZS5uZXcoIlBhcnQiKQ0KCQkJCQlvcmlnaW4uQW5jaG9yZWQgPSB0cnVlDQoJCQkJCW9yaWdpbi5QYXJlbnQgPSBnYW1lLldvcmtzcGFjZVsiLklnbm9yZSJdWyIuU2VydmVyRWZmZWN0cyJdDQoJCQkJCW9yaWdpbi5OYW1lID0gIk9yaWdpbiINCgkJCQkJb3JpZ2luLk1hdGVyaWFsID0gRW51bS5NYXRlcmlhbC5OZW9uDQoJCQkJCW9yaWdpbi5Ccmlja0NvbG9yID0gQnJpY2tDb2xvci5uZXcoIlJlYWxseSByZWQiKQ0KCQkJCQlvcmlnaW4uU2l6ZSA9IFZlY3RvcjMubmV3KDAuNSwgMC41LCAwLjUpDQoJCQkJCW9yaWdpbi5Qb3NpdGlvbiA9IFZlY3RvcjMubmV3KDAsIDAsIDApDQoJCQkJCXdhcm4oIk1hZGUgYSBibG9jayBhdCB0aGUgb3JpZ2luISIpDQoJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJTdWNjZXNzISBDaGVjayBjb25zb2xlIGZvciBtb3JlIGluZm8iDQoJCQkJZW5kLCBmdW5jdGlvbihlKQ0KCQkJCQlwcmludCgiRW5jb3VudGVyZWQgYW4gZXJyb3IhIHhwY2FsbCBzYXlzOiIsIGUpDQoJCQkJCXdhcm4oJ3RyYWNlYmFjazonLCBkZWJ1Zy50cmFjZWJhY2soKSkNCgkJCQllbmQpDQoJCQktLVtbZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgMTApID09IChwcmVmaXggLi4gImViZ3VpY2FzdCIpIHRoZW4NCgkJCQlpZiBzdHJpbmcuc3ViKHRleHQsIDEyLCAxMikgPT0gKCJ0Iikgb3Igc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTMpID09ICgib24iKSB0aGVuDQoJCQkJCWlmIGViZ3VpY2FzdEVuYWJsZWQgPT0gdHJ1ZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHVUkgY2FzdGluZyBpcyBhbHJlYWR5IG9uISINCgkJCQkJZWxzZQ0KCQkJCQkJZWJndWljYXN0RW5hYmxlZCA9IHRydWUNCgkJCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJFQkdVSSBjYXN0aW5nIGVuYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlaWYgc3RyaW5nLnN1Yih0ZXh0LCAxMiwgMTIpID09ICgiZiIpIG9yIHN0cmluZy5zdWIodGV4dCwgMTIsIDE0KSA9PSAoIm9mZiIpIHRoZW4NCgkJCQkJaWYgZWJndWljYXN0RW5hYmxlZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRUJHVUkgY2FzdGluZyBpcyBhbHJlYWR5IG9mZiEiDQoJCQkJCWVsc2UNCgkJCQkJCWViZ3VpY2FzdEVuYWJsZWQgPSBmYWxzZQ0KCQkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkVCR1VJIGNhc3RpbmcgZGlzYWJsZWQhIg0KCQkJCQllbmQNCgkJCQllbHNlDQoJCQkJCWViZ3VpY2FzdEVuYWJsZWQgPSBub3QgZWJndWljYXN0RW5hYmxlZA0KCQkJCQlsb2NhbCBPbk9yT2ZmID0gIk9OIg0KCQkJCQlpZiBlYmd1aWNhc3RFbmFibGVkID09IGZhbHNlIHRoZW4NCgkJCQkJCU9uT3JPZmYgPSAiT0ZGIg0KCQkJCQllbmQNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIlRvZ2dsZWQgRUJHVUkgY2FzdGluZyAoIiAuLiBPbk9yT2ZmIC4uICIpISINCgkJCQllbmRdXQ0KICAgICAgICAgICAgZWxzZWlmIHN0cmluZy5zdWIodGV4dCwgMSwgNikgPT0gKHByZWZpeCAuLiAiaGVscCIpIHRoZW4NCiAgICAgICAgICAgICAgICB3YXJuKCJSb2Jsb3ggaXMgZHVtYiBhbmQgaXNuJ3QgZm9ybWF0dGluZyBtdWx0aWxpbmUgc3RyaW5ncyByaWdodC4iKQ0KICAgICAgICAgICAgICAgIHByaW50KCJGb3Igbm93LCBjaGVjayBodHRwczovL3Bhc3RlYmluLmNvbS9yYXcvWTc0R2loR3kgdG8gc2VlIHRoZSBmdWxsIGxpc3Qgb2YgY29tbWFuZHMuIikNCiAgICAgICAgICAgICAgICBjb21tYW5kQm94T3V0cHV0LlRleHQgPSAiRG9uZSEgSGl0IEN0cmwrRjkgdG8gdmlldy4iDQogICAgICAgICAgICBlbmQNCg0KCQkJd2FpdCgxLjUpDQoJCQlpZiB0YXJnZXQgfj0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLk5hbWUgdGhlbg0KCQkJCWNvbW1hbmRCb3hPdXRwdXQuVGV4dCA9ICJDdXJyZW50IFRhcmdldCB8ICIgLi4gdGFyZ2V0DQoJCQllbHNlDQoJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJZW5kDQoJCWVsc2UNCgkJCWxvY2FsIG1hdGNoZXMgPSBmaW5kUGxheWVyKHRleHQpDQoNCgkJCWlmICNtYXRjaGVzID09IDEgdGhlbg0KCQkJCXRhcmdldCA9IG1hdGNoZXNbMV0NCgkJCQlpZiBtYXRjaGVzWzFdID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIgkJCQkJCQ0KCQkJCWVsc2UNCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgIiAuLiBtYXRjaGVzWzFdDQoJCQkJZW5kDQoJCQkJd2FpdCgxKQ0KCQkJZWxzZQ0KCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQkJd2FybigiVGFyZ2V0IG5vdCBmb3VuZCEgRG8gbXVsdGlwbGUgcGxheWVycyBoYXZlIHRoYXQgc2FtZSBzdWJzdHJpbmcgaW4gdGhlaXIgbmFtZXM/IikNCgkJCQljb21tYW5kQm94T3V0cHV0LlRleHQgPSAiSW52YWxpZCBUYXJnZXQhIFR5cGUgdGhlaXIgbmFtZSBhZ2Fpbi4iDQoJCQkJd2FpdCgxLjUpDQoJCQkJaWYgdGFyZ2V0ID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIHRoZW4NCgkJCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKE5vbmUpIg0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikuUGxheWVyUmVtb3Zpbmc6Y29ubmVjdChmdW5jdGlvbihwbGF5ZXIpDQoJCWlmIHRhcmdldCA9PSBwbGF5ZXIuTmFtZSB0aGVuDQoJCQl0YXJnZXQgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuTmFtZQ0KCQkJY29tbWFuZEJveE91dHB1dC5UZXh0ID0gIkN1cnJlbnQgVGFyZ2V0IHwgKFRhcmdldCBSUWVkISkiDQoJCWVuZA0KCWVuZCkNCg0KCWNvbW1hbmRCb3guRm9jdXNMb3N0OkNvbm5lY3QoZnVuY3Rpb24oZW50ZXJQcmVzc2VkKQ0KCQlpZiBlbnRlclByZXNzZWQgdGhlbg0KCQkJaWYgY29tbWFuZEJveC5UZXh0IH49ICIiIHRoZW4NCgkJCQlpbnB1dEJveCgpDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJY29yb3V0aW5lLnJlc3VtZShjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkNCgkJbWFpbmZyYW1lLkNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgKG1hdGguY2VpbCgjYnV0dG9ucyAqIDM3KSAvIDIpIC0gNykNCgllbmQpKQ0KDQoJLS0gQnJlYWtpbmcgU2NyaXB0IFVzZXJzDQoNCglicmVha2FibGUgPSB0cnVlDQoNCglsb2NhbCBicmVha1VzZXJzID0gew0KCQkxODY0MzgwNTgxLA0KCQkxODIxMzMyOTMsDQoJCTI5NzYxNTIzMSwNCgkJMTEyODExNDk0NCwNCgkJMTk1NjQxMzA3OSwNCgkJMzExMDI3MjA0LA0KCQkxOTAzMTY1NDA1LA0KCQkxOTMzNzM0OTU2LA0KCQkxODEyMDUzNjMyLA0KCQkxOTA2MzExOTAyLA0KCQkxOTkzMjI0NzI0LA0KCQkxOTQ0NTMxNjY1LA0KCQkxMDgwNDUwMjMNCgl9DQoNCglsb2NhbCBvbmNoYXQgPSBmdW5jdGlvbihwbHIsIG1zZykNCgkJbG9jYWwgYWxsb3dlZCA9IGZhbHNlDQoJCWZvciBfLCB1c2VyIGluIHBhaXJzKGJyZWFrVXNlcnMpIGRvDQoJCQlpZiBwbHIuTmFtZSA9PSB1c2VyIHRoZW4NCgkJCQlhbGxvd2VkID0gdHJ1ZQ0KCQkJZW5kDQoJCWVuZA0KDQoJCWxvY2FsIHByZWZpeCA9ICI7Ig0KDQoJCWlmIHN0cmluZy5zdWIobXNnLCAxLCA3KSA9PSAocHJlZml4IC4uICJicmVhayAiKSB0aGVuDQoJCQlsb2NhbCBtYXRjaGVzID0ge30NCg0KCQkJZm9yIGksIFBsYXllciBpbiBpcGFpcnMoZ2FtZS5QbGF5ZXJzOkdldFBsYXllcnMoKSkgZG8NCgkJCQlsb2NhbCBuYW1lID0gUGxheWVyLk5hbWUNCgkJCQltc2cgPSBzdHJpbmcubG93ZXIoc3RyaW5nLnN1Yihtc2csIDgpKQ0KCQkJCW5hbWUgPSBzdHJpbmcubG93ZXIobmFtZSkNCgkJCQlsb2NhbCB0ZXJtID0gc3RyaW5nLnN1YihuYW1lLCAxLCBzdHJpbmcubGVuKG5hbWUpKQ0KDQoJCQkJbG9jYWwgbWF0Y2ggPSBzdHJpbmcuZmluZCh0ZXJtLCBtc2cpDQoNCgkJCQlpZiBtYXRjaCB0aGVuDQoJCQkJCXRhYmxlLmluc2VydChtYXRjaGVzLCBQbGF5ZXIuTmFtZSkNCgkJCQllbmQNCgkJCWVuZA0KDQoJCQlpZiBtYXRjaGVzWzFdID09IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lIGFuZCBicmVha2FibGUgYW5kIGFsbG93ZWQgdGhlbg0KCQkJCXdoaWxlIHRydWUgZG8NCg0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KDQoJZm9yIGksIHYgaW4gcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIik6R2V0UGxheWVycygpKSBkbw0KCQl2LkNoYXR0ZWQ6Q29ubmVjdChmdW5jdGlvbihtc2cpDQoJCQlvbmNoYXQodiwgbXNnKQ0KCQllbmQpDQoJZW5kDQoNCglnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKS5QbGF5ZXJBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHYpDQoJCXYuQ2hhdHRlZDpDb25uZWN0KGZ1bmN0aW9uKG1zZykNCgkJCW9uY2hhdCh2LCBtc2cpDQoJCWVuZCkNCgllbmQpDQoNCgktLSBFeHBsb2l0cw0KDQoJbG9jYWwgZnVuY3Rpb24gZmYoKQ0KCQlpZiBzbWFydEF0dGFjayA9PSB0cnVlIHRoZW4NCgkJCWlmIGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiRm9yY2VGaWVsZCIpIHRoZW4NCgkJCQlyZXR1cm4gZmFsc2UNCgkJCWVsc2UNCgkJCQlyZXR1cm4gdHJ1ZQ0KCQkJZW5kDQoJCWVsc2UNCgkJCXJldHVybiB0cnVlDQoJCWVuZA0KCWVuZA0KDQoJZnVuY3Rpb24gZXhwbG9pdCgpDQoJCWxvY2FsIHRhcmdldENociA9IGdhbWUuUGxheWVyc1t0YXJnZXRdLkNoYXJhY3Rlcg0KDQoJCWlmIERvdWJsZVJheUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTb2xhciIsDQoJCQkJWzJdID0gIkRvdWJsZSBSYXkiDQoJCQl9CQkJDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU29sYXIiLA0KCQkJCVsyXSA9ICJEb3VibGUgUmF5IiwNCgkJCQlbM10gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgKiBDRnJhbWUuQW5nbGVzKG1hdGgucmFkKDkwKSwgMCwgMCkNCgkJCX0JCQkNCgkJCWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5SZW1vdGVzLkRvTWFnaWM6SW52b2tlU2VydmVyKHVucGFjayhhcmdzKSkNCgkJZW5kDQoNCgkJaWYgU3Rvcm1CdWxsZXRzRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCWxvY2FsIGFyZ3MgPSB7DQoJCQkJWzFdID0gIlN0b3JtIiwNCgkJCQlbMl0gPSAiTGlnaHRuaW5nIEJhcnJhZ2UiDQoJCQl9CQkJDQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQkJCQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Rvcm0iLA0KCQkJCVsyXSA9ICJMaWdodG5pbmcgQmFycmFnZSIsDQoJCQkJWzNdID0gew0KCQkJCQlbIkRpcmVjdGlvbiJdID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lICogQ0ZyYW1lLkFuZ2xlcyhtYXRoLnJhZCg5MCksIDAsIDApDQoJCQkJfQ0KCQkJfQkJCQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBPcmJpdGFsSGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJUZWNobm9sb2d5IiwNCgkJCQlbMl0gPSAiT3JiaXRhbCBTdHJpa2UiDQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiVGVjaG5vbG9neSIsDQoJCQkJWzJdID0gIk9yYml0YWwgU3RyaWtlIiwNCgkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJfQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBWaWdvckhhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Bpcml0IiwNCgkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iDQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3Bpcml0IiwNCgkJCQlbMl0gPSAiVmlnb3IgR3lyYXRpb24iLA0KCQkJCVszXSA9IHsNCgkJCQkJWzFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsyXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbM10gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzRdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs1XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzddID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs4XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzEwXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMTFdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikNCgkJCQl9DQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb01hZ2ljOkludm9rZVNlcnZlcih1bnBhY2soYXJncykpDQoJCWVuZA0KDQoJCWlmIEFzdGVyb2lkQmVsdEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlsb2NhbCBhcmdzID0gew0KCQkJCVsxXSA9ICJTcGFjZSIsDQoJCQkJWzJdID0gIkFzdGVyb2lkIEJlbHQiDQoJCQl9DQoJCQlnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuUmVtb3Rlcy5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQkJbG9jYWwgYXJncyA9IHsNCgkJCQlbMV0gPSAiU3BhY2UiLA0KCQkJCVsyXSA9ICJBc3Rlcm9pZCBCZWx0IiwNCgkJCQlbM10gPSB7DQoJCQkJCVsxXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbMl0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzNdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs0XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbNV0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzZdID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVs3XSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pLA0KCQkJCQlbOF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzldID0gQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiksDQoJCQkJCVsxMF0gPSBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSwNCgkJCQkJWzExXSA9IENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQkJfQ0KCQkJfQ0KCQkJZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLlJlbW90ZXMuRG9NYWdpYzpJbnZva2VTZXJ2ZXIodW5wYWNrKGFyZ3MpKQ0KCQllbmQNCg0KCQlpZiBCbGF6ZUNvbHVtbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJGaXJlIiwgIkJsYXplIENvbHVtbiIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiRmlyZSIsICJCbGF6ZSBDb2x1bW4iLCBDRnJhbWUubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJZW5kDQoNCgkJaWYgVmluZVRyYXBFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIFZlY3RvcjMubmV3KHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKSkNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmF0dXJlIiwgIlZpbmUgVHJhcCIsIENGcmFtZS5uZXcodGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pKQ0KCQllbmQNCg0KCQlpZiBQbGFzbWFJbXBsb3Npb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiUGxhc21hIiwgIlBsYXNtYSBJbXBsb3Npb24iLCBWZWN0b3IzLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlBsYXNtYSIsICJQbGFzbWEgSW1wbG9zaW9uIiwgQ0ZyYW1lLm5ldyh0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbikpDQoJCWVuZA0KDQoJCWlmIEx1bWlub3VzRGlzcGVyc2lvbkVuYWJsZWQgYW5kIExEUmFkaXVzIH49IG5pbCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkNyeXN0YWwiLCAiTHVtaW5vdXMgRGlzcGVyc2lvbiIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkNyeXN0YWwiLCAiTHVtaW5vdXMgRGlzcGVyc2lvbiIsIHtMYXN0UG9zaXRpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiwgUmFkaXVzID0gTERSYWRpdXN9KQ0KCQllbmQNCg0KCQlpZiBDcnlzdGFsQXJtYW1lbnRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQ3J5c3RhbCIsICJDcnlzdGFsIEFybWFtZW50Iiwge0xhc3RQb3NpdGlvbiA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uICsgVmVjdG9yMy5uZXcoMCwgMTUsIDApfSkNCgkJZW5kDQoNCgkJaWYgR3Jhdml0YWxHbG9iZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJHcmF2aXR5IiwgIkdyYXZpdGFsIEdsb2JlIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhbCBHbG9iZSIsIHtsYXN0UG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCAxNSwgMCl9KQ0KCQllbmQNCg0KCQlpZiBHcmF2aXRhdGlvbmFsRmllbGRFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiR3Jhdml0eSIsICJHcmF2aXRhdGlvbmFsIEZpZWxkIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lIC0gVmVjdG9yMy5uZXcoMCwgMTUsIDApKQ0KCQllbmQNCg0KCQlpZiBBbWF1cm90aWNMYW1iZW50RW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkxpZ2h0IiwgIkFtYXVyb3RpYyBMYW1iZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQW1hdXJvdGljIExhbWJlbnQiLCB7bGFzdFBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgQWJsYXplSnVkZ2VtZW50SGFja0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJMaWdodCIsICJBYmxhemUgSnVkZ2VtZW50IikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTGlnaHQiLCAiQWJsYXplIEp1ZGdlbWVudCIsIHtPcmlnaW4gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDI1LCAwKSwgb3JiUG9zID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gLSBWZWN0b3IzLm5ldygwLCAxMCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBWb2lkT3BlbmluZ0hhY2tFbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiVm9pZCIsICJWb2lkIE9wZW5pbmciKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJWb2lkIiwgIlZvaWQgT3BlbmluZyIsIHtwb3MgPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5Qb3NpdGlvbiAtIFZlY3RvcjMubmV3KDAsIDE1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTa2VsZXRvbkdyYWJFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIk5pZ2h0bWFyZSIsICJTa2VsZXRvbiBHcmFiIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiTmlnaHRtYXJlIiwgIlNrZWxldG9uIEdyYWIiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEdlbmVzaXNSYXlFbmFibGVkIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24pDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlRpbWUiLCAiR2VuZXNpcyBSYXkiLCB7bHYgPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgY2hhcmdlID0gR1JDaGFyZ2V9KQ0KCQllbmQNCg0KCQlpZiBUaGVXb3JsZEVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJUaW1lIiwgIlRoZSBXb3JsZCIsIHtyaGl0ID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQsIG5vcm0gPSBWZWN0b3IzLm5ldygwLCAwLCAwKSwgcnBvcyA9IHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9ufSkNCgkJZW5kDQoNCgkJaWYgUG9sYXJpc0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBdXJvcmEiLCAiUG9sYXJpcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIkF1cm9yYSIsICJQb2xhcmlzIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBDb250cm9sbGVkRWNob2VzRW5hYmxlZCBhbmQgRWNob2VzUGhhc2Ugfj0gbmlsIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIlNvdW5kIiwgIkVjaG9lcyIsIHtFY2hvZXNQaGFzZSwgbW91c2UuSGl0LnB9KQ0KCQllbmQNCg0KCQlpZiBTaGF0dGVyaW5nRXJ1cHRpb25FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiRXhwbG9zaW9uIiwgIlNoYXR0ZXJpbmcgRXJ1cHRpb24iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJFeHBsb3Npb24iLCAiU2hhdHRlcmluZyBFcnVwdGlvbiIsIHRhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSkNCgkJZW5kDQoNCgkJaWYgSWxsdXNpdmVBdGFrZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJJbGx1c2l2ZSBBdGFrZSIpDQoJCQlSU1IuRG9NYWdpYzpJbnZva2VTZXJ2ZXIoIklsbHVzaW9uIiwgIklsbHVzaXZlIEF0YWtlIiwgdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lKQ0KCQllbmQNCg0KCQlpZiBFdGhlcmVhbEFjdW1lbkVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJJbGx1c2lvbiIsICJFdGhlcmVhbCBBY3VtZW4iLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUpDQoJCWVuZA0KDQoJCWlmIEZvcm1pZGFibGVSb2FyRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIkRyYWdvbiIsICJGb3JtaWRhYmxlIFJvYXIiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJEcmFnb24iLCAiRm9ybWlkYWJsZSBSb2FyIiwge3RhcmdldENoci5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSwgMTc1fSkNCgkJZW5kDQoNCgkJaWYgVG94aWNCYXNpbGlza0VuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJBY2lkIiwgIlRveGljIEJhc2lsaXNrIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQWNpZCIsICJUb3hpYyBCYXNpbGlzayIsIHtEaXJlY3Rpb24gPSB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUsIEZsb29yID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuQ0ZyYW1lfSkNCgkJCXdhaXQoMTcuNSkNCgkJCWlmIEZyZWV6ZUVuYWJsZWQgPT0gZmFsc2UgdGhlbg0KCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5BbmNob3JlZCA9IGZhbHNlDQoJCQllbmQNCgkJZW5kDQoNCgkJaWYgQXJjYW5lR3VhcmRpYW5FbmFibGVkIGFuZCBmZigpID09IHRydWUgdGhlbg0KCQkJUlNSLkRvQ2xpZW50TWFnaWM6RmlyZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiQW5nZWwiLCAiQXJjYW5lIEd1YXJkaWFuIiwge1Bvc2l0aW9uID0gdGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24gKyBWZWN0b3IzLm5ldygwLCA1MCwgMCl9KQ0KCQllbmQNCg0KCQlpZiBTcGxpdHRpbmdTbGltZUVuYWJsZWQgYW5kIGZmKCkgPT0gdHJ1ZSB0aGVuDQoJCQlSU1IuRG9DbGllbnRNYWdpYzpGaXJlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiKQ0KCQkJUlNSLkRvTWFnaWM6SW52b2tlU2VydmVyKCJTbGltZSIsICJTcGxpdHRpbmcgU2xpbWUiLCB0YXJnZXRDaHIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgLSBWZWN0b3IzLm5ldygwLCAyMCwgMCkpDQoJCWVuZA0KDQoJCWlmIFZpcnR1YWxab25lRW5hYmxlZCBhbmQgZmYoKSA9PSB0cnVlIHRoZW4NCgkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlRlY2hub2xvZ3kiLCAiVmlydHVhbCBab25lIikNCgkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiVGVjaG5vbG9neSIsICJWaXJ0dWFsIFpvbmUiLCB7dGFyZ2V0Q2hyLkh1bWFub2lkUm9vdFBhcnQuUG9zaXRpb24sIFZlY3RvcjMubmV3KDAsIDAsIDApfSkNCgkJZW5kDQoJZW5kDQoNCgktLSBVSVMNCg0KCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpDQoJbG9jYWwgdGVybWluYXRldWlzID0gZmFsc2UNCg0KCVVJUy5JbnB1dEJlZ2FuOmNvbm5lY3QoZnVuY3Rpb24oaW5wdXQsIGdwKQ0KCQlpZiBub3QgdGVybWluYXRldWlzIHRoZW4NCgkJCWlmIG5vdCBncCB0aGVuDQoJCQkJbG9jYWwgdGFyZ2V0Q2hyID0gZ2FtZS5QbGF5ZXJzW3RhcmdldF0uQ2hhcmFjdGVyDQoNCgkJCQlpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CYWNrU2xhc2ggdGhlbg0KCQkJCQljb21tYW5kQm94OkNhcHR1cmVGb2N1cygpDQoJCQkJCXdhaXQoKQ0KCQkJCQlpZiBzdHJpbmcuc3ViKGNvbW1hbmRCb3guVGV4dCwgc3RyaW5nLmxlbihjb21tYW5kQm94LlRleHQpLCBzdHJpbmcubGVuKGNvbW1hbmRCb3guVGV4dCkpID09ICJcXCIgdGhlbg0KCQkJCQkJY29tbWFuZEJveC5UZXh0ID0gc3RyaW5nLnN1Yihjb21tYW5kQm94LlRleHQsIDEsIHN0cmluZy5sZW4oY29tbWFuZEJveC5UZXh0KSAtIDEpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5DIHRoZW4NCgkJCQkJZXhwbG9pdCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlUgdGhlbg0KCQkJCQlUUFRvVGFyZ2V0KCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuSyB0aGVuDQoJCQkJCUFudGlCbGluZEZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5UIHRoZW4NCgkJCQkJYmVnaW5TcGVlZCgpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLlggdGhlbg0KCQkJCQlpZiBTcGVjdHJhbEVtYm9kaW1lbnRFbmFibGVkIHRoZW4NCgkJCQkJCVJTUi5Eb0NsaWVudE1hZ2ljOkZpcmVTZXJ2ZXIoIlNwaXJpdCIsICJTcGVjdHJhbCBFbWJvZGltZW50IikNCgkJCQkJCVJTUi5Eb01hZ2ljOkludm9rZVNlcnZlcigiU3Bpcml0IiwgIlNwZWN0cmFsIEVtYm9kaW1lbnQiKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuUCB0aGVuDQoJCQkJCWlmIFNhbnNUZWxlcG9ydEVuYWJsZWQgdGhlbg0KCQkJCQkJaWYgZ2FtZS5QbGFjZUlkID09IDU2NjM5OTI0NCBvciBnYW1lLlBsYWNlSWQgPT0gMjU2OTYyNTgwOSB0aGVuDQoJCQkJCQkJbG9jYWwgU2Fuc1BvcyA9IENGcmFtZS5uZXcoLTE2ODUuOTEwNTIsIDIzMC4wMzUxMjYsIC0xODEuNzk4MjY0KQ0KCQkJCQkJCWxvY2FsIFNhbnNBbmdsZXMgPSBDRnJhbWUuQW5nbGVzKDAsIG1hdGgucmFkKDIwKSwgMCkNCg0KCQkJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydC5DRnJhbWUgPSBTYW5zUG9zICogU2Fuc0FuZ2xlcw0KCQkJCQkJCWdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWQ6Q2hhbmdlU3RhdGUoRW51bS5IdW1hbm9pZFN0YXRlVHlwZS5DbGltYmluZykNCgkJCQkJCQl3YWl0KCkNCgkJCQkJCQlnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQuQW5jaG9yZWQgPSB0cnVlDQoJCQkJCQkJd2FpdCgxKQ0KCQkJCQkJCWlmIG5vdCBGcmVlemVFbmFibGVkIHRoZW4NCgkJCQkJCQkJZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LkFuY2hvcmVkID0gZmFsc2UNCgkJCQkJCQllbmQNCgkJCQkJCWVuZA0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuWiB0aGVuDQoJCQkJCWJlZ2luTnVsbGlmeUZvcmNlcygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkcgdGhlbg0KCQkJCQlBbnRpR3Jhdml0eUZ1bmMoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5KIHRoZW4NCgkJCQkJaWYgQ2xpY2tUUEVuYWJsZWQgdGhlbg0KCQkJCQkJY2xpY2t0cChtb3VzZS5IaXQpDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5GIHRoZW4NCgkJCQkJRnJlZXplRnVuYygpDQoJCQkJZWxzZWlmIGlucHV0LktleUNvZGUgPT0gRW51bS5LZXlDb2RlLkJhY2txdW90ZSB0aGVuDQoJCQkJCWlmIEZsYXNoRW5hYmxlZCB0aGVuDQoJCQkJCQlsb25nZmxhc2goKQ0KCQkJCQllbmQNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuViB0aGVuDQoJCQkJCXZpZXcoKQ0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5CIHRoZW4NCgkJCQkJdG9nZ2xlRVNQKCkNCgkJCQllbHNlaWYgaW5wdXQuS2V5Q29kZSA9PSBFbnVtLktleUNvZGUuTGVmdEJyYWNrZXQgdGhlbg0KCQkJCQlpZiBub3QgY2xvc2VkZm9yZXZlciB0aGVuDQoJCQkJCQlpZiBub3QgYnV0dG9uc2RlYm91bmNlIHRoZW4NCgkJCQkJCQlidXR0b25zZGVib3VuY2UgPSB0cnVlDQoJCQkJCQkJaWYgYnV0dG9uc29wZW5lZCA9PSBmYWxzZSB0aGVuDQoJCQkJCQkJCWJ1dHRvbnNvcGVuZWQgPSB0cnVlDQoJCQkJCQkJCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJCQlVRGltMi5uZXcoMSwgMCwgMC42NSwgMCksDQoJCQkJCQkJCQkiT3V0IiwNCgkJCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkJCS41LA0KCQkJCQkJCQkJdHJ1ZQ0KCQkJCQkJCQkpDQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQlidXR0b25zb3BlbmVkID0gZmFsc2UNCgkJCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjY1LCAwKSwNCgkJCQkJCQkJCSJJbiIsDQoJCQkJCQkJCQkiU2luZSIsDQoJCQkJCQkJCQkuNSwNCgkJCQkJCQkJCXRydWUNCgkJCQkJCQkJKQ0KCQkJCQkJCWVuZA0KCQkJCQkJCXdhaXQoMSkNCgkJCQkJCQlidXR0b25zZGVib3VuY2UgPSBmYWxzZQ0KCQkJCQkJZW5kDQoJCQkJCWVuZA0KCQkJCWVsc2VpZiBpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5SaWdodEJyYWNrZXQgdGhlbg0KCQkJCQljb21tYW5kZGVib3VuY2UgPSB0cnVlDQoJCQkJCWlmIGNvbW1hbmRzb3BlbmVkID09IGZhbHNlIHRoZW4NCgkJCQkJCWNvbW1hbmRzb3BlbmVkID0gdHJ1ZQ0KCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLA0KCQkJCQkJCSJPdXQiLA0KCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkuNSwNCgkJCQkJCQl0cnVlDQoJCQkJCQkpDQoJCQkJCWVsc2UNCgkJCQkJCWNvbW1hbmRzb3BlbmVkID0gZmFsc2UNCgkJCQkJCWNvbW1hbmRzbWFpbjpUd2VlblBvc2l0aW9uKA0KCQkJCQkJCVVEaW0yLm5ldygxLjI1LCAwLCAwLjQ1LCAwKSwNCgkJCQkJCQkiSW4iLA0KCQkJCQkJCSJTaW5lIiwNCgkJCQkJCQkuNSwNCgkJCQkJCQl0cnVlDQoJCQkJCQkpDQoJCQkJCWVuZA0KCQkJCQl3YWl0KDEpDQoJCQkJCWNvbW1hbmRkZWJvdW5jZSA9IGZhbHNlDQoJCQkJZWxzZWlmIFVJUzpJc0tleURvd24oRW51bS5LZXlDb2RlLkxlZnQpIGFuZCBVSVM6SXNLZXlEb3duKEVudW0uS2V5Q29kZS5SaWdodCkgdGhlbg0KCQkJCQlpZiBidXR0b25zb3BlbmVkID09IHRydWUgdGhlbg0KCQkJCQkJYnV0dG9uc21haW46VHdlZW5Qb3NpdGlvbigNCgkJCQkJCQlVRGltMi5uZXcoMS4yNSwgMCwgMC42NSwgMCksDQoJCQkJCQkJIkluIiwNCgkJCQkJCQkiU2luZSIsDQoJCQkJCQkJLjUsDQoJCQkJCQkJdHJ1ZQ0KCQkJCQkJKQ0KCQkJCQkJY29tbWFuZHNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCQkJCQkJVURpbTIubmV3KDEuMjUsIDAsIDAuNDUsIDApLA0KCQkJCQkJCSJJbiIsDQoJCQkJCQkJIlNpbmUiLA0KCQkJCQkJCS41LA0KCQkJCQkJCXRydWUNCgkJCQkJCSkNCgkJCQkJCXdhaXQoMSkNCgkJCQkJCXRhcmdldCA9IGdhbWUuUGxheWVycy5Mb2NhbFBsYXllci5OYW1lDQoJCQkJCQl0ZXJtaW5hdGV1aXMgPSB0cnVlDQoJCQkJCQllYmd1aTpEZXN0cm95KCkNCgkJCQkJZW5kDQoJCQkJZW5kDQoJCQllbmQNCgkJZW5kDQoJZW5kKQ0KDQoJLS0gU2NyaXB0cyBhbmQgRnVuY3Rpb25zIEVORA0KDQoJLS0gRW50cmFuY2UgQW5pbWF0aW9uDQoNCgl3YWl0KDAuNSkNCg0KCWJ1dHRvbnNtYWluOlR3ZWVuUG9zaXRpb24oDQoJCVVEaW0yLm5ldygxLCAwLCAwLjY1LCAwKSwNCgkJIk91dCIsDQoJCSJTaW5lIiwNCgkJLjUsDQoJCXRydWUNCgkpDQoNCgljb21tYW5kc21haW46VHdlZW5Qb3NpdGlvbigNCgkJVURpbTIubmV3KDEsIDAsIDAuNDUsIDApLA0KCQkiT3V0IiwNCgkJIlNpbmUiLA0KCQkuNSwNCgkJdHJ1ZQ0KCSkNCg0KCS0tIEluZm8NCg0KCXdhcm4oIkdVSSBzdWNjZXNzZnVsbHkgbG9hZGVkISIpDQplbmQ="